(self.webpackChunkquinielamx=self.webpackChunkquinielamx||[]).push([[8792],{4783:(Mt,Le,A)=>{"use strict";A.d(Le,{BM:()=>ie,Gt:()=>Ae,XU:()=>q,bf:()=>ce,e7:()=>ke,iB:()=>B,rx:()=>be,uP:()=>we});var E=A(7705),s=A(3475),z=A(3364);Mt=A.hmd(Mt);const ae=["ngOnDestroy"],Ae=(J,fe,Pe,Z={})=>new Proxy(J,{get:(Ee,oe)=>Pe.runOutsideAngular(()=>{var Ce;if(J[oe])return!(null===(Ce=Z?.spy)||void 0===Ce)&&Ce.get&&Z.spy.get(oe,J[oe]),J[oe];if(ae.indexOf(oe)>-1)return()=>{};const V=fe.toPromise().then(D=>{const U=D&&D[oe];return"function"==typeof U?U.bind(D):U&&U.then?U.then(Q=>Pe.run(()=>Q)):Pe.run(()=>U)});return new Proxy(()=>{},{get:(D,U)=>V[U],apply:(D,U,Q)=>V.then(K=>{var $;const re=K&&K(...Q);return!(null===($=Z?.spy)||void 0===$)&&$.apply&&Z.spy.apply(oe,Q,re),re})})})}),ke=(J,fe)=>{fe.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Z=>{Object.defineProperty(J.prototype,Z,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Z))})})};class q{constructor(fe){return fe}}const be=new E.nKC("angularfire2.app.options"),we=new E.nKC("angularfire2.app.name");function B(J,fe,Pe){const Ee="object"==typeof Pe&&Pe||{};Ee.name=Ee.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ce=s.A.apps.filter(V=>V&&V.name===Ee.name)[0]||fe.runOutsideAngular(()=>s.A.initializeApp(J,Ee));try{JSON.stringify(J)!==JSON.stringify(Ce.options)&&F("error",`${Ce.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new q(Ce)}const F=(J,...fe)=>{(0,E.naY)()&&typeof console<"u"&&console[J](...fe)},se={provide:q,useFactory:B,deps:[be,E.SKi,[new E.Xx1,we]]};let ce=(()=>{class J{constructor(Pe){s.A.registerVersion("angularfire",z.xv.full,"core"),s.A.registerVersion("angularfire",z.xv.full,"app-compat"),s.A.registerVersion("angular",E.xvI.full,Pe.toString())}static initializeApp(Pe,Z){return{ngModule:J,providers:[{provide:be,useValue:Pe},{provide:we,useValue:Z}]}}}return J.\u0275fac=function(Pe){return new(Pe||J)(E.KVO(E.Agw))},J.\u0275mod=E.$C({type:J}),J.\u0275inj=E.G2t({providers:[se]}),J})();function ie(J,fe,Pe,Z,Ee){const[,oe,Ce]=globalThis.\u0275AngularfireInstanceCache.find(V=>V[0]===J)||[];if(oe)return function Ie(J,fe){try{return J.toString()===fe.toString()}catch{return J===fe}}(Ee,Ce)||(pe("error",`${fe} was already initialized on the ${Pe} Firebase App with different settings.${ye?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ee,was:Ce})),oe;{const V=Z();return globalThis.\u0275AngularfireInstanceCache.push([J,V,Ee]),V}}const ye=!!Mt.hot,pe=(J,...fe)=>{(0,E.naY)()&&typeof console<"u"&&console[J](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3364:(Mt,Le,A)=>{"use strict";A.d(Le,{xv:()=>os,U0:()=>qs,u0:()=>Fr,CA:()=>rs,lR:()=>Ks,iy:()=>zi});var E=A(7705),s=A(7418),z=A(467),ae=A(1631),Ae=A(1401),ke=A(8779),q=A(5398);A(5557);const we="@firebase/remote-config",B="0.3.15",ie=new Ae.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ct{constructor(H,he,We,st){this.client=H,this.storage=he,this.storageCache=We,this.logger=st}isCachedDataFresh(H,he){if(!he)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const We=Date.now()-he,st=We<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${We}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${st}.`),st}fetch(H){var he=this;return(0,z.A)(function*(){const[We,st]=yield Promise.all([he.storage.getLastSuccessfulFetchTimestampMillis(),he.storage.getLastSuccessfulFetchResponse()]);if(st&&he.isCachedDataFresh(H.cacheMaxAgeMillis,We))return st;H.eTag=st&&st.eTag;const vt=yield he.client.fetch(H),nn=[he.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&nn.push(he.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(nn),vt})()}}function Be(j=navigator){return j.languages&&j.languages[0]||j.language}class W{constructor(H,he,We,st,vt,nn){this.firebaseInstallations=H,this.sdkVersion=he,this.namespace=We,this.projectId=st,this.apiKey=vt,this.appId=nn}fetch(H){var he=this;return(0,z.A)(function*(){var We,st,vt;const[nn,Rn]=yield Promise.all([he.firebaseInstallations.getId(),he.firebaseInstallations.getToken()]),vi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${he.projectId}/namespaces/${he.namespace}:fetch?key=${he.apiKey}`,di={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},Cn={sdk_version:he.sdkVersion,app_instance_id:nn,app_instance_id_token:Rn,app_id:he.appId,language_code:Be()},ss={method:"POST",headers:di,body:JSON.stringify(Cn)},nc=fetch(vi,ss),Jc=new Promise((ci,Ys)=>{H.signal.addEventListener(()=>{const hd=new Error("The operation was aborted.");hd.name="AbortError",Ys(hd)})});let Cs;try{yield Promise.race([nc,Jc]),Cs=yield nc}catch(ci){let Ys="fetch-client-network";throw"AbortError"===(null===(We=ci)||void 0===We?void 0:We.name)&&(Ys="fetch-timeout"),ie.create(Ys,{originalErrorMessage:null===(st=ci)||void 0===st?void 0:st.message})}let ba=Cs.status;const cl=Cs.headers.get("ETag")||void 0;let ll,Ea;if(200===Cs.status){let ci;try{ci=yield Cs.json()}catch(Ys){throw ie.create("fetch-client-parse",{originalErrorMessage:null===(vt=Ys)||void 0===vt?void 0:vt.message})}ll=ci.entries,Ea=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Ea?ba=500:"NO_CHANGE"===Ea?ba=304:("NO_TEMPLATE"===Ea||"EMPTY_CONFIG"===Ea)&&(ll={}),304!==ba&&200!==ba)throw ie.create("fetch-status",{httpStatus:ba});return{status:ba,eTag:cl,config:ll}})()}}class me{constructor(H,he){this.client=H,this.storage=he}fetch(H){var he=this;return(0,z.A)(function*(){const We=(yield he.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return he.attemptFetch(H,We)})()}attemptFetch(H,{throttleEndTimeMillis:he,backoffCount:We}){var st=this;return(0,z.A)(function*(){yield function G(j,H){return new Promise((he,We)=>{const st=Math.max(H-Date.now(),0),vt=setTimeout(he,st);j.addEventListener(()=>{clearTimeout(vt),We(ie.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,he);try{const vt=yield st.client.fetch(H);return yield st.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function X(j){if(!(j instanceof Ae.g&&j.customData))return!1;const H=Number(j.customData.httpStatus);return 429===H||500===H||503===H||504===H}(vt))throw vt;const nn={throttleEndTimeMillis:Date.now()+(0,Ae.p9)(We),backoffCount:We+1};return yield st.storage.setThrottleMetadata(nn),st.attemptFetch(H,nn)}})()}}class Ze{constructor(H,he,We,st,vt){this.app=H,this._client=he,this._storageCache=We,this._storage=st,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function He(j,H){var he;const We=j.target.error||void 0;return ie.create(H,{originalErrorMessage:We&&(null===(he=We)||void 0===he?void 0:he.message)})}const nt="app_namespace_store";class pn{constructor(H,he,We,st=function Nt(){return new Promise((j,H)=>{var he;try{const We=indexedDB.open("firebase_remote_config",1);We.onerror=st=>{H(He(st,"storage-open"))},We.onsuccess=st=>{j(st.target.result)},We.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(nt,{keyPath:"compositeKey"})}}catch(We){H(ie.create("storage-open",{originalErrorMessage:null===(he=We)||void 0===he?void 0:he.message}))}})}()){this.appId=H,this.appName=he,this.namespace=We,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var he=this;return(0,z.A)(function*(){const We=yield he.openDbPromise;return new Promise((st,vt)=>{var nn;const Si=We.transaction([nt],"readonly").objectStore(nt),vi=he.createCompositeKey(H);try{const di=Si.get(vi);di.onerror=Cn=>{vt(He(Cn,"storage-get"))},di.onsuccess=Cn=>{const ss=Cn.target.result;st(ss?ss.value:void 0)}}catch(di){vt(ie.create("storage-get",{originalErrorMessage:null===(nn=di)||void 0===nn?void 0:nn.message}))}})})()}set(H,he){var We=this;return(0,z.A)(function*(){const st=yield We.openDbPromise;return new Promise((vt,nn)=>{var Rn;const vi=st.transaction([nt],"readwrite").objectStore(nt),di=We.createCompositeKey(H);try{const Cn=vi.put({compositeKey:di,value:he});Cn.onerror=ss=>{nn(He(ss,"storage-set"))},Cn.onsuccess=()=>{vt()}}catch(Cn){nn(ie.create("storage-set",{originalErrorMessage:null===(Rn=Cn)||void 0===Rn?void 0:Rn.message}))}})})()}delete(H){var he=this;return(0,z.A)(function*(){const We=yield he.openDbPromise;return new Promise((st,vt)=>{var nn;const Si=We.transaction([nt],"readwrite").objectStore(nt),vi=he.createCompositeKey(H);try{const di=Si.delete(vi);di.onerror=Cn=>{vt(He(Cn,"storage-delete"))},di.onsuccess=()=>{st()}}catch(di){vt(ie.create("storage-delete",{originalErrorMessage:null===(nn=di)||void 0===nn?void 0:nn.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class qt{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,z.A)(function*(){const he=H.storage.getLastFetchStatus(),We=H.storage.getLastSuccessfulFetchTimestampMillis(),st=H.storage.getActiveConfig(),vt=yield he;vt&&(H.lastFetchStatus=vt);const nn=yield We;nn&&(H.lastSuccessfulFetchTimestampMillis=nn);const Rn=yield st;Rn&&(H.activeConfig=Rn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Re(){return gt.apply(this,arguments)}function gt(){return(gt=(0,z.A)(function*(){if(!(0,Ae.zW)())return!1;try{return yield(0,Ae.eX)()}catch{return!1}})).apply(this,arguments)}!function Kt(){(0,ae._registerComponent)(new ke.uA("remote-config",function j(H,{instanceIdentifier:he}){const We=H.getProvider("app").getImmediate(),st=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ie.create("registration-window");if(!(0,Ae.zW)())throw ie.create("indexed-db-unavailable");const{projectId:vt,apiKey:nn,appId:Rn}=We.options;if(!vt)throw ie.create("registration-project-id");if(!nn)throw ie.create("registration-api-key");if(!Rn)throw ie.create("registration-app-id");const Si=new pn(Rn,We.name,he=he||"firebase"),vi=new qt(Si),di=new q.Vy(we);di.logLevel=q.$b.ERROR;const Cn=new W(st,ae.SDK_VERSION,he,vt,nn,Rn),ss=new me(Cn,Si),nc=new ct(ss,Si,vi,di),Jc=new Ze(We,nc,vi,Si,di);return function Ce(j){const H=(0,Ae.Ku)(j);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Jc),Jc},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(we,B),(0,ae.registerVersion)(we,B,"esm2017")}();var At=A(4653);const _n="/firebase-messaging-sw.js",on="/firebase-cloud-messaging-push-scope",vn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mt="https://fcmregistrations.googleapis.com/v1",xn="google.c.a.c_id",Jt="google.c.a.c_l",zt="google.c.a.ts";var Rt=function(j){return j.PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",j}(Rt||{});function gn(j){const H=new Uint8Array(j);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nn(j){const he=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),We=atob(he),st=new Uint8Array(We.length);for(let vt=0;vt<We.length;++vt)st[vt]=We.charCodeAt(vt);return st}const rn="fcm_token_details_db",En=5,Wn="fcm_token_object_Store";function qn(){return qn=(0,z.A)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(rn))return null;let H=null;return(yield(0,At.P2)(rn,En,{upgrade:(We=(0,z.A)(function*(st,vt,nn,Rn){var Si;if(vt<2||!st.objectStoreNames.contains(Wn))return;const vi=Rn.objectStore(Wn),di=yield vi.index("fcmSenderId").get(j);if(yield vi.clear(),di)if(2===vt){const Cn=di;if(!Cn.auth||!Cn.p256dh||!Cn.endpoint)return;H={token:Cn.fcmToken,createTime:null!==(Si=Cn.createTime)&&void 0!==Si?Si:Date.now(),subscriptionOptions:{auth:Cn.auth,p256dh:Cn.p256dh,endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:"string"==typeof Cn.vapidKey?Cn.vapidKey:gn(Cn.vapidKey)}}}else if(3===vt){const Cn=di;H={token:Cn.fcmToken,createTime:Cn.createTime,subscriptionOptions:{auth:gn(Cn.auth),p256dh:gn(Cn.p256dh),endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:gn(Cn.vapidKey)}}}else if(4===vt){const Cn=di;H={token:Cn.fcmToken,createTime:Cn.createTime,subscriptionOptions:{auth:gn(Cn.auth),p256dh:gn(Cn.p256dh),endpoint:Cn.endpoint,swScope:Cn.swScope,vapidKey:gn(Cn.vapidKey)}}}}),function(vt,nn,Rn,Si){return We.apply(this,arguments)})})).close(),yield(0,At.MR)(rn),yield(0,At.MR)("fcm_vapid_details_db"),yield(0,At.MR)("undefined"),function Gi(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:H}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var We}),qn.apply(this,arguments)}const Pi="firebase-messaging-database",Ji=1,Tt="firebase-messaging-store";let ot=null;function kt(){return ot||(ot=(0,At.P2)(Pi,Ji,{upgrade:(j,H)=>{0===H&&j.createObjectStore(Tt)}})),ot}function cn(j){return en.apply(this,arguments)}function en(){return en=(0,z.A)(function*(j){const H=de(j),We=yield(yield kt()).transaction(Tt).objectStore(Tt).get(H);if(We)return We;{const st=yield function un(j){return qn.apply(this,arguments)}(j.appConfig.senderId);if(st)return yield Mn(j,st),st}}),en.apply(this,arguments)}function Mn(j,H){return ue.apply(this,arguments)}function ue(){return(ue=(0,z.A)(function*(j,H){const he=de(j),st=(yield kt()).transaction(Tt,"readwrite");return yield st.objectStore(Tt).put(H,he),yield st.done,H})).apply(this,arguments)}function R(){return(R=(0,z.A)(function*(j){const H=de(j),We=(yield kt()).transaction(Tt,"readwrite");yield We.objectStore(Tt).delete(H),yield We.done})).apply(this,arguments)}function de({appConfig:j}){return j.appId}const ze=new Ae.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tt(j,H){return _t.apply(this,arguments)}function _t(){return(_t=(0,z.A)(function*(j,H){var he;const We=yield yi(j),st=Ri(H),vt={method:"POST",headers:We,body:JSON.stringify(st)};let nn;try{nn=yield(yield fetch(On(j.appConfig),vt)).json()}catch(Rn){throw ze.create("token-subscribe-failed",{errorInfo:null===(he=Rn)||void 0===he?void 0:he.toString()})}if(nn.error)throw ze.create("token-subscribe-failed",{errorInfo:nn.error.message});if(!nn.token)throw ze.create("token-subscribe-no-token");return nn.token})).apply(this,arguments)}function Ft(){return(Ft=(0,z.A)(function*(j,H){var he;const We=yield yi(j),st=Ri(H.subscriptionOptions),vt={method:"PATCH",headers:We,body:JSON.stringify(st)};let nn;try{nn=yield(yield fetch(`${On(j.appConfig)}/${H.token}`,vt)).json()}catch(Rn){throw ze.create("token-update-failed",{errorInfo:null===(he=Rn)||void 0===he?void 0:he.toString()})}if(nn.error)throw ze.create("token-update-failed",{errorInfo:nn.error.message});if(!nn.token)throw ze.create("token-update-no-token");return nn.token})).apply(this,arguments)}function Tn(j,H){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,z.A)(function*(j,H){var he;const st={method:"DELETE",headers:yield yi(j)};try{const nn=yield(yield fetch(`${On(j.appConfig)}/${H}`,st)).json();if(nn.error)throw ze.create("token-unsubscribe-failed",{errorInfo:nn.error.message})}catch(vt){throw ze.create("token-unsubscribe-failed",{errorInfo:null===(he=vt)||void 0===he?void 0:he.toString()})}})).apply(this,arguments)}function On({projectId:j}){return`${mt}/projects/${j}/registrations`}function yi(j){return _i.apply(this,arguments)}function _i(){return(_i=(0,z.A)(function*({appConfig:j,installations:H}){const he=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${he}`})})).apply(this,arguments)}function Ri({p256dh:j,auth:H,endpoint:he,vapidKey:We}){const st={web:{endpoint:he,auth:H,p256dh:j}};return We!==vn&&(st.web.applicationPubKey=We),st}const Rr=6048e5;function Ki(){return Ki=(0,z.A)(function*(j){const H=yield function ei(j,H){return Bn.apply(this,arguments)}(j.swRegistration,j.vapidKey),he={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:H.endpoint,auth:gn(H.getKey("auth")),p256dh:gn(H.getKey("p256dh"))},We=yield cn(j.firebaseDependencies);if(We){if(function Kn(j,H){return H.vapidKey===j.vapidKey&&H.endpoint===j.endpoint&&H.auth===j.auth&&H.p256dh===j.p256dh}(We.subscriptionOptions,he))return Date.now()>=We.createTime+Rr?function xe(j,H){return Ne.apply(this,arguments)}(j,{token:We.token,createTime:Date.now(),subscriptionOptions:he}):We.token;try{yield Tn(j.firebaseDependencies,We.token)}catch(st){console.warn(st)}return rt(j.firebaseDependencies,he)}return rt(j.firebaseDependencies,he)}),Ki.apply(this,arguments)}function oo(){return oo=(0,z.A)(function*(j){const H=yield cn(j.firebaseDependencies);H&&(yield Tn(j.firebaseDependencies,H.token),yield function te(j){return R.apply(this,arguments)}(j.firebaseDependencies));const he=yield j.swRegistration.pushManager.getSubscription();return!he||he.unsubscribe()}),oo.apply(this,arguments)}function Ne(){return Ne=(0,z.A)(function*(j,H){try{const he=yield function tn(j,H){return Ft.apply(this,arguments)}(j.firebaseDependencies,H),We=Object.assign(Object.assign({},H),{token:he,createTime:Date.now()});return yield Mn(j.firebaseDependencies,We),he}catch(he){throw yield function Vo(j){return oo.apply(this,arguments)}(j),he}}),Ne.apply(this,arguments)}function rt(j,H){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,z.A)(function*(j,H){const We={token:yield tt(j,H),createTime:Date.now(),subscriptionOptions:H};return yield Mn(j,We),We.token})).apply(this,arguments)}function Bn(){return(Bn=(0,z.A)(function*(j,H){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nn(H)})})).apply(this,arguments)}function Jn(j){const H={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function oi(j,H){if(!H.notification)return;j.notification={};const he=H.notification.title;he&&(j.notification.title=he);const We=H.notification.body;We&&(j.notification.body=We);const st=H.notification.image;st&&(j.notification.image=st);const vt=H.notification.icon;vt&&(j.notification.icon=vt)}(H,j),function xi(j,H){H.data&&(j.data=H.data)}(H,j),function jo(j,H){var he,We,st,vt,nn;if(!(H.fcmOptions||null!==(he=H.notification)&&void 0!==he&&he.click_action))return;j.fcmOptions={};const Rn=null!==(st=null===(We=H.fcmOptions)||void 0===We?void 0:We.link)&&void 0!==st?st:null===(vt=H.notification)||void 0===vt?void 0:vt.click_action;Rn&&(j.fcmOptions.link=Rn);const Si=null===(nn=H.fcmOptions)||void 0===nn?void 0:nn.analytics_label;Si&&(j.fcmOptions.analyticsLabel=Si)}(H,j),H}function ai(j,H){const he=[];for(let We=0;We<j.length;We++)he.push(j.charAt(We)),We<H.length&&he.push(H.charAt(We));return he.join("")}function ro(j){return ze.create("missing-app-config-values",{valueName:j})}ai("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ai("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ur{constructor(H,he,We){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function zn(j){if(!j||!j.options)throw ro("App Configuration Object");if(!j.name)throw ro("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:he}=j;for(const We of H)if(!he[We])throw ro(We);return{appName:j.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:st,installations:he,analyticsProvider:We}}_delete(){return Promise.resolve()}}function ui(){return(ui=(0,z.A)(function*(j){var H;try{j.swRegistration=yield navigator.serviceWorker.register(_n,{scope:on}),j.swRegistration.update().catch(()=>{})}catch(he){throw ze.create("failed-service-worker-registration",{browserErrorMessage:null===(H=he)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function Jo(){return(Jo=(0,z.A)(function*(j,H){if(!H&&!j.swRegistration&&(yield function ns(j){return ui.apply(this,arguments)}(j)),H||!j.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw ze.create("invalid-sw-registration");j.swRegistration=H}})).apply(this,arguments)}function Zo(){return(Zo=(0,z.A)(function*(j,H){H?j.vapidKey=H:j.vapidKey||(j.vapidKey=vn)})).apply(this,arguments)}function br(){return br=(0,z.A)(function*(j,H){if(!navigator)throw ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ze.create("permission-blocked");return yield function Bi(j,H){return Zo.apply(this,arguments)}(j,H?.vapidKey),yield function Ma(j,H){return Jo.apply(this,arguments)}(j,H?.serviceWorkerRegistration),function ts(j){return Ki.apply(this,arguments)}(j)}),br.apply(this,arguments)}function Ue(){return(Ue=(0,z.A)(function*(j,H,he){const We=function xt(j){switch(j){case Rt.NOTIFICATION_CLICKED:return"notification_open";case Rt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(We,{message_id:he[xn],message_name:he[Jt],message_time:he[zt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function N(){return N=(0,z.A)(function*(j,H){const he=H.data;if(!he.isFirebaseMessaging)return;j.onMessageHandler&&he.messageType===Rt.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(Jn(he)):j.onMessageHandler.next(Jn(he)));const We=he.data;(function Ho(j){return"object"==typeof j&&!!j&&xn in j})(We)&&"1"===We["google.c.a.e"]&&(yield function Ca(j,H,he){return Ue.apply(this,arguments)}(j,he.messageType,We))}),N.apply(this,arguments)}const ve="@firebase/messaging",Ge=j=>{const H=new ur(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",he=>function S(j,H){return N.apply(this,arguments)}(H,he)),H},Ve=j=>{const H=j.getProvider("messaging").getImmediate();return{getToken:We=>function Lr(j,H){return br.apply(this,arguments)}(H,We)}};function it(){return lt.apply(this,arguments)}function lt(){return(lt=(0,z.A)(function*(){try{yield(0,Ae.eX)()}catch{return!1}return typeof window<"u"&&(0,Ae.zW)()&&(0,Ae.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ht(){(0,ae._registerComponent)(new ke.uA("messaging",Ge,"PUBLIC")),(0,ae._registerComponent)(new ke.uA("messaging-internal",Ve,"PRIVATE")),(0,ae.registerVersion)(ve,"0.11.0"),(0,ae.registerVersion)(ve,"0.11.0","esm2017")}();var In=A(9295),Gs=A(6780),Uo=A(9687);const is=new class sl extends Uo.q{}(class To extends Gs.R{constructor(H,he){super(H,he),this.scheduler=H,this.work=he}schedule(H,he=0){return he>0?super.schedule(H,he):(this.delay=he,this.state=H,this.scheduler.flush(this),this)}execute(H,he){return he>0||this.closed?super.execute(H,he):this._execute(H,he)}requestAsyncId(H,he,We=0){return null!=We&&We>0||null==We&&this.delay>0?super.requestAsyncId(H,he,We):(H.flush(this),0)}});var St=A(3236),wn=A(8141),mi=A(6745),Oo=A(941);const os=new E.RxE("7.6.1"),Zi="__angularfire_symbol__analyticsIsSupportedValue",er="__angularfire_symbol__analyticsIsSupported",Mi="__angularfire_symbol__remoteConfigIsSupportedValue",Po="__angularfire_symbol__remoteConfigIsSupported",Nr="__angularfire_symbol__messagingIsSupportedValue",yn="__angularfire_symbol__messagingIsSupported";globalThis[er]||(globalThis[er]=(0,In.TT)().then(j=>globalThis[Zi]=j).catch(()=>globalThis[Zi]=!1)),globalThis[yn]||(globalThis[yn]=it().then(j=>globalThis[Nr]=j).catch(()=>globalThis[Nr]=!1)),globalThis[Po]||(globalThis[Po]=Re().then(j=>globalThis[Mi]=j).catch(()=>globalThis[Mi]=!1));const zi={async:()=>globalThis[er],sync:()=>{const j=globalThis[Zi];if(void 0===j)throw new Error((j=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${j} in the constructor, first ensure that ${j} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${j})\`.`)("Analytics"));return j}};function Ks(j,H,he){if(H){if(1===H.length)return H[0];const vt=H.filter(nn=>nn.app===he);if(1===vt.length)return vt[0]}return he.container.getProvider(j).getImmediate({optional:!0})}const rs=(j,H)=>{const he=H?[H]:(0,s.Dk)(),We=[];return he.forEach(st=>{st.container.getProvider(j).instances.forEach(nn=>{We.includes(nn)||We.push(nn)})}),We};function so(){}class Ms{constructor(H,he=is){this.zone=H,this.delegate=he}now(){return this.delegate.now()}schedule(H,he,We){const st=this.zone;return this.delegate.schedule(function(nn){st.runGuarded(()=>{H.apply(this,[nn])})},he,We)}}class al{constructor(H){this.zone=H,this.task=null}call(H,he){const We=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",so,{},so,so)),he.pipe((0,wn.M)({next:We,complete:We,error:We})).subscribe(H).add(We)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fr=(()=>{class j{constructor(he){this.ngZone=he,this.outsideAngular=he.runOutsideAngular(()=>new Ms(Zone.current)),this.insideAngular=he.run(()=>new Ms(Zone.current,St.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(he){return new(he||j)(E.KVO(E.SKi))},j.\u0275prov=E.jDH({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function Wi(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function qs(j){return Wi(),function Qc(j){return function(he){return(he=he.lift(new al(j.ngZone))).pipe((0,mi._)(j.outsideAngular),(0,Oo.Q)(j.insideAngular))}}(Wi())(j)}},1401:(Mt,Le,A)=>{"use strict";A.d(Le,{Am:()=>on,Bd:()=>ye,FA:()=>Fe,Fy:()=>G,I9:()=>vn,Im:()=>De,K3:()=>ke,Ku:()=>Mn,Ll:()=>Ie,T9:()=>ct,Uj:()=>be,XA:()=>Be,ZQ:()=>ce,bD:()=>gt,cY:()=>W,dM:()=>D,eX:()=>V,g:()=>me,gR:()=>Kt,hp:()=>mt,jZ:()=>ie,lT:()=>Pe,lV:()=>J,nr:()=>oe,p9:()=>kt,sr:()=>pe,tD:()=>Jt,u:()=>we,zW:()=>Ce,zw:()=>F});const ae=function(ue){const te=[];let R=0;for(let de=0;de<ue.length;de++){let ne=ue.charCodeAt(de);ne<128?te[R++]=ne:ne<2048?(te[R++]=ne>>6|192,te[R++]=63&ne|128):55296==(64512&ne)&&de+1<ue.length&&56320==(64512&ue.charCodeAt(de+1))?(ne=65536+((1023&ne)<<10)+(1023&ue.charCodeAt(++de)),te[R++]=ne>>18|240,te[R++]=ne>>12&63|128,te[R++]=ne>>6&63|128,te[R++]=63&ne|128):(te[R++]=ne>>12|224,te[R++]=ne>>6&63|128,te[R++]=63&ne|128)}return te},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,te){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let ne=0;ne<ue.length;ne+=3){const ze=ue[ne],tt=ne+1<ue.length,_t=tt?ue[ne+1]:0,tn=ne+2<ue.length,Ft=tn?ue[ne+2]:0;let On=(15&_t)<<2|Ft>>6,yi=63&Ft;tn||(yi=64,tt||(On=64)),de.push(R[ze>>2],R[(3&ze)<<4|_t>>4],R[On],R[yi])}return de.join("")},encodeString(ue,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(ue):this.encodeByteArray(ae(ue),te)},decodeString(ue,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(ue):function(ue){const te=[];let R=0,de=0;for(;R<ue.length;){const ne=ue[R++];if(ne<128)te[de++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const ze=ue[R++];te[de++]=String.fromCharCode((31&ne)<<6|63&ze)}else if(ne>239&&ne<365){const tn=((7&ne)<<18|(63&ue[R++])<<12|(63&ue[R++])<<6|63&ue[R++])-65536;te[de++]=String.fromCharCode(55296+(tn>>10)),te[de++]=String.fromCharCode(56320+(1023&tn))}else{const ze=ue[R++],tt=ue[R++];te[de++]=String.fromCharCode((15&ne)<<12|(63&ze)<<6|63&tt)}}return te.join("")}(this.decodeStringToByteArray(ue,te))},decodeStringToByteArray(ue,te){this.init_();const R=te?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let ne=0;ne<ue.length;){const ze=R[ue.charAt(ne++)],_t=ne<ue.length?R[ue.charAt(ne)]:0;++ne;const Ft=ne<ue.length?R[ue.charAt(ne)]:64;++ne;const Ct=ne<ue.length?R[ue.charAt(ne)]:64;if(++ne,null==ze||null==_t||null==Ft||null==Ct)throw Error();de.push(ze<<2|_t>>4),64!==Ft&&(de.push(_t<<4&240|Ft>>2),64!==Ct&&de.push(Ft<<6&192|Ct))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},be=function(ue){return function(ue){const te=ae(ue);return ke.encodeByteArray(te,!0)}(ue).replace(/\./g,"")},we=function(ue){try{return ke.decodeString(ue,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function F(ue,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return te}for(const R in te)!te.hasOwnProperty(R)||!se(R)||(ue[R]=F(ue[R],te[R]));return ue}function se(ue){return"__proto__"!==ue}function ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function pe(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const ue=ce();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function oe(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){return"object"==typeof indexedDB}function V(){return new Promise((ue,te)=>{try{let R=!0;const de="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(de);ne.onsuccess=()=>{ne.result.close(),R||self.indexedDB.deleteDatabase(de),ue(!0)},ne.onupgradeneeded=()=>{R=!1},ne.onerror=()=>{var ze;te((null===(ze=ne.error)||void 0===ze?void 0:ze.message)||"")}}catch(R){te(R)}})}function D(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=ue&&we(ue[1]);return te&&JSON.parse(te)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},ct=()=>{var ue;return null===(ue=re())||void 0===ue?void 0:ue.config},Be=ue=>{var te;return null===(te=re())||void 0===te?void 0:te[`_${ue}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,R)=>{this.resolve=te,this.reject=R})}wrapCallback(te){return(R,de)=>{R?this.reject(R):this.resolve(de),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(R):te(R,de))}}}function G(ue,te){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=te||"demo-project",ne=ue.iat||0,ze=ue.sub||ue.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:ne,exp:ne+3600,auth_time:ne,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(tt)),""].join(".")}class me extends Error{constructor(te,R,de){super(R),this.code=te,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(te,R,de){this.service=te,this.serviceName=R,this.errors=de}create(te,...R){const de=R[0]||{},ne=`${this.service}/${te}`,ze=this.errors[te],tt=ze?function Te(ue,te){return ue.replace(Ze,(R,de)=>{const ne=te[de];return null!=ne?String(ne):`<${de}?>`})}(ze,de):"Error";return new me(ne,`${this.serviceName}: ${tt} (${ne}).`,de)}}const Ze=/\{\$([^}]+)}/g;function Kt(ue,te){return Object.prototype.hasOwnProperty.call(ue,te)}function De(ue){for(const te in ue)if(Object.prototype.hasOwnProperty.call(ue,te))return!1;return!0}function gt(ue,te){if(ue===te)return!0;const R=Object.keys(ue),de=Object.keys(te);for(const ne of R){if(!de.includes(ne))return!1;const ze=ue[ne],tt=te[ne];if(At(ze)&&At(tt)){if(!gt(ze,tt))return!1}else if(ze!==tt)return!1}for(const ne of de)if(!R.includes(ne))return!1;return!0}function At(ue){return null!==ue&&"object"==typeof ue}function on(ue){const te=[];for(const[R,de]of Object.entries(ue))Array.isArray(de)?de.forEach(ne=>{te.push(encodeURIComponent(R)+"="+encodeURIComponent(ne))}):te.push(encodeURIComponent(R)+"="+encodeURIComponent(de));return te.length?"&"+te.join("&"):""}function vn(ue){const te={};return ue.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[ne,ze]=de.split("=");te[decodeURIComponent(ne)]=decodeURIComponent(ze)}}),te}function mt(ue){const te=ue.indexOf("?");if(!te)return"";const R=ue.indexOf("#",te);return ue.substring(te,R>0?R:void 0)}function Jt(ue,te){const R=new zt(ue,te);return R.subscribe.bind(R)}class zt{constructor(te,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{te(this)}).catch(de=>{this.error(de)})}next(te){this.forEachObserver(R=>{R.next(te)})}error(te){this.forEachObserver(R=>{R.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,R,de){let ne;if(void 0===te&&void 0===R&&void 0===de)throw new Error("Missing Observer.");ne=function ti(ue,te){if("object"!=typeof ue||null===ue)return!1;for(const R of te)if(R in ue&&"function"==typeof ue[R])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:R,complete:de},void 0===ne.next&&(ne.next=Rt),void 0===ne.error&&(ne.error=Rt),void 0===ne.complete&&(ne.complete=Rt);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),ze}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,te)}sendOne(te,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{R(this.observers[te])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rt(){}const Pi=1e3,Ji=2,Tt=144e5,ot=.5;function kt(ue,te=Pi,R=Ji){const de=te*Math.pow(R,ue),ne=Math.round(ot*de*(Math.random()-.5)*2);return Math.min(Tt,de+ne)}function Mn(ue){return ue&&ue._delegate?ue._delegate:ue}},9295:(Mt,Le,A)=>{"use strict";A.d(Le,{TT:()=>E.TT});var E=A(9746)},7418:(Mt,Le,A)=>{"use strict";A.d(Le,{Dk:()=>E.getApps,Sx:()=>E.getApp});var E=A(1631);(0,E.registerVersion)("firebase","9.14.0","app")},3475:(Mt,Le,A)=>{"use strict";A.d(Le,{A:()=>E.A});var E=A(9574);E.A.registerVersion("firebase","9.14.0","app-compat")},6995:(Mt,Le,A)=>{"use strict";var E=A(467),s=A(9574),z=A(1401),ae=A(1631),Ae=A(5398),ke=A(1635),q=A(8779);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ie=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ye=function ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new Ae.Vy("@firebase/auth");function Pe(y,...f){fe.logLevel<=Ae.$b.ERROR&&fe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Z(y,...f){throw V(y,...f)}function Ee(y,...f){return V(y,...f)}function oe(y,f,m){const x=Object.assign(Object.assign({},ye()),{[f]:m});return new z.FA("auth","Firebase",x).create(f,{appName:y.name})}function Ce(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Z(y,"argument-error"),oe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function V(y,...f){if("string"!=typeof y){const m=f[0],x=[...f.slice(1)];return x[0]&&(x[0].appName=y.name),y._errorFactory.create(m,...x)}return pe.create(y,...f)}function D(y,f,...m){if(!y)throw V(f,...m)}function U(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Pe(f),new Error(f)}function Q(y,f){y||U(f)}const K=new Map;function $(y){Q(y instanceof Function,"Expected a class definition");let f=K.get(y);return f?(Q(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,K.set(y,f),f)}function Je(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ct(){return"http:"===Be()||"https:"===Be()}function Be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class X{constructor(f,m){this.shortDelay=f,this.longDelay=m,Q(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,z.jZ)()||(0,z.lV)()}get(){return function W(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function me(y,f){Q(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Fe{static initialize(f,m,x){this.fetchImpl=f,m&&(this.headersImpl=m),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ze=new X(3e4,6e4);function He(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function nt(y,f,m,x){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.A)(function*(y,f,m,x,k={}){return Zt(y,k,(0,E.A)(function*(){let P={},_e={};x&&("GET"===f?_e=x:P={body:JSON.stringify(x)});const qe=(0,z.Am)(Object.assign({key:y.config.apiKey},_e)).slice(1),bt=yield y._getAdditionalHeaders();return bt["Content-Type"]="application/json",y.languageCode&&(bt["X-Firebase-Locale"]=y.languageCode),Fe.fetch()(Kt(y,y.config.apiHost,m,qe),Object.assign({method:f,headers:bt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Zt(y,f,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,E.A)(function*(y,f,m){y._canInitEmulator=!1;const x=Object.assign(Object.assign({},Te),f);try{const k=new Ye(y),P=yield Promise.race([m(),k.promise]);k.clearNetworkTimeout();const _e=yield P.json();if("needConfirmation"in _e)throw De(y,"account-exists-with-different-credential",_e);if(P.ok&&!("errorMessage"in _e))return _e;{const qe=P.ok?_e.errorMessage:_e.error.message,[bt,Wt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bt)throw De(y,"credential-already-in-use",_e);if("EMAIL_EXISTS"===bt)throw De(y,"email-already-in-use",_e);if("USER_DISABLED"===bt)throw De(y,"user-disabled",_e);const mn=x[bt]||bt.toLowerCase().replace(/[_\s]+/g,"-");if(Wt)throw oe(y,mn,Wt);Z(y,mn)}}catch(k){if(k instanceof z.g)throw k;Z(y,"network-request-failed")}})).apply(this,arguments)}function pn(y,f,m,x){return qt.apply(this,arguments)}function qt(){return(qt=(0,E.A)(function*(y,f,m,x,k={}){const P=yield nt(y,f,m,x,k);return"mfaPendingCredential"in P&&Z(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Kt(y,f,m,x){const k=`${f}${m}?${x}`;return y.config.emulator?me(y.config,k):`${y.config.apiScheme}://${k}`}class Ye{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,x)=>{this.timer=setTimeout(()=>x(Ee(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function De(y,f,m){const x={appName:y.name};m.email&&(x.email=m.email),m.phoneNumber&&(x.phoneNumber=m.phoneNumber);const k=Ee(y,f,x);return k.customData._tokenResponse=m,k}function gt(){return(gt=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _n(){return(_n=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vn(){return(vn=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function mt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function zt(){return(zt=(0,E.A)(function*(y,f=!1){const m=(0,z.Ku)(y),x=yield m.getIdToken(f),k=ti(x);D(k&&k.exp&&k.auth_time&&k.iat,m.auth,"internal-error");const P="object"==typeof k.firebase?k.firebase:void 0,_e=P?.sign_in_provider;return{claims:k,token:x,authTime:mt(Ii(k.auth_time)),issuedAtTime:mt(Ii(k.iat)),expirationTime:mt(Ii(k.exp)),signInProvider:_e||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Ii(y){return 1e3*Number(y)}function ti(y){var f;const[m,x,k]=y.split(".");if(void 0===m||void 0===x||void 0===k)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,z.u)(x);return P?JSON.parse(P):(Pe("Failed to decode base64 JWT payload"),null)}catch(P){return Pe("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function gn(y,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,E.A)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(x){throw x instanceof z.g&&function rn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(x)&&y.auth.currentUser===y&&(yield y.auth.signOut()),x}})).apply(this,arguments)}class En{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const k=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const x=this.getInterval(f);this.timerId=setTimeout((0,E.A)(function*(){yield m.iteration()}),x)}iteration(){var f=this;return(0,E.A)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(m=x)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Wn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=mt(this.lastLoginAt),this.creationTime=mt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function un(y){return qn.apply(this,arguments)}function qn(){return qn=(0,E.A)(function*(y){var f;const m=y.auth,x=yield y.getIdToken(),k=yield gn(y,function on(y,f){return vn.apply(this,arguments)}(m,{idToken:x}));D(k?.users.length,m,"internal-error");const P=k.users[0];y._notifyReloadListener(P);const _e=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?function Tt(y){return y.map(f=>{var{providerId:m}=f,x=(0,ke.Tt)(f,["providerId"]);return{providerId:m,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(P.providerUserInfo):[],qe=function Ji(y,f){return[...y.filter(x=>!f.some(k=>k.providerId===x.providerId)),...f]}(y.providerData,_e),mn=!!y.isAnonymous&&!(y.email&&P.passwordHash||qe?.length),dn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:qe,metadata:new Wn(P.createdAt,P.lastLoginAt),isAnonymous:mn};Object.assign(y,dn)}),qn.apply(this,arguments)}function Pi(){return(Pi=(0,E.A)(function*(y){const f=(0,z.Ku)(y);yield un(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function kt(){return(kt=(0,E.A)(function*(y,f){const m=yield Zt(y,{},(0,E.A)(function*(){const x=(0,z.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:k,apiKey:P}=y.config,_e=Kt(y,k,"/v1/token",`key=${P}`),qe=yield y._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(_e,{method:"POST",headers:qe,body:x})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){D(f.idToken,"internal-error"),D(typeof f.idToken<"u","internal-error"),D(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Rt(y){const f=ti(y);return D(f,"internal-error"),D(typeof f.exp<"u","internal-error"),D(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var x=this;return(0,E.A)(function*(){return D(!x.accessToken||x.refreshToken,f,"user-token-expired"),m||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(f,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var x=this;return(0,E.A)(function*(){const{accessToken:k,refreshToken:P,expiresIn:_e}=yield function ot(y,f){return kt.apply(this,arguments)}(f,m);x.updateTokensAndExpiration(k,P,Number(_e))})()}updateTokensAndExpiration(f,m,x){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(f,m){const{refreshToken:x,accessToken:k,expirationTime:P}=m,_e=new cn;return x&&(D("string"==typeof x,"internal-error",{appName:f}),_e.refreshToken=x),k&&(D("string"==typeof k,"internal-error",{appName:f}),_e.accessToken=k),P&&(D("number"==typeof P,"internal-error",{appName:f}),_e.expirationTime=P),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new cn,this.toJSON())}_performRefresh(){return U("not implemented")}}function en(y,f){D("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Mn{constructor(f){var{uid:m,auth:x,stsTokenManager:k}=f,P=(0,ke.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=x,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Wn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,E.A)(function*(){const x=yield gn(m,m.stsTokenManager.getToken(m.auth,f));return D(x,m.auth,"internal-error"),m.accessToken!==x&&(m.accessToken=x,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),x})()}getIdTokenResult(f){return function Jt(y){return zt.apply(this,arguments)}(this,f)}reload(){return function Gi(y){return Pi.apply(this,arguments)}(this)}_assign(f){this!==f&&(D(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var x=this;return(0,E.A)(function*(){let k=!1;f.idToken&&f.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(f),k=!0),m&&(yield un(x)),yield x.auth._persistUserIfCurrent(x),k&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var f=this;return(0,E.A)(function*(){const m=yield f.getIdToken();return yield gn(f,function Re(y,f){return gt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var x,k,P,_e,qe,bt,Wt,mn;const dn=null!==(x=m.displayName)&&void 0!==x?x:void 0,Li=null!==(k=m.email)&&void 0!==k?k:void 0,Hr=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Co=null!==(_e=m.photoURL)&&void 0!==_e?_e:void 0,Cc=null!==(qe=m.tenantId)&&void 0!==qe?qe:void 0,_1=null!==(bt=m._redirectEventId)&&void 0!==bt?bt:void 0,x1=null!==(Wt=m.createdAt)&&void 0!==Wt?Wt:void 0,bo=null!==(mn=m.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:la,emailVerified:M1,isAnonymous:A2,providerData:qd,stsTokenManager:Xd}=m;D(la&&Xd,f,"internal-error");const rg=cn.fromJSON(this.name,Xd);D("string"==typeof la,f,"internal-error"),en(dn,f.name),en(Li,f.name),D("boolean"==typeof M1,f,"internal-error"),D("boolean"==typeof A2,f,"internal-error"),en(Hr,f.name),en(Co,f.name),en(Cc,f.name),en(_1,f.name),en(x1,f.name),en(bo,f.name);const k2=new Mn({uid:la,auth:f,email:Li,emailVerified:M1,displayName:dn,isAnonymous:A2,photoURL:Co,phoneNumber:Hr,tenantId:Cc,stsTokenManager:rg,createdAt:x1,lastLoginAt:bo});return qd&&Array.isArray(qd)&&(k2.providerData=qd.map(w3=>Object.assign({},w3))),_1&&(k2._redirectEventId=_1),k2}static _fromIdTokenResponse(f,m,x=!1){return(0,E.A)(function*(){const k=new cn;k.updateFromServerResponse(m);const P=new Mn({uid:m.localId,auth:f,stsTokenManager:k,isAnonymous:x});return yield un(P),P})()}}const te=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.A)(function*(){return!0})()}_set(m,x){var k=this;return(0,E.A)(function*(){k.storage[m]=x})()}_get(m){var x=this;return(0,E.A)(function*(){const k=x.storage[m];return void 0===k?null:k})()}_remove(m){var x=this;return(0,E.A)(function*(){delete x.storage[m]})()}_addListener(m,x){}_removeListener(m,x){}}return y.type="NONE",y})();function R(y,f,m){return`firebase:${y}:${f}:${m}`}class de{constructor(f,m,x){this.persistence=f,this.auth=m,this.userKey=x;const{config:k,name:P}=this.auth;this.fullUserKey=R(this.userKey,k.apiKey,P),this.fullPersistenceKey=R("persistence",k.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,E.A)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Mn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,E.A)(function*(){if(m.persistence===f)return;const x=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,x?m.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,x="authUser"){return(0,E.A)(function*(){if(!m.length)return new de($(te),f,x);const k=(yield Promise.all(m.map(function(){var Wt=(0,E.A)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return Wt.apply(this,arguments)}}()))).filter(Wt=>Wt);let P=k[0]||$(te);const _e=R(x,f.config.apiKey,f.name);let qe=null;for(const Wt of m)try{const mn=yield Wt._get(_e);if(mn){const dn=Mn._fromJSON(f,mn);Wt!==P&&(qe=dn),P=Wt;break}}catch{}const bt=k.filter(Wt=>Wt._shouldAllowMigration);return P._shouldAllowMigration&&bt.length?(P=bt[0],qe&&(yield P._set(_e,qe.toJSON())),yield Promise.all(m.map(function(){var Wt=(0,E.A)(function*(mn){if(mn!==P)try{yield mn._remove(_e)}catch{}});return function(mn){return Wt.apply(this,arguments)}}())),new de(P,f,x)):new de(P,f,x)})()}}function ne(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(tn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ze(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Tn(f))return"Blackberry";if(Ct(f))return"Webos";if(tt(f))return"Safari";if((f.includes("chrome/")||_t(f))&&!f.includes("edge/"))return"Chrome";if(Ft(f))return"Android";{const x=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function ze(y=(0,z.ZQ)()){return/firefox\//i.test(y)}function tt(y=(0,z.ZQ)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function _t(y=(0,z.ZQ)()){return/crios\//i.test(y)}function tn(y=(0,z.ZQ)()){return/iemobile/i.test(y)}function Ft(y=(0,z.ZQ)()){return/android/i.test(y)}function Tn(y=(0,z.ZQ)()){return/blackberry/i.test(y)}function Ct(y=(0,z.ZQ)()){return/webos/i.test(y)}function On(y=(0,z.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Rr(y=(0,z.ZQ)()){return On(y)||Ft(y)||Ct(y)||Tn(y)||/windows phone/i.test(y)||tn(y)}function Ki(y,f=[]){let m;switch(y){case"Browser":m=ne((0,z.ZQ)());break;case"Worker":m=`${ne((0,z.ZQ)())}-${y}`;break;default:m=y}const x=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${x}`}class Vo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const x=P=>new Promise((_e,qe)=>{try{_e(f(P))}catch(bt){qe(bt)}});x.onAbort=m,this.queue.push(x);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,E.A)(function*(){var x;if(m.auth.currentUser===f)return;const k=[];try{for(const P of m.queue)yield P(f),P.onAbort&&k.push(P.onAbort)}catch(P){k.reverse();for(const _e of k)try{_e()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=P)||void 0===x?void 0:x.message})}})()}}class oo{constructor(f,m,x){this.app=f,this.heartbeatServiceProvider=m,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(f,m){var x=this;return m&&(this._popupRedirectResolver=$(m)),this._initializationPromise=this.queue((0,E.A)(function*(){var k,P;if(!x._deleted&&(x.persistenceManager=yield de.create(x,f),!x._deleted)){if(null!==(k=x._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(m),x.lastNotifiedUid=(null===(P=x.currentUser)||void 0===P?void 0:P.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,E.A)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,E.A)(function*(){var x;const k=yield m.assertedPersistence.getCurrentUser();let P=k,_e=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const qe=null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId,bt=P?._redirectEventId,Wt=yield m.tryRedirectSignIn(f);(!qe||qe===bt)&&Wt?.user&&(P=Wt.user,_e=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(_e)try{yield m.beforeStateQueue.runMiddleware(P)}catch(qe){P=k,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(qe))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return D(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var m=this;return(0,E.A)(function*(){let x=null;try{x=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,E.A)(function*(){var x;try{yield un(f)}catch(k){if("auth/network-request-failed"!==(null===(x=k)||void 0===x?void 0:x.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function G(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,E.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,E.A)(function*(){const x=f?(0,z.Ku)(f):null;return x&&D(x.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(x&&x._clone(m))})()}_updateCurrentUser(f,m=!1){var x=this;return(0,E.A)(function*(){if(!x._deleted)return f&&D(x.tenantId===f.tenantId,x,"tenant-id-mismatch"),m||(yield x.beforeStateQueue.runMiddleware(f)),x.queue((0,E.A)(function*(){yield x.directlySetCurrentUser(f),x.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,E.A)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,E.A)(function*(){yield m.assertedPersistence.setPersistence($(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new z.FA("auth","Firebase",f())}onAuthStateChanged(f,m,x){return this.registerStateListener(this.authStateSubscription,f,m,x)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,x){return this.registerStateListener(this.idTokenSubscription,f,m,x)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var x=this;return(0,E.A)(function*(){const k=yield x.getOrInitRedirectPersistenceManager(m);return null===f?k.removeCurrentUser():k.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,E.A)(function*(){if(!m.redirectPersistenceManager){const x=f&&$(f)||m._popupRedirectResolver;D(x,m,"argument-error"),m.redirectPersistenceManager=yield de.create(m,[$(x._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,E.A)(function*(){var x,k;return m._isInitialized&&(yield m.queue((0,E.A)(function*(){}))),(null===(x=m._currentUser)||void 0===x?void 0:x._redirectEventId)===f?m._currentUser:(null===(k=m.redirectUser)||void 0===k?void 0:k._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,E.A)(function*(){if(f===m.currentUser)return m.queue((0,E.A)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,x,k){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return D(_e,this,"internal-error"),_e.then(()=>P(this.currentUser)),"function"==typeof m?f.addObserver(m,x,k):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,E.A)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,E.A)(function*(){var m;const x={"X-Client-Version":f.clientVersion};f.app.options.appId&&(x["X-Firebase-gmpid"]=f.app.options.appId);const k=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return k&&(x["X-Firebase-Client"]=k),x})()}}function xe(y){return(0,z.Ku)(y)}class Ne{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,z.tD)(m=>this.observer=m)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qt(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Bn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Jn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return U("not implemented")}_getIdTokenResponse(f){return U("not implemented")}_linkToIdToken(f,m){return U("not implemented")}_getReauthenticationResolver(f){return U("not implemented")}}function oi(y,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:resetPassword",He(y,f))})).apply(this,arguments)}function jo(y,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zn(){return(zn=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:update",He(y,f))})).apply(this,arguments)}function ur(){return(ur=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithPassword",He(y,f))})).apply(this,arguments)}function ns(y,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:sendOobCode",He(y,f))})).apply(this,arguments)}function Jo(){return(Jo=(0,E.A)(function*(y,f){return ns(y,f)})).apply(this,arguments)}function Zo(){return(Zo=(0,E.A)(function*(y,f){return ns(y,f)})).apply(this,arguments)}function br(){return(br=(0,E.A)(function*(y,f){return ns(y,f)})).apply(this,arguments)}function Ue(){return(Ue=(0,E.A)(function*(y,f){return ns(y,f)})).apply(this,arguments)}function S(){return(S=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithEmailLink",He(y,f))})).apply(this,arguments)}function ve(){return(ve=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithEmailLink",He(y,f))})).apply(this,arguments)}class ge extends Jn{constructor(f,m,x,k=null){super("password",x),this._email=f,this._password=m,this._tenantId=k}static _fromEmailAndPassword(f,m){return new ge(f,m,"password")}static _fromEmailAndCode(f,m,x=null){return new ge(f,m,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,E.A)(function*(){switch(m.signInMethod){case"password":return function ro(y,f){return ur.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xt(y,f){return S.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Z(f,"internal-error")}})()}_linkToIdToken(f,m){var x=this;return(0,E.A)(function*(){switch(x.signInMethod){case"password":return jo(f,{idToken:m,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function N(y,f){return ve.apply(this,arguments)}(f,{idToken:m,email:x._email,oobCode:x._password});default:Z(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ge(y,f){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithIdp",He(y,f))})).apply(this,arguments)}class it extends Jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new it(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Z("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:k}=m,P=(0,ke.Tt)(m,["providerId","signInMethod"]);if(!x||!k)return null;const _e=new it(x,k);return _e.idToken=P.idToken||void 0,_e.accessToken=P.accessToken||void 0,_e.secret=P.secret,_e.nonce=P.nonce,_e.pendingToken=P.pendingToken||null,_e}_getIdTokenResponse(f){return Ge(f,this.buildRequest())}_linkToIdToken(f,m){const x=this.buildRequest();return x.idToken=m,Ge(f,x)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ge(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,z.Am)(m)}return f}}function ut(){return(ut=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:sendVerificationCode",He(y,f))})).apply(this,arguments)}function Bt(){return(Bt=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithPhoneNumber",He(y,f))})).apply(this,arguments)}function Vt(){return(Vt=(0,E.A)(function*(y,f){const m=yield pn(y,"POST","/v1/accounts:signInWithPhoneNumber",He(y,f));if(m.temporaryProof)throw De(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Pn={USER_NOT_FOUND:"user-not-found"};function Zn(){return(Zn=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithPhoneNumber",He(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Pn)})).apply(this,arguments)}class In extends Jn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new In({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new In({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function wt(y,f){return Bt.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Yt(y,f){return Vt.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xn(y,f){return Zn.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:x,verificationCode:k}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:x,code:k}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:x,phoneNumber:k,temporaryProof:P}=f;return x||m||k||P?new In({verificationId:m,verificationCode:x,phoneNumber:k,temporaryProof:P}):null}}class Uo{constructor(f){var m,x,k,P,_e,qe;const bt=(0,z.I9)((0,z.hp)(f)),Wt=null!==(m=bt.apiKey)&&void 0!==m?m:null,mn=null!==(x=bt.oobCode)&&void 0!==x?x:null,dn=function Gs(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=bt.mode)&&void 0!==k?k:null);D(Wt&&mn&&dn,"argument-error"),this.apiKey=Wt,this.operation=dn,this.code=mn,this.continueUrl=null!==(P=bt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(_e=bt.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(qe=bt.tenantId)&&void 0!==qe?qe:null}static parseLink(f){const m=function To(y){const f=(0,z.I9)((0,z.hp)(y)).link,m=f?(0,z.I9)((0,z.hp)(f)).deep_link_id:null,x=(0,z.I9)((0,z.hp)(y)).deep_link_id;return(x?(0,z.I9)((0,z.hp)(x)).link:null)||x||m||f||y}(f);try{return new Uo(m)}catch{return null}}}let is=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,x){return ge._fromEmailAndPassword(m,x)}static credentialWithLink(m,x){const k=Uo.parseLink(x);return D(k,"argument-error"),ge._fromEmailAndCode(m,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class St extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class wn extends St{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return D("providerId"in m&&"signInMethod"in m,"argument-error"),it._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return D(f.idToken||f.accessToken,"argument-error"),it._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return wn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return wn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:x,oauthTokenSecret:k,pendingToken:P,nonce:_e,providerId:qe}=f;if(!x&&!k&&!m&&!P||!qe)return null;try{return new wn(qe)._credential({idToken:m,accessToken:x,nonce:_e,pendingToken:P})}catch{return null}}}let mi=(()=>{class y extends St{constructor(){super("facebook.com")}static credential(m){return it._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Oo=(()=>{class y extends St{constructor(){super("google.com"),this.addScope("profile")}static credential(m,x){return it._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:x})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:x,oauthAccessToken:k}=m;if(!x&&!k)return null;try{return y.credential(x,k)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),os=(()=>{class y extends St{constructor(){super("github.com")}static credential(m){return it._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class er extends Jn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ge(f,this.buildRequest())}_linkToIdToken(f,m){const x=this.buildRequest();return x.idToken=m,Ge(f,x)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ge(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:k,pendingToken:P}=m;return x&&k&&P&&x===k?new er(x,P):null}static _create(f,m){return new er(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Po extends ni{constructor(f){D(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Po.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Po.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=er.fromJSON(f);return D(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:x}=f;if(!m||!x)return null;try{return er._create(x,m)}catch{return null}}}let Nr=(()=>{class y extends St{constructor(){super("twitter.com")}static credential(m,x){return it._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:x})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:x,oauthTokenSecret:k}=m;if(!x||!k)return null;try{return y.credential(x,k)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function yn(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signUp",He(y,f))})).apply(this,arguments)}class Ro{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,x,k=!1){return(0,E.A)(function*(){const P=yield Mn._fromIdTokenResponse(f,x,k),_e=Er(x);return new Ro({user:P,providerId:_e,_tokenResponse:x,operationType:m})})()}static _forOperation(f,m,x){return(0,E.A)(function*(){yield f._updateTokensIfNecessary(x,!0);const k=Er(x);return new Ro({user:f,providerId:k,_tokenResponse:x,operationType:m})})()}}function Er(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ks(){return(Ks=(0,E.A)(function*(y){var f;const m=xe(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Ro({user:m.currentUser,providerId:null,operationType:"signIn"});const x=yield yn(m,{returnSecureToken:!0}),k=yield Ro._fromIdTokenResponse(m,"signIn",x,!0);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}class rs extends z.g{constructor(f,m,x,k){var P;super(m.code,m.message),this.operationType=x,this.user=k,Object.setPrototypeOf(this,rs.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(f,m,x,k){return new rs(f,m,x,k)}}function so(y,f,m,x){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?rs._fromErrorAndOperation(y,P,f,x):P})}function Ms(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Fr(){return Fr=(0,E.A)(function*(y,f){const m=(0,z.Ku)(y);yield ao(!0,m,f);const{providerUserInfo:x}=yield function At(y,f){return _n.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),k=Ms(x||[]);return m.providerData=m.providerData.filter(P=>k.has(P.providerId)),k.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Fr.apply(this,arguments)}function Wi(y,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,E.A)(function*(y,f,m=!1){const x=yield gn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ro._forOperation(y,"link",x)})).apply(this,arguments)}function ao(y,f,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,E.A)(function*(y,f,m){yield un(f);const k=!1===y?"provider-already-linked":"no-such-provider";D(Ms(f.providerData).has(m)===y,f.auth,k)})).apply(this,arguments)}function dd(y,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,E.A)(function*(y,f,m=!1){var x;const{auth:k}=y,P="reauthenticate";try{const _e=yield gn(y,so(k,P,f,y),m);D(_e.idToken,k,"internal-error");const qe=ti(_e.idToken);D(qe,k,"internal-error");const{sub:bt}=qe;return D(y.uid===bt,k,"user-mismatch"),Ro._forOperation(y,P,_e)}catch(_e){throw"auth/user-not-found"===(null===(x=_e)||void 0===x?void 0:x.code)&&Z(k,"user-mismatch"),_e}})).apply(this,arguments)}function Qc(y,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,E.A)(function*(y,f,m=!1){const x="signIn",k=yield so(y,x,f),P=yield Ro._fromIdTokenResponse(y,x,k);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Xs(y,f){return j.apply(this,arguments)}function j(){return(j=(0,E.A)(function*(y,f){return Qc(xe(y),f)})).apply(this,arguments)}function H(y,f){return he.apply(this,arguments)}function he(){return(he=(0,E.A)(function*(y,f){const m=(0,z.Ku)(y);return yield ao(!1,m,f.providerId),Wi(m,f)})).apply(this,arguments)}function We(y,f){return st.apply(this,arguments)}function st(){return(st=(0,E.A)(function*(y,f){return dd((0,z.Ku)(y),f)})).apply(this,arguments)}function nn(){return(nn=(0,E.A)(function*(y,f){return pn(y,"POST","/v1/accounts:signInWithCustomToken",He(y,f))})).apply(this,arguments)}function Si(){return Si=(0,E.A)(function*(y,f){const m=xe(y),x=yield function vt(y,f){return nn.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),k=yield Ro._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(k.user),k}),Si.apply(this,arguments)}class vi{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?di._fromServerResponse(f,m):Z(f,"internal-error")}}class di extends vi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new di(m)}}function Cn(y,f,m){var x;D((null===(x=m.url)||void 0===x?void 0:x.length)>0,y,"invalid-continue-uri"),D(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(D(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(D(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function nc(){return nc=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y),k={requestType:"PASSWORD_RESET",email:f};m&&Cn(x,k,m),yield function Bi(y,f){return Zo.apply(this,arguments)}(x,k)}),nc.apply(this,arguments)}function Cs(){return(Cs=(0,E.A)(function*(y,f,m){yield oi((0,z.Ku)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function cl(){return cl=(0,E.A)(function*(y,f){yield function ai(y,f){return zn.apply(this,arguments)}((0,z.Ku)(y),{oobCode:f})}),cl.apply(this,arguments)}function ll(y,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,E.A)(function*(y,f){const m=(0,z.Ku)(y),x=yield oi(m,{oobCode:f}),k=x.requestType;switch(D(k,m,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(x.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(x.mfaInfo,m,"internal-error");default:D(x.email,m,"internal-error")}let P=null;return x.mfaInfo&&(P=vi._fromServerResponse(xe(m),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:P},operation:k}})).apply(this,arguments)}function Ys(){return(Ys=(0,E.A)(function*(y,f){const{data:m}=yield ll((0,z.Ku)(y),f);return m.email})).apply(this,arguments)}function zh(){return(zh=(0,E.A)(function*(y,f,m){const x=xe(y),k=yield yn(x,{returnSecureToken:!0,email:f,password:m}),P=yield Ro._fromIdTokenResponse(x,"signIn",k);return yield x._updateCurrentUser(P.user),P})).apply(this,arguments)}function Fh(){return Fh=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y),k={requestType:"EMAIL_SIGNIN",email:f};D(m.handleCodeInApp,x,"argument-error"),m&&Cn(x,k,m),yield function Lr(y,f){return br.apply(this,arguments)}(x,k)}),Fh.apply(this,arguments)}function X0(){return(X0=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y),k=is.credentialWithLink(f,m||Je());return D(k._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Xs(x,k)})).apply(this,arguments)}function Bh(){return(Bh=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:createAuthUri",He(y,f))})).apply(this,arguments)}function bs(){return bs=(0,E.A)(function*(y,f){const x={identifier:f,continueUri:ct()?Je():"http://localhost"},{signinMethods:k}=yield function gv(y,f){return Bh.apply(this,arguments)}((0,z.Ku)(y),x);return k||[]}),bs.apply(this,arguments)}function ul(){return ul=(0,E.A)(function*(y,f){const m=(0,z.Ku)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Cn(m.auth,k,f);const{email:P}=yield function Ma(y,f){return Jo.apply(this,arguments)}(m.auth,k);P!==y.email&&(yield y.reload())}),ul.apply(this,arguments)}function co(){return co=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Cn(x.auth,P,m);const{email:_e}=yield function Ca(y,f){return Ue.apply(this,arguments)}(x.auth,P);_e!==y.email&&(yield y.reload())}),co.apply(this,arguments)}function $o(){return($o=(0,E.A)(function*(y,f){return nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function J0(){return J0=(0,E.A)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const x=(0,z.Ku)(y),P={idToken:yield x.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},_e=yield gn(x,function Y0(y,f){return $o.apply(this,arguments)}(x.auth,P));x.displayName=_e.displayName||null,x.photoURL=_e.photoUrl||null;const qe=x.providerData.find(({providerId:bt})=>"password"===bt);qe&&(qe.displayName=x.displayName,qe.photoURL=x.photoURL),yield x._updateTokensIfNecessary(_e)}),J0.apply(this,arguments)}function Zc(y,f,m){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,E.A)(function*(y,f,m){const{auth:x}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),m&&(P.password=m);const _e=yield gn(y,jo(x,P));yield y._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Ia{constructor(f,m,x={}){this.isNewUser=f,this.providerId=m,this.profile=x}}class md extends Ia{constructor(f,m,x,k){super(f,m,x),this.username=k}}class Hh extends Ia{constructor(f,m){super(f,"facebook.com",m)}}class Uh extends md{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class e2 extends Ia{constructor(f,m){super(f,"google.com",m)}}class hl extends md{constructor(f,m,x){super(f,"twitter.com",m,x)}}function ic(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function pd(y){var f,m;if(!y)return null;const{providerId:x}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!x&&y?.idToken){const _e=null===(m=null===(f=ti(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(_e)return new Ia(P,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!x)return null;switch(x){case"facebook.com":return new Hh(P,k);case"github.com":return new Uh(P,k);case"google.com":return new e2(P,k);case"twitter.com":return new hl(P,k,y.screenName||null);case"custom":case"anonymous":return new Ia(P,null);default:return new Ia(P,x,k)}}(m)}class oc{constructor(f,m,x){this.type=f,this.credential=m,this.auth=x}static _fromIdtoken(f,m){return new oc("enroll",f,m)}static _fromMfaPendingCredential(f){return new oc("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,x;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return oc._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(x=f.multiFactorSession)&&void 0!==x&&x.idToken)return oc._fromIdtoken(f.multiFactorSession.idToken)}return null}}class gl{constructor(f,m,x){this.session=f,this.hints=m,this.signInResolver=x}static _fromError(f,m){const x=xe(f),k=m.customData._serverResponse,P=(k.mfaInfo||[]).map(qe=>vi._fromServerResponse(x,qe));D(k.mfaPendingCredential,x,"internal-error");const _e=oc._fromMfaPendingCredential(k.mfaPendingCredential);return new gl(_e,P,function(){var qe=(0,E.A)(function*(bt){const Wt=yield bt._process(x,_e);delete k.mfaInfo,delete k.mfaPendingCredential;const mn=Object.assign(Object.assign({},k),{idToken:Wt.idToken,refreshToken:Wt.refreshToken});switch(m.operationType){case"signIn":const dn=yield Ro._fromIdTokenResponse(x,m.operationType,mn);return yield x._updateCurrentUser(dn.user),dn;case"reauthenticate":return D(m.user,x,"internal-error"),Ro._forOperation(m.user,m.operationType,mn);default:Z(x,"internal-error")}});return function(bt){return qe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,E.A)(function*(){return m.signInResolver(f)})()}}class ml{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(x=>vi._fromServerResponse(f.auth,x)))})}static _fromUser(f){return new ml(f)}getSession(){var f=this;return(0,E.A)(function*(){return oc._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var x=this;return(0,E.A)(function*(){const k=f,P=yield x.getSession(),_e=yield gn(x.user,k._process(x.user.auth,P,m));return yield x.user._updateTokensIfNecessary(_e),x.user.reload()})()}unenroll(f){var m=this;return(0,E.A)(function*(){var x;const k="string"==typeof f?f:f.uid,P=yield m.user.getIdToken(),_e=yield gn(m.user,function $h(y,f){return nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",He(y,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:k}));m.enrolledFactors=m.enrolledFactors.filter(({uid:qe})=>qe!==k),yield m.user._updateTokensIfNecessary(_e);try{yield m.user.reload()}catch(qe){if("auth/user-token-expired"!==(null===(x=qe)||void 0===x?void 0:x.code))throw qe}})()}}const e1=new WeakMap,vl="__sak";class n1{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(vl,"1"),this.storage.removeItem(vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const o1=(()=>{class y extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,x)=>this.onStorageEvent(m,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gh(){const y=(0,z.ZQ)();return tt(y)||On(y)}()&&function ts(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const x of Object.keys(this.listeners)){const k=this.storage.getItem(x),P=this.localCache[x];k!==P&&m(x,P,k)}}onStorageEvent(m,x=!1){if(!m.key)return void this.forAllChangedKeys((qe,bt,Wt)=>{this.notifyListeners(qe,Wt)});const k=m.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(k);if(m.newValue!==qe)null!==m.newValue?this.storage.setItem(k,m.newValue):this.storage.removeItem(k);else if(this.localCache[k]===m.newValue&&!x)return}const P=()=>{const qe=this.storage.getItem(k);!x&&this.localCache[k]===qe||this.notifyListeners(k,qe)},_e=this.storage.getItem(k);!function Ri(){return(0,z.lT)()&&10===document.documentMode}()||_e===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,x){this.localCache[m]=x;const k=this.listeners[m];if(k)for(const P of Array.from(k))P(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,x,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:x,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(x)}_removeListener(m,x){this.listeners[m]&&(this.listeners[m].delete(x),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,x){var k=()=>super._set,P=this;return(0,E.A)(function*(){yield k().call(P,m,x),P.localCache[m]=JSON.stringify(x)})()}_get(m){var x=()=>super._get,k=this;return(0,E.A)(function*(){const P=yield x().call(k,m);return k.localCache[m]=JSON.stringify(P),P})()}_remove(m){var x=()=>super._remove,k=this;return(0,E.A)(function*(){yield x().call(k,m),delete k.localCache[m]})()}}return y.type="LOCAL",y})(),Br=(()=>{class y extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,x){}_removeListener(m,x){}}return y.type="SESSION",y})();let n2=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const x=this.receivers.find(P=>P.isListeningto(m));if(x)return x;const k=new y(m);return this.receivers.push(k),k}isListeningto(m){return this.eventTarget===m}handleEvent(m){var x=this;return(0,E.A)(function*(){const k=m,{eventId:P,eventType:_e,data:qe}=k.data,bt=x.handlersMap[_e];if(!bt?.size)return;k.ports[0].postMessage({status:"ack",eventId:P,eventType:_e});const Wt=Array.from(bt).map(function(){var dn=(0,E.A)(function*(Li){return Li(k.origin,qe)});return function(Li){return dn.apply(this,arguments)}}()),mn=yield function wd(y){return Promise.all(y.map(function(){var f=(0,E.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(x){return{fulfilled:!1,reason:x}}});return function(m){return f.apply(this,arguments)}}()))}(Wt);k.ports[0].postMessage({status:"done",eventId:P,eventType:_e,response:mn})})()}_subscribe(m,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(x)}_unsubscribe(m,x){this.handlersMap[m]&&x&&this.handlersMap[m].delete(x),(!x||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Js(y="",f=10){let m="";for(let x=0;x<f;x++)m+=Math.floor(10*Math.random());return y+m}class o2{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,x=50){var k=this;return(0,E.A)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let _e,qe;return new Promise((bt,Wt)=>{const mn=Js("",20);P.port1.start();const dn=setTimeout(()=>{Wt(new Error("unsupported_event"))},x);qe={messageChannel:P,onMessage(Li){const Hr=Li;if(Hr.data.eventId===mn)switch(Hr.data.status){case"ack":clearTimeout(dn),_e=setTimeout(()=>{Wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),bt(Hr.data.response);break;default:clearTimeout(dn),clearTimeout(_e),Wt(new Error("invalid_response"))}}},k.handlers.add(qe),P.port1.addEventListener("message",qe.onMessage),k.target.postMessage({eventType:f,eventId:mn,data:m},[P.port2])}).finally(()=>{qe&&k.removeMessageHandler(qe)})})()}}function eo(){return window}function s2(){return typeof eo().WorkerGlobalScope<"u"&&"function"==typeof eo().importScripts}function wl(){return(wl=(0,E.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const r1="firebaseLocalStorageDb",yo="firebaseLocalStorage",qh="fbase_key";class Aa{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Es(y,f){return y.transaction([yo],f?"readwrite":"readonly").objectStore(yo)}function yl(){const y=indexedDB.open(r1,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const x=y.result;try{x.createObjectStore(yo,{keyPath:qh})}catch(k){m(k)}}),y.addEventListener("success",(0,E.A)(function*(){const x=y.result;x.objectStoreNames.contains(yo)?f(x):(x.close(),yield function Go(){const y=indexedDB.deleteDatabase(r1);return new Aa(y).toPromise()}(),f(yield yl()))}))})}function _d(y,f,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,E.A)(function*(y,f,m){const x=Es(y,!0).put({[qh]:f,value:m});return new Aa(x).toPromise()})).apply(this,arguments)}function xl(){return(xl=(0,E.A)(function*(y,f){const m=Es(y,!1).get(f),x=yield new Aa(m).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function xd(y,f){const m=Es(y,!0).delete(f);return new Aa(m).toPromise()}const s1=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,E.A)(function*(){return m.db||(m.db=yield yl()),m.db})()}_withRetries(m){var x=this;return(0,E.A)(function*(){let k=0;for(;;)try{const P=yield x._openDb();return yield m(P)}catch(P){if(k++>3)throw P;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,E.A)(function*(){return s2()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,E.A)(function*(){m.receiver=n2._getInstance(function wi(){return s2()?self:null}()),m.receiver._subscribe("keyChanged",function(){var x=(0,E.A)(function*(k,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(k,P){return x.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var x=(0,E.A)(function*(k,P){return["keyChanged"]});return function(k,P){return x.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,E.A)(function*(){var x,k;if(m.activeServiceWorker=yield function as(){return wl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new o2(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);P&&null!==(x=P[0])&&void 0!==x&&x.fulfilled&&null!==(k=P[0])&&void 0!==k&&k.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var x=this;return(0,E.A)(function*(){if(x.sender&&x.activeServiceWorker&&function yd(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:m},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.A)(function*(){try{if(!indexedDB)return!1;const m=yield yl();return yield _d(m,vl,"1"),yield xd(m,vl),!0}catch{}return!1})()}_withPendingWrite(m){var x=this;return(0,E.A)(function*(){x.pendingWrites++;try{yield m()}finally{x.pendingWrites--}})()}_set(m,x){var k=this;return(0,E.A)(function*(){return k._withPendingWrite((0,E.A)(function*(){return yield k._withRetries(P=>_d(P,m,x)),k.localCache[m]=x,k.notifyServiceWorker(m)}))})()}_get(m){var x=this;return(0,E.A)(function*(){const k=yield x._withRetries(P=>function Zs(y,f){return xl.apply(this,arguments)}(P,m));return x.localCache[m]=k,k})()}_remove(m){var x=this;return(0,E.A)(function*(){return x._withPendingWrite((0,E.A)(function*(){return yield x._withRetries(k=>xd(k,m)),delete x.localCache[m],x.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,E.A)(function*(){const x=yield m._withRetries(_e=>{const qe=Es(_e,!1).getAll();return new Aa(qe).toPromise()});if(!x)return[];if(0!==m.pendingWrites)return[];const k=[],P=new Set;for(const{fbase_key:_e,value:qe}of x)P.add(_e),JSON.stringify(m.localCache[_e])!==JSON.stringify(qe)&&(m.notifyListeners(_e,qe),k.push(_e));for(const _e of Object.keys(m.localCache))m.localCache[_e]&&!P.has(_e)&&(m.notifyListeners(_e,null),k.push(_e));return k})()}notifyListeners(m,x){this.localCache[m]=x;const k=this.listeners[m];if(k)for(const P of Array.from(k))P(x)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,E.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(x)}_removeListener(m,x){this.listeners[m]&&(this.listeners[m].delete(x),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ml(){return(Ml=(0,E.A)(function*(y){return(yield nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bd(y){return new Promise((f,m)=>{const x=document.createElement("script");x.setAttribute("src",y),x.onload=f,x.onerror=k=>{const P=Ee("internal-error");P.customData=k,m(P)},x.type="text/javascript",x.charset="UTF-8",function Qh(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(x)})}function Cl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const a2=1e12;class Zh{constructor(f){this.auth=f,this.counter=a2,this._widgets=new Map}render(f,m){const x=this.counter;return this._widgets.set(x,new Qf(f,this.auth.name,m||{})),this.counter++,x}reset(f){var m;const x=f||a2;null===(m=this._widgets.get(x))||void 0===m||m.delete(),this._widgets.delete(x)}getResponse(f){var m;return(null===(m=this._widgets.get(f||a2))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,E.A)(function*(){var x;return null===(x=m._widgets.get(f||a2))||void 0===x||x.execute(),""})()}}class Qf{constructor(f,m,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof f?document.getElementById(f):f;D(k,"argument-error",{appName:m}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function e3(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<y;x++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const at=Cl("rcb"),Yn=new X(3e4,6e4);class Ed{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=eo().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return D(function _o(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(eo().grecaptcha):new Promise((x,k)=>{const P=eo().setTimeout(()=>{k(Ee(f,"network-request-failed"))},Yn.get());eo()[at]=()=>{eo().clearTimeout(P),delete eo()[at];const qe=eo().grecaptcha;if(!qe)return void k(Ee(f,"internal-error"));const bt=qe.render;qe.render=(Wt,mn)=>{const dn=bt(Wt,mn);return this.counter++,dn},this.hostLanguage=m,x(qe)},bd(`https://www.google.com/recaptcha/api.js??${(0,z.Am)({onload:at,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),k(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=eo().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bl{load(f){return(0,E.A)(function*(){return new Zh(f)})()}clearedOneInstance(){}}const Sa="recaptcha",As={theme:"light",type:"image"};class Id{constructor(f,m=Object.assign({},As),x){this.parameters=m,this.type=Sa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xe(x),this.isInvisible="invisible"===this.parameters.size,D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof f?document.getElementById(f):f;D(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bl:new Ed,this.validateStartingState()}verify(){var f=this;return(0,E.A)(function*(){f.assertNotDestroyed();const m=yield f.render(),x=f.getAssertedRecaptcha();return x.getResponse(m)||new Promise(P=>{const _e=qe=>{qe&&(f.tokenChangeListeners.delete(_e),P(qe))};f.tokenChangeListeners.add(_e),f.isInvisible&&x.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(x=>x(m)),"function"==typeof f)f(m);else if("string"==typeof f){const x=eo()[f];"function"==typeof x&&x(m)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,E.A)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const x=document.createElement("div");m.appendChild(x),m=x}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,E.A)(function*(){D(ct()&&!s2(),f.auth,"internal-error"),yield function Ad(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Yf(y){return Ml.apply(this,arguments)}(f.auth);D(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class c2{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=In._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function l2(){return(l2=(0,E.A)(function*(y,f,m){const x=xe(y),k=yield Vr(x,f,(0,z.Ku)(m));return new c2(k,P=>Xs(x,P))})).apply(this,arguments)}function cs(){return(cs=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y);yield ao(!1,x,"phone");const k=yield Vr(x.auth,f,(0,z.Ku)(m));return new c2(k,P=>H(x,P))})).apply(this,arguments)}function Da(){return(Da=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y),k=yield Vr(x.auth,f,(0,z.Ku)(m));return new c2(k,P=>We(x,P))})).apply(this,arguments)}function Vr(y,f,m){return kd.apply(this,arguments)}function kd(){return kd=(0,E.A)(function*(y,f,m){var x;const k=yield m.verify();try{let P;if(D("string"==typeof k,y,"argument-error"),D(m.type===Sa,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const _e=P.session;if("phoneNumber"in P)return D("enroll"===_e.type,y,"internal-error"),(yield function wv(y,f){return nt(y,"POST","/v2/accounts/mfaEnrollment:start",He(y,f))}(y,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{D("signin"===_e.type,y,"internal-error");const qe=(null===(x=P.multiFactorHint)||void 0===x?void 0:x.uid)||P.multiFactorUid;return D(qe,y,"missing-multi-factor-info"),(yield function bn(y,f){return nt(y,"POST","/v2/accounts/mfaSignIn:start",He(y,f))}(y,{mfaPendingCredential:_e.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield function lt(y,f){return ut.apply(this,arguments)}(y,{phoneNumber:P.phoneNumber,recaptchaToken:k});return _e}}finally{m._reset()}}),kd.apply(this,arguments)}function El(){return(El=(0,E.A)(function*(y,f){yield Wi((0,z.Ku)(y),f)})).apply(this,arguments)}let Il=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=xe(m)}verifyPhoneNumber(m,x){return Vr(this.auth,m,(0,z.Ku)(x))}static credential(m,x){return In._fromVerification(m,x)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:x,temporaryProof:k}=m;return x&&k?In._fromTokenResponse(x,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ea(y,f){return f?$(f):(D(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Al extends Jn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ge(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ge(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ge(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function n3(y){return Qc(y.auth,new Al(y),y.bypassAuthState)}function Dd(y){const{auth:f,user:m}=y;return D(m,f,"internal-error"),dd(m,new Al(y),y.bypassAuthState)}function Jf(y){return u2.apply(this,arguments)}function u2(){return(u2=(0,E.A)(function*(y){const{auth:f,user:m}=y;return D(m,f,"internal-error"),Wi(m,new Al(y),y.bypassAuthState)})).apply(this,arguments)}class to{constructor(f,m,x,k,P=!1){this.auth=f,this.resolver=x,this.user=k,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,E.A)(function*(x,k){f.pendingPromise={resolve:x,reject:k};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(x,k){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,E.A)(function*(){const{urlResponse:x,sessionId:k,postBody:P,tenantId:_e,error:qe,type:bt}=f;if(qe)return void m.reject(qe);const Wt={auth:m.auth,requestUri:x,sessionId:k,tenantId:_e||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(bt)(Wt))}catch(mn){m.reject(mn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return n3;case"linkViaPopup":case"linkViaRedirect":return Jf;case"reauthViaPopup":case"reauthViaRedirect":return Dd;default:Z(this.auth,"internal-error")}}resolve(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ko=new X(2e3,1e4);function hi(){return(hi=(0,E.A)(function*(y,f,m){const x=xe(y);Ce(y,f,ni);const k=ea(x,m);return new xo(x,"signInViaPopup",f,k).executeNotNull()})).apply(this,arguments)}function Di(){return(Di=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y);Ce(x.auth,f,ni);const k=ea(x.auth,m);return new xo(x.auth,"reauthViaPopup",f,k,x).executeNotNull()})).apply(this,arguments)}function d2(){return(d2=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y);Ce(x.auth,f,ni);const k=ea(x.auth,m);return new xo(x.auth,"linkViaPopup",f,k,x).executeNotNull()})).apply(this,arguments)}let xo=(()=>{class y extends to{constructor(m,x,k,P,_e){super(m,x,P,_e),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,E.A)(function*(){const x=yield m.execute();return D(x,m.auth,"internal-error"),x})()}onExecution(){var m=this;return(0,E.A)(function*(){Q(1===m.filter.length,"Popup operations only handle one event");const x=Js();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],x),m.authWindow.associatedEvent=x,m.resolver._originValidation(m.auth).catch(k=>{m.reject(k)}),m.resolver._isIframeWebStorageSupported(m.auth,k=>{k||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var x,k;this.pollId=null!==(k=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ko.get())};m()}}return y.currentPopupAction=null,y})();const Ta="pendingRedirect",fi=new Map;class o3 extends to{constructor(f,m,x=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,x),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,E.A)(function*(){let x=fi.get(m.auth._key());if(!x){try{const P=(yield function kl(y,f){return Ot.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;x=()=>Promise.resolve(P)}catch(k){x=()=>Promise.reject(k)}fi.set(m.auth._key(),x)}return m.bypassAuthState||fi.set(m.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,x=this;return(0,E.A)(function*(){if("signInViaRedirect"===f.type)return m().call(x,f);if("unknown"!==f.type){if(f.eventId){const k=yield x.auth._redirectUserForId(f.eventId);if(k)return x.user=k,m().call(x,f);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,E.A)(function*(){})()}cleanUp(){}}function Ot(){return(Ot=(0,E.A)(function*(y,f){const m=no(f),x=us(y);if(!(yield x._isAvailable()))return!1;const k="true"===(yield x._get(m));return yield x._remove(m),k})).apply(this,arguments)}function h2(y,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,E.A)(function*(y,f){return us(y)._set(no(f),"true")})).apply(this,arguments)}function ls(y,f){fi.set(y._key(),f)}function us(y){return $(y._redirectPersistence)}function no(y){return R(Ta,y.config.apiKey,y.name)}function Tl(y,f,m){return function Ir(y,f,m){return sc.apply(this,arguments)}(y,f,m)}function sc(){return(sc=(0,E.A)(function*(y,f,m){const x=xe(y);Ce(y,f,ni);const k=ea(x,m);return yield h2(k,x),k._openRedirect(x,f,"signInViaRedirect")})).apply(this,arguments)}function Ol(y,f,m){return function Od(y,f,m){return ta.apply(this,arguments)}(y,f,m)}function ta(){return(ta=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y);Ce(x.auth,f,ni);const k=ea(x.auth,m);yield h2(k,x.auth);const P=yield ds(x);return k._openRedirect(x.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function a1(y,f,m){return function ac(y,f,m){return jr.apply(this,arguments)}(y,f,m)}function jr(){return(jr=(0,E.A)(function*(y,f,m){const x=(0,z.Ku)(y);Ce(x.auth,f,ni);const k=ea(x.auth,m);yield ao(!1,x,f.providerId),yield h2(k,x.auth);const P=yield ds(x);return k._openRedirect(x.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function c1(){return(c1=(0,E.A)(function*(y,f){return yield xe(y)._initializationPromise,cc(y,f,!1)})).apply(this,arguments)}function cc(y,f){return na.apply(this,arguments)}function na(){return(na=(0,E.A)(function*(y,f,m=!1){const x=xe(y),k=ea(x,f),_e=yield new o3(x,k,m).execute();return _e&&!m&&(delete _e.user._redirectEventId,yield x._persistUserIfCurrent(_e.user),yield x._setRedirectUser(null,f)),_e})).apply(this,arguments)}function ds(y){return l1.apply(this,arguments)}function l1(){return(l1=(0,E.A)(function*(y){const f=Js(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class f2{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(f,x)&&(m=!0,this.sendToConsumer(f,x),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Hn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ai(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var x;if(f.error&&!Ai(f)){const k=(null===(x=f.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,k))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const x=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&x}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lc(f))}saveEventToCache(f){this.cachedEventUids.add(lc(f)),this.lastProcessedEventTime=Date.now()}}function lc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ai({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Ci(y){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,E.A)(function*(y,f={}){return nt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const ki=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lo=/^https?/;function d1(){return(d1=(0,E.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ci(y);for(const m of f)try{if(r3(m))return}catch{}Z(y,"unauthorized-domain")})).apply(this,arguments)}function r3(y){const f=Je(),{protocol:m,hostname:x}=new URL(f);if(y.startsWith("chrome-extension://")){const _e=new URL(y);return""===_e.hostname&&""===x?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&_e.hostname===x}if(!lo.test(m))return!1;if(ki.test(y))return x===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(x)}const Mo=new X(3e4,6e4);function Oa(){const y=eo().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let qi=null;const Pa=new X(5e3,15e3),h1="__/auth/iframe",s3="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pl(y){const f=y.config;D(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?me(f,s3):`https://${y.config.authDomain}/${h1}`,x={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},k=Ra.get(y.config.apiHost);k&&(x.eid=k);const P=y._getFrameworks();return P.length&&(x.fw=P.join(",")),`${m}?${(0,z.Am)(x).slice(1)}`}function An(){return An=(0,E.A)(function*(y){const f=yield function Pd(y){return qi=qi||function Vi(y){return new Promise((f,m)=>{var x,k,P;function _e(){Oa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Oa(),m(Ee(y,"network-request-failed"))},timeout:Mo.get()})}if(null!==(k=null===(x=eo().gapi)||void 0===x?void 0:x.iframes)&&void 0!==k&&k.Iframe)f(gapi.iframes.getContext());else{if(null===(P=eo().gapi)||void 0===P||!P.load){const qe=Cl("iframefcb");return eo()[qe]=()=>{gapi.load?_e():m(Ee(y,"network-request-failed"))},bd(`https://apis.google.com/js/api.js?onload=${qe}`).catch(bt=>m(bt))}_e()}}).catch(f=>{throw qi=null,f})}(y),qi}(y),m=eo().gapi;return D(m,y,"internal-error"),f.open({where:document.body,url:Pl(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},x=>new Promise(function(){var k=(0,E.A)(function*(P,_e){yield x.restyle({setHideOnLeave:!1});const qe=Ee(y,"network-request-failed"),bt=eo().setTimeout(()=>{_e(qe)},Pa.get());function Wt(){eo().clearTimeout(bt),P(x)}x.ping(Wt).then(Wt,()=>{_e(qe)})});return function(P,_e){return k.apply(this,arguments)}}()))}),An.apply(this,arguments)}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oa="__/auth/handler",Fd="emulator/auth/handler";function dc(y,f,m,x,k,P){D(y.config.authDomain,y,"auth-domain-config-required"),D(y.config.apiKey,y,"invalid-api-key");const _e={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:x,v:ae.SDK_VERSION,eventId:k};if(f instanceof ni){f.setDefaultLanguage(y.languageCode),_e.providerId=f.providerId||"",(0,z.Im)(f.getCustomParameters())||(_e.customParameters=JSON.stringify(f.getCustomParameters()));for(const[bt,Wt]of Object.entries(P||{}))_e[bt]=Wt}if(f instanceof St){const bt=f.getScopes().filter(Wt=>""!==Wt);bt.length>0&&(_e.scopes=bt.join(","))}y.tenantId&&(_e.tid=y.tenantId);const qe=_e;for(const bt of Object.keys(qe))void 0===qe[bt]&&delete qe[bt];return`${function Bd({config:y}){return y.emulator?me(y,Fd):`https://${y.authDomain}/${oa}`}(y)}?${(0,z.Am)(qe).slice(1)}`}const Rl="webStorageSupport",Na=class Ll{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Br,this._completeRedirectFn=cc,this._overrideRedirectResult=ls}_openPopup(f,m,x,k){var P=this;return(0,E.A)(function*(){var _e;Q(null===(_e=P.eventManagers[f._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const qe=dc(f,m,x,Je(),k);return function zd(y,f,m,x=500,k=600){const P=Math.max((window.screen.availHeight-k)/2,0).toString(),_e=Math.max((window.screen.availWidth-x)/2,0).toString();let qe="";const bt=Object.assign(Object.assign({},ia),{width:x.toString(),height:k.toString(),top:P,left:_e}),Wt=(0,z.ZQ)().toLowerCase();m&&(qe=_t(Wt)?"_blank":m),ze(Wt)&&(f=f||"http://localhost",bt.scrollbars="yes");const mn=Object.entries(bt).reduce((Li,[Hr,Co])=>`${Li}${Hr}=${Co},`,"");if(function _i(y=(0,z.ZQ)()){var f;return On(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Wt)&&"_self"!==qe)return function No(y,f){const m=document.createElement("a");m.href=y,m.target=f;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(x)}(f||"",qe),new Wo(null);const dn=window.open(f||"",qe,mn);D(dn,y,"popup-blocked");try{dn.focus()}catch{}return new Wo(dn)}(f,qe,Js())})()}_openRedirect(f,m,x,k){var P=this;return(0,E.A)(function*(){return yield P._originValidation(f),function r2(y){eo().location.href=y}(dc(f,m,x,Je(),k)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:k,promise:P}=this.eventManagers[m];return k?Promise.resolve(k):(Q(P,"If manager is not set, promise should be"),P)}const x=this.initAndGetManager(f);return this.eventManagers[m]={promise:x},x.catch(()=>{delete this.eventManagers[m]}),x}initAndGetManager(f){var m=this;return(0,E.A)(function*(){const x=yield function Rd(y){return An.apply(this,arguments)}(f),k=new f2(f);return x.register("authEvent",P=>(D(P?.authEvent,f,"invalid-auth-event"),{status:k.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:k},m.iframes[f._key()]=x,k})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Rl,{type:Rl},k=>{var P;const _e=null===(P=k?.[0])||void 0===P?void 0:P[Rl];void 0!==_e&&m(!!_e),Z(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function u1(y){return d1.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Rr()||tt()||On()}};class za{constructor(f){this.factorId=f}_process(f,m,x){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,x);case"signin":return this._finalizeSignIn(f,m.credential);default:return U("unexpected MultiFactorSessionType")}}}class Ds extends za{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ds(f)}_finalizeEnroll(f,m,x){return function pl(y,f){return nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",He(y,f))}(f,{idToken:m,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Cd(y,f){return nt(y,"POST","/v2/accounts/mfaSignIn:finalize",He(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let f1=(()=>{class y{constructor(){}static assertion(m){return Ds._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Ts="@firebase/auth",Qn="0.20.11";class Nl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,E.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(x=>{var k;f((null===(k=x)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zo(){return window}(0,z.XA)("authIdTokenMaxAge"),function hc(y){(0,ae._registerComponent)(new q.uA("auth",(f,{options:m})=>{const x=f.getProvider("app").getImmediate(),k=f.getProvider("heartbeat"),{apiKey:P,authDomain:_e}=x.options;return((qe,bt)=>{D(P&&!P.includes(":"),"invalid-api-key",{appName:qe.name}),D(!_e?.includes(":"),"argument-error",{appName:qe.name});const Wt={apiKey:P,authDomain:_e,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ki(y)},mn=new oo(qe,bt,Wt);return function je(y,f){const m=f?.persistence||[],x=(Array.isArray(m)?m:[m]).map($);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(x,f?.popupRedirectResolver)}(mn,m),mn})(x,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,x)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new q.uA("auth-internal",f=>{const m=xe(f.getProvider("auth").getImmediate());return new Nl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Ts,Qn,function a3(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Ts,Qn,"esm2017")}("Browser");function ji(){return ji=(0,E.A)(function*(y,f,m){var x;const{BuildInfo:k}=zo();Q(f.sessionId,"AuthEvent did not contain a session ID");const P=yield function Fl(y){return Os.apply(this,arguments)}(f.sessionId),_e={};return On()?_e.ibi=k.packageName:Ft()?_e.apn=k.packageName:Z(y,"operation-not-supported-in-this-environment"),k.displayName&&(_e.appDisplayName=k.displayName),_e.sessionId=P,dc(y,m,f.type,void 0,null!==(x=f.eventId)&&void 0!==x?x:void 0,_e)}),ji.apply(this,arguments)}function hs(){return(hs=(0,E.A)(function*(y){const{BuildInfo:f}=zo(),m={};On()?m.iosBundleId=f.packageName:Ft()?m.androidPackageName=f.packageName:Z(y,"operation-not-supported-in-this-environment"),yield Ci(y,m)})).apply(this,arguments)}function ra(){return(ra=(0,E.A)(function*(y,f,m){const{cordova:x}=zo();let k=()=>{};try{yield new Promise((P,_e)=>{let qe=null;function bt(){var dn;P();const Li=null===(dn=x.plugins.browsertab)||void 0===dn?void 0:dn.close;"function"==typeof Li&&Li(),"function"==typeof m?.close&&m.close()}function Wt(){qe||(qe=window.setTimeout(()=>{_e(Ee(y,"redirect-cancelled-by-user"))},2e3))}function mn(){"visible"===document?.visibilityState&&Wt()}f.addPassiveListener(bt),document.addEventListener("resume",Wt,!1),Ft()&&document.addEventListener("visibilitychange",mn,!1),k=()=>{f.removePassiveListener(bt),document.removeEventListener("resume",Wt,!1),document.removeEventListener("visibilitychange",mn,!1),qe&&window.clearTimeout(qe)}})}finally{k()}})).apply(this,arguments)}function Os(){return(Os=(0,E.A)(function*(y){const f=function c3(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let x=0;x<y.length;x++)m[x]=y.charCodeAt(x);return m}(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class l3 extends f2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,E.A)(function*(){yield f.initPromise})()}}function Bl(y){return sa.apply(this,arguments)}function sa(){return(sa=(0,E.A)(function*(y){const f=yield w2()._get(Ps(y));return f&&(yield w2()._remove(Ps(y))),f})).apply(this,arguments)}function v2(){const y=[];for(let m=0;m<20;m++){const x=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(x))}return y.join("")}function w2(){return $(o1)}function Ps(y){return R("authEvent",y.config.apiKey,y.name)}function p1(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,z.I9)(m.join("?"))}const fc=class Fa{constructor(){this._redirectPersistence=Br,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cc,this._overrideRedirectResult=ls}_initialize(f){var m=this;return(0,E.A)(function*(){const x=f._key();let k=m.eventManagers.get(x);return k||(k=new l3(f),m.eventManagers.set(x,k),m.attachCallbackListeners(f,k)),k})()}_openPopup(f){Z(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,x,k){var P=this;return(0,E.A)(function*(){!function Ud(y){var f,m,x,k,P,_e,qe,bt,Wt,mn;const dn=zo();D("function"==typeof(null===(f=dn?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof(null===(m=dn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D("function"==typeof(null===(P=null===(k=null===(x=dn?.cordova)||void 0===x?void 0:x.plugins)||void 0===k?void 0:k.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(bt=null===(qe=null===(_e=dn?.cordova)||void 0===_e?void 0:_e.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===bt?void 0:bt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(mn=null===(Wt=dn?.cordova)||void 0===Wt?void 0:Wt.InAppBrowser)||void 0===mn?void 0:mn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const _e=yield P._initialize(f);yield _e.initialized(),_e.resetRedirect(),function Dl(){fi.clear()}(),yield P._originValidation(f);const qe=function ng(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:v2(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,x,k);yield function hr(y,f){return w2()._set(Ps(y),f)}(f,qe);const bt=yield function zl(y,f,m){return ji.apply(this,arguments)}(f,qe,m),Wt=yield function Hd(y){const{cordova:f}=zo();return new Promise(m=>{f.plugins.browsertab.isAvailable(x=>{let k=null;x?f.plugins.browsertab.openUrl(y):k=f.InAppBrowser.open(y,function yi(y=(0,z.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(k)})})}(bt);return function dr(y,f,m){return ra.apply(this,arguments)}(f,_e,Wt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function m2(y){return hs.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:x,handleOpenURL:k,BuildInfo:P}=zo(),_e=setTimeout((0,E.A)(function*(){yield Bl(f),m.onEvent(y2())}),500),qe=function(){var mn=(0,E.A)(function*(dn){clearTimeout(_e);const Li=yield Bl(f);let Hr=null;Li&&dn?.url&&(Hr=function u3(y,f){var m,x;const k=function $d(y){const f=p1(y),m=f.link?decodeURIComponent(f.link):void 0,x=p1(m).link,k=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return p1(k).link||k||x||m||y}(f);if(k.includes("/__/auth/callback")){const P=p1(k),_e=P.firebaseError?function d3(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,qe=null===(x=null===(m=_e?.code)||void 0===m?void 0:m.split("auth/"))||void 0===x?void 0:x[1],bt=qe?Ee(qe):null;return bt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(Li,dn.url)),m.onEvent(Hr||y2())});return function(Li){return mn.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,qe);const bt=k,Wt=`${P.packageName.toLowerCase()}://`;zo().handleOpenURL=function(){var mn=(0,E.A)(function*(dn){if(dn.toLowerCase().startsWith(Wt)&&qe({url:dn}),"function"==typeof bt)try{bt(dn)}catch(Li){console.error(Li)}});return function(dn){return mn.apply(this,arguments)}}()}};function y2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function gc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function pc(y=(0,z.ZQ)()){return!("file:"!==gc()&&"ionic:"!==gc()&&"capacitor:"!==gc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Va(){try{const y=self.localStorage,f=Js();if(y)return y.setItem(f,"1"),y.removeItem(f),!function vc(y=(0,z.ZQ)()){return function g3(){return(0,z.lT)()&&11===document?.documentMode}()||function x2(y=(0,z.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,z.zW)()}catch{return jl()&&(0,z.zW)()}return!1}function jl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wc(){return(function _2(){return"http:"===gc()||"https:"===gc()}()||(0,z.sr)()||pc())&&!function mc(){return(0,z.lV)()||(0,z.Ll)()}()&&Va()&&!jl()}function Ar(){return pc()&&typeof document<"u"}function fs(){return(fs=(0,E.A)(function*(){return!!Ar()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const uo={LOCAL:"local",NONE:"none",SESSION:"session"},aa=D,yc="persistence";function M2(y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,E.A)(function*(y){yield y._initializationPromise;const f=C2(),m=R(yc,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function C2(){var y;try{return(null===(y=function w1(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const og=D;class ca{constructor(){this.browserResolver=$(Na),this.cordovaResolver=$(fc),this.underlyingResolver=null,this._redirectPersistence=Br,this._completeRedirectFn=cc,this._overrideRedirectResult=ls}_initialize(f){var m=this;return(0,E.A)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,x,k){var P=this;return(0,E.A)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,m,x,k)})()}_openRedirect(f,m,x,k){var P=this;return(0,E.A)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,m,x,k)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return og(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,E.A)(function*(){if(f.underlyingResolver)return;const m=yield function v1(){return fs.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Kd(y){return y.unwrap()}function p3(y){return _c(y)}function _c(y){const{_tokenResponse:f}=y instanceof z.g?y.customData:y;if(!f)return null;if(!(y instanceof z.g)&&"temporaryProof"in f&&"phoneNumber"in f)return Il.credentialFromResult(y);const m=f.providerId;if(!m||m===we.PASSWORD)return null;let x;switch(m){case we.GOOGLE:x=Oo;break;case we.FACEBOOK:x=mi;break;case we.GITHUB:x=os;break;case we.TWITTER:x=Nr;break;default:const{oauthIdToken:k,oauthAccessToken:P,oauthTokenSecret:_e,pendingToken:qe,nonce:bt}=f;return P||_e||k||qe?qe?m.startsWith("saml.")?er._create(m,qe):it._fromParams({providerId:m,signInMethod:m,pendingToken:qe,idToken:k,accessToken:P}):new wn(m).credential({idToken:k,accessToken:P,rawNonce:bt}):null}return y instanceof z.g?x.credentialFromError(y):x.credentialFromResult(y)}function qo(y,f){return f.catch(m=>{throw m instanceof z.g&&function m3(y,f){var m,x;const k=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(x=f)||void 0===x?void 0:x.code))f.resolver=new xc(y,function vv(y,f){var m;const x=(0,z.Ku)(y),k=f;return D(f.customData.operationType,x,"argument-error"),D(null===(m=k.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,x,"argument-error"),gl._fromError(x,k)}(y,f));else if(k){const P=_c(f),_e=f;P&&(_e.credential=P,_e.tenantId=k.tenantId||void 0,_e.email=k.email||void 0,_e.phoneNumber=k.phoneNumber||void 0)}}(y,m),m}).then(m=>{const k=m.user;return{operationType:m.operationType,credential:p3(m),additionalUserInfo:ic(m),user:Rs.getOrCreate(k)}})}function v3(y,f){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,E.A)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:x=>qo(y,m.confirm(x))}})).apply(this,arguments)}class xc{constructor(f,m){this.resolver=m,this.auth=function b2(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return qo(Kd(this.auth),this.resolver.resolveSignIn(f))}}class Rs{constructor(f){this._delegate=f,this.multiFactor=function t1(y){const f=(0,z.Ku)(y);return e1.has(f)||e1.set(f,ml._fromUser(f)),e1.get(f)}(f)}static getOrCreate(f){return Rs.USER_MAP.has(f)||Rs.USER_MAP.set(f,new Rs(f)),Rs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,E.A)(function*(){return qo(m.auth,H(m._delegate,f))})()}linkWithPhoneNumber(f,m){var x=this;return(0,E.A)(function*(){return v3(x.auth,function tr(y,f,m){return cs.apply(this,arguments)}(x._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,E.A)(function*(){return qo(m.auth,function i3(y,f,m){return d2.apply(this,arguments)}(m._delegate,f,ca))})()}linkWithRedirect(f){var m=this;return(0,E.A)(function*(){return yield M2(xe(m.auth)),a1(m._delegate,f,ca)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,E.A)(function*(){return qo(m.auth,We(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return v3(this.auth,function t3(y,f,m){return Da.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return qo(this.auth,function Dt(y,f,m){return Di.apply(this,arguments)}(this._delegate,f,ca))}reauthenticateWithRedirect(f){var m=this;return(0,E.A)(function*(){return yield M2(xe(m.auth)),Ol(m._delegate,f,ca)})()}sendEmailVerification(f){return function Qs(y,f){return ul.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,E.A)(function*(){return yield function al(y,f){return Fr.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function jh(y,f){return Zc((0,z.Ku)(y),f,null)}(this._delegate,f)}updatePassword(f){return function gd(y,f){return Zc((0,z.Ku)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Sd(y,f){return El.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Q0(y,f){return J0.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function dl(y,f,m){return co.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rs.USER_MAP=new WeakMap;const ja=D;let Ha=(()=>{class y{constructor(m,x){if(this.app=m,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=m.options;ja(k,"invalid-api-key",{appName:m.name}),ja(k,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?ca:void 0;this._delegate=x.initialize({options:{persistence:Ua(k,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,x){!function rt(y,f,m){const x=xe(y);D(x._canInitEmulator,x,"emulator-config-failed"),D(/^https?:\/\//.test(f),x,"invalid-emulator-scheme");const k=!!m?.disableWarnings,P=Qt(f),{host:_e,port:qe}=function ei(y){const f=Qt(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const x=m[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(x);if(k){const P=k[1];return{host:P,port:Bn(x.substr(P.length+1))}}{const[P,_e]=x.split(":");return{host:P,port:Bn(_e)}}}(f);x.config.emulator={url:`${P}//${_e}${null===qe?"":`:${qe}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:_e,port:qe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Kn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,x)}applyActionCode(m){return function ba(y,f){return cl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ll(this._delegate,m)}confirmPasswordReset(m,x){return function Jc(y,f,m){return Cs.apply(this,arguments)}(this._delegate,m,x)}createUserWithEmailAndPassword(m,x){var k=this;return(0,E.A)(function*(){return qo(k._delegate,function hd(y,f,m){return zh.apply(this,arguments)}(k._delegate,m,x))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Vh(y,f){return bs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function fv(y,f){const m=Uo.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,E.A)(function*(){ja(wc(),m._delegate,"operation-not-supported-in-this-environment");const x=yield function ks(y,f){return c1.apply(this,arguments)}(m._delegate,ca);return x?qo(m._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function m1(y,f){xe(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,x,k){const{next:P,error:_e,complete:qe}=fr(m,x,k);return this._delegate.onAuthStateChanged(P,_e,qe)}onIdTokenChanged(m,x,k){const{next:P,error:_e,complete:qe}=fr(m,x,k);return this._delegate.onIdTokenChanged(P,_e,qe)}sendSignInLinkToEmail(m,x){return function hv(y,f,m){return Fh.apply(this,arguments)}(this._delegate,m,x)}sendPasswordResetEmail(m,x){return function ss(y,f,m){return nc.apply(this,arguments)}(this._delegate,m,x||void 0)}setPersistence(m){var x=this;return(0,E.A)(function*(){let k;switch(function Gd(y,f){aa(Object.values(uo).includes(f),y,"invalid-persistence-type"),(0,z.lV)()?aa(f!==uo.SESSION,y,"unsupported-persistence-type"):(0,z.Ll)()?aa(f===uo.NONE,y,"unsupported-persistence-type"):jl()?aa(f===uo.NONE||f===uo.LOCAL&&(0,z.zW)(),y,"unsupported-persistence-type"):aa(f===uo.NONE||Va(),y,"unsupported-persistence-type")}(x._delegate,m),m){case uo.SESSION:k=Br;break;case uo.LOCAL:k=(yield $(s1)._isAvailable())?s1:o1;break;case uo.NONE:k=te;break;default:return Z("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return qo(this._delegate,function zi(y){return Ks.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return qo(this._delegate,Xs(this._delegate,m))}signInWithCustomToken(m){return qo(this._delegate,function Rn(y,f){return Si.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,x){return qo(this._delegate,function dv(y,f,m){return Xs((0,z.Ku)(y),is.credential(f,m))}(this._delegate,m,x))}signInWithEmailLink(m,x){return qo(this._delegate,function fd(y,f,m){return X0.apply(this,arguments)}(this._delegate,m,x))}signInWithPhoneNumber(m,x){return v3(this._delegate,function yv(y,f,m){return l2.apply(this,arguments)}(this._delegate,m,x))}signInWithPopup(m){var x=this;return(0,E.A)(function*(){return ja(wc(),x._delegate,"operation-not-supported-in-this-environment"),qo(x._delegate,function Td(y,f,m){return hi.apply(this,arguments)}(x._delegate,m,ca))})()}signInWithRedirect(m){var x=this;return(0,E.A)(function*(){return ja(wc(),x._delegate,"operation-not-supported-in-this-environment"),yield M2(x._delegate),Tl(x._delegate,m,ca)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ci(y,f){return Ys.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=uo,y})();function fr(y,f,m){let x=y;"function"!=typeof y&&({next:x,error:f,complete:m}=y);const k=x;return{next:_e=>k(_e&&Rs.getOrCreate(_e)),error:f,complete:m}}function Ua(y,f){const m=function ig(y,f){const m=C2();if(!m)return[];const x=R(yc,y,f);switch(m.getItem(x)){case uo.NONE:return[te];case uo.LOCAL:return[s1,Br];case uo.SESSION:return[Br];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(s1)&&m.push(s1),typeof window<"u")for(const x of[o1,Br])m.includes(x)||m.push(x);return m.includes(te)||m.push(te),m}class y1{constructor(){this.providerId="phone",this._delegate=new Il(Kd(s.A.auth()))}static credential(f,m){return Il.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}y1.PHONE_SIGN_IN_METHOD=Il.PHONE_SIGN_IN_METHOD,y1.PROVIDER_ID=Il.PROVIDER_ID;const E2=D;class Mc{constructor(f,m,x=s.A.app()){var k;E2(null===(k=x.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Id(f,m,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function I2(y){y.INTERNAL.registerComponent(new q.uA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),x=f.getProvider("auth");return new Ha(m,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:is,FacebookAuthProvider:mi,GithubAuthProvider:os,GoogleAuthProvider:Oo,OAuthProvider:wn,SAMLAuthProvider:Po,PhoneAuthProvider:y1,PhoneMultiFactorGenerator:f1,RecaptchaVerifier:Mc,TwitterAuthProvider:Nr,Auth:Ha,AuthCredential:Jn,Error:z.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.24")}(s.A)},2844:(Mt,Le,A)=>{"use strict";A.d(Le,{O:()=>E});var E=function(s){return s.NOT_REQUIRED="NOT_REQUIRED",s.OBTAINED="OBTAINED",s.REQUIRED="REQUIRED",s.UNKNOWN="UNKNOWN",s}(E||{})},5083:(Mt,Le,A)=>{"use strict";A.d(Le,{E_:()=>pe,F3:()=>ie});var E=A(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var be=function(K){return K.Unimplemented="UNIMPLEMENTED",K.Unavailable="UNAVAILABLE",K}(be||{});class we extends Error{constructor($,re,je){super($),this.message=$,this.code=re,this.data=je}}const F=K=>{var $,re,je,Je,ct;const Be=K.CapacitorCustomPlatform||null,W=K.Capacitor||{},G=W.Plugins=W.Plugins||{},X=K.CapacitorPlatforms,Fe=(null===($=X?.currentPlatform)||void 0===$?void 0:$.getPlatform)||(()=>null!==Be?Be.name:(K=>{var $,re;return K?.androidBridge?"android":null!==(re=null===($=K?.webkit)||void 0===$?void 0:$.messageHandlers)&&void 0!==re&&re.bridge?"ios":"web"})(K)),Ze=(null===(re=X?.currentPlatform)||void 0===re?void 0:re.isNativePlatform)||(()=>"web"!==Fe()),nt=(null===(je=X?.currentPlatform)||void 0===je?void 0:je.isPluginAvailable)||(De=>{const Re=qt.get(De);return!(!Re?.platforms.has(Fe())&&!Zt(De))}),Zt=(null===(Je=X?.currentPlatform)||void 0===Je?void 0:Je.getPluginHeader)||(De=>{var Re;return null===(Re=W.PluginHeaders)||void 0===Re?void 0:Re.find(gt=>gt.name===De)}),qt=new Map,Ye=(null===(ct=X?.currentPlatform)||void 0===ct?void 0:ct.registerPlugin)||((De,Re={})=>{const gt=qt.get(De);if(gt)return console.warn(`Capacitor plugin "${De}" already registered. Cannot register plugins twice.`),gt.proxy;const At=Fe(),_n=Zt(De);let on;const vn=function(){var Rt=(0,E.A)(function*(){return!on&&At in Re?on=on="function"==typeof Re[At]?yield Re[At]():Re[At]:null!==Be&&!on&&"web"in Re&&(on=on="function"==typeof Re.web?yield Re.web():Re.web),on});return function(){return Rt.apply(this,arguments)}}(),xn=Rt=>{let gn;const Nn=(...rn)=>{const En=vn().then(Wn=>{const un=((Rt,gn)=>{var Nn,rn;if(!_n){if(Rt)return null===(rn=Rt[gn])||void 0===rn?void 0:rn.bind(Rt);throw new we(`"${De}" plugin is not implemented on ${At}`,be.Unimplemented)}{const En=_n?.methods.find(Wn=>gn===Wn.name);if(En)return"promise"===En.rtype?Wn=>W.nativePromise(De,gn.toString(),Wn):(Wn,un)=>W.nativeCallback(De,gn.toString(),Wn,un);if(Rt)return null===(Nn=Rt[gn])||void 0===Nn?void 0:Nn.bind(Rt)}})(Wn,Rt);if(un){const qn=un(...rn);return gn=qn?.remove,qn}throw new we(`"${De}.${Rt}()" is not implemented on ${At}`,be.Unimplemented)});return"addListener"===Rt&&(En.remove=(0,E.A)(function*(){return gn()})),En};return Nn.toString=()=>`${Rt.toString()}() { [capacitor code] }`,Object.defineProperty(Nn,"name",{value:Rt,writable:!1,configurable:!1}),Nn},Jt=xn("addListener"),zt=xn("removeListener"),Ii=(Rt,gn)=>{const Nn=Jt({eventName:Rt},gn),rn=function(){var Wn=(0,E.A)(function*(){const un=yield Nn;zt({eventName:Rt,callbackId:un},gn)});return function(){return Wn.apply(this,arguments)}}(),En=new Promise(Wn=>Nn.then(()=>Wn({remove:rn})));return En.remove=(0,E.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield rn()}),En},ti=new Proxy({},{get(Rt,gn){switch(gn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _n?Ii:Jt;case"removeListener":return zt;default:return xn(gn)}}});return G[De]=ti,qt.set(De,{name:De,proxy:ti,platforms:new Set([...Object.keys(Re),..._n?[At]:[]])}),ti});return W.convertFileSrc||(W.convertFileSrc=De=>De),W.getPlatform=Fe,W.handleError=De=>K.console.error(De),W.isNativePlatform=Ze,W.isPluginAvailable=nt,W.pluginMethodNoop=(De,Re,gt)=>Promise.reject(`${gt} does not have an implementation of "${Re}".`),W.registerPlugin=Ye,W.Exception=we,W.DEBUG=!!W.DEBUG,W.isLoggingEnabled=!!W.isLoggingEnabled,W.platform=W.getPlatform(),W.isNative=W.isNativePlatform(),W},ce=(K=>K.Capacitor=F(K))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ie=ce.registerPlugin;class pe{constructor($){this.listeners={},this.windowListeners={},$&&(console.warn(`Capacitor WebPlugin "${$.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=$)}addListener($,re){var je=this;this.listeners[$]||(this.listeners[$]=[]),this.listeners[$].push(re);const ct=this.windowListeners[$];ct&&!ct.registered&&this.addWindowListener(ct);const Be=function(){var G=(0,E.A)(function*(){return je.removeListener($,re)});return function(){return G.apply(this,arguments)}}(),W=Promise.resolve({remove:Be});return Object.defineProperty(W,"remove",{value:(G=(0,E.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Be()}),function(){return G.apply(this,arguments)})}),W;var G}removeAllListeners(){var $=this;return(0,E.A)(function*(){$.listeners={};for(const re in $.windowListeners)$.removeWindowListener($.windowListeners[re]);$.windowListeners={}})()}notifyListeners($,re){const je=this.listeners[$];je&&je.forEach(Je=>Je(re))}hasListeners($){return!!this.listeners[$].length}registerWindowListener($,re){this.windowListeners[re]={registered:!1,windowEventName:$,pluginEventName:re,handler:je=>{this.notifyListeners(re,je)}}}unimplemented($="not implemented"){return new ce.Exception($,be.Unimplemented)}unavailable($="not available"){return new ce.Exception($,be.Unavailable)}removeListener($,re){var je=this;return(0,E.A)(function*(){const Je=je.listeners[$];if(!Je)return;const ct=Je.indexOf(re);je.listeners[$].splice(ct,1),je.listeners[$].length||je.removeWindowListener(je.windowListeners[$])})()}addWindowListener($){window.addEventListener($.windowEventName,$.handler),$.registered=!0}removeWindowListener($){$&&(window.removeEventListener($.windowEventName,$.handler),$.registered=!1)}}const fe=K=>encodeURIComponent(K).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Pe=K=>K.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Z extends pe{getCookies(){return(0,E.A)(function*(){const $=document.cookie,re={};return $.split(";").forEach(je=>{if(je.length<=0)return;let[Je,ct]=je.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Je=Pe(Je).trim(),ct=Pe(ct).trim(),re[Je]=ct}),re})()}setCookie($){return(0,E.A)(function*(){try{const re=fe($.key),je=fe($.value),Je=`; expires=${($.expires||"").replace("expires=","")}`,ct=($.path||"/").replace("path=",""),Be=null!=$.url&&$.url.length>0?`domain=${$.url}`:"";document.cookie=`${re}=${je||""}${Je}; path=${ct}; ${Be};`}catch(re){return Promise.reject(re)}})()}deleteCookie($){return(0,E.A)(function*(){try{document.cookie=`${$.key}=; Max-Age=0`}catch(re){return Promise.reject(re)}})()}clearCookies(){return(0,E.A)(function*(){try{const $=document.cookie.split(";")||[];for(const re of $)document.cookie=re.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch($){return Promise.reject($)}})()}clearAllCookies(){var $=this;return(0,E.A)(function*(){try{yield $.clearCookies()}catch(re){return Promise.reject(re)}})()}}ie("CapacitorCookies",{web:()=>new Z});const oe=function(){var K=(0,E.A)(function*($){return new Promise((re,je)=>{const Je=new FileReader;Je.onload=()=>{const ct=Je.result;re(ct.indexOf(",")>=0?ct.split(",")[1]:ct)},Je.onerror=ct=>je(ct),Je.readAsDataURL($)})});return function(re){return K.apply(this,arguments)}}();class U extends pe{request($){return(0,E.A)(function*(){const re=((K,$={})=>{const re=Object.assign({method:K.method||"GET",headers:K.headers},$),Je=((K={})=>{const $=Object.keys(K);return Object.keys(K).map(Je=>Je.toLocaleLowerCase()).reduce((Je,ct,Be)=>(Je[ct]=K[$[Be]],Je),{})})(K.headers)["content-type"]||"";if("string"==typeof K.data)re.body=K.data;else if(Je.includes("application/x-www-form-urlencoded")){const ct=new URLSearchParams;for(const[Be,W]of Object.entries(K.data||{}))ct.set(Be,W);re.body=ct.toString()}else if(Je.includes("multipart/form-data")||K.data instanceof FormData){const ct=new FormData;if(K.data instanceof FormData)K.data.forEach((W,G)=>{ct.append(G,W)});else for(const W of Object.keys(K.data))ct.append(W,K.data[W]);re.body=ct;const Be=new Headers(re.headers);Be.delete("content-type"),re.headers=Be}else(Je.includes("application/json")||"object"==typeof K.data)&&(re.body=JSON.stringify(K.data));return re})($,$.webFetchExtra),je=((K,$=!0)=>K?Object.entries(K).reduce((je,Je)=>{const[ct,Be]=Je;let W,G;return Array.isArray(Be)?(G="",Be.forEach(X=>{W=$?encodeURIComponent(X):X,G+=`${ct}=${W}&`}),G.slice(0,-1)):(W=$?encodeURIComponent(Be):Be,G=`${ct}=${W}`),`${je}&${G}`},"").substr(1):null)($.params,$.shouldEncodeUrlParams),Je=je?`${$.url}?${je}`:$.url,ct=yield fetch(Je,re),Be=ct.headers.get("content-type")||"";let G,X,{responseType:W="text"}=ct.ok?$:{};switch(Be.includes("application/json")&&(W="json"),W){case"arraybuffer":case"blob":X=yield ct.blob(),G=yield oe(X);break;case"json":G=yield ct.json();break;default:G=yield ct.text()}const me={};return ct.headers.forEach((Fe,Te)=>{me[Te]=Fe}),{data:G,headers:me,status:ct.status,url:ct.url}})()}get($){var re=this;return(0,E.A)(function*(){return re.request(Object.assign(Object.assign({},$),{method:"GET"}))})()}post($){var re=this;return(0,E.A)(function*(){return re.request(Object.assign(Object.assign({},$),{method:"POST"}))})()}put($){var re=this;return(0,E.A)(function*(){return re.request(Object.assign(Object.assign({},$),{method:"PUT"}))})()}patch($){var re=this;return(0,E.A)(function*(){return re.request(Object.assign(Object.assign({},$),{method:"PATCH"}))})()}delete($){var re=this;return(0,E.A)(function*(){return re.request(Object.assign(Object.assign({},$),{method:"DELETE"}))})()}}ie("CapacitorHttp",{web:()=>new U})},1656:(Mt,Le,A)=>{"use strict";A.d(Le,{c:()=>z,r:()=>F});const z=(V,D)=>{V.componentOnReady?V.componentOnReady().then(U=>D(U)):F(()=>D(V))},F=V=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(V):"function"==typeof requestAnimationFrame?requestAnimationFrame(V):setTimeout(V)},6031:(Mt,Le,A)=>{"use strict";A.d(Le,{L:()=>E,a:()=>s,b:()=>z,c:()=>ae,d:()=>Ae,g:()=>V});const E="ionViewWillEnter",s="ionViewDidEnter",z="ionViewWillLeave",ae="ionViewDidLeave",Ae="ionViewWillUnload",V=D=>D.classList.contains("ion-page")?D:D.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||D},3503:(Mt,Le,A)=>{"use strict";A.d(Le,{c:()=>ye});var E=A(8476),s=A(5638);let z;const Ae=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ke=pe=>(void 0===z&&(z=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),z),q=(pe,J,fe)=>{const Pe=J.startsWith("animation")?ke(pe):"";pe.style.setProperty(Pe+J,fe)},be=(pe,J)=>{const fe=J.startsWith("animation")?ke(pe):"";pe.style.removeProperty(fe+J)},F=[],Ie=(pe=[],J)=>{if(void 0!==J){const fe=Array.isArray(J)?J:[J];return[...pe,...fe]}return pe},ye=pe=>{let J,fe,Pe,Z,Ee,oe,Q,W,G,X,me,He,nt,Ce=[],V=[],D=[],U=!1,K={},$=[],re=[],je={},Je=0,ct=!1,Be=!1,Fe=!0,Te=!1,Ze=!0,Et=!1;const Zt=pe,Nt=[],pn=[],qt=[],Kt=[],Ye=[],De=[],Re=[],gt=[],At=[],_n=[],on=[],vn="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,mt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vn,Jt=()=>on,gn=(Ue,xt)=>{const S=xt.findIndex(N=>N.c===Ue);S>-1&&xt.splice(S,1)},rn=(Ue,xt)=>((xt?.oneTimeCallback?pn:Nt).push({c:Ue,o:xt}),nt),Wn=()=>{if(mt)on.forEach(Ue=>{Ue.cancel()}),on.length=0;else{const Ue=Kt.slice();(0,s.r)(()=>{Ue.forEach(xt=>{be(xt,"animation-name"),be(xt,"animation-duration"),be(xt,"animation-timing-function"),be(xt,"animation-iteration-count"),be(xt,"animation-delay"),be(xt,"animation-play-state"),be(xt,"animation-fill-mode"),be(xt,"animation-direction")})})}},un=()=>{De.forEach(Ue=>{Ue?.parentNode&&Ue.parentNode.removeChild(Ue)}),De.length=0},R=()=>void 0!==Ee?Ee:Q?Q.getFill():"both",de=()=>void 0!==G?G:void 0!==oe?oe:Q?Q.getDirection():"normal",ne=()=>ct?"linear":void 0!==Pe?Pe:Q?Q.getEasing():"linear",ze=()=>Be?0:void 0!==X?X:void 0!==fe?fe:Q?Q.getDuration():0,tt=()=>void 0!==Z?Z:Q?Q.getIterations():1,_t=()=>void 0!==me?me:void 0!==J?J:Q?Q.getDelay():0,Ne=()=>{0!==Je&&(Je--,0===Je&&((()=>{ur(),At.forEach(ve=>ve()),_n.forEach(ve=>ve());const Ue=Fe?1:0,xt=$,S=re,N=je;Kt.forEach(ve=>{const ge=ve.classList;xt.forEach(Ge=>ge.add(Ge)),S.forEach(Ge=>ge.remove(Ge));for(const Ge in N)N.hasOwnProperty(Ge)&&q(ve,Ge,N[Ge])}),X=void 0,G=void 0,me=void 0,Nt.forEach(ve=>ve.c(Ue,nt)),pn.forEach(ve=>ve.c(Ue,nt)),pn.length=0,Ze=!0,Fe&&(Te=!0),Fe=!0})(),Q&&Q.animationFinish()))},rt=(Ue=!0)=>{un();const xt=(pe=>(pe.forEach(J=>{for(const fe in J)if(J.hasOwnProperty(fe)){const Pe=J[fe];if("easing"===fe)J["animation-timing-function"]=Pe,delete J[fe];else{const Z=Ae(fe);Z!==fe&&(J[Z]=Pe,delete J[fe])}}}),pe))(Ce);Kt.forEach(S=>{if(xt.length>0){const N=((pe=[])=>pe.map(J=>{const fe=J.offset,Pe=[];for(const Z in J)J.hasOwnProperty(Z)&&"offset"!==Z&&Pe.push(`${Z}: ${J[Z]};`);return`${100*fe}% { ${Pe.join(" ")} }`}).join(" "))(xt);He=void 0!==pe?pe:(pe=>{let J=F.indexOf(pe);return J<0&&(J=F.push(pe)-1),`ion-animation-${J}`})(N);const ve=((pe,J,fe)=>{var Pe;const Z=(pe=>{const J=void 0!==pe.getRootNode?pe.getRootNode():pe;return J.head||J})(fe),Ee=ke(fe),oe=Z.querySelector("#"+pe);if(oe)return oe;const Ce=(null!==(Pe=fe.ownerDocument)&&void 0!==Pe?Pe:document).createElement("style");return Ce.id=pe,Ce.textContent=`@${Ee}keyframes ${pe} { ${J} } @${Ee}keyframes ${pe}-alt { ${J} }`,Z.appendChild(Ce),Ce})(He,N,S);De.push(ve),q(S,"animation-duration",`${ze()}ms`),q(S,"animation-timing-function",ne()),q(S,"animation-delay",`${_t()}ms`),q(S,"animation-fill-mode",R()),q(S,"animation-direction",de());const ge=tt()===1/0?"infinite":tt().toString();q(S,"animation-iteration-count",ge),q(S,"animation-play-state","paused"),Ue&&q(S,"animation-name",`${ve.id}-alt`),(0,s.r)(()=>{q(S,"animation-name",ve.id||null)})}})},ei=(Ue=!0)=>{(()=>{Re.forEach(N=>N()),gt.forEach(N=>N());const Ue=V,xt=D,S=K;Kt.forEach(N=>{const ve=N.classList;Ue.forEach(ge=>ve.add(ge)),xt.forEach(ge=>ve.remove(ge));for(const ge in S)S.hasOwnProperty(ge)&&q(N,ge,S[ge])})})(),Ce.length>0&&(mt?(Kt.forEach(Ue=>{const xt=Ue.animate(Ce,{id:Zt,delay:_t(),duration:ze(),easing:ne(),iterations:tt(),fill:R(),direction:de()});xt.pause(),on.push(xt)}),on.length>0&&(on[0].onfinish=()=>{Ne()})):rt(Ue)),U=!0},Bn=Ue=>{if(Ue=Math.min(Math.max(Ue,0),.9999),mt)on.forEach(xt=>{xt.currentTime=xt.effect.getComputedTiming().delay+ze()*Ue,xt.pause()});else{const xt=`-${ze()*Ue}ms`;Kt.forEach(S=>{Ce.length>0&&(q(S,"animation-delay",xt),q(S,"animation-play-state","paused"))})}},Kn=Ue=>{on.forEach(xt=>{xt.effect.updateTiming({delay:_t(),duration:ze(),easing:ne(),iterations:tt(),fill:R(),direction:de()})}),void 0!==Ue&&Bn(Ue)},Jn=(Ue=!0,xt)=>{(0,s.r)(()=>{Kt.forEach(S=>{q(S,"animation-name",He||null),q(S,"animation-duration",`${ze()}ms`),q(S,"animation-timing-function",ne()),q(S,"animation-delay",void 0!==xt?`-${xt*ze()}ms`:`${_t()}ms`),q(S,"animation-fill-mode",R()||null),q(S,"animation-direction",de()||null);const N=tt()===1/0?"infinite":tt().toString();q(S,"animation-iteration-count",N),Ue&&q(S,"animation-name",`${He}-alt`),(0,s.r)(()=>{q(S,"animation-name",He||null)})})})},oi=(Ue=!1,xt=!0,S)=>(Ue&&Ye.forEach(N=>{N.update(Ue,xt,S)}),mt?Kn(S):Jn(xt,S),nt),ai=()=>{U&&(mt?on.forEach(Ue=>{Ue.pause()}):Kt.forEach(Ue=>{q(Ue,"animation-play-state","paused")}),Et=!0)},ro=()=>{W=void 0,Ne()},ur=()=>{W&&clearTimeout(W)},Bi=Ue=>new Promise(xt=>{Ue?.sync&&(Be=!0,rn(()=>Be=!1,{oneTimeCallback:!0})),U||ei(),Te&&(mt?(Bn(0),Kn()):Jn(),Te=!1),Ze&&(Je=Ye.length+1,Ze=!1);const S=()=>{gn(N,pn),xt()},N=()=>{gn(S,qt),xt()};rn(N,{oneTimeCallback:!0}),((Ue,xt)=>{qt.push({c:Ue,o:{oneTimeCallback:!0}})})(S),Ye.forEach(ve=>{ve.play()}),mt?(on.forEach(Ue=>{Ue.play()}),(0===Ce.length||0===Kt.length)&&Ne()):(()=>{if(ur(),(0,s.r)(()=>{Kt.forEach(Ue=>{Ce.length>0&&q(Ue,"animation-play-state","running")})}),0===Ce.length||0===Kt.length)Ne();else{const Ue=_t()||0,xt=ze()||0,S=tt()||1;isFinite(S)&&(W=setTimeout(ro,Ue+xt*S+100)),((pe,J)=>{let fe;const Pe={passive:!0},Ee=oe=>{pe===oe.target&&(fe&&fe(),ur(),(0,s.r)(()=>{Kt.forEach(Ue=>{be(Ue,"animation-duration"),be(Ue,"animation-delay"),be(Ue,"animation-play-state")}),(0,s.r)(Ne)}))};pe&&(pe.addEventListener("webkitAnimationEnd",Ee,Pe),pe.addEventListener("animationend",Ee,Pe),fe=()=>{pe.removeEventListener("webkitAnimationEnd",Ee,Pe),pe.removeEventListener("animationend",Ee,Pe)})})(Kt[0])}})(),Et=!1}),Lr=(Ue,xt)=>{const S=Ce[0];return void 0===S||void 0!==S.offset&&0!==S.offset?Ce=[{offset:0,[Ue]:xt},...Ce]:S[Ue]=xt,nt};return nt={parentAnimation:Q,elements:Kt,childAnimations:Ye,id:Zt,animationFinish:Ne,from:Lr,to:(Ue,xt)=>{const S=Ce[Ce.length-1];return void 0===S||void 0!==S.offset&&1!==S.offset?Ce=[...Ce,{offset:1,[Ue]:xt}]:S[Ue]=xt,nt},fromTo:(Ue,xt,S)=>Lr(Ue,xt).to(Ue,S),parent:Ue=>(Q=Ue,nt),play:Bi,pause:()=>(Ye.forEach(Ue=>{Ue.pause()}),ai(),nt),stop:()=>{Ye.forEach(Ue=>{Ue.stop()}),U&&(Wn(),U=!1),ct=!1,Be=!1,Ze=!0,G=void 0,X=void 0,me=void 0,Je=0,Te=!1,Fe=!0,Et=!1,qt.forEach(Ue=>Ue.c(0,nt)),qt.length=0},destroy:Ue=>(Ye.forEach(xt=>{xt.destroy(Ue)}),(Ue=>{Wn(),Ue&&un()})(Ue),Kt.length=0,Ye.length=0,Ce.length=0,Nt.length=0,pn.length=0,U=!1,Ze=!0,nt),keyframes:Ue=>{const xt=Ce!==Ue;return Ce=Ue,xt&&(Ue=>{mt?Jt().forEach(xt=>{const S=xt.effect;if(S.setKeyframes)S.setKeyframes(Ue);else{const N=new KeyframeEffect(S.target,Ue,S.getTiming());xt.effect=N}}):rt()})(Ce),nt},addAnimation:Ue=>{if(null!=Ue)if(Array.isArray(Ue))for(const xt of Ue)xt.parent(nt),Ye.push(xt);else Ue.parent(nt),Ye.push(Ue);return nt},addElement:Ue=>{if(null!=Ue)if(1===Ue.nodeType)Kt.push(Ue);else if(Ue.length>=0)for(let xt=0;xt<Ue.length;xt++)Kt.push(Ue[xt]);else console.error("Invalid addElement value");return nt},update:oi,fill:Ue=>(Ee=Ue,oi(!0),nt),direction:Ue=>(oe=Ue,oi(!0),nt),iterations:Ue=>(Z=Ue,oi(!0),nt),duration:Ue=>(!mt&&0===Ue&&(Ue=1),fe=Ue,oi(!0),nt),easing:Ue=>(Pe=Ue,oi(!0),nt),delay:Ue=>(J=Ue,oi(!0),nt),getWebAnimations:Jt,getKeyframes:()=>Ce,getFill:R,getDirection:de,getDelay:_t,getIterations:tt,getEasing:ne,getDuration:ze,afterAddRead:Ue=>(At.push(Ue),nt),afterAddWrite:Ue=>(_n.push(Ue),nt),afterClearStyles:(Ue=[])=>{for(const xt of Ue)je[xt]="";return nt},afterStyles:(Ue={})=>(je=Ue,nt),afterRemoveClass:Ue=>(re=Ie(re,Ue),nt),afterAddClass:Ue=>($=Ie($,Ue),nt),beforeAddRead:Ue=>(Re.push(Ue),nt),beforeAddWrite:Ue=>(gt.push(Ue),nt),beforeClearStyles:(Ue=[])=>{for(const xt of Ue)K[xt]="";return nt},beforeStyles:(Ue={})=>(K=Ue,nt),beforeRemoveClass:Ue=>(D=Ie(D,Ue),nt),beforeAddClass:Ue=>(V=Ie(V,Ue),nt),onFinish:rn,isRunning:()=>0!==Je&&!Et,progressStart:(Ue=!1,xt)=>(Ye.forEach(S=>{S.progressStart(Ue,xt)}),ai(),ct=Ue,U||ei(),oi(!1,!0,xt),nt),progressStep:Ue=>(Ye.forEach(xt=>{xt.progressStep(Ue)}),Bn(Ue),nt),progressEnd:(Ue,xt,S)=>(ct=!1,Ye.forEach(N=>{N.progressEnd(Ue,xt,S)}),void 0!==S&&(X=S),Te=!1,Fe=!0,0===Ue?(G="reverse"===de()?"normal":"reverse","reverse"===G&&(Fe=!1),mt?(oi(),Bn(1-xt)):(me=(1-xt)*ze()*-1,oi(!1,!1))):1===Ue&&(mt?(oi(),Bn(xt)):(me=xt*ze()*-1,oi(!1,!1))),void 0!==Ue&&!Q&&Bi(),nt)}}},464:(Mt,Le,A)=>{"use strict";A.d(Le,{E:()=>B,a:()=>E,s:()=>be});const E=F=>{try{if(F instanceof q)return F.value;if(!ae()||"string"!=typeof F||""===F)return F;if(F.includes("onload="))return"";const se=document.createDocumentFragment(),ce=document.createElement("div");se.appendChild(ce),ce.innerHTML=F,ke.forEach(pe=>{const J=se.querySelectorAll(pe);for(let fe=J.length-1;fe>=0;fe--){const Pe=J[fe];Pe.parentNode?Pe.parentNode.removeChild(Pe):se.removeChild(Pe);const Z=z(Pe);for(let Ee=0;Ee<Z.length;Ee++)s(Z[Ee])}});const ie=z(se);for(let pe=0;pe<ie.length;pe++)s(ie[pe]);const Ie=document.createElement("div");Ie.appendChild(se);const ye=Ie.querySelector("div");return null!==ye?ye.innerHTML:Ie.innerHTML}catch(se){return console.error(se),""}},s=F=>{if(F.nodeType&&1!==F.nodeType)return;if(typeof NamedNodeMap<"u"&&!(F.attributes instanceof NamedNodeMap))return void F.remove();for(let ce=F.attributes.length-1;ce>=0;ce--){const ie=F.attributes.item(ce),Ie=ie.name;if(!Ae.includes(Ie.toLowerCase())){F.removeAttribute(Ie);continue}const ye=ie.value,pe=F[Ie];(null!=ye&&ye.toLowerCase().includes("javascript:")||null!=pe&&pe.toLowerCase().includes("javascript:"))&&F.removeAttribute(Ie)}const se=z(F);for(let ce=0;ce<se.length;ce++)s(se[ce])},z=F=>null!=F.children?F.children:F.childNodes,ae=()=>{var F;const se=window,ce=null===(F=se?.Ionic)||void 0===F?void 0:F.config;return!ce||(ce.get?ce.get("sanitizerEnabled",!0):!0===ce.sanitizerEnabled||void 0===ce.sanitizerEnabled)},Ae=["class","id","href","src","name","slot"],ke=["script","style","iframe","meta","link","object","embed"];class q{constructor(se){this.value=se}}const be=F=>{const se=window,ce=se.Ionic;if(!ce||!ce.config||"Object"===ce.config.constructor.name)return se.Ionic=se.Ionic||{},se.Ionic.config=Object.assign(Object.assign({},se.Ionic.config),F),se.Ionic.config},B=!1},5938:(Mt,Le,A)=>{"use strict";A.d(Le,{C:()=>Ae,a:()=>z,d:()=>ae});var E=A(467),s=A(5638);const z=function(){var ke=(0,E.A)(function*(q,be,we,B,F,se){var ce;if(q)return q.attachViewToDom(be,we,F,B);if(!(se||"string"==typeof we||we instanceof HTMLElement))throw new Error("framework delegate is missing");const ie="string"==typeof we?null===(ce=be.ownerDocument)||void 0===ce?void 0:ce.createElement(we):we;return B&&B.forEach(Ie=>ie.classList.add(Ie)),F&&Object.assign(ie,F),be.appendChild(ie),yield new Promise(Ie=>(0,s.c)(ie,Ie)),ie});return function(be,we,B,F,se,ce){return ke.apply(this,arguments)}}(),ae=(ke,q)=>{if(q){if(ke)return ke.removeViewFromDom(q.parentElement,q);q.remove()}return Promise.resolve()},Ae=()=>{let ke,q;return{attachViewToDom:function(){var B=(0,E.A)(function*(F,se,ce={},ie=[]){var Ie,ye;let pe;if(ke=F,se){const fe="string"==typeof se?null===(Ie=ke.ownerDocument)||void 0===Ie?void 0:Ie.createElement(se):se;ie.forEach(Pe=>fe.classList.add(Pe)),Object.assign(fe,ce),ke.appendChild(fe),pe=fe,yield new Promise(Pe=>(0,s.c)(fe,Pe))}else if(ke.children.length>0&&("ION-MODAL"===ke.tagName||"ION-POPOVER"===ke.tagName)&&!(pe=ke.children[0]).classList.contains("ion-delegate-host")){const Pe=null===(ye=ke.ownerDocument)||void 0===ye?void 0:ye.createElement("div");Pe.classList.add("ion-delegate-host"),ie.forEach(Z=>Pe.classList.add(Z)),Pe.append(...ke.children),ke.appendChild(Pe),pe=Pe}const J=document.querySelector("ion-app")||document.body;return q=document.createComment("ionic teleport"),ke.parentNode.insertBefore(q,ke),J.appendChild(ke),pe??ke});return function(se,ce){return B.apply(this,arguments)}}(),removeViewFromDom:()=>(ke&&q&&(q.parentNode.insertBefore(ke,q),q.remove()),Promise.resolve())}}},8221:(Mt,Le,A)=>{"use strict";A.d(Le,{G:()=>Ae});class s{constructor(q,be,we,B,F){this.id=be,this.name=we,this.disableScroll=F,this.priority=1e6*B+be,this.ctrl=q}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const q=this.ctrl.capture(this.name,this.id,this.priority);return q&&this.disableScroll&&this.ctrl.disableScroll(this.id),q}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class z{constructor(q,be,we,B){this.id=be,this.disable=we,this.disableScroll=B,this.ctrl=q}block(){if(this.ctrl){if(this.disable)for(const q of this.disable)this.ctrl.disableGesture(q,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const q of this.disable)this.ctrl.enableGesture(q,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ae="backdrop-no-scroll",Ae=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(q){var be;return new s(this,this.newID(),q.name,null!==(be=q.priority)&&void 0!==be?be:0,!!q.disableScroll)}createBlocker(q={}){return new z(this,this.newID(),q.disable,!!q.disableScroll)}start(q,be,we){return this.canStart(q)?(this.requestedStart.set(be,we),!0):(this.requestedStart.delete(be),!1)}capture(q,be,we){if(!this.start(q,be,we))return!1;const B=this.requestedStart;let F=-1e4;if(B.forEach(se=>{F=Math.max(F,se)}),F===we){this.capturedId=be,B.clear();const se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:q}});return document.dispatchEvent(se),!0}return B.delete(be),!1}release(q){this.requestedStart.delete(q),this.capturedId===q&&(this.capturedId=void 0)}disableGesture(q,be){let we=this.disabledGestures.get(q);void 0===we&&(we=new Set,this.disabledGestures.set(q,we)),we.add(be)}enableGesture(q,be){const we=this.disabledGestures.get(q);void 0!==we&&we.delete(be)}disableScroll(q){this.disabledScroll.add(q),1===this.disabledScroll.size&&document.body.classList.add(ae)}enableScroll(q){this.disabledScroll.delete(q),0===this.disabledScroll.size&&document.body.classList.remove(ae)}canStart(q){return!(void 0!==this.capturedId||this.isDisabled(q))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(q){const be=this.disabledGestures.get(q);return!!(be&&be.size>0)}newID(){return this.gestureId++,this.gestureId}}},3113:(Mt,Le,A)=>{"use strict";A.r(Le),A.d(Le,{MENU_BACK_BUTTON_PRIORITY:()=>we,OVERLAY_BACK_BUTTON_PRIORITY:()=>be,blockHardwareBackButton:()=>ke,shouldUseCloseWatcher:()=>Ae,startHardwareBackButton:()=>q});var E=A(467),s=A(8476),z=A(611);A(4363);const Ae=()=>z.c.get("experimentalCloseWatcher",!1)&&void 0!==s.w&&"CloseWatcher"in s.w,ke=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const B=document;let F=!1;const se=()=>{if(F)return;let ce=0,ie=[];const Ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(J,fe){ie.push({priority:J,handler:fe,id:ce++})}}});B.dispatchEvent(Ie);const ye=function(){var J=(0,E.A)(function*(fe){try{if(fe?.handler){const Pe=fe.handler(pe);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return J.apply(this,arguments)}}(),pe=()=>{if(ie.length>0){let J={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ie.forEach(fe=>{fe.priority>=J.priority&&(J=fe)}),F=!0,ie=ie.filter(fe=>fe.id!==J.id),ye(J).then(()=>F=!1)}};pe()};if(Ae()){let ce;const ie=()=>{ce?.destroy(),ce=new s.w.CloseWatcher,ce.onclose=()=>{se(),ie()}};ie()}else B.addEventListener("backbutton",se)},be=100,we=99},5638:(Mt,Le,A)=>{"use strict";A.d(Le,{a:()=>be,b:()=>we,c:()=>z,d:()=>ye,e:()=>Ie,f:()=>ie,g:()=>B,h:()=>ce,i:()=>q,j:()=>Ee,k:()=>Ae,l:()=>pe,m:()=>ae,n:()=>se,o:()=>J,p:()=>Z,q:()=>oe,r:()=>F,s:()=>Ce,t:()=>E,u:()=>fe,v:()=>Pe});const E=(V,D=0)=>new Promise(U=>{s(V,D,U)}),s=(V,D=0,U)=>{let Q,K;const $={passive:!0},je=()=>{Q&&Q()},Je=ct=>{(void 0===ct||V===ct.target)&&(je(),U(ct))};return V&&(V.addEventListener("webkitTransitionEnd",Je,$),V.addEventListener("transitionend",Je,$),K=setTimeout(Je,D+500),Q=()=>{void 0!==K&&(clearTimeout(K),K=void 0),V.removeEventListener("webkitTransitionEnd",Je,$),V.removeEventListener("transitionend",Je,$)}),je},z=(V,D)=>{V.componentOnReady?V.componentOnReady().then(U=>D(U)):F(()=>D(V))},ae=V=>void 0!==V.componentOnReady,Ae=(V,D=[])=>{const U={};return D.forEach(Q=>{V.hasAttribute(Q)&&(null!==V.getAttribute(Q)&&(U[Q]=V.getAttribute(Q)),V.removeAttribute(Q))}),U},ke=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],q=(V,D)=>{let U=ke;return D&&D.length>0&&(U=U.filter(Q=>!D.includes(Q))),Ae(V,U)},be=(V,D,U,Q)=>{var K;if(typeof window<"u"){const $=window,re=null===(K=$?.Ionic)||void 0===K?void 0:K.config;if(re){const je=re.get("_ael");if(je)return je(V,D,U,Q);if(re._ael)return re._ael(V,D,U,Q)}}return V.addEventListener(D,U,Q)},we=(V,D,U,Q)=>{var K;if(typeof window<"u"){const $=window,re=null===(K=$?.Ionic)||void 0===K?void 0:K.config;if(re){const je=re.get("_rel");if(je)return je(V,D,U,Q);if(re._rel)return re._rel(V,D,U,Q)}}return V.removeEventListener(D,U,Q)},B=(V,D=V)=>V.shadowRoot||D,F=V=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(V):"function"==typeof requestAnimationFrame?requestAnimationFrame(V):setTimeout(V),se=V=>!!V.shadowRoot&&!!V.attachShadow,ce=V=>{const D=V.closest("ion-item");return D?D.querySelector("ion-label"):null},ie=V=>{if(V.focus(),V.classList.contains("ion-focusable")){const D=V.closest("ion-app");D&&D.setFocus([V])}},Ie=(V,D)=>{let U;const Q=V.getAttribute("aria-labelledby"),K=V.id;let $=null!==Q&&""!==Q.trim()?Q:D+"-lbl",re=null!==Q&&""!==Q.trim()?document.getElementById(Q):ce(V);return re?(null===Q&&(re.id=$),U=re.textContent,re.setAttribute("aria-hidden","true")):""!==K.trim()&&(re=document.querySelector(`label[for="${K}"]`),re&&(""!==re.id?$=re.id:re.id=$=`${K}-lbl`,U=re.textContent)),{label:re,labelId:$,labelText:U}},ye=(V,D,U,Q,K)=>{if(V||se(D)){let $=D.querySelector("input.aux-input");$||($=D.ownerDocument.createElement("input"),$.type="hidden",$.classList.add("aux-input"),D.appendChild($)),$.disabled=K,$.name=U,$.value=Q||""}},pe=(V,D,U)=>Math.max(V,Math.min(D,U)),J=(V,D)=>{if(!V){const U="ASSERT: "+D;throw console.error(U),new Error(U)}},fe=V=>V.timeStamp||Date.now(),Pe=V=>{if(V){const D=V.changedTouches;if(D&&D.length>0){const U=D[0];return{x:U.clientX,y:U.clientY}}if(void 0!==V.pageX)return{x:V.pageX,y:V.pageY}}return{x:0,y:0}},Z=V=>{const D="rtl"===document.dir;switch(V){case"start":return D;case"end":return!D;default:throw new Error(`"${V}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ee=(V,D)=>{const U=V._original||V;return{_original:V,emit:oe(U.emit.bind(U),D)}},oe=(V,D=0)=>{let U;return(...Q)=>{clearTimeout(U),U=setTimeout(V,D,...Q)}},Ce=(V,D)=>{if(V??(V={}),D??(D={}),V===D)return!0;const U=Object.keys(V);if(U.length!==Object.keys(D).length)return!1;for(const Q of U)if(!(Q in D)||V[Q]!==D[Q])return!1;return!0}},405:(Mt,Le,A)=>{"use strict";A.r(Le),A.d(Le,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>we});var E=A(8221);const s=(ce,ie,Ie,ye)=>{const pe=z(ce)?{capture:!!ye.capture,passive:!!ye.passive}:!!ye.capture;let J,fe;return ce.__zone_symbol__addEventListener?(J="__zone_symbol__addEventListener",fe="__zone_symbol__removeEventListener"):(J="addEventListener",fe="removeEventListener"),ce[J](ie,Ie,pe),()=>{ce[fe](ie,Ie,pe)}},z=ce=>{if(void 0===ae)try{const ie=Object.defineProperty({},"passive",{get:()=>{ae=!0}});ce.addEventListener("optsTest",()=>{},ie)}catch{ae=!1}return!!ae};let ae;const q=ce=>ce instanceof Document?ce:ce.ownerDocument,we=ce=>{let ie=!1,Ie=!1,ye=!0,pe=!1;const J=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ce),fe=J.canStart,Pe=J.onWillStart,Z=J.onStart,Ee=J.onEnd,oe=J.notCaptured,Ce=J.onMove,V=J.threshold,D=J.passive,U=J.blurOnStart,Q={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},K=((ce,ie,Ie)=>{const ye=Ie*(Math.PI/180),pe="x"===ce,J=Math.cos(ye),fe=ie*ie;let Pe=0,Z=0,Ee=!1,oe=0;return{start(Ce,V){Pe=Ce,Z=V,oe=0,Ee=!0},detect(Ce,V){if(!Ee)return!1;const D=Ce-Pe,U=V-Z,Q=D*D+U*U;if(Q<fe)return!1;const K=Math.sqrt(Q),$=(pe?D:U)/K;return oe=$>J?1:$<-J?-1:0,Ee=!1,!0},isGesture:()=>0!==oe,getDirection:()=>oe}})(J.direction,J.threshold,J.maxAngle),$=E.G.createGesture({name:ce.gestureName,priority:ce.gesturePriority,disableScroll:ce.disableScroll}),Je=()=>{ie&&(pe=!1,Ce&&Ce(Q))},ct=()=>!!$.capture()&&(ie=!0,ye=!1,Q.startX=Q.currentX,Q.startY=Q.currentY,Q.startTime=Q.currentTime,Pe?Pe(Q).then(W):W(),!0),W=()=>{U&&(()=>{if(typeof document<"u"){const Te=document.activeElement;Te?.blur&&Te.blur()}})(),Z&&Z(Q),ye=!0},G=()=>{ie=!1,Ie=!1,pe=!1,ye=!0,$.release()},X=Te=>{const Ze=ie,He=ye;if(G(),He){if(B(Q,Te),Ze)return void(Ee&&Ee(Q));oe&&oe(Q)}},me=((ce,ie,Ie,ye,pe)=>{let J,fe,Pe,Z,Ee,oe,Ce,V=0;const D=Be=>{V=Date.now()+2e3,ie(Be)&&(!fe&&Ie&&(fe=s(ce,"touchmove",Ie,pe)),Pe||(Pe=s(Be.target,"touchend",Q,pe)),Z||(Z=s(Be.target,"touchcancel",Q,pe)))},U=Be=>{V>Date.now()||ie(Be)&&(!oe&&Ie&&(oe=s(q(ce),"mousemove",Ie,pe)),Ce||(Ce=s(q(ce),"mouseup",K,pe)))},Q=Be=>{$(),ye&&ye(Be)},K=Be=>{re(),ye&&ye(Be)},$=()=>{fe&&fe(),Pe&&Pe(),Z&&Z(),fe=Pe=Z=void 0},re=()=>{oe&&oe(),Ce&&Ce(),oe=Ce=void 0},je=()=>{$(),re()},Je=(Be=!0)=>{Be?(J||(J=s(ce,"touchstart",D,pe)),Ee||(Ee=s(ce,"mousedown",U,pe))):(J&&J(),Ee&&Ee(),J=Ee=void 0,je())};return{enable:Je,stop:je,destroy:()=>{Je(!1),ye=Ie=ie=void 0}}})(J.el,Te=>{const Ze=se(Te);return!(Ie||!ye||(F(Te,Q),Q.startX=Q.currentX,Q.startY=Q.currentY,Q.startTime=Q.currentTime=Ze,Q.velocityX=Q.velocityY=Q.deltaX=Q.deltaY=0,Q.event=Te,fe&&!1===fe(Q))||($.release(),!$.start()))&&(Ie=!0,0===V?ct():(K.start(Q.startX,Q.startY),!0))},Te=>{ie?!pe&&ye&&(pe=!0,B(Q,Te),requestAnimationFrame(Je)):(B(Q,Te),K.detect(Q.currentX,Q.currentY)&&(!K.isGesture()||!ct())&&Fe())},X,{capture:!1,passive:D}),Fe=()=>{G(),me.stop(),oe&&oe(Q)};return{enable(Te=!0){Te||(ie&&X(void 0),G()),me.enable(Te)},destroy(){$.destroy(),me.destroy()}}},B=(ce,ie)=>{if(!ie)return;const Ie=ce.currentX,ye=ce.currentY,pe=ce.currentTime;F(ie,ce);const J=ce.currentX,fe=ce.currentY,Z=(ce.currentTime=se(ie))-pe;if(Z>0&&Z<100){const oe=(fe-ye)/Z;ce.velocityX=(J-Ie)/Z*.7+.3*ce.velocityX,ce.velocityY=.7*oe+.3*ce.velocityY}ce.deltaX=J-ce.startX,ce.deltaY=fe-ce.startY,ce.event=ie},F=(ce,ie)=>{let Ie=0,ye=0;if(ce){const pe=ce.changedTouches;if(pe&&pe.length>0){const J=pe[0];Ie=J.clientX,ye=J.clientY}else void 0!==ce.pageX&&(Ie=ce.pageX,ye=ce.pageY)}ie.currentX=Ie,ie.currentY=ye},se=ce=>ce.timeStamp||Date.now()},5384:(Mt,Le,A)=>{"use strict";A.d(Le,{m:()=>ce});var E=A(467),s=A(8476),z=A(3113),ae=A(4929),Ae=A(5638),ke=A(611),q=A(3503);const be=ie=>(0,q.c)().duration(ie?400:300),we=ie=>{let Ie,ye;const pe=ie.width+8,J=(0,q.c)(),fe=(0,q.c)();ie.isEndSide?(Ie=pe+"px",ye="0px"):(Ie=-pe+"px",ye="0px"),J.addElement(ie.menuInnerEl).fromTo("transform",`translateX(${Ie})`,`translateX(${ye})`);const Z="ios"===(0,ke.b)(ie),Ee=Z?.2:.25;return fe.addElement(ie.backdropEl).fromTo("opacity",.01,Ee),be(Z).addAnimation([J,fe])},B=ie=>{let Ie,ye;const pe=(0,ke.b)(ie),J=ie.width;ie.isEndSide?(Ie=-J+"px",ye=J+"px"):(Ie=J+"px",ye=-J+"px");const fe=(0,q.c)().addElement(ie.menuInnerEl).fromTo("transform",`translateX(${ye})`,"translateX(0px)"),Pe=(0,q.c)().addElement(ie.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`),Z=(0,q.c)().addElement(ie.backdropEl).fromTo("opacity",.01,.32);return be("ios"===pe).addAnimation([fe,Pe,Z])},F=ie=>{const Ie=(0,ke.b)(ie),ye=ie.width*(ie.isEndSide?-1:1)+"px",pe=(0,q.c)().addElement(ie.contentEl).fromTo("transform","translateX(0px)",`translateX(${ye})`);return be("ios"===Ie).addAnimation(pe)},ce=(()=>{const ie=new Map,Ie=[],ye=function(){var G=(0,E.A)(function*(X){const me=yield oe(X,!0);return!!me&&me.open()});return function(me){return G.apply(this,arguments)}}(),pe=function(){var G=(0,E.A)(function*(X){const me=yield void 0!==X?oe(X,!0):Ce();return void 0!==me&&me.close()});return function(me){return G.apply(this,arguments)}}(),J=function(){var G=(0,E.A)(function*(X){const me=yield oe(X,!0);return!!me&&me.toggle()});return function(me){return G.apply(this,arguments)}}(),fe=function(){var G=(0,E.A)(function*(X,me){const Fe=yield oe(me);return Fe&&(Fe.disabled=!X),Fe});return function(me,Fe){return G.apply(this,arguments)}}(),Pe=function(){var G=(0,E.A)(function*(X,me){const Fe=yield oe(me);return Fe&&(Fe.swipeGesture=X),Fe});return function(me,Fe){return G.apply(this,arguments)}}(),Z=function(){var G=(0,E.A)(function*(X){if(null!=X){const me=yield oe(X);return void 0!==me&&me.isOpen()}return void 0!==(yield Ce())});return function(me){return G.apply(this,arguments)}}(),Ee=function(){var G=(0,E.A)(function*(X){const me=yield oe(X);return!!me&&!me.disabled});return function(me){return G.apply(this,arguments)}}(),oe=function(){var G=(0,E.A)(function*(X,me=!1){if(yield W(),"start"===X||"end"===X){const Te=Ie.filter(He=>He.side===X&&!He.disabled);if(Te.length>=1)return Te.length>1&&me&&(0,ae.p)(`menuController queried for a menu on the "${X}" side, but ${Te.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Te.map(He=>He.el)),Te[0].el;const Ze=Ie.filter(He=>He.side===X);if(Ze.length>=1)return Ze.length>1&&me&&(0,ae.p)(`menuController queried for a menu on the "${X}" side, but ${Ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ze.map(He=>He.el)),Ze[0].el}else if(null!=X)return Be(Te=>Te.menuId===X);return Be(Te=>!Te.disabled)||(Ie.length>0?Ie[0].el:void 0)});return function(me){return G.apply(this,arguments)}}(),Ce=function(){var G=(0,E.A)(function*(){return yield W(),je()});return function(){return G.apply(this,arguments)}}(),V=function(){var G=(0,E.A)(function*(){return yield W(),Je()});return function(){return G.apply(this,arguments)}}(),D=function(){var G=(0,E.A)(function*(){return yield W(),ct()});return function(){return G.apply(this,arguments)}}(),U=(G,X)=>{ie.set(G,X)},$=function(){var G=(0,E.A)(function*(X,me,Fe){if(ct())return!1;if(me){const Te=yield Ce();Te&&X.el!==Te&&(yield Te.setOpen(!1,!1))}return X._setOpen(me,Fe)});return function(me,Fe,Te){return G.apply(this,arguments)}}(),je=()=>Be(G=>G._isOpen),Je=()=>Ie.map(G=>G.el),ct=()=>Ie.some(G=>G.isAnimating),Be=G=>{const X=Ie.find(G);if(void 0!==X)return X.el},W=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(X=>(0,Ae.c)(G,X))));return U("reveal",F),U("push",B),U("overlay",we),null==s.d||s.d.addEventListener("ionBackButton",G=>{const X=je();X&&G.detail.register(z.MENU_BACK_BUTTON_PRIORITY,()=>X.close())}),{registerAnimation:U,get:oe,getMenus:V,getOpen:Ce,isEnabled:Ee,swipeGesture:Pe,isAnimating:D,isOpen:Z,enable:fe,toggle:J,close:pe,open:ye,_getOpenSync:je,_createAnimation:(G,X)=>{const me=ie.get(G);if(!me)throw new Error("animation not registered");return me(X)},_register:G=>{Ie.indexOf(G)<0&&Ie.push(G)},_unregister:G=>{const X=Ie.indexOf(G);X>-1&&Ie.splice(X,1)},_setOpen:$}})()},4929:(Mt,Le,A)=>{"use strict";A.d(Le,{a:()=>s,b:()=>z,p:()=>E});const E=(ae,...Ae)=>console.warn(`[Ionic Warning]: ${ae}`,...Ae),s=(ae,...Ae)=>console.error(`[Ionic Error]: ${ae}`,...Ae),z=(ae,...Ae)=>console.error(`<${ae.tagName.toLowerCase()}> must be used inside ${Ae.join(" or ")}.`)},4363:(Mt,Le,A)=>{"use strict";A.d(Le,{B:()=>se,H:()=>ct,a:()=>ro,b:()=>Rr,c:()=>He,d:()=>Nt,e:()=>Ue,f:()=>Zt,g:()=>nt,h:()=>je,i:()=>de,j:()=>ce,r:()=>Qt,w:()=>xt});var E=A(467);let ae,Ae,ke,q=!1,be=!1,we=!1,B=!1,F=!1;const se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ce=S=>{const N=new URL(S,zn.$resourcesUrl$);return N.origin!==Ho.location.origin?N.href:N.pathname},Pe="s-id",Z="sty-id",Ce="slot-fb{display:contents}slot-fb[hidden]{display:none}",V="http://www.w3.org/1999/xlink",D={},$=S=>"object"==(S=typeof S)||"function"===S;function re(S){var N,ve,ge;return null!==(ge=null===(ve=null===(N=S.head)||void 0===N?void 0:N.querySelector('meta[name="csp-nonce"]'))||void 0===ve?void 0:ve.getAttribute("content"))&&void 0!==ge?ge:void 0}const je=(S,N,...ve)=>{let ge=null,Ge=null,Ve=null,ht=!1,it=!1;const lt=[],ut=Bt=>{for(let Yt=0;Yt<Bt.length;Yt++)ge=Bt[Yt],Array.isArray(ge)?ut(ge):null!=ge&&"boolean"!=typeof ge&&((ht="function"!=typeof S&&!$(ge))&&(ge=String(ge)),ht&&it?lt[lt.length-1].$text$+=ge:lt.push(ht?Je(null,ge):ge),it=ht)};if(ut(ve),N){N.key&&(Ge=N.key),N.name&&(Ve=N.name);{const Bt=N.className||N.class;Bt&&(N.class="object"!=typeof Bt?Bt:Object.keys(Bt).filter(Yt=>Bt[Yt]).join(" "))}}if("function"==typeof S)return S(null===N?{}:N,lt,W);const wt=Je(S,null);return wt.$attrs$=N,lt.length>0&&(wt.$children$=lt),wt.$key$=Ge,wt.$name$=Ve,wt},Je=(S,N)=>({$flags$:0,$tag$:S,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ct={},W={forEach:(S,N)=>S.map(G).forEach(N),map:(S,N)=>S.map(G).map(N).map(X)},G=S=>({vattrs:S.$attrs$,vchildren:S.$children$,vkey:S.$key$,vname:S.$name$,vtag:S.$tag$,vtext:S.$text$}),X=S=>{if("function"==typeof S.vtag){const ve=Object.assign({},S.vattrs);return S.vkey&&(ve.key=S.vkey),S.vname&&(ve.name=S.vname),je(S.vtag,ve,...S.vchildren||[])}const N=Je(S.vtag,S.vtext);return N.$attrs$=S.vattrs,N.$children$=S.vchildren,N.$key$=S.vkey,N.$name$=S.vname,N},Fe=(S,N,ve,ge,Ge,Ve,ht)=>{let it,lt,ut,wt;if(1===Ve.nodeType){for(it=Ve.getAttribute("c-id"),it&&(lt=it.split("."),(lt[0]===ht||"0"===lt[0])&&(ut={$flags$:0,$hostId$:lt[0],$nodeId$:lt[1],$depth$:lt[2],$index$:lt[3],$tag$:Ve.tagName.toLowerCase(),$elm$:Ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(ut),Ve.removeAttribute("c-id"),S.$children$||(S.$children$=[]),S.$children$[ut.$index$]=ut,S=ut,ge&&"0"===ut.$depth$&&(ge[ut.$index$]=ut.$elm$))),wt=Ve.childNodes.length-1;wt>=0;wt--)Fe(S,N,ve,ge,Ge,Ve.childNodes[wt],ht);if(Ve.shadowRoot)for(wt=Ve.shadowRoot.childNodes.length-1;wt>=0;wt--)Fe(S,N,ve,ge,Ge,Ve.shadowRoot.childNodes[wt],ht)}else if(8===Ve.nodeType)lt=Ve.nodeValue.split("."),(lt[1]===ht||"0"===lt[1])&&(it=lt[0],ut={$flags$:0,$hostId$:lt[1],$nodeId$:lt[2],$depth$:lt[3],$index$:lt[4],$elm$:Ve,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===it?(ut.$elm$=Ve.nextSibling,ut.$elm$&&3===ut.$elm$.nodeType&&(ut.$text$=ut.$elm$.textContent,N.push(ut),Ve.remove(),S.$children$||(S.$children$=[]),S.$children$[ut.$index$]=ut,ge&&"0"===ut.$depth$&&(ge[ut.$index$]=ut.$elm$))):ut.$hostId$===ht&&("s"===it?(ut.$tag$="slot",Ve["s-sn"]=lt[5]?ut.$name$=lt[5]:"",Ve["s-sr"]=!0,ge&&(ut.$elm$=ai.createElement(ut.$tag$),ut.$name$&&ut.$elm$.setAttribute("name",ut.$name$),Ve.parentNode.insertBefore(ut.$elm$,Ve),Ve.remove(),"0"===ut.$depth$&&(ge[ut.$index$]=ut.$elm$)),ve.push(ut),S.$children$||(S.$children$=[]),S.$children$[ut.$index$]=ut):"r"===it&&(ge?Ve.remove():(Ge["s-cr"]=Ve,Ve["s-cn"]=!0))));else if(S&&"style"===S.$tag$){const Bt=Je(null,Ve.textContent);Bt.$elm$=Ve,Bt.$index$="0",S.$children$=[Bt]}},Te=(S,N)=>{if(1===S.nodeType){let ve=0;for(;ve<S.childNodes.length;ve++)Te(S.childNodes[ve],N);if(S.shadowRoot)for(ve=0;ve<S.shadowRoot.childNodes.length;ve++)Te(S.shadowRoot.childNodes[ve],N)}else if(8===S.nodeType){const ve=S.nodeValue.split(".");"o"===ve[0]&&(N.set(ve[1]+"."+ve[2],S),S.nodeValue="",S["s-en"]=ve[3])}},He=S=>jo.push(S),nt=S=>rt(S).$modeName$,Zt=S=>rt(S).$hostElement$,Nt=(S,N,ve)=>{const ge=Zt(S);return{emit:Ge=>pn(ge,N,{bubbles:!!(4&ve),composed:!!(2&ve),cancelable:!!(1&ve),detail:Ge})}},pn=(S,N,ve)=>{const ge=zn.ce(N,ve);return S.dispatchEvent(ge),ge},qt=new WeakMap,Kt=(S,N,ve)=>{let ge=xi.get(S);Ma&&ve?(ge=ge||new CSSStyleSheet,"string"==typeof ge?ge=N:ge.replaceSync(N)):ge=N,xi.set(S,ge)},Ye=(S,N,ve)=>{var ge;const Ge=Re(N,ve),Ve=xi.get(Ge);if(S=11===S.nodeType?S:ai,Ve)if("string"==typeof Ve){let it,ht=qt.get(S=S.head||S);if(ht||qt.set(S,ht=new Set),!ht.has(Ge)){if(S.host&&(it=S.querySelector(`[${Z}="${Ge}"]`)))it.innerHTML=Ve;else{it=ai.createElement("style"),it.innerHTML=Ve;const lt=null!==(ge=zn.$nonce$)&&void 0!==ge?ge:re(ai);null!=lt&&it.setAttribute("nonce",lt),S.insertBefore(it,S.querySelector("link"))}4&N.$flags$&&(it.innerHTML+=Ce),ht&&ht.add(Ge)}}else S.adoptedStyleSheets.includes(Ve)||(S.adoptedStyleSheets=[...S.adoptedStyleSheets,Ve]);return Ge},Re=(S,N)=>"sc-"+(N&&32&S.$flags$?S.$tagName$+"-"+N:S.$tagName$),gt=S=>S.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),At=(S,N,ve,ge,Ge,Ve)=>{if(ve!==ge){let ht=Bn(S,N),it=N.toLowerCase();if("class"===N){const lt=S.classList,ut=on(ve),wt=on(ge);lt.remove(...ut.filter(Bt=>Bt&&!wt.includes(Bt))),lt.add(...wt.filter(Bt=>Bt&&!ut.includes(Bt)))}else if("style"===N){for(const lt in ve)(!ge||null==ge[lt])&&(lt.includes("-")?S.style.removeProperty(lt):S.style[lt]="");for(const lt in ge)(!ve||ge[lt]!==ve[lt])&&(lt.includes("-")?S.style.setProperty(lt,ge[lt]):S.style[lt]=ge[lt])}else if("key"!==N)if("ref"===N)ge&&ge(S);else if(ht||"o"!==N[0]||"n"!==N[1]){const lt=$(ge);if((ht||lt&&null!==ge)&&!Ge)try{if(S.tagName.includes("-"))S[N]=ge;else{const wt=ge??"";"list"===N?ht=!1:(null==ve||S[N]!=wt)&&(S[N]=wt)}}catch{}let ut=!1;it!==(it=it.replace(/^xlink\:?/,""))&&(N=it,ut=!0),null==ge||!1===ge?(!1!==ge||""===S.getAttribute(N))&&(ut?S.removeAttributeNS(V,N):S.removeAttribute(N)):(!ht||4&Ve||Ge)&&!lt&&(ge=!0===ge?"":ge,ut?S.setAttributeNS(V,N,ge):S.setAttribute(N,ge))}else if(N="-"===N[2]?N.slice(3):Bn(Ho,it)?it.slice(2):it[2]+N.slice(3),ve||ge){const lt=N.endsWith(vn);N=N.replace(mt,""),ve&&zn.rel(S,N,ve,lt),ge&&zn.ael(S,N,ge,lt)}}},_n=/\s/,on=S=>S?S.split(_n):[],vn="Capture",mt=new RegExp(vn+"$"),xn=(S,N,ve,ge)=>{const Ge=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Ve=S&&S.$attrs$||D,ht=N.$attrs$||D;for(ge of Jt(Object.keys(Ve)))ge in ht||At(Ge,ge,Ve[ge],void 0,ve,N.$flags$);for(ge of Jt(Object.keys(ht)))At(Ge,ge,Ve[ge],ht[ge],ve,N.$flags$)};function Jt(S){return S.includes("ref")?[...S.filter(N=>"ref"!==N),"ref"]:S}const zt=(S,N,ve,ge)=>{var Ge;const Ve=N.$children$[ve];let it,lt,ut,ht=0;if(q||(we=!0,"slot"===Ve.$tag$&&(ae&&ge.classList.add(ae+"-s"),Ve.$flags$|=Ve.$children$?2:1)),null!==Ve.$text$)it=Ve.$elm$=ai.createTextNode(Ve.$text$);else if(1&Ve.$flags$)it=Ve.$elm$=ai.createTextNode("");else{if(B||(B="svg"===Ve.$tag$),it=Ve.$elm$=ai.createElementNS(B?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ve.$flags$?"slot-fb":Ve.$tag$),B&&"foreignObject"===Ve.$tag$&&(B=!1),xn(null,Ve,B),(S=>null!=S)(ae)&&it["s-si"]!==ae&&it.classList.add(it["s-si"]=ae),Ve.$children$)for(ht=0;ht<Ve.$children$.length;++ht)lt=zt(S,Ve,ht,it),lt&&it.appendChild(lt);"svg"===Ve.$tag$?B=!1:"foreignObject"===it.tagName&&(B=!0)}return it["s-hn"]=ke,3&Ve.$flags$&&(it["s-sr"]=!0,it["s-cr"]=Ae,it["s-sn"]=Ve.$name$||"",it["s-rf"]=null===(Ge=Ve.$attrs$)||void 0===Ge?void 0:Ge.ref,ut=S&&S.$children$&&S.$children$[ve],ut&&ut.$tag$===Ve.$tag$&&S.$elm$&&Ii(S.$elm$,!1)),it},Ii=(S,N)=>{zn.$flags$|=1;const ve=Array.from(S.childNodes);for(let ge=ve.length-1;ge>=0;ge--){const Ge=ve[ge];Ge["s-hn"]!==ke&&Ge["s-ol"]&&(En(Ge).insertBefore(Ge,rn(Ge)),Ge["s-ol"].remove(),Ge["s-ol"]=void 0,Ge["s-sh"]=void 0,we=!0),N&&Ii(Ge,N)}zn.$flags$&=-2},ti=(S,N,ve,ge,Ge,Ve)=>{let it,ht=S["s-cr"]&&S["s-cr"].parentNode||S;for(ht.shadowRoot&&ht.tagName===ke&&(ht=ht.shadowRoot);Ge<=Ve;++Ge)ge[Ge]&&(it=zt(null,ve,Ge,S),it&&(ge[Ge].$elm$=it,ht.insertBefore(it,rn(N))))},Rt=(S,N,ve)=>{for(let ge=N;ge<=ve;++ge){const Ge=S[ge];if(Ge){const Ve=Ge.$elm$;Ji(Ge),Ve&&(be=!0,Ve["s-ol"]?Ve["s-ol"].remove():Ii(Ve,!0),Ve.remove())}}},Nn=(S,N,ve=!1)=>S.$tag$===N.$tag$&&("slot"===S.$tag$?S.$name$===N.$name$:!!ve||S.$key$===N.$key$),rn=S=>S&&S["s-ol"]||S,En=S=>(S["s-ol"]?S["s-ol"]:S).parentNode,Wn=(S,N,ve=!1)=>{const ge=N.$elm$=S.$elm$,Ge=S.$children$,Ve=N.$children$,ht=N.$tag$,it=N.$text$;let lt;null===it?(B="svg"===ht||"foreignObject"!==ht&&B,"slot"===ht&&!q||xn(S,N,B),null!==Ge&&null!==Ve?((S,N,ve,ge,Ge=!1)=>{let Xn,Zn,Ve=0,ht=0,it=0,lt=0,ut=N.length-1,wt=N[0],Bt=N[ut],Yt=ge.length-1,Vt=ge[0],Pn=ge[Yt];for(;Ve<=ut&&ht<=Yt;)if(null==wt)wt=N[++Ve];else if(null==Bt)Bt=N[--ut];else if(null==Vt)Vt=ge[++ht];else if(null==Pn)Pn=ge[--Yt];else if(Nn(wt,Vt,Ge))Wn(wt,Vt,Ge),wt=N[++Ve],Vt=ge[++ht];else if(Nn(Bt,Pn,Ge))Wn(Bt,Pn,Ge),Bt=N[--ut],Pn=ge[--Yt];else if(Nn(wt,Pn,Ge))("slot"===wt.$tag$||"slot"===Pn.$tag$)&&Ii(wt.$elm$.parentNode,!1),Wn(wt,Pn,Ge),S.insertBefore(wt.$elm$,Bt.$elm$.nextSibling),wt=N[++Ve],Pn=ge[--Yt];else if(Nn(Bt,Vt,Ge))("slot"===wt.$tag$||"slot"===Pn.$tag$)&&Ii(Bt.$elm$.parentNode,!1),Wn(Bt,Vt,Ge),S.insertBefore(Bt.$elm$,wt.$elm$),Bt=N[--ut],Vt=ge[++ht];else{for(it=-1,lt=Ve;lt<=ut;++lt)if(N[lt]&&null!==N[lt].$key$&&N[lt].$key$===Vt.$key$){it=lt;break}it>=0?(Zn=N[it],Zn.$tag$!==Vt.$tag$?Xn=zt(N&&N[ht],ve,it,S):(Wn(Zn,Vt,Ge),N[it]=void 0,Xn=Zn.$elm$),Vt=ge[++ht]):(Xn=zt(N&&N[ht],ve,ht,S),Vt=ge[++ht]),Xn&&En(wt.$elm$).insertBefore(Xn,rn(wt.$elm$))}Ve>ut?ti(S,null==ge[Yt+1]?null:ge[Yt+1].$elm$,ve,ge,ht,Yt):ht>Yt&&Rt(N,Ve,ut)})(ge,Ge,N,Ve,ve):null!==Ve?(null!==S.$text$&&(ge.textContent=""),ti(ge,null,N,Ve,0,Ve.length-1)):null!==Ge&&Rt(Ge,0,Ge.length-1),B&&"svg"===ht&&(B=!1)):(lt=ge["s-cr"])?lt.parentNode.textContent=it:S.$text$!==it&&(ge.data=it)},un=S=>{const N=S.childNodes;for(const ve of N)if(1===ve.nodeType){if(ve["s-sr"]){const ge=ve["s-sn"];ve.hidden=!1;for(const Ge of N)if(Ge!==ve)if(Ge["s-hn"]!==ve["s-hn"]||""!==ge){if(1===Ge.nodeType&&(ge===Ge.getAttribute("slot")||ge===Ge["s-sn"])){ve.hidden=!0;break}}else if(1===Ge.nodeType||3===Ge.nodeType&&""!==Ge.textContent.trim()){ve.hidden=!0;break}}un(ve)}},qn=[],Gi=S=>{let N,ve,ge;for(const Ge of S.childNodes){if(Ge["s-sr"]&&(N=Ge["s-cr"])&&N.parentNode){ve=N.parentNode.childNodes;const Ve=Ge["s-sn"];for(ge=ve.length-1;ge>=0;ge--)if(N=ve[ge],!N["s-cn"]&&!N["s-nr"]&&N["s-hn"]!==Ge["s-hn"])if(Pi(N,Ve)){let ht=qn.find(it=>it.$nodeToRelocate$===N);be=!0,N["s-sn"]=N["s-sn"]||Ve,ht?(ht.$nodeToRelocate$["s-sh"]=Ge["s-hn"],ht.$slotRefNode$=Ge):(N["s-sh"]=Ge["s-hn"],qn.push({$slotRefNode$:Ge,$nodeToRelocate$:N})),N["s-sr"]&&qn.map(it=>{Pi(it.$nodeToRelocate$,N["s-sn"])&&(ht=qn.find(lt=>lt.$nodeToRelocate$===N),ht&&!it.$slotRefNode$&&(it.$slotRefNode$=ht.$slotRefNode$))})}else qn.some(ht=>ht.$nodeToRelocate$===N)||qn.push({$nodeToRelocate$:N})}1===Ge.nodeType&&Gi(Ge)}},Pi=(S,N)=>1===S.nodeType?null===S.getAttribute("slot")&&""===N||S.getAttribute("slot")===N:S["s-sn"]===N||""===N,Ji=S=>{S.$attrs$&&S.$attrs$.ref&&S.$attrs$.ref(null),S.$children$&&S.$children$.map(Ji)},ot=(S,N)=>{N&&!S.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ve=>S.$onRenderResolve$=ve))},kt=(S,N)=>{if(S.$flags$|=16,!(4&S.$flags$))return ot(S,S.$ancestorComponent$),xt(()=>cn(S,N));S.$flags$|=512},cn=(S,N)=>{const ge=S.$lazyInstance$;let Ge;return N&&(S.$flags$|=256,S.$queuedListeners$&&(S.$queuedListeners$.map(([Ve,ht])=>ze(ge,Ve,ht)),S.$queuedListeners$=void 0),Ge=ze(ge,"componentWillLoad")),Ge=en(Ge,()=>ze(ge,"componentWillRender")),en(Ge,()=>ue(S,ge,N))},en=(S,N)=>Mn(S)?S.then(N):N(),Mn=S=>S instanceof Promise||S&&S.then&&"function"==typeof S.then,ue=function(){var S=(0,E.A)(function*(N,ve,ge){var Ge;const Ve=N.$hostElement$,it=Ve["s-rc"];ge&&(S=>{const N=S.$cmpMeta$,ve=S.$hostElement$,ge=N.$flags$,Ve=Ye(ve.shadowRoot?ve.shadowRoot:ve.getRootNode(),N,S.$modeName$);10&ge&&(ve["s-sc"]=Ve,ve.classList.add(Ve+"-h"),2&ge&&ve.classList.add(Ve+"-s"))})(N);te(N,ve,Ve,ge),it&&(it.map(ut=>ut()),Ve["s-rc"]=void 0);{const ut=null!==(Ge=Ve["s-p"])&&void 0!==Ge?Ge:[],wt=()=>R(N);0===ut.length?wt():(Promise.all(ut).then(wt),N.$flags$|=4,ut.length=0)}});return function(ve,ge,Ge){return S.apply(this,arguments)}}(),te=(S,N,ve,ge)=>{try{N=N.render&&N.render(),S.$flags$&=-17,S.$flags$|=2,((S,N,ve=!1)=>{var ge,Ge,Ve,ht;const it=S.$hostElement$,lt=S.$cmpMeta$,ut=S.$vnode$||Je(null,null),wt=(S=>S&&S.$tag$===ct)(N)?N:je(null,null,N);if(ke=it.tagName,lt.$attrsToReflect$&&(wt.$attrs$=wt.$attrs$||{},lt.$attrsToReflect$.map(([Bt,Yt])=>wt.$attrs$[Yt]=it[Bt])),ve&&wt.$attrs$)for(const Bt of Object.keys(wt.$attrs$))it.hasAttribute(Bt)&&!["key","ref","style","class"].includes(Bt)&&(wt.$attrs$[Bt]=it[Bt]);if(wt.$tag$=null,wt.$flags$|=4,S.$vnode$=wt,wt.$elm$=ut.$elm$=it.shadowRoot||it,ae=it["s-sc"],q=0!=(1&lt.$flags$),Ae=it["s-cr"],be=!1,Wn(ut,wt,ve),zn.$flags$|=1,we){Gi(wt.$elm$);for(const Bt of qn){const Yt=Bt.$nodeToRelocate$;if(!Yt["s-ol"]){const Vt=ai.createTextNode("");Vt["s-nr"]=Yt,Yt.parentNode.insertBefore(Yt["s-ol"]=Vt,Yt)}}for(const Bt of qn){const Yt=Bt.$nodeToRelocate$,Vt=Bt.$slotRefNode$;if(Vt){const Pn=Vt.parentNode;let Xn=Vt.nextSibling;{let Zn=null===(ge=Yt["s-ol"])||void 0===ge?void 0:ge.previousSibling;for(;Zn;){let In=null!==(Ge=Zn["s-nr"])&&void 0!==Ge?Ge:null;if(In&&In["s-sn"]===Yt["s-sn"]&&Pn===In.parentNode){for(In=In.nextSibling;In===Yt||In?.["s-sr"];)In=In?.nextSibling;if(!In||!In["s-nr"]){Xn=In;break}}Zn=Zn.previousSibling}}(!Xn&&Pn!==Yt.parentNode||Yt.nextSibling!==Xn)&&Yt!==Xn&&(!Yt["s-hn"]&&Yt["s-ol"]&&(Yt["s-hn"]=Yt["s-ol"].parentNode.nodeName),Pn.insertBefore(Yt,Xn),1===Yt.nodeType&&(Yt.hidden=null!==(Ve=Yt["s-ih"])&&void 0!==Ve&&Ve)),Yt&&"function"==typeof Vt["s-rf"]&&Vt["s-rf"](Yt)}else 1===Yt.nodeType&&(ve&&(Yt["s-ih"]=null!==(ht=Yt.hidden)&&void 0!==ht&&ht),Yt.hidden=!0)}}be&&un(wt.$elm$),zn.$flags$&=-2,qn.length=0,Ae=void 0})(S,N,ge)}catch(Ge){Kn(Ge,S.$hostElement$)}return null},R=S=>{const ve=S.$hostElement$,Ge=S.$lazyInstance$,Ve=S.$ancestorComponent$;ze(Ge,"componentDidRender"),64&S.$flags$?ze(Ge,"componentDidUpdate"):(S.$flags$|=64,tt(ve),ze(Ge,"componentDidLoad"),S.$onReadyResolve$(ve),Ve||ne()),S.$onInstanceResolve$(ve),S.$onRenderResolve$&&(S.$onRenderResolve$(),S.$onRenderResolve$=void 0),512&S.$flags$&&Ca(()=>kt(S,!1)),S.$flags$&=-517},de=S=>{{const N=rt(S),ve=N.$hostElement$.isConnected;return ve&&2==(18&N.$flags$)&&kt(N,!1),ve}},ne=S=>{tt(ai.documentElement),Ca(()=>pn(Ho,"appload",{detail:{namespace:"ionic"}}))},ze=(S,N,ve)=>{if(S&&S[N])try{return S[N](ve)}catch(ge){Kn(ge)}},tt=S=>S.classList.add("hydrated"),Ft=(S,N,ve)=>{var ge;const Ge=S.prototype;if(N.$members$){S.watchers&&(N.$watchers$=S.watchers);const Ve=Object.entries(N.$members$);if(Ve.map(([ht,[it]])=>{31&it||2&ve&&32&it?Object.defineProperty(Ge,ht,{get(){return((S,N)=>rt(this).$instanceValues$.get(N))(0,ht)},set(lt){((S,N,ve,ge)=>{const Ge=rt(S),Ve=Ge.$hostElement$,ht=Ge.$instanceValues$.get(N),it=Ge.$flags$,lt=Ge.$lazyInstance$;ve=((S,N)=>null==S||$(S)?S:4&N?"false"!==S&&(""===S||!!S):2&N?parseFloat(S):1&N?String(S):S)(ve,ge.$members$[N][0]);const ut=Number.isNaN(ht)&&Number.isNaN(ve);if((!(8&it)||void 0===ht)&&ve!==ht&&!ut&&(Ge.$instanceValues$.set(N,ve),lt)){if(ge.$watchers$&&128&it){const Bt=ge.$watchers$[N];Bt&&Bt.map(Yt=>{try{lt[Yt](ve,ht,N)}catch(Vt){Kn(Vt,Ve)}})}2==(18&it)&&kt(Ge,!1)}})(this,ht,lt,N)},configurable:!0,enumerable:!0}):1&ve&&64&it&&Object.defineProperty(Ge,ht,{value(...lt){var ut;const wt=rt(this);return null===(ut=wt?.$onInstancePromise$)||void 0===ut?void 0:ut.then(()=>{var Bt;return null===(Bt=wt.$lazyInstance$)||void 0===Bt?void 0:Bt[ht](...lt)})}})}),1&ve){const ht=new Map;Ge.attributeChangedCallback=function(it,lt,ut){zn.jmp(()=>{var wt;const Bt=ht.get(it);if(this.hasOwnProperty(Bt))ut=this[Bt],delete this[Bt];else{if(Ge.hasOwnProperty(Bt)&&"number"==typeof this[Bt]&&this[Bt]==ut)return;if(null==Bt){const Yt=rt(this),Vt=Yt?.$flags$;if(Vt&&!(8&Vt)&&128&Vt&&ut!==lt){const Pn=Yt.$lazyInstance$,Xn=null===(wt=N.$watchers$)||void 0===wt?void 0:wt[it];Xn?.forEach(Zn=>{null!=Pn[Zn]&&Pn[Zn].call(Pn,ut,lt,it)})}return}}this[Bt]=(null!==ut||"boolean"!=typeof this[Bt])&&ut})},S.observedAttributes=Array.from(new Set([...Object.keys(null!==(ge=N.$watchers$)&&void 0!==ge?ge:{}),...Ve.filter(([it,lt])=>15&lt[0]).map(([it,lt])=>{var ut;const wt=lt[1]||it;return ht.set(wt,it),512&lt[0]&&(null===(ut=N.$attrsToReflect$)||void 0===ut||ut.push([it,wt])),wt})]))}}return S},Tn=function(){var S=(0,E.A)(function*(N,ve,ge,Ge){let Ve;if(!(32&ve.$flags$)){if(ve.$flags$|=32,ge.$lazyBundleId$){if(Ve=oi(ge),Ve.then){const wt=()=>{};Ve=yield Ve,wt()}Ve.isProxied||(ge.$watchers$=Ve.watchers,Ft(Ve,ge,2),Ve.isProxied=!0);const ut=()=>{};ve.$flags$|=8;try{new Ve(ve)}catch(wt){Kn(wt)}ve.$flags$&=-9,ve.$flags$|=128,ut(),Ct(ve.$lazyInstance$)}else Ve=N.constructor,customElements.whenDefined(ge.$tagName$).then(()=>ve.$flags$|=128);if(Ve.style){let ut=Ve.style;"string"!=typeof ut&&(ut=ut[ve.$modeName$=(S=>jo.map(N=>N(S)).find(N=>!!N))(N)]);const wt=Re(ge,ve.$modeName$);if(!xi.has(wt)){const Bt=()=>{};Kt(wt,ut,!!(1&ge.$flags$)),Bt()}}}const ht=ve.$ancestorComponent$,it=()=>kt(ve,!0);ht&&ht["s-rc"]?ht["s-rc"].push(it):it()});return function(ve,ge,Ge,Ve){return S.apply(this,arguments)}}(),Ct=S=>{ze(S,"connectedCallback")},yi=S=>{const N=S["s-cr"]=ai.createComment("");N["s-cn"]=!0,S.insertBefore(N,S.firstChild)},_i=S=>{ze(S,"disconnectedCallback")},Ri=function(){var S=(0,E.A)(function*(N){if(!(1&zn.$flags$)){const ve=rt(N);ve.$rmListeners$&&(ve.$rmListeners$.map(ge=>ge()),ve.$rmListeners$=void 0),ve?.$lazyInstance$?_i(ve.$lazyInstance$):ve?.$onReadyPromise$&&ve.$onReadyPromise$.then(()=>_i(ve.$lazyInstance$))}});return function(ve){return S.apply(this,arguments)}}(),Rr=(S,N={})=>{var ve;const Ge=[],Ve=N.exclude||[],ht=Ho.customElements,it=ai.head,lt=it.querySelector("meta[charset]"),ut=ai.createElement("style"),wt=[],Bt=ai.querySelectorAll(`[${Z}]`);let Yt,Vt=!0,Pn=0;for(Object.assign(zn,N),zn.$resourcesUrl$=new URL(N.resourcesUrl||"./",ai.baseURI).href,zn.$flags$|=2;Pn<Bt.length;Pn++)Kt(Bt[Pn].getAttribute(Z),gt(Bt[Pn].innerHTML),!0);let Xn=!1;if(S.map(Zn=>{Zn[1].map(In=>{var Gs;const To={$flags$:In[0],$tagName$:In[1],$members$:In[2],$listeners$:In[3]};4&To.$flags$&&(Xn=!0),To.$members$=In[2],To.$listeners$=In[3],To.$attrsToReflect$=[],To.$watchers$=null!==(Gs=In[4])&&void 0!==Gs?Gs:{};const Uo=To.$tagName$,sl=class extends HTMLElement{constructor(is){super(is),ei(is=this,To),1&To.$flags$&&is.attachShadow({mode:"open",delegatesFocus:!!(16&To.$flags$)})}connectedCallback(){Yt&&(clearTimeout(Yt),Yt=null),Vt?wt.push(this):zn.jmp(()=>(S=>{if(!(1&zn.$flags$)){const N=rt(S),ve=N.$cmpMeta$,ge=()=>{};if(1&N.$flags$)ts(S,N,ve.$listeners$),N?.$lazyInstance$?Ct(N.$lazyInstance$):N?.$onReadyPromise$&&N.$onReadyPromise$.then(()=>Ct(N.$lazyInstance$));else{let Ge;if(N.$flags$|=1,Ge=S.getAttribute(Pe),Ge){if(1&ve.$flags$){const Ve=Ye(S.shadowRoot,ve,S.getAttribute("s-mode"));S.classList.remove(Ve+"-h",Ve+"-s")}((S,N,ve,ge)=>{const Ve=S.shadowRoot,ht=[],lt=Ve?[]:null,ut=ge.$vnode$=Je(N,null);zn.$orgLocNodes$||Te(ai.body,zn.$orgLocNodes$=new Map),S[Pe]=ve,S.removeAttribute(Pe),Fe(ut,ht,[],lt,S,S,ve),ht.map(wt=>{const Bt=wt.$hostId$+"."+wt.$nodeId$,Yt=zn.$orgLocNodes$.get(Bt),Vt=wt.$elm$;Yt&&ur&&""===Yt["s-en"]&&Yt.parentNode.insertBefore(Vt,Yt.nextSibling),Ve||(Vt["s-hn"]=N,Yt&&(Vt["s-ol"]=Yt,Vt["s-ol"]["s-nr"]=Vt)),zn.$orgLocNodes$.delete(Bt)}),Ve&&lt.map(wt=>{wt&&Ve.appendChild(wt)})})(S,ve.$tagName$,Ge,N)}Ge||12&ve.$flags$&&yi(S);{let Ve=S;for(;Ve=Ve.parentNode||Ve.host;)if(1===Ve.nodeType&&Ve.hasAttribute("s-id")&&Ve["s-p"]||Ve["s-p"]){ot(N,N.$ancestorComponent$=Ve);break}}ve.$members$&&Object.entries(ve.$members$).map(([Ve,[ht]])=>{if(31&ht&&S.hasOwnProperty(Ve)){const it=S[Ve];delete S[Ve],S[Ve]=it}}),Tn(S,N,ve)}ge()}})(this))}disconnectedCallback(){zn.jmp(()=>Ri(this))}componentOnReady(){return rt(this).$onReadyPromise$}};To.$lazyBundleId$=Zn[0],!Ve.includes(Uo)&&!ht.get(Uo)&&(Ge.push(Uo),ht.define(Uo,Ft(sl,To,1)))})}),Ge.length>0&&(Xn&&(ut.textContent+=Ce),ut.textContent+=Ge+"{visibility:hidden}.hydrated{visibility:inherit}",ut.innerHTML.length)){ut.setAttribute("data-styles","");const Zn=null!==(ve=zn.$nonce$)&&void 0!==ve?ve:re(ai);null!=Zn&&ut.setAttribute("nonce",Zn),it.insertBefore(ut,lt?lt.nextSibling:it.firstChild)}Vt=!1,wt.length?wt.map(Zn=>Zn.connectedCallback()):zn.jmp(()=>Yt=setTimeout(ne,30))},ts=(S,N,ve,ge)=>{ve&&ve.map(([Ge,Ve,ht])=>{const it=Vo(S,Ge),lt=Ki(N,ht),ut=oo(Ge);zn.ael(it,Ve,lt,ut),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>zn.rel(it,Ve,lt,ut))})},Ki=(S,N)=>ve=>{try{256&S.$flags$?S.$lazyInstance$[N](ve):(S.$queuedListeners$=S.$queuedListeners$||[]).push([N,ve])}catch(ge){Kn(ge)}},Vo=(S,N)=>4&N?ai:8&N?Ho:16&N?ai.body:S,oo=S=>ns?{passive:0!=(1&S),capture:0!=(2&S)}:0!=(2&S),Ne=new WeakMap,rt=S=>Ne.get(S),Qt=(S,N)=>Ne.set(N.$lazyInstance$=S,N),ei=(S,N)=>{const ve={$flags$:0,$hostElement$:S,$cmpMeta$:N,$instanceValues$:new Map};return ve.$onInstancePromise$=new Promise(ge=>ve.$onInstanceResolve$=ge),ve.$onReadyPromise$=new Promise(ge=>ve.$onReadyResolve$=ge),S["s-p"]=[],S["s-rc"]=[],ts(S,ve,N.$listeners$),Ne.set(S,ve)},Bn=(S,N)=>N in S,Kn=(S,N)=>(0,console.error)(S,N),Jn=new Map,oi=(S,N,ve)=>{const ge=S.$tagName$.replace(/-/g,"_"),Ge=S.$lazyBundleId$,Ve=Jn.get(Ge);return Ve?Ve[ge]:A(8996)(`./${Ge}.entry.js`).then(ht=>(Jn.set(Ge,ht),ht[ge]),Kn)},xi=new Map,jo=[],Ho=typeof window<"u"?window:{},ai=Ho.document||{head:{}},zn={$flags$:0,$resourcesUrl$:"",jmp:S=>S(),raf:S=>requestAnimationFrame(S),ael:(S,N,ve,ge)=>S.addEventListener(N,ve,ge),rel:(S,N,ve,ge)=>S.removeEventListener(N,ve,ge),ce:(S,N)=>new CustomEvent(S,N)},ro=S=>{Object.assign(zn,S)},ur=!0,ns=(()=>{let S=!1;try{ai.addEventListener("e",null,Object.defineProperty({},"passive",{get(){S=!0}}))}catch{}return S})(),Ma=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Jo=[],Bi=[],Zo=(S,N)=>ve=>{S.push(ve),F||(F=!0,N&&4&zn.$flags$?Ca(br):zn.raf(br))},Lr=S=>{for(let N=0;N<S.length;N++)try{S[N](performance.now())}catch(ve){Kn(ve)}S.length=0},br=()=>{Lr(Jo),Lr(Bi),(F=Jo.length>0)&&zn.raf(br)},Ca=S=>Promise.resolve(void 0).then(S),Ue=Zo(Jo,!1),xt=Zo(Bi,!0)},8476:(Mt,Le,A)=>{"use strict";A.d(Le,{d:()=>s,w:()=>E});const E=typeof window<"u"?window:void 0,s=typeof document<"u"?document:void 0},7555:(Mt,Le,A)=>{"use strict";A.d(Le,{b:()=>ke,c:()=>q,d:()=>be,e:()=>V,g:()=>Q,l:()=>oe,s:()=>D,t:()=>F,w:()=>Ce});var E=A(467),s=A(4363),z=A(5638);const ke="ionViewWillLeave",q="ionViewDidLeave",be="ionViewWillUnload",F=K=>new Promise(($,re)=>{(0,s.w)(()=>{se(K),ce(K).then(je=>{je.animation&&je.animation.destroy(),ie(K),$(je)},je=>{ie(K),re(je)})})}),se=K=>{const $=K.enteringEl,re=K.leavingEl;U($,re,K.direction),K.showGoBack?$.classList.add("can-go-back"):$.classList.remove("can-go-back"),D($,!1),$.style.setProperty("pointer-events","none"),re&&(D(re,!1),re.style.setProperty("pointer-events","none"))},ce=function(){var K=(0,E.A)(function*($){const re=yield Ie($);return re&&s.B.isBrowser?ye(re,$):pe($)});return function(re){return K.apply(this,arguments)}}(),ie=K=>{const $=K.enteringEl,re=K.leavingEl;$.classList.remove("ion-page-invisible"),$.style.removeProperty("pointer-events"),void 0!==re&&(re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events"))},Ie=function(){var K=(0,E.A)(function*($){return $.leavingEl&&$.animated&&0!==$.duration?$.animationBuilder?$.animationBuilder:"ios"===$.mode?(yield Promise.resolve().then(A.bind(A,4569))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,2942))).mdTransitionAnimation:void 0});return function(re){return K.apply(this,arguments)}}(),ye=function(){var K=(0,E.A)(function*($,re){yield J(re,!0);const je=$(re.baseEl,re);Z(re.enteringEl,re.leavingEl);const Je=yield Pe(je,re);return re.progressCallback&&re.progressCallback(void 0),Je&&Ee(re.enteringEl,re.leavingEl),{hasCompleted:Je,animation:je}});return function(re,je){return K.apply(this,arguments)}}(),pe=function(){var K=(0,E.A)(function*($){const re=$.enteringEl,je=$.leavingEl;return yield J($,!1),Z(re,je),Ee(re,je),{hasCompleted:!0}});return function(re){return K.apply(this,arguments)}}(),J=function(){var K=(0,E.A)(function*($,re){(void 0!==$.deepWait?$.deepWait:re)&&(yield Promise.all([V($.enteringEl),V($.leavingEl)])),yield fe($.viewIsReady,$.enteringEl)});return function(re,je){return K.apply(this,arguments)}}(),fe=function(){var K=(0,E.A)(function*($,re){$&&(yield $(re))});return function(re,je){return K.apply(this,arguments)}}(),Pe=(K,$)=>{const re=$.progressCallback,je=new Promise(Je=>{K.onFinish(ct=>Je(1===ct))});return re?(K.progressStart(!0),re(K)):K.play(),je},Z=(K,$)=>{oe($,ke),oe(K,"ionViewWillEnter")},Ee=(K,$)=>{oe(K,"ionViewDidEnter"),oe($,q)},oe=(K,$)=>{if(K){const re=new CustomEvent($,{bubbles:!1,cancelable:!1});K.dispatchEvent(re)}},Ce=()=>new Promise(K=>(0,z.r)(()=>(0,z.r)(()=>K()))),V=function(){var K=(0,E.A)(function*($){const re=$;if(re){if(null!=re.componentOnReady){if(null!=(yield re.componentOnReady()))return}else if(null!=re.__registerHost)return void(yield new Promise(Je=>(0,z.r)(Je)));yield Promise.all(Array.from(re.children).map(V))}});return function(re){return K.apply(this,arguments)}}(),D=(K,$)=>{$?(K.setAttribute("aria-hidden","true"),K.classList.add("ion-page-hidden")):(K.hidden=!1,K.removeAttribute("aria-hidden"),K.classList.remove("ion-page-hidden"))},U=(K,$,re)=>{void 0!==K&&(K.style.zIndex="back"===re?"99":"101"),void 0!==$&&($.style.zIndex="100")},Q=K=>K.classList.contains("ion-page")?K:K.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||K},611:(Mt,Le,A)=>{"use strict";A.d(Le,{a:()=>F,b:()=>Je,c:()=>z,i:()=>ct});var E=A(4363);class s{constructor(){this.m=new Map}reset(W){this.m=new Map(Object.entries(W))}get(W,G){const X=this.m.get(W);return void 0!==X?X:G}getBoolean(W,G=!1){const X=this.m.get(W);return void 0===X?G:"string"==typeof X?"true"===X:!!X}getNumber(W,G){const X=parseFloat(this.m.get(W));return isNaN(X)?void 0!==G?G:NaN:X}set(W,G){this.m.set(W,G)}}const z=new s,we="ionic-persist-config",F=(Be,W)=>("string"==typeof Be&&(W=Be,Be=void 0),(Be=>se(Be))(Be).includes(W)),se=(Be=window)=>{if(typeof Be>"u")return[];Be.Ionic=Be.Ionic||{};let W=Be.Ionic.platforms;return null==W&&(W=Be.Ionic.platforms=ce(Be),W.forEach(G=>Be.document.documentElement.classList.add(`plt-${G}`))),W},ce=Be=>{const W=z.get("platform");return Object.keys(re).filter(G=>{const X=W?.[G];return"function"==typeof X?X(Be):re[G](Be)})},Ie=Be=>!!(K(Be,/iPad/i)||K(Be,/Macintosh/i)&&Ee(Be)),J=Be=>K(Be,/android|sink/i),Ee=Be=>$(Be,"(any-pointer:coarse)"),Ce=Be=>V(Be)||D(Be),V=Be=>!!(Be.cordova||Be.phonegap||Be.PhoneGap),D=Be=>{const W=Be.Capacitor;return!!W?.isNative},K=(Be,W)=>W.test(Be.navigator.userAgent),$=(Be,W)=>{var G;return null===(G=Be.matchMedia)||void 0===G?void 0:G.call(Be,W).matches},re={ipad:Ie,iphone:Be=>K(Be,/iPhone/i),ios:Be=>K(Be,/iPhone|iPod/i)||Ie(Be),android:J,phablet:Be=>{const W=Be.innerWidth,G=Be.innerHeight,X=Math.min(W,G),me=Math.max(W,G);return X>390&&X<520&&me>620&&me<800},tablet:Be=>{const W=Be.innerWidth,G=Be.innerHeight,X=Math.min(W,G),me=Math.max(W,G);return Ie(Be)||(Be=>J(Be)&&!K(Be,/mobile/i))(Be)||X>460&&X<820&&me>780&&me<1400},cordova:V,capacitor:D,electron:Be=>K(Be,/electron/i),pwa:Be=>{var W;return!!(null!==(W=Be.matchMedia)&&void 0!==W&&W.call(Be,"(display-mode: standalone)").matches||Be.navigator.standalone)},mobile:Ee,mobileweb:Be=>Ee(Be)&&!Ce(Be),desktop:Be=>!Ee(Be),hybrid:Ce};let je;const Je=Be=>Be&&(0,E.g)(Be)||je,ct=(Be={})=>{if(typeof window>"u")return;const W=window.document,G=window,X=G.Ionic=G.Ionic||{},me={};Be._ael&&(me.ael=Be._ael),Be._rel&&(me.rel=Be._rel),Be._ce&&(me.ce=Be._ce),(0,E.a)(me);const Fe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Be=>{try{const W=Be.sessionStorage.getItem(we);return null!==W?JSON.parse(W):{}}catch{return{}}})(G)),{persistConfig:!1}),X.config),(Be=>{const W={};return Be.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,X])=>[decodeURIComponent(G),decodeURIComponent(X)]).filter(([G])=>((Be,W)=>Be.substr(0,W.length)===W)(G,"ionic:")).map(([G,X])=>[G.slice(6),X]).forEach(([G,X])=>{W[G]=X}),W})(G)),Be);z.reset(Fe),z.getBoolean("persistConfig")&&((Be,W)=>{try{Be.sessionStorage.setItem(we,JSON.stringify(W))}catch{return}})(G,Fe),se(G),X.config=z,X.mode=je=z.get("mode",W.documentElement.getAttribute("mode")||(F(G,"ios")?"ios":"md")),z.set("mode",je),W.documentElement.setAttribute("mode",je),W.documentElement.classList.add(je),z.getBoolean("_testing")&&z.set("animated",!1);const Te=He=>{var nt;return null===(nt=He.tagName)||void 0===nt?void 0:nt.startsWith("ION-")},Ze=He=>["ios","md"].includes(He);(0,E.c)(He=>{for(;He;){const nt=He.mode||He.getAttribute("mode");if(nt){if(Ze(nt))return nt;Te(He)&&console.warn('Invalid ionic mode: "'+nt+'", expected: "ios" or "md"')}He=He.parentElement}return je})}},4569:(Mt,Le,A)=>{"use strict";A.r(Le),A.d(Le,{iosTransitionAnimation:()=>ce,shadow:()=>q});var E=A(3503),s=A(7555);A(8476),A(4363);const ke=Ie=>document.querySelector(`${Ie}.ion-cloned-element`),q=Ie=>Ie.shadowRoot||Ie,be=Ie=>{const ye="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs"),pe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ye){const J=ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=J?J.querySelector(pe):null}return Ie.querySelector(pe)},we=(Ie,ye)=>{const pe="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs");let J=[];if(null!=pe){const fe=pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=fe&&(J=fe.querySelectorAll("ion-buttons"))}else J=Ie.querySelectorAll("ion-buttons");for(const fe of J){const Pe=fe.closest("ion-header"),Z=Pe&&!Pe.classList.contains("header-collapse-condense-inactive"),Ee=fe.querySelector("ion-back-button"),oe=fe.classList.contains("buttons-collapse");if(null!==Ee&&("start"===fe.slot||""===fe.slot)&&(oe&&Z&&ye||!oe))return Ee}return null},F=(Ie,ye,pe,J,fe,Pe,Z,Ee,oe)=>{var Ce,V;const D=ye?`calc(100% - ${fe.right+4}px)`:fe.left-4+"px",U=ye?"right":"left",Q=ye?"left":"right",K=ye?"right":"left",$=(null===(Ce=Pe.textContent)||void 0===Ce?void 0:Ce.trim())===(null===(V=Ee.textContent)||void 0===V?void 0:V.trim()),je=(oe.height-ie)/Z.height,Je=$?`scale(${oe.width/Z.width}, ${je})`:`scale(${je})`,ct="scale(1)",W=q(J).querySelector("ion-icon").getBoundingClientRect(),G=ye?W.width/2-(W.right-fe.right)+"px":fe.left-W.width/2+"px",X=ye?`-${window.innerWidth-fe.right}px`:`${fe.left}px`,me=`${oe.top}px`,Fe=`${fe.top}px`,He=pe?[{offset:0,transform:`translate3d(${X}, ${Fe}, 0)`},{offset:1,transform:`translate3d(${G}, ${me}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${me}, 0)`},{offset:1,transform:`translate3d(${X}, ${Fe}, 0)`}],Zt=pe?[{offset:0,opacity:1,transform:ct},{offset:1,opacity:0,transform:Je}]:[{offset:0,opacity:0,transform:Je},{offset:1,opacity:1,transform:ct}],qt=pe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Kt=(0,E.c)(),Ye=(0,E.c)(),De=(0,E.c)(),Re=ke("ion-back-button"),gt=q(Re).querySelector(".button-text"),At=q(Re).querySelector("ion-icon");Re.text=J.text,Re.mode=J.mode,Re.icon=J.icon,Re.color=J.color,Re.disabled=J.disabled,Re.style.setProperty("display","block"),Re.style.setProperty("position","fixed"),Ye.addElement(At),Kt.addElement(gt),De.addElement(Re),De.beforeStyles({position:"absolute",top:"0px",[K]:"0px"}).keyframes(He),Kt.beforeStyles({"transform-origin":`${U} top`}).beforeAddWrite(()=>{J.style.setProperty("display","none"),Re.style.setProperty(U,D)}).afterAddWrite(()=>{J.style.setProperty("display",""),Re.style.setProperty("display","none"),Re.style.removeProperty(U)}).keyframes(Zt),Ye.beforeStyles({"transform-origin":`${Q} center`}).keyframes(qt),Ie.addAnimation([Kt,Ye,De])},se=(Ie,ye,pe,J,fe,Pe,Z,Ee)=>{var oe,Ce;const V=ye?"right":"left",D=ye?`calc(100% - ${fe.right}px)`:`${fe.left}px`,Q=`${fe.top}px`,$=ye?`-${window.innerWidth-Ee.right-8}px`:Ee.x-8+"px",je=Ee.y-2+"px",Je=(null===(oe=Z.textContent)||void 0===oe?void 0:oe.trim())===(null===(Ce=J.textContent)||void 0===Ce?void 0:Ce.trim()),Be=Ee.height/(Pe.height-ie),W="scale(1)",G=Je?`scale(${Ee.width/Pe.width}, ${Be})`:`scale(${Be})`,Fe=pe?[{offset:0,opacity:0,transform:`translate3d(${$}, ${je}, 0) ${G}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Q}, 0) ${W}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Q}, 0) ${W}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${$}, ${je}, 0) ${G}`}],Te=ke("ion-title"),Ze=(0,E.c)();Te.innerText=J.innerText,Te.size=J.size,Te.color=J.color,Ze.addElement(Te),Ze.beforeStyles({"transform-origin":`${V} top`,height:`${fe.height}px`,display:"",position:"relative",[V]:D}).beforeAddWrite(()=>{J.style.setProperty("opacity","0")}).afterAddWrite(()=>{J.style.setProperty("opacity",""),Te.style.setProperty("display","none")}).keyframes(Fe),Ie.addAnimation(Ze)},ce=(Ie,ye)=>{var pe;try{const J="cubic-bezier(0.32,0.72,0,1)",fe="opacity",Pe="transform",Z="0%",oe="rtl"===Ie.ownerDocument.dir,Ce=oe?"-99.5%":"99.5%",V=oe?"33%":"-33%",D=ye.enteringEl,U=ye.leavingEl,Q="back"===ye.direction,K=D.querySelector(":scope > ion-content"),$=D.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),re=D.querySelectorAll(":scope > ion-header > ion-toolbar"),je=(0,E.c)(),Je=(0,E.c)();if(je.addElement(D).duration((null!==(pe=ye.duration)&&void 0!==pe?pe:0)||540).easing(ye.easing||J).fill("both").beforeRemoveClass("ion-page-invisible"),U&&null!=Ie){const G=(0,E.c)();G.addElement(Ie),je.addAnimation(G)}if(K||0!==re.length||0!==$.length?(Je.addElement(K),Je.addElement($)):Je.addElement(D.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(Je),Q?Je.beforeClearStyles([fe]).fromTo("transform",`translateX(${V})`,`translateX(${Z})`).fromTo(fe,.8,1):Je.beforeClearStyles([fe]).fromTo("transform",`translateX(${Ce})`,`translateX(${Z})`),K){const G=q(K).querySelector(".transition-effect");if(G){const X=G.querySelector(".transition-cover"),me=G.querySelector(".transition-shadow"),Fe=(0,E.c)(),Te=(0,E.c)(),Ze=(0,E.c)();Fe.addElement(G).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Te.addElement(X).beforeClearStyles([fe]).fromTo(fe,0,.1),Ze.addElement(me).beforeClearStyles([fe]).fromTo(fe,.03,.7),Fe.addAnimation([Te,Ze]),Je.addAnimation([Fe])}}const ct=D.querySelector("ion-header.header-collapse-condense"),{forward:Be,backward:W}=((Ie,ye,pe,J,fe)=>{const Pe=we(J,pe),Z=be(fe),Ee=be(J),oe=we(fe,pe),Ce=null!==Pe&&null!==Z&&!pe,V=null!==Ee&&null!==oe&&pe;if(Ce){const D=Z.getBoundingClientRect(),U=Pe.getBoundingClientRect(),Q=q(Pe).querySelector(".button-text"),K=Q.getBoundingClientRect(),re=q(Z).querySelector(".toolbar-title").getBoundingClientRect();se(Ie,ye,pe,Z,D,re,Q,K),F(Ie,ye,pe,Pe,U,Q,K,Z,re)}else if(V){const D=Ee.getBoundingClientRect(),U=oe.getBoundingClientRect(),Q=q(oe).querySelector(".button-text"),K=Q.getBoundingClientRect(),re=q(Ee).querySelector(".toolbar-title").getBoundingClientRect();se(Ie,ye,pe,Ee,D,re,Q,K),F(Ie,ye,pe,oe,U,Q,K,Ee,re)}return{forward:Ce,backward:V}})(je,oe,Q,D,U);if(re.forEach(G=>{const X=(0,E.c)();X.addElement(G),je.addAnimation(X);const me=(0,E.c)();me.addElement(G.querySelector("ion-title"));const Fe=(0,E.c)(),Te=Array.from(G.querySelectorAll("ion-buttons,[menuToggle]")),Ze=G.closest("ion-header"),He=Ze?.classList.contains("header-collapse-condense-inactive");let nt;nt=Te.filter(Q?qt=>{const Kt=qt.classList.contains("buttons-collapse");return Kt&&!He||!Kt}:qt=>!qt.classList.contains("buttons-collapse")),Fe.addElement(nt);const Et=(0,E.c)();Et.addElement(G.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Zt=(0,E.c)();Zt.addElement(q(G).querySelector(".toolbar-background"));const Nt=(0,E.c)(),pn=G.querySelector("ion-back-button");if(pn&&Nt.addElement(pn),X.addAnimation([me,Fe,Et,Zt,Nt]),Fe.fromTo(fe,.01,1),Et.fromTo(fe,.01,1),Q)He||me.fromTo("transform",`translateX(${V})`,`translateX(${Z})`).fromTo(fe,.01,1),Et.fromTo("transform",`translateX(${V})`,`translateX(${Z})`),Nt.fromTo(fe,.01,1);else if(ct||me.fromTo("transform",`translateX(${Ce})`,`translateX(${Z})`).fromTo(fe,.01,1),Et.fromTo("transform",`translateX(${Ce})`,`translateX(${Z})`),Zt.beforeClearStyles([fe,"transform"]),Ze?.translucent?Zt.fromTo("transform",oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Zt.fromTo(fe,.01,"var(--opacity)"),Be||Nt.fromTo(fe,.01,1),pn&&!Be){const Kt=(0,E.c)();Kt.addElement(q(pn).querySelector(".button-text")).fromTo("transform",oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),X.addAnimation(Kt)}}),U){const G=(0,E.c)(),X=U.querySelector(":scope > ion-content"),me=U.querySelectorAll(":scope > ion-header > ion-toolbar"),Fe=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(X||0!==me.length||0!==Fe.length?(G.addElement(X),G.addElement(Fe)):G.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),je.addAnimation(G),Q){G.beforeClearStyles([fe]).fromTo("transform",`translateX(${Z})`,oe?"translateX(-100%)":"translateX(100%)");const Te=(0,s.g)(U);je.afterAddWrite(()=>{"normal"===je.getDirection()&&Te.style.setProperty("display","none")})}else G.fromTo("transform",`translateX(${Z})`,`translateX(${V})`).fromTo(fe,1,.8);if(X){const Te=q(X).querySelector(".transition-effect");if(Te){const Ze=Te.querySelector(".transition-cover"),He=Te.querySelector(".transition-shadow"),nt=(0,E.c)(),Et=(0,E.c)(),Zt=(0,E.c)();nt.addElement(Te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(Ze).beforeClearStyles([fe]).fromTo(fe,.1,0),Zt.addElement(He).beforeClearStyles([fe]).fromTo(fe,.7,.03),nt.addAnimation([Et,Zt]),G.addAnimation([nt])}}me.forEach(Te=>{const Ze=(0,E.c)();Ze.addElement(Te);const He=(0,E.c)();He.addElement(Te.querySelector("ion-title"));const nt=(0,E.c)(),Et=Te.querySelectorAll("ion-buttons,[menuToggle]"),Zt=Te.closest("ion-header"),Nt=Zt?.classList.contains("header-collapse-condense-inactive"),pn=Array.from(Et).filter(gt=>{const At=gt.classList.contains("buttons-collapse");return At&&!Nt||!At});nt.addElement(pn);const qt=(0,E.c)(),Kt=Te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Kt.length>0&&qt.addElement(Kt);const Ye=(0,E.c)();Ye.addElement(q(Te).querySelector(".toolbar-background"));const De=(0,E.c)(),Re=Te.querySelector("ion-back-button");if(Re&&De.addElement(Re),Ze.addAnimation([He,nt,qt,De,Ye]),je.addAnimation(Ze),De.fromTo(fe,.99,0),nt.fromTo(fe,.99,0),qt.fromTo(fe,.99,0),Q){if(Nt||He.fromTo("transform",`translateX(${Z})`,oe?"translateX(-100%)":"translateX(100%)").fromTo(fe,.99,0),qt.fromTo("transform",`translateX(${Z})`,oe?"translateX(-100%)":"translateX(100%)"),Ye.beforeClearStyles([fe,"transform"]),Zt?.translucent?Ye.fromTo("transform","translateX(0px)",oe?"translateX(-100%)":"translateX(100%)"):Ye.fromTo(fe,"var(--opacity)",0),Re&&!W){const At=(0,E.c)();At.addElement(q(Re).querySelector(".button-text")).fromTo("transform",`translateX(${Z})`,`translateX(${(oe?-124:124)+"px"})`),Ze.addAnimation(At)}}else Nt||He.fromTo("transform",`translateX(${Z})`,`translateX(${V})`).fromTo(fe,.99,0).afterClearStyles([Pe,fe]),qt.fromTo("transform",`translateX(${Z})`,`translateX(${V})`).afterClearStyles([Pe,fe]),De.afterClearStyles([fe]),He.afterClearStyles([fe]),nt.afterClearStyles([fe])})}return je}catch(J){throw J}},ie=10},2942:(Mt,Le,A)=>{"use strict";A.r(Le),A.d(Le,{mdTransitionAnimation:()=>Ae});var E=A(3503),s=A(7555);A(8476),A(4363);const Ae=(ke,q)=>{var be,we,B;const F="40px",ce="back"===q.direction,Ie=q.leavingEl,ye=(0,s.g)(q.enteringEl),pe=ye.querySelector("ion-toolbar"),J=(0,E.c)();if(J.addElement(ye).fill("both").beforeRemoveClass("ion-page-invisible"),ce?J.duration((null!==(be=q.duration)&&void 0!==be?be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):J.duration((null!==(we=q.duration)&&void 0!==we?we:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${F})`,"translateY(0px)").fromTo("opacity",.01,1),pe){const fe=(0,E.c)();fe.addElement(pe),J.addAnimation(fe)}if(Ie&&ce){J.duration((null!==(B=q.duration)&&void 0!==B?B:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const fe=(0,E.c)();fe.addElement((0,s.g)(Ie)).onFinish(Pe=>{1===Pe&&fe.elements.length>0&&fe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${F})`).fromTo("opacity",1,0),J.addAnimation(fe)}return J}},5516:(Mt,Le,A)=>{"use strict";A.d(Le,{B:()=>nt,G:()=>Et,O:()=>Zt,a:()=>se,b:()=>ce,c:()=>pe,d:()=>Nt,e:()=>pn,f:()=>ct,g:()=>W,h:()=>me,i:()=>Te,j:()=>fe,k:()=>Pe,l:()=>ie,m:()=>Ie,n:()=>Ce,o:()=>je,s:()=>He,t:()=>J});var E=A(467),s=A(8476),z=A(3113),ae=A(611),Ae=A(5938),ke=A(5638),q=A(4929);let be=0,we=0;const B=new WeakMap,F=Ye=>({create:De=>Z(Ye,De),dismiss:(De,Re,gt)=>K(document,De,Re,Ye,gt),getTop:()=>(0,E.A)(function*(){return je(document,Ye)})()}),se=F("ion-alert"),ce=F("ion-action-sheet"),ie=F("ion-loading"),Ie=F("ion-modal"),pe=F("ion-popover"),J=F("ion-toast"),fe=Ye=>{typeof document<"u"&&Q(document);const De=be++;Ye.overlayIndex=De},Pe=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++we),Ye.id),Z=(Ye,De)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const Re=document.createElement(Ye);return Re.classList.add("overlay-hidden"),Object.assign(Re,Object.assign(Object.assign({},De),{hasController:!0})),G(document).appendChild(Re),new Promise(gt=>(0,ke.c)(Re,gt))}):Promise.resolve(),Ee='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(Ye,De)=>{const Re=Ye.querySelector(Ee);D(Re,De)},V=(Ye,De)=>{const Re=Array.from(Ye.querySelectorAll(Ee));D(Re.length>0?Re[Re.length-1]:null,De)},D=(Ye,De)=>{let Re=Ye;const gt=Ye?.shadowRoot;gt&&(Re=gt.querySelector(Ee)||Ye),Re?(0,ke.f)(Re):De.focus()},Q=Ye=>{0===be&&(be=1,Ye.addEventListener("focus",De=>{((Ye,De)=>{const Re=je(De,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),gt=Ye.target;Re&&gt&&!Re.classList.contains("ion-disable-focus-trap")&&(Re.shadowRoot?(()=>{if(Re.contains(gt))Re.lastFocus=gt;else if("ION-TOAST"===gt.tagName)D(Re.lastFocus,Re);else{const on=Re.lastFocus;Ce(Re,Re),on===De.activeElement&&V(Re,Re),Re.lastFocus=De.activeElement}})():(()=>{if(Re===gt)Re.lastFocus=void 0;else if("ION-TOAST"===gt.tagName)D(Re.lastFocus,Re);else{const on=(0,ke.g)(Re);if(!on.contains(gt))return;const vn=on.querySelector(".ion-overlay-wrapper");if(!vn)return;if(vn.contains(gt)||gt===on.querySelector("ion-backdrop"))Re.lastFocus=gt;else{const mt=Re.lastFocus;Ce(vn,Re),mt===De.activeElement&&V(vn,Re),Re.lastFocus=De.activeElement}}})())})(De,Ye)},!0),Ye.addEventListener("ionBackButton",De=>{const Re=je(Ye);Re?.backdropDismiss&&De.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Re.dismiss(void 0,nt)})}),(0,z.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",De=>{if("Escape"===De.key){const Re=je(Ye);Re?.backdropDismiss&&Re.dismiss(void 0,nt)}}))},K=(Ye,De,Re,gt,At)=>{const _n=je(Ye,gt,At);return _n?_n.dismiss(De,Re):Promise.reject("overlay does not exist")},re=(Ye,De)=>((Ye,De)=>(void 0===De&&(De="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(De)).filter(Re=>Re.overlayIndex>0)))(Ye,De).filter(Re=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Re)),je=(Ye,De,Re)=>{const gt=re(Ye,De);return void 0===Re?gt[gt.length-1]:gt.find(At=>At.id===Re)},Je=(Ye=!1)=>{const Re=G(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Re&&(Ye?Re.setAttribute("aria-hidden","true"):Re.removeAttribute("aria-hidden"))},ct=function(){var Ye=(0,E.A)(function*(De,Re,gt,At,_n){var on,vn;if(De.presented)return;Je(!0),qt(De.el),De.presented=!0,De.willPresent.emit(),null===(on=De.willPresentShorthand)||void 0===on||on.emit();const mt=(0,ae.b)(De),xn=De.enterAnimation?De.enterAnimation:ae.c.get(Re,"ios"===mt?gt:At);(yield X(De,xn,De.el,_n))&&(De.didPresent.emit(),null===(vn=De.didPresentShorthand)||void 0===vn||vn.emit()),"ION-TOAST"!==De.el.tagName&&Be(De.el),De.keyboardClose&&(null===document.activeElement||!De.el.contains(document.activeElement))&&De.el.focus(),De.el.removeAttribute("aria-hidden")});return function(Re,gt,At,_n,on){return Ye.apply(this,arguments)}}(),Be=function(){var Ye=(0,E.A)(function*(De){let Re=document.activeElement;if(!Re)return;const gt=Re?.shadowRoot;gt&&(Re=gt.querySelector(Ee)||Re),yield De.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Re.focus()});return function(Re){return Ye.apply(this,arguments)}}(),W=function(){var Ye=(0,E.A)(function*(De,Re,gt,At,_n,on,vn){var mt,xn;if(!De.presented)return!1;void 0!==s.d&&1===re(s.d).length&&Je(!1),De.presented=!1;try{De.el.style.setProperty("pointer-events","none"),De.willDismiss.emit({data:Re,role:gt}),null===(mt=De.willDismissShorthand)||void 0===mt||mt.emit({data:Re,role:gt});const Jt=(0,ae.b)(De),zt=De.leaveAnimation?De.leaveAnimation:ae.c.get(At,"ios"===Jt?_n:on);gt!==Et&&(yield X(De,zt,De.el,vn)),De.didDismiss.emit({data:Re,role:gt}),null===(xn=De.didDismissShorthand)||void 0===xn||xn.emit({data:Re,role:gt}),(B.get(De)||[]).forEach(ti=>ti.destroy()),B.delete(De),De.el.classList.add("overlay-hidden"),De.el.style.removeProperty("pointer-events"),void 0!==De.el.lastFocus&&(De.el.lastFocus=void 0)}catch(Jt){console.error(Jt)}return De.el.remove(),Kt(),!0});return function(Re,gt,At,_n,on,vn,mt){return Ye.apply(this,arguments)}}(),G=Ye=>Ye.querySelector("ion-app")||Ye.body,X=function(){var Ye=(0,E.A)(function*(De,Re,gt,At){gt.classList.remove("overlay-hidden");const on=Re(De.el,At);(!De.animated||!ae.c.getBoolean("animated",!0))&&on.duration(0),De.keyboardClose&&on.beforeAddWrite(()=>{const mt=gt.ownerDocument.activeElement;mt?.matches("input,ion-input, ion-textarea")&&mt.blur()});const vn=B.get(De)||[];return B.set(De,[...vn,on]),yield on.play(),!0});return function(Re,gt,At,_n){return Ye.apply(this,arguments)}}(),me=(Ye,De)=>{let Re;const gt=new Promise(At=>Re=At);return Fe(Ye,De,At=>{Re(At.detail)}),gt},Fe=(Ye,De,Re)=>{const gt=At=>{(0,ke.b)(Ye,De,gt),Re(At)};(0,ke.a)(Ye,De,gt)},Te=Ye=>"cancel"===Ye||Ye===nt,Ze=Ye=>Ye(),He=(Ye,De)=>{if("function"==typeof Ye)return ae.c.get("_zoneGate",Ze)(()=>{try{return Ye(De)}catch(gt){throw gt}})},nt="backdrop",Et="gesture",Zt=39,Nt=Ye=>{let Re,De=!1;const gt=(0,Ae.C)(),At=(vn=!1)=>{if(Re&&!vn)return{delegate:Re,inline:De};const{el:mt,hasController:xn,delegate:Jt}=Ye;return De=null!==mt.parentNode&&!xn,Re=De?Jt||gt:Jt,{inline:De,delegate:Re}};return{attachViewToDom:function(){var vn=(0,E.A)(function*(mt){const{delegate:xn}=At(!0);if(xn)return yield xn.attachViewToDom(Ye.el,mt);const{hasController:Jt}=Ye;if(Jt&&void 0!==mt)throw new Error("framework delegate is missing");return null});return function(xn){return vn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:vn}=At();vn&&void 0!==Ye.el&&vn.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},pn=()=>{let Ye;const De=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(gt,At)=>{De();const _n=void 0!==At?document.getElementById(At):null;_n?Ye=((vn,mt)=>{const xn=()=>{mt.present()};return vn.addEventListener("click",xn),()=>{vn.removeEventListener("click",xn)}})(_n,gt):(0,q.p)(`A trigger element with the ID "${At}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,gt)},removeClickListener:De}},qt=Ye=>{var De;if(void 0===s.d)return;const Re=re(s.d);for(let gt=Re.length-1;gt>=0;gt--){const At=Re[gt],_n=null!==(De=Re[gt+1])&&void 0!==De?De:Ye;(_n.hasAttribute("aria-hidden")||"ION-TOAST"!==_n.tagName)&&At.setAttribute("aria-hidden","true")}},Kt=()=>{if(void 0===s.d)return;const Ye=re(s.d);for(let De=Ye.length-1;De>=0;De--){const Re=Ye[De];if(Re.removeAttribute("aria-hidden"),"ION-TOAST"!==Re.tagName)break}}},4089:(Mt,Le,A)=>{"use strict";var E={};A.r(E),A.d(E,{FirebaseError:()=>Oh,SDK_VERSION:()=>bR,_DEFAULT_ENTRY_NAME:()=>W0,_addComponent:()=>jf,_addOrOverwriteComponent:()=>_R,_apps:()=>q0,_clearComponents:()=>K$,_components:()=>Rh,_getProvider:()=>xR,_isFirebaseApp:()=>MR,_isFirebaseServerApp:()=>G$,_registerComponent:()=>Hf,_removeServiceInstance:()=>$$,_serverApps:()=>Ph,deleteApp:()=>Jb,getApp:()=>Y$,getApps:()=>Q$,initializeApp:()=>Qb,initializeServerApp:()=>X$,onLog:()=>ER,registerVersion:()=>ud,setLogLevel:()=>IR});var s=A(7705);let z=null;function ae(){return z}class ke{}const q=new s.nKC("DocumentToken");let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(B)},providedIn:"platform"})}}return n})();const we=new s.nKC("Location Initialized");let B=(()=>{class n extends be{constructor(){super(),this._doc=(0,s.WQX)(q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(e){const i=ae().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ae().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function F(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function se(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ce(n){return n&&"?"!==n[0]?"?"+n:n}let ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(ye)},providedIn:"root"})}}return n})();const Ie=new s.nKC("appBaseHref");let ye=(()=>{class n extends ie{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return F(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ce(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const d=this.prepareExternalUrl(o+ce(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){const d=this.prepareExternalUrl(o+ce(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(be),s.KVO(Ie,8))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pe=(()=>{class n extends ie{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=F(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let d=this.prepareExternalUrl(o+ce(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){let d=this.prepareExternalUrl(o+ce(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(be),s.KVO(Ie,8))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})(),J=(()=>{class n{constructor(e){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(se(Z(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ce(i))}normalize(e){return n.stripTrailingSlash(function Pe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Z(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ce(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ce(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static{this.normalizeQueryParams=ce}static{this.joinWithSlash=F}static{this.stripTrailingSlash=se}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ie))}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return function fe(){return new J((0,s.KVO)(ie))}()},providedIn:"root"})}}return n})();function Z(n){return n.replace(/\/index.html$/,"")}var D=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(D||{}),U=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(U||{}),Q=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Q||{}),K=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(K||{});function X(n,t){return De((0,s.H5H)(n)[s.KH2.DateFormat],t)}function me(n,t){return De((0,s.H5H)(n)[s.KH2.TimeFormat],t)}function Fe(n,t){return De((0,s.H5H)(n)[s.KH2.DateTimeFormat],t)}function Te(n,t){const e=(0,s.H5H)(n),i=e[s.KH2.NumberSymbols][t];if(typeof i>"u"){if(t===K.CurrencyDecimal)return e[s.KH2.NumberSymbols][K.Decimal];if(t===K.CurrencyGroup)return e[s.KH2.NumberSymbols][K.Group]}return i}function pn(n){if(!n[s.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function De(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Re(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const on=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vn={},mt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xn||{}),Jt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Jt||{}),zt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(zt||{});function Ii(n,t,e,i){let o=function de(n){if(ze(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,d=1]=n.split("-").map(p=>+p);return ti(o,l-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(on))return function ne(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,p=Number(n[5]||0)-i,v=Number(n[6]||0),M=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,d,p,v,M),t}(i)}const t=new Date(n);if(!ze(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Rt(e,t)||t;let p,d=[];for(;t;){if(p=mt.exec(t),!p){d.push(t);break}{d=d.concat(p.slice(1));const b=d.pop();if(!b)break;t=b}}let v=o.getTimezoneOffset();i&&(v=ue(i,v),o=function R(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function te(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ue(t,o)-o))}(o,i,!0));let M="";return d.forEach(b=>{const T=function Mn(n){if(en[n])return en[n];let t;switch(n){case"G":case"GG":case"GGG":t=un(zt.Eras,U.Abbreviated);break;case"GGGG":t=un(zt.Eras,U.Wide);break;case"GGGGG":t=un(zt.Eras,U.Narrow);break;case"y":t=En(Jt.FullYear,1,0,!1,!0);break;case"yy":t=En(Jt.FullYear,2,0,!0,!0);break;case"yyy":t=En(Jt.FullYear,3,0,!1,!0);break;case"yyyy":t=En(Jt.FullYear,4,0,!1,!0);break;case"Y":t=cn(1);break;case"YY":t=cn(2,!0);break;case"YYY":t=cn(3);break;case"YYYY":t=cn(4);break;case"M":case"L":t=En(Jt.Month,1,1);break;case"MM":case"LL":t=En(Jt.Month,2,1);break;case"MMM":t=un(zt.Months,U.Abbreviated);break;case"MMMM":t=un(zt.Months,U.Wide);break;case"MMMMM":t=un(zt.Months,U.Narrow);break;case"LLL":t=un(zt.Months,U.Abbreviated,D.Standalone);break;case"LLLL":t=un(zt.Months,U.Wide,D.Standalone);break;case"LLLLL":t=un(zt.Months,U.Narrow,D.Standalone);break;case"w":t=kt(1);break;case"ww":t=kt(2);break;case"W":t=kt(1,!0);break;case"d":t=En(Jt.Date,1);break;case"dd":t=En(Jt.Date,2);break;case"c":case"cc":t=En(Jt.Day,1);break;case"ccc":t=un(zt.Days,U.Abbreviated,D.Standalone);break;case"cccc":t=un(zt.Days,U.Wide,D.Standalone);break;case"ccccc":t=un(zt.Days,U.Narrow,D.Standalone);break;case"cccccc":t=un(zt.Days,U.Short,D.Standalone);break;case"E":case"EE":case"EEE":t=un(zt.Days,U.Abbreviated);break;case"EEEE":t=un(zt.Days,U.Wide);break;case"EEEEE":t=un(zt.Days,U.Narrow);break;case"EEEEEE":t=un(zt.Days,U.Short);break;case"a":case"aa":case"aaa":t=un(zt.DayPeriods,U.Abbreviated);break;case"aaaa":t=un(zt.DayPeriods,U.Wide);break;case"aaaaa":t=un(zt.DayPeriods,U.Narrow);break;case"b":case"bb":case"bbb":t=un(zt.DayPeriods,U.Abbreviated,D.Standalone,!0);break;case"bbbb":t=un(zt.DayPeriods,U.Wide,D.Standalone,!0);break;case"bbbbb":t=un(zt.DayPeriods,U.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=un(zt.DayPeriods,U.Abbreviated,D.Format,!0);break;case"BBBB":t=un(zt.DayPeriods,U.Wide,D.Format,!0);break;case"BBBBB":t=un(zt.DayPeriods,U.Narrow,D.Format,!0);break;case"h":t=En(Jt.Hours,1,-12);break;case"hh":t=En(Jt.Hours,2,-12);break;case"H":t=En(Jt.Hours,1);break;case"HH":t=En(Jt.Hours,2);break;case"m":t=En(Jt.Minutes,1);break;case"mm":t=En(Jt.Minutes,2);break;case"s":t=En(Jt.Seconds,1);break;case"ss":t=En(Jt.Seconds,2);break;case"S":t=En(Jt.FractionalSeconds,1);break;case"SS":t=En(Jt.FractionalSeconds,2);break;case"SSS":t=En(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Gi(xn.Short);break;case"ZZZZZ":t=Gi(xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Gi(xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Gi(xn.Long);break;default:return null}return en[n]=t,t}(b);M+=T?T(o,e,v):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function ti(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Rt(n,t){const e=function re(n){return(0,s.H5H)(n)[s.KH2.LocaleId]}(n);if(vn[e]=vn[e]||{},vn[e][t])return vn[e][t];let i="";switch(t){case"shortDate":i=X(n,Q.Short);break;case"mediumDate":i=X(n,Q.Medium);break;case"longDate":i=X(n,Q.Long);break;case"fullDate":i=X(n,Q.Full);break;case"shortTime":i=me(n,Q.Short);break;case"mediumTime":i=me(n,Q.Medium);break;case"longTime":i=me(n,Q.Long);break;case"fullTime":i=me(n,Q.Full);break;case"short":const o=Rt(n,"shortTime"),l=Rt(n,"shortDate");i=gn(Fe(n,Q.Short),[o,l]);break;case"medium":const d=Rt(n,"mediumTime"),p=Rt(n,"mediumDate");i=gn(Fe(n,Q.Medium),[d,p]);break;case"long":const v=Rt(n,"longTime"),M=Rt(n,"longDate");i=gn(Fe(n,Q.Long),[v,M]);break;case"full":const b=Rt(n,"fullTime"),T=Rt(n,"fullDate");i=gn(Fe(n,Q.Full),[b,T])}return i&&(vn[e][t]=i),i}function gn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Nn(n,t,e="-",i,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),l+d}function En(n,t,e=0,i=!1,o=!1){return function(l,d){let p=function Wn(n,t){switch(n){case Jt.FullYear:return t.getFullYear();case Jt.Month:return t.getMonth();case Jt.Date:return t.getDate();case Jt.Hours:return t.getHours();case Jt.Minutes:return t.getMinutes();case Jt.Seconds:return t.getSeconds();case Jt.FractionalSeconds:return t.getMilliseconds();case Jt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||p>-e)&&(p+=e),n===Jt.Hours)0===p&&-12===e&&(p=12);else if(n===Jt.FractionalSeconds)return function rn(n,t){return Nn(n,3).substring(0,t)}(p,t);const v=Te(d,K.MinusSign);return Nn(p,t,v,i,o)}}function un(n,t,e=D.Format,i=!1){return function(o,l){return function qn(n,t,e,i,o,l){switch(e){case zt.Months:return function ct(n,t,e){const i=(0,s.H5H)(n),l=De([i[s.KH2.MonthsFormat],i[s.KH2.MonthsStandalone]],t);return De(l,e)}(t,o,i)[n.getMonth()];case zt.Days:return function Je(n,t,e){const i=(0,s.H5H)(n),l=De([i[s.KH2.DaysFormat],i[s.KH2.DaysStandalone]],t);return De(l,e)}(t,o,i)[n.getDay()];case zt.DayPeriods:const d=n.getHours(),p=n.getMinutes();if(l){const M=function qt(n){const t=(0,s.H5H)(n);return pn(t),(t[s.KH2.ExtraData][2]||[]).map(i=>"string"==typeof i?Re(i):[Re(i[0]),Re(i[1])])}(t),b=function Kt(n,t,e){const i=(0,s.H5H)(n);pn(i);const l=De([i[s.KH2.ExtraData][0],i[s.KH2.ExtraData][1]],t)||[];return De(l,e)||[]}(t,o,i),T=M.findIndex(L=>{if(Array.isArray(L)){const[ee,Se]=L,$e=d>=ee.hours&&p>=ee.minutes,Xe=d<Se.hours||d===Se.hours&&p<Se.minutes;if(ee.hours<Se.hours){if($e&&Xe)return!0}else if($e||Xe)return!0}else if(L.hours===d&&L.minutes===p)return!0;return!1});if(-1!==T)return b[T]}return function je(n,t,e){const i=(0,s.H5H)(n),l=De([i[s.KH2.DayPeriodsFormat],i[s.KH2.DayPeriodsStandalone]],t);return De(l,e)}(t,o,i)[d<12?0:1];case zt.Eras:return function Be(n,t){return De((0,s.H5H)(n)[s.KH2.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,i)}}function Gi(n){return function(t,e,i){const o=-1*i,l=Te(e,K.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case xn.Short:return(o>=0?"+":"")+Nn(d,2,l)+Nn(Math.abs(o%60),2,l);case xn.ShortGMT:return"GMT"+(o>=0?"+":"")+Nn(d,1,l);case xn.Long:return"GMT"+(o>=0?"+":"")+Nn(d,2,l)+":"+Nn(Math.abs(o%60),2,l);case xn.Extended:return 0===i?"Z":(o>=0?"+":"")+Nn(d,2,l)+":"+Nn(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const Pi=0,Ji=4;function ot(n){return ti(n.getFullYear(),n.getMonth(),n.getDate()+(Ji-n.getDay()))}function kt(n,t=!1){return function(e,i){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();o=1+Math.floor((d+l)/7)}else{const l=ot(e),d=function Tt(n){const t=ti(n,Pi,1).getDay();return ti(n,0,1+(t<=Ji?Ji:Ji+7)-t)}(l.getFullYear()),p=l.getTime()-d.getTime();o=1+Math.round(p/6048e5)}return Nn(o,n,Te(i,K.MinusSign))}}function cn(n,t=!1){return function(e,i){return Nn(ot(e).getFullYear(),n,Te(i,K.MinusSign),t)}}const en={};function ue(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ze(n){return n instanceof Date&&!isNaN(n.valueOf())}function Jn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}const oi=/\s+/,xi=[];let jo=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this.initialClasses=xi,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(oi):xi}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(oi):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(oi).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s._q3),s.rXU(s.MKu),s.rXU(s.aKT),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class zn{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ro=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new zn(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,d),ur(p,o)}});for(let o=0,l=i.length;o<l;o++){const p=i.get(o).context;p.index=o,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{ur(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ur(n,t){n.context.$implicit=t.item}let ui=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Jo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Jo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.c1b),s.rXU(s.C4Q))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Ma{constructor(){this.$implicit=null,this.ngIf=null}}function Jo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.Tbb)(t)}'.`)}function ge(n,t){return new s.wOt(2100,!1)}class Ge{createSubscription(t,e){return(0,s.O8t)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,s.O8t)(()=>t.unsubscribe())}}class Ve{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ht=new Ve,it=new Ge;let lt=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.jNT)(e))return ht;if((0,s.zjR)(e))return it;throw ge()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.gRc,16))}}static{this.\u0275pipe=s.EJ8({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Pn=new s.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Xn=new s.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Zn=(()=>{class n{constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,l){if(null==e||""===e||e!=e)return null;try{return Ii(e,i??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw ge()}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.xe9,16),s.rXU(Pn,24),s.rXU(Xn,24))}}static{this.\u0275pipe=s.EJ8({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Mi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();const Po="browser";function Ro(n){return n===Po}function Er(n){return"server"===n}let so=(()=>{class n{static{this.\u0275prov=(0,s.jDH)({token:n,providedIn:"root",factory:()=>new Ms((0,s.KVO)(q),window)})}}return n})();class Ms{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function al(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wi{}class ml extends ke{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e1 extends ml{static makeCurrent(){!function Ae(n){z||(z=n)}(new e1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function vl(){return t1=t1||document.querySelector("base"),t1?t1.getAttribute("href"):null}();return null==e?null:function Gh(n){n1=n1||document.createElement("a"),n1.setAttribute("href",n);const t=n1.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){t1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Jn(document.cookie,t)}}let n1,t1=null,Kh=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const Wh=new s.nKC("EventManagerPlugins");let o1=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(l=>l.supports(e)),!i)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Wh),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();class t2{constructor(t){this._doc=t}}const Br="ng-app-id";let wd=(()=>{class n{constructor(e,i,o,l={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Er(l),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Br}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const l=o.get(e);return l.usage+=i,l.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===e)return o.delete(i),l.removeAttribute(Br),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(Br,this.appId),d}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const l=this.styleRef,d=l.get(i)?.elements;d?d.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const n2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Js=/%COMP%/g,as=new s.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wi(n,t){return t.map(e=>e.replace(Js,n))}let r1=(()=>{class n{constructor(e,i,o,l,d,p,v,M=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=d,this.platformId=p,this.ngZone=v,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Er(p),this.defaultRenderer=new rc(e,d,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===s.gXe.ShadowDom&&(i={...i,encapsulation:s.gXe.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof yl?o.applyToHost(e):o instanceof Go&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const d=this.doc,p=this.ngZone,v=this.eventManager,M=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,T=this.platformIsServer;switch(i.encapsulation){case s.gXe.Emulated:l=new yl(v,M,i,this.appId,b,d,p,T);break;case s.gXe.ShadowDom:return new Es(v,M,e,i,d,p,this.nonce,T);default:l=new Go(v,M,i,b,d,p,T)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(o1),s.KVO(wd),s.KVO(s.sZ2),s.KVO(as),s.KVO(q),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();class rc{constructor(t,e,i,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(n2[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Aa(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Aa(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new s.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=n2[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=n2[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(s.czy.DashCase|s.czy.Important)?t.style.setProperty(e,i,o&s.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=ae().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Aa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Es extends rc{constructor(t,e,i,o,l,d,p,v){super(t,l,d,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=wi(o.id,o.styles);for(const b of M){const T=document.createElement("style");p&&T.setAttribute("nonce",p),T.textContent=b,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Go extends rc{constructor(t,e,i,o,l,d,p,v){super(t,l,d,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=v?wi(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yl extends Go{constructor(t,e,i,o,l,d,p,v){const M=o+"-"+i.id;super(t,e,i,l,d,p,v,M),this.contentAttr=function wl(n){return"_ngcontent-%COMP%".replace(Js,n)}(M),this.hostAttr=function yd(n){return"_nghost-%COMP%".replace(Js,n)}(M)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let _d=(()=>{class n extends t2{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const _l=["alt","control","meta","shift"],Zs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xd=(()=>{class n extends t2{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ae().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let d="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),d="code."),_l.forEach(M=>{const b=i.indexOf(M);b>-1&&(i.splice(b,1),d+=M+".")}),d+=l,0!=i.length||0===l.length)return null;const v={};return v.domEventName=o,v.fullKey=d,v}static matchEventFullKeyCode(e,i){let o=Zs[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),_l.forEach(d=>{d!==o&&(0,xl[d])(e)&&(l+=d+".")}),l+=o,l===i)}static eventCallback(e,i,o){return l=>{n.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const Qh=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:Po},{provide:s.PLl,useValue:function bn(){e1.makeCurrent()},multi:!0},{provide:q,useFactory:function Yf(){return(0,s.TL$)(document),document},deps:[]}]),bd=new s.nKC(""),Cl=[{provide:s.e01,useClass:class vd{addToWindow(t){s.JZv.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new s.wOt(5103,!1);return l},s.JZv.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>t.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(i=>{const o=s.JZv.getAllAngularTestabilities();let l=o.length,d=!1;const p=function(v){d=d||v,l--,0==l&&i(d)};o.forEach(v=>{v.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ae().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],ka=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function Cd(){return new s.zcH},deps:[]},{provide:Wh,useClass:_d,multi:!0,deps:[q,s.SKi,s.Agw]},{provide:Wh,useClass:xd,multi:!0,deps:[q]},r1,wd,o1,{provide:s._9s,useExisting:r1},{provide:Wi,useClass:Kh,deps:[]},[]];let Jh=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.sZ2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(bd,12))}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[...ka,...Cl],imports:[Mi,s.Hbi]})}}return n})(),at=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q))}}static{this.\u0275prov=s.jDH({token:n,factory:function(i){let o=null;return o=i?new i:function e3(){return new at((0,s.KVO)(q))}(),o},providedIn:"root"})}}return n})();typeof window<"u"&&window;var to=A(1985),Ko=A(8071),hi=A(8455),Dt=A(7673),Di=A(4412);const{isArray:i3}=Array,{getPrototypeOf:d2,prototype:xo,keys:Ta}=Object;function fi(n){if(1===n.length){const t=n[0];if(i3(t))return{args:t,keys:null};if(function o3(n){return n&&"object"==typeof n&&d2(n)===xo}(t)){const e=Ta(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var kl=A(3669),Ot=A(6354);const{isArray:h2}=Array;function Dl(n){return(0,Ot.T)(t=>function Sl(n,t){return h2(t)?n(...t):n(t)}(n,t))}var ls=A(9326);function us(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}var no=A(4360),Tl=A(5225);function Ir(...n){const t=(0,ls.lI)(n),e=(0,ls.ms)(n),{args:i,keys:o}=fi(n);if(0===i.length)return(0,hi.H)([],t);const l=new to.c(function sc(n,t,e=kl.D){return i=>{Ol(t,()=>{const{length:o}=n,l=new Array(o);let d=o,p=o;for(let v=0;v<o;v++)Ol(t,()=>{const M=(0,hi.H)(n[v],t);let b=!1;M.subscribe((0,no._)(i,T=>{l[v]=T,b||(b=!0,p--),p||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,o?d=>us(o,d):kl.D));return e?l.pipe(Dl(e)):l}function Ol(n,t,e){n?(0,Tl.N)(e,n,t):t()}const ta=(0,A(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var a1=A(6365);function jr(...n){return function ac(){return(0,a1.U)(1)}()((0,hi.H)(n,(0,ls.lI)(n)))}var ks=A(8750);function c1(n){return new to.c(t=>{(0,ks.Tg)(n()).subscribe(t)})}var cc=A(1203);function na(n,t){const e=(0,Ko.T)(n)?n:()=>n,i=o=>o.error(e());return new to.c(t?o=>t.schedule(i,0,o):i)}var ds=A(983),l1=A(8359),Lo=A(9974);function f2(){return(0,Lo.N)((n,t)=>{let e=null;n._refCount++;const i=(0,no._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class lc extends to.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Lo.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new l1.yU;const e=this.getSubject();t.add(this.source.subscribe((0,no._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=l1.yU.EMPTY)}return t}refCount(){return f2()(this)}}var Ai=A(1413),Hn=A(5558);function Ci(n){return n<=0?()=>ds.w:(0,Lo.N)((t,e)=>{let i=0;t.subscribe((0,no._)(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function Ss(...n){const t=(0,ls.lI)(n);return(0,Lo.N)((e,i)=>{(t?jr(n,e,t):jr(n,e)).subscribe(i)})}function ki(n,t){return(0,Lo.N)((e,i)=>{let o=0;e.subscribe((0,no._)(i,l=>n.call(t,l,o++)&&i.next(l)))})}var lo=A(1397);function u1(n){return(0,Lo.N)((t,e)=>{let i=!1;t.subscribe((0,no._)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function d1(n=r3){return(0,Lo.N)((t,e)=>{let i=!1;t.subscribe((0,no._)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function r3(){return new ta}function Mo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((o,l)=>n(o,l,i)):kl.D,Ci(1),e?u1(t):d1(()=>new ta))}function Oa(n,t){return(0,Ko.T)(t)?(0,lo.Z)(n,t,1):(0,lo.Z)(n,1)}var Vi=A(8141);function qi(n){return(0,Lo.N)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,no._)(e,void 0,void 0,d=>{l=(0,ks.Tg)(n(d,qi(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}function Pa(n,t){return(0,Lo.N)(function Pd(n,t,e,i,o){return(l,d)=>{let p=e,v=t,M=0;l.subscribe((0,no._)(d,b=>{const T=M++;v=p?n(v,b,T):(p=!0,b),i&&d.next(v)},o&&(()=>{p&&d.next(v),d.complete()})))}}(n,t,arguments.length>=2,!0))}function h1(n){return n<=0?()=>ds.w:(0,Lo.N)((t,e)=>{let i=[];t.subscribe((0,no._)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function g2(n){return(0,Ot.T)(()=>n)}function Ra(n){return(0,Lo.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Pl=A(5343);const An="primary",ia=Symbol("RouteTitle");class La{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uc(n){return new La(n)}function Ld(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const d=i[l],p=n[l];if(d.startsWith(":"))o[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Wo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!zd(n[o],t[o]))return!1;return!0}function zd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function No(n){return n.length>0?n[n.length-1]:null}function oa(n){return function Td(n){return!!n&&(n instanceof to.c||(0,Ko.T)(n.lift)&&(0,Ko.T)(n.subscribe))}(n)?n:(0,s.jNT)(n)?(0,hi.H)(Promise.resolve(n)):(0,Dt.of)(n)}const Fd={exact:function Ll(n,t,e){if(!hc(n.segments,t.segments)||!f1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ll(n.children[i],t.children[i],e))return!1;return!0},subset:za},dc={exact:function Rl(n,t){return Wo(n,t)},subset:function Na(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>zd(n[e],t[e]))},ignored:()=>!0};function Bd(n,t,e){return Fd[e.paths](n.root,t.root,e.matrixParams)&&dc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function za(n,t,e){return Ds(n,t,t.segments,e)}function Ds(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!hc(o,e)||t.hasChildren()||!f1(o,e,i))}if(n.segments.length===e.length){if(!hc(n.segments,e)||!f1(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!za(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(hc(n.segments,o)&&f1(n.segments,o,i)&&n.children[An])&&Ds(n.children[An],t,l,i)}}function f1(n,t,e){return t.every((i,o)=>dc[e](n[o].parameters,i.parameters))}class Ts{constructor(t=new Qn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return eg.serialize(this)}}class Qn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}}class Nl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return dr(this)}}function hc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let g1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return new p2},providedIn:"root"})}}return n})();class p2{parse(t){const e=new sa(t);return new Ts(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${zo(t.root,!0)}`,i=function Ud(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${zl(e)}=${zl(o)}`).join("&"):`${zl(e)}=${zl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ji(n){return encodeURI(n)}(t.fragment)}`:""}`}}const eg=new p2;function Vd(n){return n.segments.map(t=>dr(t)).join("/")}function zo(n,t){if(!n.hasChildren())return Vd(n);if(t){const e=n.children[An]?zo(n.children[An],!1):"",i=[];return Object.entries(n.children).forEach(([o,l])=>{o!==An&&i.push(`${o}:${zo(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zf(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===An&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==An&&(e=e.concat(t(o,i)))}),e}(n,(i,o)=>o===An?[zo(n.children[An],!1)]:[`${o}:${zo(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${Vd(n)}/${e[0]}`:`${Vd(n)}/(${e.join("//")})`}}function jd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zl(n){return jd(n).replace(/%3B/gi,";")}function m2(n){return jd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hs(n){return decodeURIComponent(n)}function Hd(n){return hs(n.replace(/\+/g,"%20"))}function dr(n){return`${m2(n.path)}${function ra(n){return Object.keys(n).map(t=>`;${m2(t)}=${m2(n[t])}`).join("")}(n.parameters)}`}const Fl=/^[^\/()?;#]+/;function Os(n){const t=n.match(Fl);return t?t[0]:""}const c3=/^[^\/()?;=#]+/,l3=/^[^=?&#]+/,hr=/^[^&#]+/;class sa{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[An]=new Qn(t,e)),i}parseSegment(){const t=Os(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(t),new Nl(hs(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function tg(n){const t=n.match(c3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=Os(this.remaining);o&&(i=o,this.capture(i))}t[hs(e)]=hs(i)}parseQueryParam(t){const e=function ng(n){const t=n.match(l3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function Bl(n){const t=n.match(hr);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=Hd(e),l=Hd(i);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Os(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new s.wOt(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=An);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[An]:new Qn([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.wOt(4011,!1)}}function u3(n){return n.segments.length>0?new Qn([],{[An]:n}):n}function v2(n){const t={};for(const i of Object.keys(n.children)){const l=v2(n.children[i]);if(i===An&&0===l.segments.length&&l.hasChildren())for(const[d,p]of Object.entries(l.children))t[d]=p;else(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function w2(n){if(1===n.numberOfChildren&&n.children[An]){const t=n.children[An];return new Qn(n.segments.concat(t.segments),t.children)}return n}(new Qn(n.segments,t))}function Ps(n){return n instanceof Ts}function $d(n){let t;const o=u3(function e(l){const d={};for(const v of l.children){const M=e(v);d[v.outlet]=M}const p=new Qn(l.url,d);return l===n&&(t=p),p}(n.root));return t??o}function p1(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return fc(o,o,o,e,i);const l=function h3(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new m1(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Object.entries(l.outlets).forEach(([v,M])=>{p[v]="string"==typeof M?M.split("/"):M}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new m1(e,t,i)}(t);if(l.toRoot())return fc(o,o,new Qn([],{}),e,i);const d=function f3(n,t,e){if(n.isAbsolute)return new Ba(t,!0,0);if(!e)return new Ba(t,!1,NaN);if(null===e.parent)return new Ba(e,!0,0);const i=Vl(n.commands[0])?0:1;return function gc(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new s.wOt(4005,!1);o=i.segments.length}return new Ba(i,!1,o-l)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(l,o,n),p=d.processChildren?mc(d.segmentGroup,d.index,l.commands):pc(d.segmentGroup,d.index,l.commands);return fc(o,d.segmentGroup,p,e,i)}function Vl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fa(n){return"object"==typeof n&&null!=n&&n.outlets}function fc(n,t,e,i,o){let d,l={};i&&Object.entries(i).forEach(([v,M])=>{l[v]=Array.isArray(M)?M.map(b=>`${b}`):`${M}`}),d=n===t?e:y2(n,t,e);const p=u3(v2(d));return new Ts(p,l,o)}function y2(n,t,e){const i={};return Object.entries(n.children).forEach(([o,l])=>{i[o]=l===t?e:y2(l,t,e)}),new Qn(n.segments,i)}class m1{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Vl(i[0]))throw new s.wOt(4003,!1);const o=i.find(Fa);if(o&&o!==No(i))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ba{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function pc(n,t,e){if(n||(n=new Qn([],{})),0===n.segments.length&&n.hasChildren())return mc(n,t,e);const i=function g3(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const d=n.segments[o],p=e[i];if(Fa(p))break;const v=`${p}`,M=i<e.length-1?e[i+1]:null;if(o>0&&void 0===v)break;if(v&&M&&"object"==typeof M&&void 0===M.outlets){if(!jl(v,M,d))return l;i+=2}else{if(!jl(v,{},d))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Qn(n.segments.slice(0,i.pathIndex),{});return l.children[An]=new Qn(n.segments.slice(i.pathIndex),n.children),mc(l,0,o)}return i.match&&0===o.length?new Qn(n.segments,{}):i.match&&!n.hasChildren()?x2(n,t,e):i.match?mc(n,0,o):x2(n,t,e)}function mc(n,t,e){if(0===e.length)return new Qn(n.segments,{});{const i=function _2(n){return Fa(n[0])?n[0].outlets:{[An]:n}}(e),o={};if(Object.keys(i).some(l=>l!==An)&&n.children[An]&&1===n.numberOfChildren&&0===n.children[An].segments.length){const l=mc(n.children[An],t,e);return new Qn(n.segments,l.children)}return Object.entries(i).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[l]=pc(n.children[l],t,d))}),Object.entries(n.children).forEach(([l,d])=>{void 0===i[l]&&(o[l]=d)}),new Qn(n.segments,o)}}function x2(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(Fa(l)){const v=vc(l.outlets);return new Qn(i,v)}if(0===o&&Vl(e[0])){i.push(new Nl(n.segments[t].path,Va(e[0]))),o++;continue}const d=Fa(l)?l.outlets[An]:`${l}`,p=o<e.length-1?e[o+1]:null;d&&p&&Vl(p)?(i.push(new Nl(d,Va(p))),o+=2):(i.push(new Nl(d,{})),o++)}return new Qn(i,{})}function vc(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=x2(new Qn([],{}),0,i))}),t}function Va(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function jl(n,t,e){return n==e.path&&Wo(t,e.parameters)}const wc="imperative";class Ar{constructor(t,e){this.id=t,this.url=e}}class v1 extends Ar{constructor(t,e,i="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends Ar{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class w1 extends Ar{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uo extends Ar{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=16}}class aa extends Ar{constructor(t,e,i,o){super(t,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yc extends Ar{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gd extends Ar{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M2 extends Ar{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hl extends Ar{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ig extends Ar{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C2{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class og{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ca{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kd{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b2{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m3{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _c{}class qo{constructor(t){this.url=t}}class Wd{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xc,this.attachRef=null}}let xc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Wd,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Rs{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ja(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ja(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ha(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ha(t,this._root).map(e=>e.value)}}function ja(n,t){if(n===t.value)return t;for(const e of t.children){const i=ja(n,e);if(i)return i}return null}function Ha(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ha(n,e);if(i.length)return i.unshift(t),i}return[]}class fr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ua(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class y1 extends Rs{constructor(t,e){super(t),this.snapshot=e,x(this,t)}toString(){return this.snapshot.toString()}}function E2(n,t){const e=function Mc(n,t){const d=new f([],{},{},"",{},An,t,null,{});return new m("",new fr(d,[]))}(0,t),i=new Di.t([new Nl("",{})]),o=new Di.t({}),l=new Di.t({}),d=new Di.t({}),p=new Di.t(""),v=new gr(i,o,d,p,l,An,t,e.root);return v.snapshot=e.root,new y1(new fr(v,[]),e)}class gr{constructor(t,e,i,o,l,d,p,v){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=l,this.outlet=d,this.component=p,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Ot.T)(M=>M[ia]))??(0,Dt.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.T)(t=>uc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.T)(t=>uc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function I2(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function y(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class f{get title(){return this.data?.[ia]}constructor(t,e,i,o,l,d,p,v,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=p,this.routeConfig=v,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m extends Rs{constructor(t,e){super(e),this.url=t,x(this,e)}toString(){return k(this._root)}}function x(n,t){t.value._routerState=n,t.children.forEach(e=>x(n,e))}function k(n){const t=n.children.length>0?` { ${n.children.map(k).join(", ")} } `:"";return`${n.value}${t}`}function P(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wo(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Wo(t.params,e.params)||n.paramsSubject.next(e.params),function Nd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Wo(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _e(n,t){const e=Wo(n.params,t.params)&&function a3(n,t){return hc(n,t)&&n.every((e,i)=>Wo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_e(n.parent,t.parent))}let qe=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(xc),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(Wt,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=e;const o=this.location,d=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new bt(e,p,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}}return n})();class bt{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gr?this.route:t===xc?this.childContexts:this.parent.get(t,e)}}const Wt=new s.nKC("");let mn=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=Ir([i.queryParams,i.params,i.data]).pipe((0,Hn.n)(([l,d,p],v)=>(p={...l,...d,...p},0===v?(0,Dt.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const d=(0,s.HJs)(i.component);if(d)for(const{templateName:p}of d.inputs)e.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function Li(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function Hr(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Li(n,i,o);return Li(n,i)})}(n,t,e);return new fr(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>Li(n,p)),d}}const i=function Co(n){return new gr(new Di.t(n.url),new Di.t(n.params),new Di.t(n.queryParams),new Di.t(n.fragment),new Di.t(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>Li(n,l));return new fr(i,o)}}const Cc="ngNavigationCancelingError";function _1(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ps(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=x1(!1,0,t);return o.url=e,o.navigationBehaviorOptions=i,o}function x1(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Cc]=!0,i.cancellationCode=t,e&&(i.url=e),i}function la(n){return n&&n[Cc]}let M1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(i,o){1&i&&s.nrm(0,"router-outlet")},dependencies:[qe],encapsulation:2})}}return n})();function S2(n){const t=n.children&&n.children.map(S2),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==An&&(e.component=M1),e}function Ur(n){return n.outlet||An}function $a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sg{constructor(t,e,i,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),P(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=Ua(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],i),delete o[d]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Ua(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Ua(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const o=Ua(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new p3(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Kd(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(P(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),P(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=$a(o.snapshot);d.attachRef=null,d.route=o,d.injector=p,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class y3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class D2{constructor(t,e){this.component=t,this.route=e}}function Ul(n,t,e){const i=n._root;return b1(i,t?t._root:null,e,[i.value])}function C1(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.LfX)(n)?t.get(n):n:i}function b1(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ua(t);return n.children.forEach(d=>{(function Qd(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function Ev(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!hc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hc(n.url,t.url)||!Wo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_e(n,t)||!Wo(n.queryParams,t.queryParams);default:return!_e(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new y3(i)):(l.data=d.data,l._resolvedData=d._resolvedData),b1(n,t,l.component?p?p.children:null:e,i,o),v&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new D2(p.outlet.component,d))}else d&&T2(t,p,o),o.canActivateChecks.push(new y3(i)),b1(n,null,l.component?p?p.children:null:e,i,o)})(d,l[d.value.outlet],e,i.concat([d.value]),o),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,p])=>T2(p,e.getContext(d),o)),o}function T2(n,t,e){const i=Ua(n),o=n.value;Object.entries(i).forEach(([l,d])=>{T2(d,o.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new D2(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function O2(n){return"function"==typeof n}function lg(n){return n instanceof ta||"EmptyError"===n?.name}const $l=Symbol("INITIAL_VALUE");function E1(){return(0,Hn.n)(n=>Ir(n.map(t=>t.pipe(Ci(1),Ss($l)))).pipe((0,Ot.T)(t=>{for(const e of t)if(!0!==e){if(e===$l)return $l;if(!1===e||e instanceof Ts)return e}return!0}),ki(t=>t!==$l),Ci(1)))}function x3(n){return(0,cc.F)((0,Vi.M)(t=>{if(Ps(t))throw _1(0,t)}),(0,Ot.T)(t=>!0===t))}class P2{constructor(t){this.segmentGroup=t||null}}class R2{constructor(t){this.urlTree=t}}function ua(n){return na(new P2(n))}function C3(n){return na(new R2(n))}class gg{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new s.wOt(4002,!1)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,Dt.of)(i);if(o.numberOfChildren>1||!o.children[An])return na(new s.wOt(4e3,!1));o=o.children[An]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new Ts(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const p=l.substring(1);i[o]=e[p]}else i[o]=l}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let d={};return Object.entries(e.children).forEach(([p,v])=>{d[p]=this.createSegmentGroup(t,v,i,o)}),new Qn(l,d)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new s.wOt(4001,!1);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}const L2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N2(n,t,e,i,o){const l=E3(n,t,e);return l.matched?(i=function A2(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function M3(n,t,e,i){const o=t.canMatch;if(!o||0===o.length)return(0,Dt.of)(!0);const l=o.map(d=>{const p=C1(d,n);return oa(function _3(n){return n&&O2(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))});return(0,Dt.of)(l).pipe(E1(),x3())}(i,t,e).pipe((0,Ot.T)(d=>!0===d?l:{...L2}))):(0,Dt.of)(l)}function E3(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...L2}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Ld)(e,n,t);if(!o)return{...L2};const l={};Object.entries(o.posParams??{}).forEach(([p,v])=>{l[p]=v.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function I3(n,t,e,i){return e.length>0&&function Rv(n,t,e){return e.some(i=>z2(n,t,i)&&Ur(i)!==An)}(n,e,i)?{segmentGroup:new Qn(t,Pv(i,new Qn(e,n.children))),slicedSegments:[]}:0===e.length&&function pg(n,t,e){return e.some(i=>z2(n,t,i))}(n,e,i)?{segmentGroup:new Qn(n.segments,Ov(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Qn(n.segments,n.children),slicedSegments:e}}function Ov(n,t,e,i,o){const l={};for(const d of i)if(z2(n,e,d)&&!o[Ur(d)]){const p=new Qn([],{});l[Ur(d)]=p}return{...o,...l}}function Pv(n,t){const e={};e[An]=t;for(const i of n)if(""===i.path&&Ur(i)!==An){const o=new Qn([],{});e[Ur(i)]=o}return e}function z2(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Lv{constructor(t,e,i,o,l,d,p){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new gg(this.urlSerializer,this.urlTree)}noMatchError(t){return new s.wOt(4002,!1)}recognize(){const t=I3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,An).pipe(qi(e=>{if(e instanceof R2)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof P2?this.noMatchError(e):e}),(0,Ot.T)(e=>{const i=new f([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,{}),o=new fr(i,e),l=new m("",o),d=function d3(n,t,e=null,i=null){return p1($d(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(l._root),{state:l,tree:d}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,An).pipe(qi(i=>{throw i instanceof P2?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=I2(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,o,!0)}processChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,hi.H)(o).pipe(Oa(l=>{const d=i.children[l],p=function Cv(n,t){const e=n.filter(i=>Ur(i)===t);return e.push(...n.filter(i=>Ur(i)!==t)),e}(e,l);return this.processSegmentGroup(t,p,d,l)}),Pa((l,d)=>(l.push(...d),l)),u1(null),function s3(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((o,l)=>n(o,l,i)):kl.D,h1(1),e?u1(t):d1(()=>new ta))}(),(0,lo.Z)(l=>{if(null===l)return ua(i);const d=mg(l);return function Nv(n){n.sort((t,e)=>t.value.outlet===An?-1:e.value.outlet===An?1:t.value.outlet.localeCompare(e.value.outlet))}(d),(0,Dt.of)(d)}))}processSegment(t,e,i,o,l,d){return(0,hi.H)(e).pipe(Oa(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,o,l,d).pipe(qi(v=>{if(v instanceof P2)return(0,Dt.of)(null);throw v}))),Mo(p=>!!p),qi(p=>{if(lg(p))return function A3(n,t,e){return 0===t.length&&!n.children[e]}(i,o,l)?(0,Dt.of)([]):ua(i);throw p}))}processSegmentAgainstRoute(t,e,i,o,l,d,p){return function t4(n,t,e,i){return!!(Ur(n)===i||i!==An&&z2(t,e,n))&&("**"===n.path||E3(t,n,e).matched)}(i,o,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,o,i,l,d,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,l,d):ua(o):ua(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?C3(l):this.applyRedirects.lineralizeSegments(i,l).pipe((0,lo.Z)(d=>{const p=new Qn(d,{});return this.processSegment(t,e,p,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){const{matched:p,consumedSegments:v,remainingSegments:M,positionalParamSegments:b}=E3(e,o,l);if(!p)return ua(e);const T=this.applyRedirects.applyRedirectCommands(v,o.redirectTo,b);return o.redirectTo.startsWith("/")?C3(T):this.applyRedirects.lineralizeSegments(o,T).pipe((0,lo.Z)(L=>this.processSegment(t,i,e,L.concat(M),d,!1)))}matchSegmentAgainstRoute(t,e,i,o,l,d){let p;if("**"===i.path){const v=o.length>0?No(o).parameters:{},M=new f(o,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wg(i),Ur(i),i.component??i._loadedComponent??null,i,A1(i));p=(0,Dt.of)({snapshot:M,consumedSegments:[],remainingSegments:[]}),e.children={}}else p=N2(e,i,o,t).pipe((0,Ot.T)(({matched:v,consumedSegments:M,remainingSegments:b,parameters:T})=>v?{snapshot:new f(M,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wg(i),Ur(i),i.component??i._loadedComponent??null,i,A1(i)),consumedSegments:M,remainingSegments:b}:null));return p.pipe((0,Hn.n)(v=>null===v?ua(e):this.getChildConfig(t=i._injector??t,i,o).pipe((0,Hn.n)(({routes:M})=>{const b=i._loadedInjector??t,{snapshot:T,consumedSegments:L,remainingSegments:ee}=v,{segmentGroup:Se,slicedSegments:$e}=I3(e,L,ee,M);if(0===$e.length&&Se.hasChildren())return this.processChildren(b,M,Se).pipe((0,Ot.T)($t=>null===$t?null:[new fr(T,$t)]));if(0===M.length&&0===$e.length)return(0,Dt.of)([new fr(T,[])]);const Xe=Ur(i)===l;return this.processSegment(b,M,Se,$e,Xe?An:l,!0).pipe((0,Ot.T)($t=>[new fr(T,$t)]))}))))}getChildConfig(t,e,i){return e.children?(0,Dt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Dt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function fg(n,t,e,i){const o=t.canLoad;if(void 0===o||0===o.length)return(0,Dt.of)(!0);const l=o.map(d=>{const p=C1(d,n);return oa(function Av(n){return n&&O2(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))});return(0,Dt.of)(l).pipe(E1(),x3())}(t,e,i).pipe((0,lo.Z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,Vi.M)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function e4(n){return na(x1(!1,3))}())):(0,Dt.of)({routes:[],injector:t})}}function fE(n){const t=n.value.routeConfig;return t&&""===t.path}function mg(n){const t=[],e=new Set;for(const i of n){if(!fE(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=mg(i.children);t.push(new fr(i.value,o))}return t.filter(i=>!e.has(i))}function wg(n){return n.data||{}}function A1(n){return n.resolve||{}}function Cg(n){return"string"==typeof n.title||null===n.title}function S3(n){return(0,Hn.n)(t=>{const e=n(t);return e?(0,hi.H)(e).pipe((0,Ot.T)(()=>t)):(0,Dt.of)(t)})}const Kl=new s.nKC("ROUTES");let D3=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Dt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=oa(e.loadComponent()).pipe((0,Ot.T)(Wl),(0,Vi.M)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Ra(()=>{this.componentLoaders.delete(e)})),o=new lc(i,()=>new Ai.B).pipe(f2());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Dt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=function zv(n,t,e,i){return oa(n.loadChildren()).pipe((0,Ot.T)(Wl),(0,lo.Z)(o=>o instanceof s.Co$||Array.isArray(o)?(0,Dt.of)(o):(0,hi.H)(t.compileModuleAsync(o))),(0,Ot.T)(o=>{i&&i(n);let l,d,p=!1;return Array.isArray(o)?(d=o,!0):(l=o.create(e).injector,d=l.get(Kl,[],{optional:!0,self:!0}).flat()),{routes:d.map(S2),injector:l}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Ra(()=>{this.childrenLoaders.delete(i)})),d=new lc(l,()=>new Ai.B).pipe(f2());return this.childrenLoaders.set(i,d),d}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wl(n){return function bc(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let i4=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ai.B,this.transitionAbortSubject=new Ai.B,this.configLoader=(0,s.WQX)(D3),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(g1),this.rootContexts=(0,s.WQX)(xc),this.inputBindingEnabled=null!==(0,s.WQX)(Wt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new og(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new C2(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new Di.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ki(l=>0!==l.id),(0,Ot.T)(l=>({...l,extractedUrl:e.urlHandlingStrategy.extract(l.rawUrl)})),(0,Hn.n)(l=>{this.currentTransition=l;let d=!1,p=!1;return(0,Dt.of)(l).pipe((0,Vi.M)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.n)(v=>{const M=v.currentBrowserUrl.toString(),b=!e.navigated||v.extractedUrl.toString()!==M||M!==v.currentUrlTree.toString();if(!b&&"reload"!==(v.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const L="";return this.events.next(new uo(v.id,this.urlSerializer.serialize(v.rawUrl),L,0)),v.resolve(null),ds.w}if(e.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Dt.of)(v).pipe((0,Hn.n)(L=>{const ee=this.transitions?.getValue();return this.events.next(new v1(L.id,this.urlSerializer.serialize(L.extractedUrl),L.source,L.restoredState)),ee!==this.transitions?.getValue()?ds.w:Promise.resolve(L)}),function n4(n,t,e,i,o,l){return(0,lo.Z)(d=>function Gl(n,t,e,i,o,l,d="emptyOnly"){return new Lv(n,t,e,i,o,d,l).recognize()}(n,t,e,i,d.extractedUrl,o,l).pipe((0,Ot.T)(({state:p,tree:v})=>({...d,targetSnapshot:p,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Vi.M)(L=>{l.targetSnapshot=L.targetSnapshot,l.urlAfterRedirects=L.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:L.urlAfterRedirects};const ee=new yc(L.id,this.urlSerializer.serialize(L.extractedUrl),this.urlSerializer.serialize(L.urlAfterRedirects),L.targetSnapshot);this.events.next(ee)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:L,extractedUrl:ee,source:Se,restoredState:$e,extras:Xe}=v,$t=new v1(L,this.urlSerializer.serialize(ee),Se,$e);this.events.next($t);const Xt=E2(0,this.rootComponentType).snapshot;return this.currentTransition=l={...v,targetSnapshot:Xt,urlAfterRedirects:ee,extras:{...Xe,skipLocationChange:!1,replaceUrl:!1}},(0,Dt.of)(l)}{const L="";return this.events.next(new uo(v.id,this.urlSerializer.serialize(v.extractedUrl),L,1)),v.resolve(null),ds.w}}),(0,Vi.M)(v=>{const M=new Gd(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(M)}),(0,Ot.T)(v=>(this.currentTransition=l={...v,guards:Ul(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},l)),function I1(n,t){return(0,lo.Z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?(0,Dt.of)({...e,guardsResult:!0}):function ug(n,t,e,i){return(0,hi.H)(n).pipe((0,lo.Z)(o=>function hg(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Dt.of)(!0);const d=l.map(p=>{const v=$a(t)??o,M=C1(p,v);return oa(function Jd(n){return n&&O2(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,i):v.runInContext(()=>M(n,t,e,i))).pipe(Mo())});return(0,Dt.of)(d).pipe(E1())}(o.component,o.route,e,t,i)),Mo(o=>!0!==o,!0))}(d,i,o,n).pipe((0,lo.Z)(p=>p&&function Iv(n){return"boolean"==typeof n}(p)?function dg(n,t,e,i){return(0,hi.H)(t).pipe(Oa(o=>jr(function hE(n,t){return null!==n&&t&&t(new ca(n)),(0,Dt.of)(!0)}(o.route.parent,i),function Dv(n,t){return null!==n&&t&&t(new b2(n)),(0,Dt.of)(!0)}(o.route,i),function Tv(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function Yd(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>c1(()=>{const p=d.guards.map(v=>{const M=$a(d.node)??e,b=C1(v,M);return oa(function ag(n){return n&&O2(n.canActivateChild)}(b)?b.canActivateChild(i,n):M.runInContext(()=>b(i,n))).pipe(Mo())});return(0,Dt.of)(p).pipe(E1())}));return(0,Dt.of)(l).pipe(E1())}(n,o.path,e),function Zd(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Dt.of)(!0);const o=i.map(l=>c1(()=>{const d=$a(t)??e,p=C1(l,d);return oa(function kv(n){return n&&O2(n.canActivate)}(p)?p.canActivate(t,n):d.runInContext(()=>p(t,n))).pipe(Mo())}));return(0,Dt.of)(o).pipe(E1())}(n,o.route,e))),Mo(o=>!0!==o,!0))}(i,l,n,t):(0,Dt.of)(p)),(0,Ot.T)(p=>({...e,guardsResult:p})))})}(this.environmentInjector,v=>this.events.next(v)),(0,Vi.M)(v=>{if(l.guardsResult=v.guardsResult,Ps(v.guardsResult))throw _1(0,v.guardsResult);const M=new M2(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(M)}),ki(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),S3(v=>{if(v.guards.canActivateChecks.length)return(0,Dt.of)(v).pipe((0,Vi.M)(M=>{const b=new Hl(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(b)}),(0,Hn.n)(M=>{let b=!1;return(0,Dt.of)(M).pipe(function k3(n,t){return(0,lo.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Dt.of)(e);let l=0;return(0,hi.H)(o).pipe(Oa(d=>function yg(n,t,e,i){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!Cg(o)&&(l[ia]=o.title),function _g(n,t,e,i){const o=function xg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Dt.of)({});const l={};return(0,hi.H)(o).pipe((0,lo.Z)(d=>function Mg(n,t,e,i){const o=$a(t)??i,l=C1(n,o);return oa(l.resolve?l.resolve(t,e):o.runInContext(()=>l(t,e)))}(n[d],t,e,i).pipe(Mo(),(0,Vi.M)(p=>{l[d]=p}))),h1(1),g2(l),qi(d=>lg(d)?ds.w:na(d)))}(l,n,t,i).pipe((0,Ot.T)(d=>(n._resolvedData=d,n.data=I2(n,e).resolve,o&&Cg(o)&&(n.data[ia]=o.title),null)))}(d.route,i,n,t)),(0,Vi.M)(()=>l++),h1(1),(0,lo.Z)(d=>l===o.length?(0,Dt.of)(e):ds.w))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Vi.M)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(M,"",2)}}))}),(0,Vi.M)(M=>{const b=new ig(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(b)}))}),S3(v=>{const M=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Vi.M)(L=>{b.component=L}),(0,Ot.T)(()=>{})));for(const L of b.children)T.push(...M(L));return T};return Ir(M(v.targetSnapshot.root)).pipe(u1(),Ci(1))}),S3(()=>this.afterPreactivation()),(0,Ot.T)(v=>{const M=function dn(n,t,e){const i=Li(n,t._root,e?e._root:void 0);return new y1(i,t)}(e.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=l={...v,targetRouterState:M},l}),(0,Vi.M)(()=>{this.events.next(new _c)}),((n,t,e,i)=>(0,Ot.T)(o=>(new sg(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Ci(1),(0,Vi.M)({next:v=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fs(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),e.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{d=!0}}),function Rd(n){return(0,Lo.N)((t,e)=>{(0,ks.Tg)(n).subscribe((0,no._)(e,()=>e.complete(),Pl.l)),!e.closed&&t.subscribe(e)})}(this.transitionAbortSubject.pipe((0,Vi.M)(v=>{throw v}))),Ra(()=>{d||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),qi(v=>{if(p=!0,la(v))this.events.next(new w1(l.id,this.urlSerializer.serialize(l.extractedUrl),v.message,v.cancellationCode)),function bo(n){return la(n)&&Ps(n.url)}(v)?this.events.next(new qo(v.url)):l.resolve(!1);else{this.events.next(new aa(l.id,this.urlSerializer.serialize(l.extractedUrl),v,l.targetSnapshot??void 0));try{l.resolve(e.errorHandler(v))}catch(M){l.reject(M)}}return ds.w}))}))}cancelNavigationTransition(e,i,o){const l=new w1(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(l),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fv(n){return n!==wc}let Bv=(()=>{class n{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===An);return i}getResolvedTitleForRoute(e){return e.data[ia]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(gE)},providedIn:"root"})}}return n})(),gE=(()=>{class n extends Bv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(at))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(bg)},providedIn:"root"})}}return n})();class pE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let bg=(()=>{class n extends pE{static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const o4=new s.nKC("",{providedIn:"root",factory:()=>({})});let jv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(Hv)},providedIn:"root"})}}return n})(),Hv=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var F2=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(F2||{});function r4(n,t){n.events.pipe(ki(e=>e instanceof fs||e instanceof w1||e instanceof aa||e instanceof uo),(0,Ot.T)(e=>e instanceof fs||e instanceof uo?F2.COMPLETE:e instanceof w1&&(0===e.code||1===e.code)?F2.REDIRECTING:F2.FAILED),ki(e=>e!==F2.REDIRECTING),Ci(1)).subscribe(()=>{t()})}function Ga(n){throw n}function B2(n,t,e){return t.parse("/")}const Eg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ig={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.WQX)(s.H3F),this.isNgZoneEnabled=!1,this._events=new Ai.B,this.options=(0,s.WQX)(o4,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.$K3),this.errorHandler=this.options.errorHandler||Ga,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||B2,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.WQX)(jv),this.routeReuseStrategy=(0,s.WQX)(Vv),this.titleStrategy=(0,s.WQX)(Bv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.WQX)(Kl,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.WQX)(i4),this.urlSerializer=(0,s.WQX)(g1),this.location=(0,s.WQX)(J),this.componentInputBindingEnabled=!!(0,s.WQX)(Wt,{optional:!0}),this.eventsSubscription=new l1.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ts,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=E2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(Uv(i)&&this._events.next(i));if(i instanceof v1)Fv(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof uo)this.rawUrlTree=o.rawUrl;else if(i instanceof yc){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof _c)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof w1)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof qo){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),d={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fv(o.source)};this.scheduleNavigation(l,wc,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof aa&&this.restoreHistory(o,!0),i instanceof fs&&(this.navigated=!0),Uv(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wc,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const v={...o};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(S2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:v}=i,M=v?this.currentUrlTree.fragment:d;let T,b=null;switch(p){case"merge":b={...this.currentUrlTree.queryParams,...l};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=l||null}null!==b&&(b=this.removeEmptyProps(b));try{T=$d(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),T=this.currentUrlTree.root}return p1(T,e,b,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ps(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,wc,null,i)}navigate(e,i={skipLocationChange:!1}){return function mE(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new s.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...Eg}:!1===i?{...Ig}:i,Ps(e))return Bd(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Bd(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(e,i,o,l,d){if(this.disposed)return Promise.resolve(!1);let p,v,M;d?(p=d.resolve,v=d.reject,M=d.promise):M=new Promise((T,L)=>{p=T,v=L});const b=this.pendingTasks.add();return r4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:l,resolve:p,reject:v,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Uv(n){return!(n instanceof _c||n instanceof qo)}let Ec=(()=>{class n{constructor(e,i,o,l,d,p){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new Ai.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(M=>{M instanceof fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,l,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||l||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,l=this.el.nativeElement;null!==i?o.setAttribute(l,e,i):o.removeAttribute(l,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(gi),s.rXU(gr),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(ie))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){1&i&&s.bIt("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&i&&s.BMQ("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.L39],skipLocationChange:["skipLocationChange","skipLocationChange",s.L39],replaceUrl:["replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}}return n})();class $v{}let Kv=(()=>{class n{constructor(e,i,o,l,d){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ki(e=>e instanceof fs),Oa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,s.Ol2)(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,p=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,hi.H)(o).pipe((0,a1.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Dt.of)(null);const l=o.pipe((0,lo.Z)(d=>null===d?(0,Dt.of)(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,hi.H)([l,d]).pipe((0,a1.U)())}return l})}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(gi),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO($v),s.KVO(D3))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const P3=new s.nKC("");let Ag=(()=>{class n{constructor(e,i,o,l,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof v1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof uo&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof m3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){s.QTQ()}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function gs(n,t){return{\u0275kind:n,\u0275providers:t}}function Sg(){const n=(0,s.WQX)(s.zZn);return t=>{const e=n.get(s.o8S);if(t!==e.components[0])return;const i=n.get(gi),o=n.get(Dg);1===n.get(j2)&&i.initialNavigation(),n.get(Og,null,s.$GK.Optional)?.setUpPreloading(),n.get(P3,null,s.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Dg=new s.nKC("",{factory:()=>new Ai.B}),j2=new s.nKC("",{providedIn:"root",factory:()=>1}),Og=new s.nKC("");function Xv(n){return gs(0,[{provide:Og,useExisting:Kv},{provide:$v,useExisting:n}])}const L3=new s.nKC("ROUTER_FORROOT_GUARD"),Pg=[J,{provide:g1,useClass:p2},gi,xc,{provide:gr,useFactory:function R3(n){return n.routerState.root},deps:[gi]},D3,[]];function N3(){return new s.NEm("Router",gi)}let a4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Pg,[],{provide:Kl,multi:!0,useValue:e},{provide:L3,useFactory:c4,deps:[[gi,new s.Xx1,new s.kdw]]},{provide:o4,useValue:i||{}},i?.useHash?{provide:ie,useClass:pe}:{provide:ie,useClass:ye},{provide:P3,useFactory:()=>{const n=(0,s.WQX)(so),t=(0,s.WQX)(s.SKi),e=(0,s.WQX)(o4),i=(0,s.WQX)(i4),o=(0,s.WQX)(g1);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Ag(o,i,n,t,e)}},i?.preloadingStrategy?Xv(i.preloadingStrategy).\u0275providers:[],{provide:s.NEm,multi:!0,useFactory:N3},i?.initialNavigation?_E(i):[],i?.bindToComponentInputs?gs(8,[mn,{provide:Wt,useExisting:mn}]).\u0275providers:[],[{provide:l4,useFactory:Sg},{provide:s.iLQ,multi:!0,useExisting:l4}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Kl,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(L3,8))}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();function c4(n){return"guarded"}function _E(n){return["disabled"===n.initialNavigation?gs(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const t=(0,s.WQX)(gi);return()=>{t.setUpLocationChangeListener()}}},{provide:j2,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gs(2,[{provide:j2,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:t=>{const e=t.get(we,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(gi),l=t.get(Dg);r4(o,()=>{i(!0)}),t.get(i4).afterPreactivation=()=>(i(!0),l.closed?(0,Dt.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const l4=new s.nKC("");class k1{}class u4{}class pr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===l.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(l=>l.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class da{encodeKey(t){return Fg(t)}encodeValue(t){return Fg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const F3=/%(\d[a-f0-9])/gi,t9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Fg(n){return encodeURIComponent(n).replace(F3,(t,e)=>t9[e]??t)}function U2(n){return`${n}`}class nr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new da,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xl(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,p]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],v=e.get(d)||[];v.push(p),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],o=Array.isArray(i)?i.map(U2):[U2(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(U2(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(U2(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class n9{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function d4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function B3(n){return typeof Blob<"u"&&n instanceof Blob}function Bg(n){return typeof FormData<"u"&&n instanceof FormData}class S1{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function i9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new pr),this.context||(this.context=new n9),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new nr,this.urlWithParams=e}serializeBody(){return null===this.body?null:d4(this.body)||B3(this.body)||Bg(this.body)||function Vg(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bg(this.body)?null:B3(this.body)?this.body.type||null:d4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,M=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((T,L)=>T.set(L,t.setHeaders[L]),v)),t.setParams&&(M=Object.keys(t.setParams).reduce((T,L)=>T.set(L,t.setParams[L]),M)),new S1(e,i,l,{params:M,headers:v,context:b,reportProgress:p,responseType:o,withCredentials:d})}}var $2=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}($2||{});class jg{constructor(t,e=200,i="OK"){this.headers=t.headers||new pr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class V3 extends jg{constructor(t={}){super(t),this.type=$2.ResponseHeader}clone(t={}){return new V3({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yl extends jg{constructor(t={}){super(t),this.type=$2.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hg extends jg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ug(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ql=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof S1)l=e;else{let v,M;v=o.headers instanceof pr?o.headers:new pr(o.headers),o.params&&(M=o.params instanceof nr?o.params:new nr({fromObject:o.params})),l=new S1(e,i,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:M,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=(0,Dt.of)(l).pipe(Oa(v=>this.handler.handle(v)));if(e instanceof S1||"events"===o.observe)return d;const p=d.pipe(ki(v=>v instanceof Yl));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Ot.T)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,Ot.T)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,Ot.T)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return p.pipe((0,Ot.T)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new nr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Ug(o,i))}post(e,i,o={}){return this.request("POST",e,Ug(o,i))}put(e,i,o={}){return this.request("PUT",e,Ug(o,i))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(k1))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function G2(n,t){return t(n)}function Jl(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}const U3=new s.nKC(""),Ic=new s.nKC(""),o9=new s.nKC("");function $3(){let n=null;return(t,e)=>{null===n&&(n=((0,s.WQX)(U3,{optional:!0})??[]).reduceRight(Jl,G2));const i=(0,s.WQX)(s.$K3),o=i.add();return n(t,e).pipe(Ra(()=>i.remove(o)))}}let Zl=(()=>{class n extends k1{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,s.WQX)(s.$K3)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Ic),...this.injector.get(o9,[])]));this.chain=o.reduceRight((l,d)=>function H3(n,t,e){return(i,o)=>e.runInContext(()=>t(i,l=>n(l,o)))}(l,d,this.injector),G2)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ra(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(u4),s.KVO(s.uvJ))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const K3=/^\)\]\}',?\n/;let W3=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new s.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,hi.H)(i.\u0275loadImpl()):(0,Dt.of)(null)).pipe((0,Hn.n)(()=>new to.c(l=>{const d=i.build();if(d.open(e.method,e.urlWithParams),e.withCredentials&&(d.withCredentials=!0),e.headers.forEach(($e,Xe)=>d.setRequestHeader($e,Xe.join(","))),e.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const $e=e.detectContentTypeHeader();null!==$e&&d.setRequestHeader("Content-Type",$e)}if(e.responseType){const $e=e.responseType.toLowerCase();d.responseType="json"!==$e?$e:"text"}const p=e.serializeBody();let v=null;const M=()=>{if(null!==v)return v;const $e=d.statusText||"OK",Xe=new pr(d.getAllResponseHeaders()),$t=function d9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(d)||e.url;return v=new V3({headers:Xe,status:d.status,statusText:$e,url:$t}),v},b=()=>{let{headers:$e,status:Xe,statusText:$t,url:Xt}=M(),Pt=null;204!==Xe&&(Pt=typeof d.response>"u"?d.responseText:d.response),0===Xe&&(Xe=Pt?200:0);let an=Xe>=200&&Xe<300;if("json"===e.responseType&&"string"==typeof Pt){const ln=Pt;Pt=Pt.replace(K3,"");try{Pt=""!==Pt?JSON.parse(Pt):null}catch(Dn){Pt=ln,an&&(an=!1,Pt={error:Dn,text:Pt})}}an?(l.next(new Yl({body:Pt,headers:$e,status:Xe,statusText:$t,url:Xt||void 0})),l.complete()):l.error(new Hg({error:Pt,headers:$e,status:Xe,statusText:$t,url:Xt||void 0}))},T=$e=>{const{url:Xe}=M(),$t=new Hg({error:$e,status:d.status||0,statusText:d.statusText||"Unknown Error",url:Xe||void 0});l.error($t)};let L=!1;const ee=$e=>{L||(l.next(M()),L=!0);let Xe={type:$2.DownloadProgress,loaded:$e.loaded};$e.lengthComputable&&(Xe.total=$e.total),"text"===e.responseType&&d.responseText&&(Xe.partialText=d.responseText),l.next(Xe)},Se=$e=>{let Xe={type:$2.UploadProgress,loaded:$e.loaded};$e.lengthComputable&&(Xe.total=$e.total),l.next(Xe)};return d.addEventListener("load",b),d.addEventListener("error",T),d.addEventListener("timeout",T),d.addEventListener("abort",T),e.reportProgress&&(d.addEventListener("progress",ee),null!==p&&d.upload&&d.upload.addEventListener("progress",Se)),d.send(p),l.next({type:$2.Sent}),()=>{d.removeEventListener("error",T),d.removeEventListener("abort",T),d.removeEventListener("load",b),d.removeEventListener("timeout",T),e.reportProgress&&(d.removeEventListener("progress",ee),null!==p&&d.upload&&d.upload.removeEventListener("progress",Se)),d.readyState!==d.DONE&&d.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Wi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const K2=new s.nKC("XSRF_ENABLED"),Wg=new s.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Xg=new s.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class q3{}let AE=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jn(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q),s.KVO(s.Agw),s.KVO(Wg))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function h9(n,t){const e=n.url.toLowerCase();if(!(0,s.WQX)(K2)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.WQX)(q3).getToken(),o=(0,s.WQX)(Xg);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),t(n)}var Ac=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ac||{});function ps(n,t){return{\u0275kind:n,\u0275providers:t}}function W2(...n){const t=[Ql,W3,Zl,{provide:k1,useExisting:Zl},{provide:u4,useExisting:W3},{provide:Ic,useValue:h9,multi:!0},{provide:K2,useValue:!0},{provide:q3,useClass:AE}];for(const e of n)t.push(...e.\u0275providers);return(0,s.EmA)(t)}const X3=new s.nKC("LEGACY_INTERCEPTOR_FN");let Y3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[W2(ps(Ac.LegacyInterceptors,[{provide:X3,useFactory:$3},{provide:Ic,useExisting:X3,multi:!0}]))]})}}return n})();function _9(...n){const t=(0,ls.ms)(n),{args:e,keys:i}=fi(n),o=new to.c(l=>{const{length:d}=e;if(!d)return void l.complete();const p=new Array(d);let v=d,M=d;for(let b=0;b<d;b++){let T=!1;(0,ks.Tg)(e[b]).subscribe((0,no._)(l,L=>{T||(T=!0,M--),p[b]=L},()=>v--,void 0,()=>{(!v||!T)&&(M||l.next(i?us(i,p):p),l.complete())}))}});return t?o.pipe(Dl(t)):o}let Q3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:n})}}return n})(),kc=(()=>{class n extends Q3{static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,features:[s.Vt3]})}}return n})();const Ni=new s.nKC("NgValueAccessor"),J3={provide:Ni,useExisting:(0,s.Rfq)(()=>Z3),multi:!0},v4=new s.nKC("CompositionEventMode");let Z3=(()=>{class n extends Q3{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sc(){const n=ae()?ae().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(v4,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&s.bIt("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[s.Jv_([J3]),s.Vt3]})}}return n})();function Dc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function e5(n){return null!=n&&"number"==typeof n.length}const ho=new s.nKC("NgValidators"),Xo=new s.nKC("NgAsyncValidators"),t5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ir{static min(t){return M9(t)}static max(t){return Eo(t)}static required(t){return function n5(n){return Dc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function w4(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function i5(n){return Dc(n.value)||t5.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function o5(n){return t=>Dc(t.value)||!e5(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function y4(n){return t=>e5(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function e6(n){if(!n)return q2;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Dc(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return i6(t)}static composeAsync(t){return ha(t)}}function M9(n){return t=>{if(Dc(t.value)||Dc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Eo(n){return t=>{if(Dc(t.value)||Dc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function q2(n){return null}function r5(n){return null!=n}function t6(n){return(0,s.jNT)(n)?(0,hi.H)(n):n}function n6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function s5(n,t){return t.map(e=>e(n))}function a5(n){return n.map(t=>function C9(n){return!n.validate}(t)?t:e=>t.validate(e))}function i6(n){if(!n)return null;const t=n.filter(r5);return 0==t.length?null:function(e){return n6(s5(e,t))}}function Tc(n){return null!=n?i6(a5(n)):null}function ha(n){if(!n)return null;const t=n.filter(r5);return 0==t.length?null:function(e){return _9(s5(e,t).map(t6)).pipe((0,Ot.T)(n6))}}function Oc(n){return null!=n?ha(a5(n)):null}function c5(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function l5(n){return n._rawValidators}function o6(n){return n._rawAsyncValidators}function _4(n){return n?Array.isArray(n)?n:[n]:[]}function e0(n,t){return Array.isArray(n)?n.includes(t):n===t}function t0(n,t){const e=_4(t);return _4(n).forEach(o=>{e0(e,o)||e.push(o)}),e}function X2(n,t){return _4(t).filter(e=>!e0(n,e))}class r6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class or extends r6{get formDirective(){return null}get path(){return null}}class Ka extends r6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class u5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T1=(()=>{class n extends u5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Ka,2))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[s.Vt3]})}}return n})(),x4=(()=>{class n extends u5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(or,10))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[s.Vt3]})}}return n})();const Q2="VALID",O1="INVALID",Ls="PENDING",P1="DISABLED";function R1(n){return(n0(n)?n.validators:n)||null}function J2(n,t){return(n0(t)?t.asyncValidators:n)||null}function n0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function d6(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.wOt(1e3,"");if(!i[e])throw new s.wOt(1001,"")}function C4(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new s.wOt(1002,"")})}class b4{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Q2}get invalid(){return this.status===O1}get pending(){return this.status==Ls}get disabled(){return this.status===P1}get enabled(){return this.status!==P1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(t0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(t0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X2(t,this._rawAsyncValidators))}hasValidator(t){return e0(this._rawValidators,t)}hasAsyncValidator(t){return e0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ls,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=P1,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Q2,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q2||this.status===Ls)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P1:Q2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ls,this._hasOwnPendingAsyncValidator=!0;const e=t6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?P1:this.errors?O1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ls)?Ls:this._anyControlsHaveStatus(O1)?O1:Q2}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){n0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function h5(n){return Array.isArray(n)?Tc(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function u6(n){return Array.isArray(n)?Oc(n):n||null}(this._rawAsyncValidators)}}class Z2 extends b4{constructor(t,e,i){super(R1(e),J2(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){C4(this,0,t),Object.keys(t).forEach(i=>{d6(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class f5 extends Z2{}const L1=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>eu}),eu="always";function tu(n,t){return[...t.path,n]}function o0(n,t,e=eu){h6(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function FE(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&g6(n,t)})}(n,t),function T9(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function f6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&g6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $r(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function E4(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),A4(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function I4(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function h6(n,t){const e=l5(n);null!==t.validator?n.setValidators(c5(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=o6(n);null!==t.asyncValidator?n.setAsyncValidators(c5(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();I4(t._rawValidators,o),I4(t._rawAsyncValidators,o)}function A4(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=l5(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=o6(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return I4(t._rawValidators,i),I4(t._rawAsyncValidators,i),e}function g6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m6(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function v6(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===Z3?e=l:function L9(n){return Object.getPrototypeOf(n.constructor)===kc}(l)?i=l:o=l}),o||i||e||null}function y6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function _6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Pc=class extends b4{constructor(t=null,e,i){super(R1(e),J2(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=_6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){y6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){y6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},V9={provide:Ka,useExisting:(0,s.Rfq)(()=>M6)},k4=(()=>Promise.resolve())();let M6=(()=>{class n extends Ka{constructor(e,i,o,l,d,p){super(),this._changeDetectorRef=d,this.callSetDisabledState=p,this.control=new Pc,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=v6(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),m6(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){o0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){k4.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,s.L39)(i);k4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?tu(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(or,9),s.rXU(ho,10),s.rXU(Xo,10),s.rXU(Ni,10),s.rXU(s.gRc,8),s.rXU(L1,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([V9]),s.Vt3,s.OA$]})}}return n})(),s0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),ou=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();const b6=new s.nKC("NgModelWithFormControlWarning"),C5={provide:or,useExisting:(0,s.Rfq)(()=>Ns)};let Ns=(()=>{class n extends or{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(A4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return o0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){E4(e.control||null,e,!1),function fa(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function m5(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(E4(i||null,e),(n=>n instanceof Pc)(o)&&(o0(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function g5(n,t){h6(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function O9(n,t){return A4(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h6(this.form,this),this._oldForm&&A4(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(ho,10),s.rXU(Xo,10),s.rXU(L1,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&s.bIt("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([C5]),s.Vt3,s.OA$]})}}return n})();const ru={provide:Ka,useExisting:(0,s.Rfq)(()=>a0)};let a0=(()=>{class n extends Ka{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=v6(0,l)}ngOnChanges(e){this._added||this._setUpControl(),m6(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return tu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(or,13),s.rXU(ho,10),s.rXU(Xo,10),s.rXU(Ni,10),s.rXU(b6,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([ru]),s.Vt3,s.OA$]})}}return n})();function T5(n){return"number"==typeof n?n:parseFloat(n)}let N1=(()=>{class n{constructor(){this._validator=q2}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):q2,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,features:[s.OA$]})}}return n})();const X9={provide:ho,useExisting:(0,s.Rfq)(()=>S6),multi:!0};let S6=(()=>{class n extends N1{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>T5(e),this.createValidator=e=>Eo(e)}static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&s.BMQ("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[s.Jv_([X9]),s.Vt3]})}}return n})();const Y9={provide:ho,useExisting:(0,s.Rfq)(()=>D6),multi:!0};let D6=(()=>{class n extends N1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>T5(e),this.createValidator=e=>M9(e)}static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&s.BMQ("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[s.Jv_([Y9]),s.Vt3]})}}return n})(),Rc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[ou]})}}return n})();class au extends b4{constructor(t,e,i){super(R1(e),J2(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){C4(this,0,t),t.forEach((i,o)=>{d6(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function z1(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Xa=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const o=this._reduceControls(e);let l={};return z1(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new Z2(o,l)}record(e,i=null){const o=this._reduceControls(e);return new f5(o,i)}control(e,i,o){let l={};return this.useNonNullable?(z1(i)?l=i:(l.validators=i,l.asyncValidators=o),new Pc(e,{...l,nonNullable:!0})):new Pc(e,i,o)}array(e,i,o){const l=e.map(d=>this._createControl(d));return new au(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return e instanceof Pc||e instanceof b4?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:L1,useValue:e.callSetDisabledState??eu}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[Rc]})}}return n})(),l0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:b6,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:L1,useValue:e.callSetDisabledState??eu}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[Rc]})}}return n})();var u0=A(7441);const d0=["addListener","removeListener"],F5=["addEventListener","removeEventListener"],B5=["on","off"];function F1(n,t,e,i){if((0,Ko.T)(e)&&(i=e,e=void 0),i)return F1(n,t,e).pipe(Dl(i));const[o,l]=function H5(n){return(0,Ko.T)(n.addEventListener)&&(0,Ko.T)(n.removeEventListener)}(n)?F5.map(d=>p=>n[d](t,p,e)):function V5(n){return(0,Ko.T)(n.addListener)&&(0,Ko.T)(n.removeListener)}(n)?d0.map(R6(n,t)):function j5(n){return(0,Ko.T)(n.on)&&(0,Ko.T)(n.off)}(n)?B5.map(R6(n,t)):[];if(!o&&(0,u0.X)(n))return(0,lo.Z)(d=>F1(d,t,e))((0,ks.Tg)(n));if(!o)throw new TypeError("Invalid event target");return new to.c(d=>{const p=(...v)=>d.next(1<v.length?v:v[0]);return o(p),()=>l(p)})}function R6(n,t){return e=>i=>n[e](t,i)}const Ya=new to.c(Pl.l);var du=A(7786);const UE={connector:()=>new Ai.B};function tw(n,t=UE){const{connector:e}=t;return(0,Lo.N)((i,o)=>{const l=e();(0,ks.Tg)(n(function ew(n){return new to.c(t=>n.subscribe(t))}(l))).subscribe(o),o.add(i.subscribe(l))})}var U5=A(3236);function rw(n,t){return t?e=>jr(t.pipe(Ci(1),function ow(){return(0,Lo.N)((n,t)=>{n.subscribe((0,no._)(t,Pl.l))})}()),e.pipe(rw(n))):(0,lo.Z)((e,i)=>(0,ks.Tg)(n(e,i)).pipe(Ci(1),g2(e)))}var sw=A(9470);function O4(n=0,t,e=U5.b){let i=-1;return null!=t&&((0,sw.m)(t)?e=t:i=t),new to.c(o=>{let l=function aw(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},l)})}function hu(n,t=U5.E){const e=O4(n,t);return rw(()=>e)}const Qa="Service workers are disabled or not supported by this browser";class B1{constructor(t){if(this.serviceWorker=t,t){const i=F1(t,"controllerchange").pipe((0,Ot.T)(()=>t.controller)),l=jr(c1(()=>(0,Dt.of)(t.controller)),i);this.worker=l.pipe(ki(b=>!!b)),this.registration=this.worker.pipe((0,Hn.n)(()=>t.getRegistration()));const M=F1(t,"message").pipe((0,Ot.T)(b=>b.data)).pipe(ki(b=>b&&b.type)).pipe(function iw(n){return n?t=>tw(n)(t):t=>function nw(n,t){const e=(0,Ko.T)(n)?n:()=>n;return(0,Ko.T)(t)?tw(t,{connector:e}):i=>new lc(i,e)}(new Ai.B)(t)}());M.connect(),this.events=M}else this.worker=this.events=this.registration=function L6(n){return c1(()=>na(new Error(n)))}(Qa)}postMessage(t,e){return this.worker.pipe(Ci(1),(0,Vi.M)(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const o=this.waitForOperationCompleted(i),l=this.postMessage(t,e);return Promise.all([l,o]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(ki(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ci(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(ki(e=>e.nonce===t),Ci(1),(0,Ot.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let N6=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new Ai.B,!e.isEnabled)return this.messages=Ya,this.notificationClicks=Ya,void(this.subscription=Ya);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ot.T)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ot.T)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,Ot.T)(o=>o.pushManager));const i=this.pushManager.pipe((0,Hn.n)(o=>o.getSubscription()));this.subscription=(0,du.h)(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Qa));const i={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(o.length));for(let d=0;d<o.length;d++)l[d]=o.charCodeAt(d);return i.applicationServerKey=l,this.pushManager.pipe((0,Hn.n)(d=>d.subscribe(i)),Ci(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ci(1),(0,Hn.n)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Qa))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(B1))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})(),V1=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Ya,this.available=Ya,this.activated=Ya,void(this.unrecoverable=Ya);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(ki(i=>"VERSION_READY"===i.type),(0,Ot.T)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qa));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qa));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(B1))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const z6=new s.nKC("NGSW_REGISTER_SCRIPT");function cw(n,t,e,i){return()=>{if(!Ro(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[d,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":o=(0,Dt.of)(null);break;case"registerWithDelay":o=h0(+p[0]||0);break;case"registerWhenStable":o=p[0]?(0,du.h)($5(n),h0(+p[0])):$5(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(s.SKi).runOutsideAngular(()=>o.pipe(Ci(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function h0(n){return(0,Dt.of)(null).pipe(hu(n))}function $5(n){return n.get(s.o8S).isStable.pipe(ki(e=>e))}function lw(n,t){return new B1(Ro(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class F6{}function uw(n,t={}){return(0,s.EmA)([N6,V1,{provide:z6,useValue:n},{provide:F6,useValue:t},{provide:B1,useFactory:lw,deps:[F6,s.Agw]},{provide:s.hnV,useFactory:cw,deps:[s.zZn,z6,F6,s.Agw],multi:!0}])}let B6=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[uw(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[N6,V1]})}}return n})();const bi=void 0,$E=["es-MX",[["a.\xa0m.","p.\xa0m."],bi,bi],bi,[["D","L","M","M","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],bi,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],bi,[["a. C.","d. C."],bi,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["dd/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}","{1} {0}","{1}, {0}",bi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"MXN","$","peso mexicano",{AUD:[bi,"$"],BRL:[bi,"R$"],BYN:[bi,"p."],CAD:[bi,"$"],CNY:[bi,"\xa5"],ESP:["\u20a7"],EUR:[bi,"\u20ac"],GBP:[bi,"\xa3"],HKD:[bi,"$"],ILS:[bi,"\u20aa"],INR:[bi,"\u20b9"],JPY:[bi,"\xa5"],KRW:[bi,"\u20a9"],MRO:["MRU"],MRU:["UM"],MXN:["$"],NZD:[bi,"$"],PHP:[bi,"\u20b1"],TWD:[bi,"NT$"],USD:[bi,"$"],VND:[bi,"\u20ab"],XAF:[],XCD:[bi,"$"],XOF:[]},"ltr",function P4(n){const t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===t?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}];var le=A(467);class dw{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,e){const i=this.m.get(t);return void 0!==i?i:e}getBoolean(t,e=!1){const i=this.m.get(t);return void 0===i?e:"string"==typeof i?"true"===i:!!i}getNumber(t,e){const i=parseFloat(this.m.get(t));return isNaN(i)?void 0!==e?e:NaN:i}set(t,e){this.m.set(t,e)}}const ga=new dw,H6=n=>W5(n),W5=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let t=n.Ionic.platforms;return null==t&&(t=n.Ionic.platforms=pw(n),t.forEach(e=>n.document.documentElement.classList.add(`plt-${e}`))),t},pw=n=>{const t=ga.get("platform");return Object.keys(K6).filter(e=>{const i=t?.[e];return"function"==typeof i?i(n):K6[e](n)})},fu=n=>!!(j1(n,/iPad/i)||j1(n,/Macintosh/i)&&L4(n)),gu=n=>j1(n,/android|sink/i),L4=n=>yw(n,"(any-pointer:coarse)"),X5=n=>pu(n)||mu(n),pu=n=>!!(n.cordova||n.phonegap||n.PhoneGap),mu=n=>{const t=n.Capacitor;return!!t?.isNative},j1=(n,t)=>t.test(n.navigator.userAgent),yw=(n,t)=>{var e;return null===(e=n.matchMedia)||void 0===e?void 0:e.call(n,t).matches},K6={ipad:fu,iphone:n=>j1(n,/iPhone/i),ios:n=>j1(n,/iPhone|iPod/i)||fu(n),android:gu,phablet:n=>{const t=n.innerWidth,e=n.innerHeight,i=Math.min(t,e),o=Math.max(t,e);return i>390&&i<520&&o>620&&o<800},tablet:n=>{const t=n.innerWidth,e=n.innerHeight,i=Math.min(t,e),o=Math.max(t,e);return fu(n)||(n=>gu(n)&&!j1(n,/mobile/i))(n)||i>460&&i<820&&o>780&&o<1400},cordova:pu,capacitor:mu,electron:n=>j1(n,/electron/i),pwa:n=>{var t;return!!(null!==(t=n.matchMedia)&&void 0!==t&&t.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},mobile:L4,mobileweb:n=>L4(n)&&!X5(n),desktop:n=>!L4(n),hybrid:X5};var f0=A(6031),xw=A(1656),It=A(1635),N4=A(3294);let vu=(()=>{class n{constructor(e,i){this.doc=e,this.backButton=new Ai.B,this.keyboardDidShow=new Ai.B,this.keyboardDidHide=new Ai.B,this.pause=new Ai.B,this.resume=new Ai.B,this.resize=new Ai.B,i.run(()=>{let o;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(l,d){return this.subscribe(p=>p.register(l,v=>i.run(()=>d(v))))},Nc(this.pause,e,"pause",i),Nc(this.resume,e,"resume",i),Nc(this.backButton,e,"ionBackButton",i),Nc(this.resize,this.win,"resize",i),Nc(this.keyboardDidShow,this.win,"ionKeyboardDidShow",i),Nc(this.keyboardDidHide,this.win,"ionKeyboardDidHide",i),this._readyPromise=new Promise(l=>{o=l}),this.win?.cordova?e.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(e){return((n,t)=>("string"==typeof n&&(t=n,n=void 0),H6(n).includes(t)))(this.win,e)}platforms(){return H6(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return Z5(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(e){const i=this.win.navigator;return!!(i?.userAgent&&i.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(q),s.KVO(s.SKi))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z5=(n,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return i?decodeURIComponent(i[1].replace(/\+/g," ")):null},Nc=(n,t,e,i)=>{t&&t.addEventListener(e,o=>{i.run(()=>{const l=o?.detail;n.next(l)})})};let H1=(()=>{class n{constructor(e,i,o,l){this.location=i,this.serializer=o,this.router=l,this.direction=W6,this.animated=q6,this.guessDirection="forward",this.lastNavId=-1,l&&l.events.subscribe(d=>{if(d instanceof v1){const p=d.restoredState?d.restoredState.navigationId:d.id;this.guessDirection=p<this.lastNavId?"back":"forward",this.guessAnimation=d.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?d.id:p}}),e.backButton.subscribeWithPriority(0,d=>{this.pop(),d()})}navigateForward(e,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}navigateBack(e,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}navigateRoot(e,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){var e=this;return(0,le.A)(function*(){let i=e.topOutlet;for(;i;){if(yield i.pop())return!0;i=i.parentOutlet}return!1})()}setDirection(e,i,o,l){this.direction=e,this.animated=ep(e,i,o),this.animationBuilder=l}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let i,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,i=this.guessAnimation):(i=this.animated,e=this.direction),this.direction=W6,this.animated=q6,this.animationBuilder=void 0,{direction:e,animation:i,animationBuilder:o}}navigate(e,i){if(Array.isArray(e))return this.router.navigate(e,i);{const o=this.serializer.parse(e.toString());return void 0!==i.queryParams&&(o.queryParams={...i.queryParams}),void 0!==i.fragment&&(o.fragment=i.fragment),this.router.navigateByUrl(o,i)}}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(vu),s.KVO(J),s.KVO(g1),s.KVO(gi,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ep=(n,t,e)=>{if(!1!==t){if(void 0!==e)return e;if("forward"===n||"back"===n)return n;if("root"===n&&!0===t)return"forward"}},W6="auto",q6=void 0;let z4=(()=>{class n{get(e,i){const o=F4();return o?o.get(e,i):null}getBoolean(e,i){const o=F4();return!!o&&o.getBoolean(e,i)}getNumber(e,i){const o=F4();return o?o.getNumber(e,i):0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X6=new s.nKC("USERCONFIG"),F4=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};class Y6{constructor(t={}){this.data=t}get(t){return this.data[t]}}let zc=(()=>{class n{constructor(){this.zone=(0,s.WQX)(s.SKi),this.applicationRef=(0,s.WQX)(s.o8S)}create(e,i,o){return new Fc(e,i,this.applicationRef,this.zone,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();class Fc{constructor(t,e,i,o,l){this.environmentInjector=t,this.injector=e,this.applicationRef=i,this.zone=o,this.elementReferenceKey=l,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,e,i,o){return this.zone.run(()=>new Promise(l=>{const d={...i};void 0!==this.elementReferenceKey&&(d[this.elementReferenceKey]=t),l(bw(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,e,d,o,this.elementReferenceKey))}))}removeViewFromDom(t,e){return this.zone.run(()=>new Promise(i=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const l=this.elEventsMap.get(e);l&&(l(),this.elEventsMap.delete(e))}i()}))}}const bw=(n,t,e,i,o,l,d,p,v,M,b)=>{const T=s.zZn.create({providers:Q6(v),parent:e}),L=(0,s.a0P)(p,{environmentInjector:t,elementInjector:T}),ee=L.instance,Se=L.location.nativeElement;if(v&&(b&&void 0!==ee[b]&&console.error(`[Ionic Error]: ${b} is a reserved property when using ${d.tagName.toLowerCase()}. Rename or remove the "${b}" property from ${p.name}.`),Object.assign(ee,v)),M)for(const Xe of M)Se.classList.add(Xe);const $e=B4(n,ee,Se);return d.appendChild(Se),i.attachView(L.hostView),o.set(Se,L),l.set(Se,$e),Se},Ew=[f0.L,f0.a,f0.b,f0.c,f0.d],B4=(n,t,e)=>n.run(()=>{const i=Ew.filter(o=>"function"==typeof t[o]).map(o=>{const l=d=>t[o](d.detail);return e.addEventListener(o,l),()=>e.removeEventListener(o,l)});return()=>i.forEach(o=>o())}),Bc=new s.nKC("NavParamsToken"),Q6=n=>[{provide:Bc,useValue:n},{provide:Y6,useFactory:Iw,deps:[Bc]}],Iw=n=>new Y6(n),J6=(n,t)=>{const e=n.prototype;t.forEach(i=>{Object.defineProperty(e,i,{get(){return this.el[i]},set(o){this.z.runOutsideAngular(()=>this.el[i]=o)}})})},KE=(n,t)=>{const e=n.prototype;t.forEach(i=>{e[i]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[i].apply(this.el,o))}})};function V4(n){return function(e){const{defineCustomElementFn:i,inputs:o,methods:l}=n;return void 0!==i&&i(),o&&J6(e,o),l&&KE(e,l),e}}const Z6=(n,t)=>((n=n.filter(e=>e.stackId!==t.stackId)).push(t),n),j4=(n,t)=>{const e=n.createUrlTree(["."],{relativeTo:t});return n.serializeUrl(e)},U1=(n,t)=>!t||n.stackId!==t.stackId,Ow=(n,t)=>{if(!n)return;const e=rp(t);for(let i=0;i<e.length;i++){if(i>=n.length)return e[i];if(e[i]!==n[i])return}},rp=n=>n.split("/").map(t=>t.trim()).filter(t=>""!==t),e8=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class Pw{constructor(t,e,i,o,l,d){this.containerEl=e,this.router=i,this.navCtrl=o,this.zone=l,this.location=d,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?rp(t):void 0}createView(t,e){const i=j4(this.router,e),o=t?.location?.nativeElement,l=B4(this.zone,t.instance,o);return{id:this.nextId++,stackId:Ow(this.tabsPrefix,i),unlistenEvents:l,element:o,ref:t,url:i}}getExistingView(t){const e=j4(this.router,t),i=this.views.find(o=>o.url===e);return i&&i.ref.changeDetectorRef.reattach(),i}setActive(t){const e=this.navCtrl.consumeTransition();let{direction:i,animation:o,animationBuilder:l}=e;const d=this.activeView,p=U1(t,d);p&&(i="back",o=void 0);const v=this.views.slice();let M;const b=this.router;b.getCurrentNavigation?M=b.getCurrentNavigation():b.navigations?.value&&(M=b.navigations.value),M?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const T=this.views.includes(t),L=this.insertView(t,i);T||t.ref.changeDetectorRef.detectChanges();const ee=t.animationBuilder;return void 0===l&&"back"===i&&!p&&void 0!==ee&&(l=ee),d&&(d.animationBuilder=l),this.zone.runOutsideAngular(()=>this.wait(()=>(d&&d.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,d,o,this.canGoBack(1),!1,l).then(()=>sp(t,L,v,this.location,this.zone)).then(()=>({enteringView:t,direction:i,animation:o,tabSwitch:p})))))}canGoBack(t,e=this.getActiveStackId()){return this.getStack(e).length>t}pop(t,e=this.getActiveStackId()){return this.zone.run(()=>{const i=this.getStack(e);if(i.length<=t)return Promise.resolve(!1);const o=i[i.length-t-1];let l=o.url;const d=o.savedData;if(d){const v=d.get("primary");v?.route?._routerState?.snapshot.url&&(l=v.route._routerState.snapshot.url)}const{animationBuilder:p}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(l,{...o.savedExtras,animation:p}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const e=this.getStack(t.stackId),i=e[e.length-2],o=i.animationBuilder;return this.wait(()=>this.transition(i,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Rw(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const e=this.getStack(t);return e.length>0?e[e.length-1]:void 0}getRootUrl(t){const e=this.getStack(t);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(e8),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(e=>e.stackId===t)}insertView(t,e){return this.activeView=t,this.views=((n,t,e)=>"root"===e?Z6(n,t):"forward"===e?((n,t)=>(n.indexOf(t)>=0?n=n.filter(i=>i.stackId!==t.stackId||i.id<=t.id):n.push(t),n))(n,t):((n,t)=>n.indexOf(t)>=0?n.filter(i=>i.stackId!==t.stackId||i.id<=t.id):Z6(n,t))(n,t))(this.views,t,e),this.views.slice()}transition(t,e,i,o,l,d){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);const p=t?t.element:void 0,v=e?e.element:void 0,M=this.containerEl;return p&&p!==v&&(p.classList.add("ion-page"),p.classList.add("ion-page-invisible"),p.parentElement!==M&&M.appendChild(p),M.commit)?M.commit(p,v,{duration:void 0===i?0:void 0,direction:i,showGoBack:o,progressAnimation:l,animationBuilder:d}):Promise.resolve(!1)}wait(t){var e=this;return(0,le.A)(function*(){void 0!==e.runningTask&&(yield e.runningTask,e.runningTask=void 0);const i=e.runningTask=t();return i.finally(()=>e.runningTask=void 0),i})()}}const sp=(n,t,e,i,o)=>"function"==typeof requestAnimationFrame?new Promise(l=>{requestAnimationFrame(()=>{Rw(n,t,e,i,o),l()})}):Promise.resolve(),Rw=(n,t,e,i,o)=>{o.run(()=>e.filter(l=>!t.includes(l)).forEach(e8)),t.forEach(l=>{const p=i.path().split("?")[0].split("#")[0];if(l!==n&&l.url!==p){const v=l.element;v.setAttribute("aria-hidden","true"),v.classList.add("ion-page-hidden"),l.ref.changeDetectorRef.detach()}})};let t8=(()=>{class n{constructor(e,i,o,l,d,p,v,M){this.parentOutlet=M,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Di.t(null),this.activated=null,this._activatedRoute=null,this.name=An,this.stackWillChange=new s.bkB,this.stackDidChange=new s.bkB,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.parentContexts=(0,s.WQX)(xc),this.location=(0,s.WQX)(s.c1b),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(Fs,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,s.WQX)(z4),this.navCtrl=(0,s.WQX)(H1),this.nativeEl=l.nativeElement,this.name=e||An,this.tabsPrefix="true"===i?j4(d,v):void 0,this.stackCtrl=new Pw(this.tabsPrefix,this.nativeEl,d,this.navCtrl,p,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:i=>this.stackCtrl.endBackTransition(i)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.injector)}new Promise(e=>(0,xw.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,i){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const i=this.getContext();this.activatedView.savedData=new Map(i.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&i.route&&(o.route={...i.route}),this.activatedView.savedExtras={},i.route){const l=i.route.snapshot;this.activatedView.savedExtras.queryParams=l.queryParams,this.activatedView.savedExtras.fragment=l.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,l=this.stackCtrl.getExistingView(e);if(l){o=this.activated=l.ref;const p=l.savedData;p&&(this.getContext().children.contexts=p),this.updateActivatedRouteProxy(o.instance,e)}else{const p=e._futureSnapshot,v=this.parentContexts.getOrCreateContext(this.name).children,M=new Di.t(null),b=this.createActivatedRouteProxy(M,e),T=new n8(b,v,this.location.injector);o=this.activated=this.location.createComponent(p.routeConfig.component??p.component,{index:this.location.length,injector:T,environmentInjector:i??this.environmentInjector}),M.next(o.instance),l=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,b),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=l,this.navCtrl.setTopOutlet(this);const d=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:l,tabSwitch:U1(l,d)}),this.stackCtrl.setActive(l).then(p=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(p)})}canGoBack(e=1,i){return this.stackCtrl.canGoBack(e,i)}pop(e=1,i){return this.stackCtrl.pop(e,i)}getLastUrl(e){const i=this.stackCtrl.getLastUrl(e);return i?i.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,i){const o=new gr;return o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,i){return e.pipe(ki(o=>!!o),(0,Hn.n)(o=>this.currentActivatedRoute$.pipe(ki(l=>null!==l&&l.component===o),(0,Hn.n)(l=>l&&l.activatedRoute[i]),(0,N4.F)())))}updateActivatedRouteProxy(e,i){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,this.currentActivatedRoute$.next({component:e,activatedRoute:i})}}return n.\u0275fac=function(e){return new(e||n)(s.kS0("name"),s.kS0("tabs"),s.rXU(J),s.rXU(s.aKT),s.rXU(gi),s.rXU(s.SKi),s.rXU(gr),s.rXU(n,12))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class n8{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gr?this.route:t===xc?this.childContexts:this.parent.get(t,e)}}const Fs=new s.nKC("");let Lw=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=Ir([i.queryParams,i.params,i.data]).pipe((0,Hn.n)(([l,d,p],v)=>(p={...l,...d,...p},0===v?(0,Dt.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const d=(0,s.HJs)(i.component);if(d)for(const{templateName:p}of d.inputs)e.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();function pa(n){return n?.componentInputBindingEnabled?new Lw:null}const Bs=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Vs=(()=>{let n=class{constructor(e,i,o,l,d,p){this.routerOutlet=e,this.navCtrl=i,this.config=o,this.r=l,this.z=d,p.detach(),this.el=this.r.nativeElement}onClick(e){const i=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=i&&(this.navCtrl.navigateBack(i,{animation:this.routerAnimation}),e.preventDefault())}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(t8,8),s.rXU(H1),s.rXU(z4),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))},n.\u0275dir=s.FsC({type:n,hostBindings:function(e,i){1&e&&s.bIt("click",function(l){return i.onClick(l)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),n=(0,It.Cg)([V4({inputs:Bs})],n),n})(),cp=(()=>{class n{constructor(e,i,o,l,d){this.locationStrategy=e,this.navCtrl=i,this.elementRef=o,this.router=l,this.routerLink=d,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(ie),s.rXU(H1),s.rXU(s.aKT),s.rXU(gi),s.rXU(Ec,8))},n.\u0275dir=s.FsC({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.bIt("click",function(l){return i.onClick(l)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.OA$]}),n})();const H4=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);let Ja=(()=>{class n{constructor(e,i){this.injector=e,this.elementRef=i,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.elementRef.nativeElement.value=this.lastValue=e,g0(this.elementRef)}handleValueChange(e,i){e===this.elementRef.nativeElement&&(i!==this.lastValue&&(this.lastValue=i,this.onChange(i)),g0(this.elementRef))}_handleBlurEvent(e){e===this.elementRef.nativeElement&&(this.onTouched(),g0(this.elementRef))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.elementRef.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(Ka)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>g0(this.elementRef)));const i=e.control;i&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(l=>{if(typeof i[l]<"u"){const d=i[l].bind(i);i[l]=(...p)=>{d(...p),g0(this.elementRef)}}})}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,hostBindings:function(e,i){1&e&&s.bIt("ionBlur",function(l){return i._handleBlurEvent(l.target)})}}),n})();const g0=n=>{H4(()=>{const t=n.nativeElement,e=null!=t.value&&t.value.toString().length>0,i=up(t);i8(t,i);const o=t.closest("ion-item");o&&i8(o,e?[...i,"item-has-value"]:i)})},up=n=>{const t=n.classList,e=[];for(let i=0;i<t.length;i++){const o=t.item(i);null!==o&&Vw(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},i8=(n,t)=>{const e=n.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...t)},Vw=(n,t)=>n.substring(0,t.length)===t;class dp{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,e){}retrieve(t){return null}shouldReuseRoute(t,e){if(t.routeConfig!==e.routeConfig)return!1;const i=t.params,o=e.params,l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(const p of l)if(o[p]!==i[p])return!1;return!0}}class p0{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,e,i){return this.ctrl.dismiss(t,e,i)}getTop(){return this.ctrl.getTop()}}A(3503),A(7555),A(4569),A(2942),A(405);var $w=A(611),Gw=A(464),Vc=(A(5384),A(5516)),r8=(A(8476),A(4363));A(8221),A(3113);const pp=$w.i,mp=function(){var n=(0,le.A)(function*(t,e){if(!(typeof window>"u"))return yield pp(),(0,r8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e)});return function(e,i){return n.apply(this,arguments)}}(),Lt=["*"];let s8=(()=>{class n extends Ja{constructor(e,i){super(e,i)}writeValue(e){this.elementRef.nativeElement.checked=this.lastValue=e,g0(this.elementRef)}_handleIonChange(e){this.handleValueChange(e,e.checked)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,i){1&e&&s.bIt("ionChange",function(l){return i._handleIonChange(l.target)})},features:[s.Jv_([{provide:Ni,useExisting:n,multi:!0}]),s.Vt3]}),n})(),a8=(()=>{class n extends Ja{constructor(e,i){super(e,i)}_handleChangeEvent(e){this.handleValueChange(e,e.value)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,i){1&e&&s.bIt("ionChange",function(l){return i._handleChangeEvent(l.target)})},features:[s.Jv_([{provide:Ni,useExisting:n,multi:!0}]),s.Vt3]}),n})(),wu=(()=>{class n extends Ja{constructor(e,i){super(e,i)}_handleInputEvent(e){this.handleValueChange(e,e.value)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(e,i){1&e&&s.bIt("ionInput",function(l){return i._handleInputEvent(l.target)})},features:[s.Jv_([{provide:Ni,useExisting:n,multi:!0}]),s.Vt3]}),n})();const ny=(n,t)=>{const e=n.prototype;t.forEach(i=>{Object.defineProperty(e,i,{get(){return this.el[i]},set(o){this.z.runOutsideAngular(()=>this.el[i]=o)},configurable:!0})})},iy=(n,t)=>{const e=n.prototype;t.forEach(i=>{e[i]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[i].apply(this.el,o))}})},li=(n,t,e)=>{e.forEach(i=>n[i]=F1(t,i))};function jt(n){return function(e){const{defineCustomElementFn:i,inputs:o,methods:l}=n;return void 0!==i&&i(),o&&ny(e,o),l&&iy(e,l),e}}let c8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-app"]],ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({})],n),n})(),l8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-avatar"]],ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({})],n),n})(),$1=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),Gr=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),js=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["collapse"]})],n),n})(),ma=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})(),vr=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["mode"]})],n),n})(),G1=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode","translucent"]})],n),n})(),m0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),Za=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),ms=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),va=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["collapse","mode","translucent"]})],n),n})(),Fo=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),y0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),vs=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Cp=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode","sticky"]})],n),n})(),jc=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode","position"]})],n),n})(),Hc=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),_0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})(),d8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),h8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionChange"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],n),n})(),Pp=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["disabled","layout","mode","type","value"]})],n),n})(),Rp=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],n),n})(),yy=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["disabled","value"]})],n),n})(),x0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","duration","name","paused"]})],n),n})(),ec=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),Lp=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],n),n})(),Sr=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","size"]})],n),n})(),f8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,li(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],n),n})(),wa=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,It.Cg)([jt({inputs:["color","mode"]})],n),n})(),xu=(()=>{class n extends t8{constructor(e,i,o,l,d,p,v,M){super(e,i,o,l,d,p,v,M),this.parentOutlet=M}}return n.\u0275fac=function(e){return new(e||n)(s.kS0("name"),s.kS0("tabs"),s.rXU(J),s.rXU(s.aKT),s.rXU(gi),s.rXU(s.SKi),s.rXU(gr),s.rXU(n,12))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-router-outlet"]],features:[s.Vt3]}),n})(),ya=(()=>{class n extends Vs{constructor(e,i,o,l,d,p){super(e,i,o,l,d,p)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(xu,8),s.rXU(H1),s.rXU(z4),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-back-button"]],features:[s.Vt3],ngContentSelectors:Lt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n})(),Mu=(()=>{class n extends cp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],features:[s.Vt3]}),n})();const Fp={provide:ho,useExisting:(0,s.Rfq)(()=>Bp),multi:!0};let Bp=(()=>{class n extends S6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.BMQ("max",i._enabled?i.max:null)},features:[s.Jv_([Fp]),s.Vt3]}),n})();const Vp={provide:ho,useExisting:(0,s.Rfq)(()=>jp),multi:!0};let jp=(()=>{class n extends D6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.BMQ("min",i._enabled?i.min:null)},features:[s.Jv_([Vp]),s.Vt3]}),n})(),M0=(()=>{class n extends p0{constructor(){super(Vc.a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bu=(()=>{class n extends p0{constructor(){super(Vc.l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),by=(()=>{class n extends p0{constructor(){super(Vc.m),this.angularDelegate=(0,s.WQX)(zc),this.injector=(0,s.WQX)(s.zZn),this.environmentInjector=(0,s.WQX)(s.uvJ)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();class Ey extends p0{constructor(){super(Vc.c),this.angularDelegate=(0,s.WQX)(zc),this.injector=(0,s.WQX)(s.zZn),this.environmentInjector=(0,s.WQX)(s.uvJ)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Kr=(()=>{class n extends p0{constructor(){super(Vc.t)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iy=(n,t,e)=>()=>{const i=t.defaultView;if(i&&typeof window<"u"){(0,Gw.s)({...n,_zoneGate:l=>e.run(l)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function gp(){var n=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&n.push(A.e(7278).then(A.t.bind(A,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var i=new URL("b","http://a");return i.pathname="c%20d","http://a/c%20d"===i.href&&i.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(A.e(9329).then(A.t.bind(A,7783,23)))}return Promise.all(n)}().then(()=>mp(i,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:H4,jmp:l=>e.runOutsideAngular(l),ael(l,d,p,v){l[o](d,p,v)},rel(l,d,p,v){l.removeEventListener(d,p,v)}}))}};let ky=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:X6,useValue:e},{provide:s.hnV,useFactory:Iy,multi:!0,deps:[X6,q,s.SKi]},{provide:Fs,useFactory:pa,deps:[gi]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[zc,by,Ey],imports:[Mi]}),n})();var g8,$p=function(n,t){var e=function(){if(typeof window>"u")return new Map;if(!g8){var n=window;n.Ionicons=n.Ionicons||{},g8=n.Ionicons.map=n.Ionicons.map||new Map}return g8}(),i=e.get(n);void 0===i?e.set(n,t):i!==t&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(n,'". Ensure that multiple icons are not mapped to the same icon name.'))};const W1_firebase={apiKey:"AIzaSyCEgLk-DPvkFqZj8QwFjnMblrTCoyESx5M",authDomain:"quienielalmx.firebaseapp.com",projectId:"quienielalmx",storageBucket:"quienielalmx.appspot.com",messagingSenderId:"91963681658",appId:"1:91963681658:web:74bbd27e7c90af981544c3",measurementId:"G-GQSKBPKFQZ"};var YN=A(7707);function io(n,t){const e="object"==typeof t;return new Promise((i,o)=>{const l=new YN.Ms({next:d=>{i(d),l.unsubscribe()},error:o,complete:()=>{e?i(t.defaultValue):o(new ta)}});n.subscribe(l)})}var Du=A(941),QN=A(6129);class JN extends Ai.B{constructor(t=1/0,e=1/0,i=QN.U){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!o&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const d=e.now();let p=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)p=v;p&&i.splice(0,p+1)}}}var ZN=A(7647);function Am(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,ZN.u)({connector:()=>new JN(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Bk(n,t){return(0,Ko.T)(t)?(0,Hn.n)(()=>n,t):(0,Hn.n)(()=>n)}var _x=A(6745),Ti=A(3364),Ao=A(4783);A(7418);var Tu=A(1631),km=A(8779),pi=A(1401),E0=A(5398);const Mx=new Map,jk={activated:!1,tokenObservers:[]},oz={initialized:!1,enabled:!1};function wr(n){return Mx.get(n)||Object.assign({},jk)}function Sm(){return oz}const Cx="https://content-firebaseappcheck.googleapis.com/v1",cz="exchangeDebugToken",Hk={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class uz{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,le.A)(function*(){e.stop();try{e.pending=new pi.cY,yield function dz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new pi.cY,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Xr=new pi.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ix(){return(Ix=(0,le.A)(function*({url:n,body:t},e){var i,o;const l={"Content-Type":"application/json"},d=e.getImmediate({optional:!0});if(d){const ee=yield d.getHeartbeatsHeader();ee&&(l["X-Firebase-Client"]=ee)}const p={method:"POST",body:JSON.stringify(t),headers:l};let v,M;try{v=yield fetch(n,p)}catch(ee){throw Xr.create("fetch-network-error",{originalErrorMessage:null===(i=ee)||void 0===i?void 0:i.message})}if(200!==v.status)throw Xr.create("fetch-status-error",{httpStatus:v.status});try{M=yield v.json()}catch(ee){throw Xr.create("fetch-parse-error",{originalErrorMessage:null===(o=ee)||void 0===o?void 0:o.message})}const b=M.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${M.ttl}`});const T=1e3*Number(b[1]),L=Date.now();return{token:M.token,expireTimeMillis:L+T,issuedAtTimeMillis:L}})).apply(this,arguments)}const mz="firebase-app-check-database",vz=1,T8="firebase-app-check-store";let Om=null;function Ax(){return(Ax=(0,le.A)(function*(n,t){const i=(yield function Gk(){return Om||(Om=new Promise((n,t)=>{var e;try{const i=indexedDB.open(mz,vz);i.onsuccess=o=>{n(o.target.result)},i.onerror=o=>{var l;t(Xr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},i.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(T8,{keyPath:"compositeKey"})}}catch(i){t(Xr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Om)}()).transaction(T8,"readwrite"),l=i.objectStore(T8).put({compositeKey:n,value:t});return new Promise((d,p)=>{l.onsuccess=v=>{d()},i.onerror=v=>{var M;p(Xr.create("storage-set",{originalErrorMessage:null===(M=v.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const O8=new E0.Vy("@firebase/app-check");function Dx(n,t){return(0,pi.zW)()?function yz(n,t){return function Kk(n,t){return Ax.apply(this,arguments)}(function qk(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{O8.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ox(){return(Ox=(0,le.A)(function*(){const n=Sm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ez={error:"UNKNOWN_ERROR"};function Iz(n){return pi.K3.encodeString(JSON.stringify(n),!1)}function Pm(n){return Px.apply(this,arguments)}function Px(){return(Px=(0,le.A)(function*(n,t=!1){const e=n.app;!function Uk(n){if(!wr(n).activated)throw Xr.create("use-before-activation",{appName:n.name})}(e);const i=wr(e);let l,o=i.token;if(o&&!Z4(o)&&(i.token=void 0,o=void 0),!o){const v=yield i.cachedTokenPromise;v&&(Z4(v)?o=v:yield Dx(e,void 0))}if(!t&&o&&Z4(o))return{token:o.token};let p,d=!1;if(function Xk(){return Sm().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function Ex(n,t){return Ix.apply(this,arguments)}(function pz(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${Cx}/projects/${e}/apps/${i}:${cz}?key=${o}`,body:{debug_token:t}}}(e,yield function Yk(){return Ox.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield Dx(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),o=yield wr(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?O8.warn(v.message):O8.error(v),l=v}return o?l?p=Z4(o)?{token:o.token,internalError:l}:Zk(l):(p={token:o.token},i.token=o,yield Dx(e,o)):p=Zk(l),d&&function Jk(n,t){const e=wr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,p),p})).apply(this,arguments)}function Lx(n,t){const e=wr(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Qk(n){const{app:t}=n,e=wr(t);let i=e.tokenRefresher;i||(i=function Az(n){const{app:t}=n;return new uz((0,le.A)(function*(){let i;if(i=wr(t).token?yield Pm(n,!0):yield Pm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=wr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Hk.RETRIAL_MIN_WAIT,Hk.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Z4(n){return n.expireTimeMillis-Date.now()>0}function Zk(n){return{token:Iz(Ez),error:n}}class kz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)Lx(this.app,e.next);return Promise.resolve()}}const aS="app-check-internal";!function Hz(){(0,Tu._registerComponent)(new km.uA("app-check",n=>function Sz(n,t){return new kz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(aS).initialize()})),(0,Tu._registerComponent)(new km.uA(aS,n=>function Dz(n){return{getToken:t=>Pm(n,t),addTokenListener:t=>function Rx(n,t,e,i){const{app:o}=n,l=wr(o);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:i,type:t}],l.token&&Z4(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),Qk(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Qk(n))}(n,"INTERNAL",t),removeTokenListener:t=>Lx(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Tu.registerVersion)("@firebase/app-check","0.5.17")}();class Lm{constructor(){return(0,Ti.CA)("app-check")}}typeof window<"u"&&window;var eh=A(3475);const lS=new s.nKC("angularfire2.auth.use-emulator"),uS=new s.nKC("angularfire2.auth.settings"),dS=new s.nKC("angularfire2.auth.tenant-id"),hS=new s.nKC("angularfire2.auth.langugage-code"),fS=new s.nKC("angularfire2.auth.use-device-language"),gS=new s.nKC("angularfire.auth.persistence"),pS=(n,t,e,i,o,l,d,p)=>(0,Ao.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=o,l&&v.useDeviceLanguage(),d)for(const[M,b]of Object.entries(d))v.settings[M]=b;return p&&v.setPersistence(p),v},[e,i,o,l,d,p]);let Ou=(()=>{class n{constructor(e,i,o,l,d,p,v,M,b,T,L,ee){const Se=new Ai.B,$e=(0,Dt.of)(void 0).pipe((0,Du.Q)(d.outsideAngular),(0,Hn.n)(()=>l.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,6995)))),(0,Ot.T)(()=>(0,Ao.iB)(e,l,i)),(0,Ot.T)(Xe=>pS(Xe,l,p,M,b,T,v,L)),Am({bufferSize:1,refCount:!1}));if(Er(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{$e.pipe(Mo()).subscribe();const $t=$e.pipe((0,Hn.n)(an=>an.getRedirectResult().then(ln=>ln,()=>null)),Ti.U0,Am({bufferSize:1,refCount:!1})),Xt=$e.pipe((0,Hn.n)(an=>new to.c(ln=>({unsubscribe:l.runOutsideAngular(()=>an.onAuthStateChanged(Dn=>ln.next(Dn),Dn=>ln.error(Dn),()=>ln.complete()))})))),Pt=$e.pipe((0,Hn.n)(an=>new to.c(ln=>({unsubscribe:l.runOutsideAngular(()=>an.onIdTokenChanged(Dn=>ln.next(Dn),Dn=>ln.error(Dn),()=>ln.complete()))}))));this.authState=$t.pipe(Bk(Xt),(0,_x._)(d.outsideAngular),(0,Du.Q)(d.insideAngular)),this.user=$t.pipe(Bk(Pt),(0,_x._)(d.outsideAngular),(0,Du.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Hn.n)(an=>an?(0,hi.H)(an.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,Hn.n)(an=>an?(0,hi.H)(an.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,du.h)($t,Se,this.authState.pipe(ki(an=>!an))).pipe((0,Ot.T)(an=>an?.user?an:null),(0,_x._)(d.outsideAngular),(0,Du.Q)(d.insideAngular))}return(0,Ao.Gt)(this,$e,l,{spy:{apply:(Xe,$t,Xt)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&Xt.then(Pt=>Se.next(Pt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Ao.rx),s.KVO(Ao.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Ti.u0),s.KVO(lS,8),s.KVO(uS,8),s.KVO(dS,8),s.KVO(hS,8),s.KVO(fS,8),s.KVO(gS,8),s.KVO(Lm,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qz=(()=>{class n{constructor(){eh.A.registerVersion("angularfire",Ti.xv.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[Ou]}),n})();function Nm(){return(0,Lo.N)((n,t)=>{let e,i=!1;n.subscribe((0,no._)(t,o=>{const l=e;e=o,i&&t.next([l,o]),i=!0}))})}A(6995);var fn,Xz=A(9574),Yz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q1={},Vx=Vx||{},Vn=Yz||self;function zm(){}function Fm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function P8(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var jx="closure_uid_"+(1e9*Math.random()>>>0),Jz=0;function Zz(n,t,e){return n.call.apply(n.bind,arguments)}function eF(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function Tr(n,t,e){return(Tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zz:eF).apply(null,arguments)}function Bm(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function yr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,o,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return t.prototype[o].apply(i,d)}}function I0(){this.s=this.s,this.o=this.o}I0.prototype.s=!1,I0.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Qz(n){Object.prototype.hasOwnProperty.call(n,jx)&&n[jx]||(n[jx]=++Jz)}(this)},I0.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mS=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Hx(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function vS(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Fm(i)){const o=n.length||0,l=i.length||0;n.length=o+l;for(let d=0;d<l;d++)n[o+d]=i[d]}else n.push(i)}}function Or(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var nF=function(){if(!Vn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vn.addEventListener("test",zm,t),Vn.removeEventListener("test",zm,t)}catch{}return n}();function Vm(n){return/^[\s\xa0]*$/.test(n)}var wS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ux(n,t){return n<t?-1:n>t?1:0}function jm(){var n=Vn.navigator;return n&&(n=n.userAgent)?n:""}function $c(n){return-1!=jm().indexOf(n)}function $x(n){return $x[" "](n),n}$x[" "]=zm;var Hm,n,oF=$c("Opera"),th=$c("Trident")||$c("MSIE"),yS=$c("Edge"),Gx=yS||th,_S=$c("Gecko")&&!(-1!=jm().toLowerCase().indexOf("webkit")&&!$c("Edge"))&&!($c("Trident")||$c("MSIE"))&&!$c("Edge"),rF=-1!=jm().toLowerCase().indexOf("webkit")&&!$c("Edge");function xS(){var n=Vn.document;return n?n.documentMode:void 0}e:{var Kx="",Wx=(n=jm(),_S?/rv:([^\);]+)(\)|;)/.exec(n):yS?/Edge\/([\d\.]+)/.exec(n):th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rF?/WebKit\/(\S+)/.exec(n):oF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wx&&(Kx=Wx?Wx[1]:""),th){var qx=xS();if(null!=qx&&qx>parseFloat(Kx)){Hm=String(qx);break e}}Hm=Kx}var sF={};var cF=Vn.document&&th&&(xS()||parseInt(Hm,10))||void 0;function R8(n,t){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_S){e:{try{$x(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lF[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&R8.X.h.call(this)}}yr(R8,Or);var lF={2:"touch",3:"pen",4:"mouse"};R8.prototype.h=function(){R8.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var L8="closure_listenable_"+(1e6*Math.random()|0),uF=0;function dF(n,t,e,i,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=o,this.key=++uF,this.ba=this.ea=!1}function Um(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Yx(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CS(n){const t={};for(const e in n)t[e]=n[e];return t}const bS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ES(n,t){let e,i;for(let o=1;o<arguments.length;o++){for(e in i=arguments[o],i)n[e]=i[e];for(let l=0;l<bS.length;l++)e=bS[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $m(n){this.src=n,this.g={},this.h=0}function Qx(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],o=mS(i,t);(l=0<=o)&&Array.prototype.splice.call(i,o,1),l&&(Um(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Jx(n,t,e,i){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ba&&l.listener==t&&l.capture==!!e&&l.ha==i)return o}return-1}$m.prototype.add=function(n,t,e,i,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Jx(n,t,i,o);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new dF(t,this.src,l,!!i,o)).ea=e,n.push(t)),t};var Zx="closure_lm_"+(1e6*Math.random()|0),eM={};function IS(n,t,e,i,o){if(i&&i.once)return kS(n,t,e,i,o);if(Array.isArray(t)){for(var l=0;l<t.length;l++)IS(n,t[l],e,i,o);return null}return e=oM(e),n&&n[L8]?n.N(t,e,P8(i)?!!i.capture:!!i,o):AS(n,t,e,!1,i,o)}function AS(n,t,e,i,o,l){if(!t)throw Error("Invalid event type");var d=P8(o)?!!o.capture:!!o,p=nM(n);if(p||(n[Zx]=p=new $m(n)),(e=p.add(t,e,i,d,l)).proxy)return e;if(i=function hF(){const t=fF;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)nF||(o=d),void 0===o&&(o=!1),n.addEventListener(t.toString(),i,o);else if(n.attachEvent)n.attachEvent(DS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kS(n,t,e,i,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)kS(n,t[l],e,i,o);return null}return e=oM(e),n&&n[L8]?n.O(t,e,P8(i)?!!i.capture:!!i,o):AS(n,t,e,!0,i,o)}function SS(n,t,e,i,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)SS(n,t[l],e,i,o);else i=P8(i)?!!i.capture:!!i,e=oM(e),n&&n[L8]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Jx(l=n.g[t],e,i,o))&&(Um(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=nM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Jx(t,e,i,o)),(e=-1<n?t[n]:null)&&tM(e))}function tM(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[L8])Qx(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(DS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=nM(t))?(Qx(e,n),0==e.h&&(e.src=null,t[Zx]=null)):Um(n)}}}function DS(n){return n in eM?eM[n]:eM[n]="on"+n}function fF(n,t){if(n.ba)n=!0;else{t=new R8(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&tM(n),n=e.call(i,t)}return n}function nM(n){return(n=n[Zx])instanceof $m?n:null}var iM="__closure_events_fn_"+(1e9*Math.random()>>>0);function oM(n){return"function"==typeof n?n:(n[iM]||(n[iM]=function(t){return n.handleEvent(t)}),n[iM])}function rr(){I0.call(this),this.i=new $m(this),this.P=this,this.I=null}function _r(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Or(t,n);else if(t instanceof Or)t.target=t.target||n;else{var o=t;ES(t=new Or(i,n),o)}if(o=!0,e)for(var l=e.length-1;0<=l;l--){var d=t.g=e[l];o=Gm(d,i,!0,t)&&o}if(o=Gm(d=t.g=n,i,!0,t)&&o,o=Gm(d,i,!1,t)&&o,e)for(l=0;l<e.length;l++)o=Gm(d=t.g=e[l],i,!1,t)&&o}function Gm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var d=t[l];if(d&&!d.ba&&d.capture==e){var p=d.listener,v=d.ha||d.src;d.ea&&Qx(n.i,d),o=!1!==p.call(v,i)&&o}}return o&&!i.defaultPrevented}yr(rr,I0),rr.prototype[L8]=!0,rr.prototype.removeEventListener=function(n,t,e,i){SS(this,n,t,e,i)},rr.prototype.M=function(){if(rr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Um(e[i]);delete n.g[t],n.h--}}this.I=null},rr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},rr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var rM=Vn.JSON.stringify;function gF(){var n=PS;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var sM,TS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mF,n=>n.reset());class mF{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vF(n){Vn.setTimeout(()=>{throw n},0)}function OS(n,t){sM||function wF(){var n=Vn.Promise.resolve(void 0);sM=function(){n.then(yF)}}(),aM||(sM(),aM=!0),PS.add(n,t)}var aM=!1,PS=new class pF{constructor(){this.h=this.g=null}add(t,e){const i=TS.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function yF(){for(var n;n=gF();){try{n.h.call(n.g)}catch(e){vF(e)}var t=TS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}aM=!1}function Km(n,t){rr.call(this),this.h=n||1,this.g=t||Vn,this.j=Tr(this.lb,this),this.l=Date.now()}function cM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function lM(n,t,e){if("function"==typeof n)e&&(n=Tr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vn.setTimeout(n,t||0)}function RS(n){n.g=lM(()=>{n.g=null,n.i&&(n.i=!1,RS(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}yr(Km,rr),(fn=Km.prototype).ca=!1,fn.R=null,fn.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),_r(this,"tick"),this.ca&&(cM(this),this.start()))}},fn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fn.M=function(){Km.X.M.call(this),cM(this),delete this.g};class _F extends I0{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:RS(this)}M(){super.M(),this.g&&(Vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function N8(n){I0.call(this),this.h=n,this.g={}}yr(N8,I0);var LS=[];function NS(n,t,e,i){Array.isArray(e)||(e&&(LS[0]=e.toString()),e=LS);for(var o=0;o<e.length;o++){var l=IS(t,e[o],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function zS(n){Yx(n.g,function(t,e){this.g.hasOwnProperty(e)&&tM(t)},n),n.g={}}function Wm(){this.g=!0}function nh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function bF(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return rM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}N8.prototype.M=function(){N8.X.M.call(this),zS(this)},N8.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wm.prototype.Aa=function(){this.g=!1},Wm.prototype.info=function(){};var Pu={},FS=null;function qm(){return FS=FS||new rr}function BS(n){Or.call(this,Pu.Pa,n)}function z8(n){const t=qm();_r(t,new BS(t))}function VS(n,t){Or.call(this,Pu.STAT_EVENT,n),this.stat=t}function Yr(n){const t=qm();_r(t,new VS(t,n))}function jS(n,t){Or.call(this,Pu.Qa,n),this.size=t}function F8(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vn.setTimeout(function(){n()},t)}Pu.Pa="serverreachability",yr(BS,Or),Pu.STAT_EVENT="statevent",yr(VS,Or),Pu.Qa="timingevent",yr(jS,Or);var Xm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},HS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function uM(){}function $S(){}uM.prototype.h=null;var fM,B8={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function dM(){Or.call(this,"d")}function hM(){Or.call(this,"c")}function Ym(){}function V8(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new N8(this),this.O=EF,this.T=new Km(n=Gx?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new GS}function GS(){this.i=null,this.g="",this.h=!1}yr(dM,Or),yr(hM,Or),yr(Ym,uM),Ym.prototype.g=function(){return new XMLHttpRequest},Ym.prototype.i=function(){return{}},fM=new Ym;var EF=45e3,gM={},Qm={};function pM(n,t,e){n.K=1,n.v=t7(X1(t)),n.s=e,n.P=!0,KS(n,null)}function KS(n,t){n.F=Date.now(),j8(n),n.A=X1(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),nD(e.i,"t",i),n.C=0,e=n.l.H,n.h=new GS,n.g=ID(n.l,e?t:null,!n.s),0<n.N&&(n.L=new _F(Tr(n.La,n,n.g),n.N)),NS(n.S,n.g,"readystatechange",n.ib),t=n.H?CS(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),z8(),function xF(n,t,e,i,o,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),v=0;v<p.length;v++){var M=p[v].split("=");if(1<M.length){var b=M[0];M=M[1];var T=b.split("_");d=2<=T.length&&"type"==T[1]?d+(b+"=")+M+"&":d+(b+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function WS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function qS(n,t,e){let o,i=!0;for(;!n.I&&n.C<e.length;){if(o=IF(n,e),o==Qm){4==t&&(n.o=4,Yr(14),i=!1),nh(n.j,n.m,null,"[Incomplete Response]");break}if(o==gM){n.o=4,Yr(15),nh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}nh(n.j,n.m,o,null),mM(n,o)}WS(n)&&o!=Qm&&o!=gM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Yr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),bM(t),t.K=!0,Yr(11))):(nh(n.j,n.m,e,"[Invalid Chunked Response]"),Ru(n),H8(n))}function IF(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Qm:(e=Number(t.substring(e,i)),isNaN(e)?gM:(i+=1)+e>t.length?Qm:(t=t.substr(i,e),n.C=i+e,t))}function j8(n){n.V=Date.now()+n.O,XS(n,n.O)}function XS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=F8(Tr(n.gb,n),t)}function Jm(n){n.B&&(Vn.clearTimeout(n.B),n.B=null)}function H8(n){0==n.l.G||n.I||MD(n.l,n)}function Ru(n){Jm(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,cM(n.T),zS(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function mM(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||vM(e.h,n)))if(!n.J&&vM(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;a7(e),r7(e)}CM(e),Yr(18)}}else e.Ba=o[1],0<e.Ba-e.T&&37500>o[2]&&e.L&&0==e.A&&!e.v&&(e.v=F8(Tr(e.cb,e),6e3));if(1>=rD(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Nu(e,11)}else if((n.J||e.g==n)&&a7(e),!Vm(t))for(o=e.Fa.g.parse(t),t=0;t<o.length;t++){let M=o[t];if(e.T=M[0],M=M[1],2==e.G)if("c"==M[0]){e.I=M[1],e.ka=M[2];const b=M[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const T=M[4];null!=T&&(e.Ca=T,e.j.info("SVER="+e.Ca));const L=M[5];null!=L&&"number"==typeof L&&0<L&&(e.J=i=1.5*L,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const ee=n.g;if(ee){const Se=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Se){var l=i.h;l.g||-1==Se.indexOf("spdy")&&-1==Se.indexOf("quic")&&-1==Se.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(wM(l,l.h),l.h=null))}if(i.D){const $e=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(i.za=$e,Xi(i.F,i.D,$e))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=ED(i,i.H?i.ka:null,i.V),d.J){sD(i.h,d);var p=d,v=i.J;v&&p.setTimeout(v),p.B&&(Jm(p),j8(p)),i.g=d}else _D(i);0<e.i.length&&s7(e)}else"stop"!=M[0]&&"close"!=M[0]||Nu(e,7);else 3==e.G&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?Nu(e,7):MM(e):"noop"!=M[0]&&e.l&&e.l.wa(M),e.A=0)}z8()}catch{}}function YS(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Fm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function kF(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function AF(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),o=i.length,l=0;l<o;l++)t.call(void 0,i[l],e&&e[l],n)}(fn=V8.prototype).setTimeout=function(n){this.O=n},fn.ib=function(n){n=n.target;const t=this.L;t&&3==Y1(n)?t.l():this.La(n)},fn.La=function(n){try{if(n==this.g)e:{const b=Y1(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||Gx||this.g&&(this.h.h||this.g.fa()||gD(this.g)))){this.I||4!=b||7==t||z8(),Jm(this);var e=this.g.aa();this.Y=e;t:if(WS(this)){var i=gD(this.g);n="";var o=i.length,l=4==Y1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ru(this),H8(this);var d="";break t}this.h.i=new Vn.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==o-1});i.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function MF(n,t,e,i,o,l,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vm(p)){var M=p;break t}}M=null}if(!(e=M)){this.i=!1,this.o=3,Yr(12),Ru(this),H8(this);break e}nh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mM(this,e)}this.P?(qS(this,b,d),Gx&&this.i&&3==b&&(NS(this.S,this.T,"tick",this.hb),this.T.start())):(nh(this.j,this.m,d,null),mM(this,d)),4==b&&Ru(this),this.i&&!this.I&&(4==b?MD(this.l,this):(this.i=!1,j8(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),Ru(this),H8(this)}}}catch{}},fn.hb=function(){if(this.g){var n=Y1(this.g),t=this.g.fa();this.C<t.length&&(Jm(this),qS(this,n,t),this.i&&4!=n&&j8(this))}},fn.cancel=function(){this.I=!0,Ru(this)},fn.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function CF(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(z8(),Yr(17)),Ru(this),this.o=2,H8(this)):XS(this,this.V-n)};var QS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lu){this.h=void 0!==t?t:n.h,Zm(this,n.j),this.s=n.s,this.g=n.g,e7(this,n.m),this.l=n.l,t=n.i;var e=new G8;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),JS(this,e),this.o=n.o}else n&&(e=String(n).match(QS))?(this.h=!!t,Zm(this,e[1]||"",!0),this.s=U8(e[2]||""),this.g=U8(e[3]||"",!0),e7(this,e[4]),this.l=U8(e[5]||"",!0),JS(this,e[6]||"",!0),this.o=U8(e[7]||"")):(this.h=!!t,this.i=new G8(null,this.h))}function X1(n){return new Lu(n)}function Zm(n,t,e){n.j=e?U8(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function e7(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function JS(n,t,e){t instanceof G8?(n.i=t,function LF(n,t){t&&!n.j&&(A0(n),n.i=null,n.g.forEach(function(e,i){var o=i.toLowerCase();i!=o&&(eD(this,i),nD(this,o,e))},n)),n.j=t}(n.i,n.h)):(e||(t=$8(t,PF)),n.i=new G8(t,n.h))}function Xi(n,t,e){n.i.set(t,e)}function t7(n){return Xi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function U8(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $8(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,DF),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lu.prototype.toString=function(){var n=[],t=this.j;t&&n.push($8(t,ZS,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push($8(t,ZS,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push($8(e,"/"==e.charAt(0)?OF:TF,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",$8(e,RF)),n.join("")};var ZS=/[#\/\?@]/g,TF=/[#\?:]/g,OF=/[#\?]/g,PF=/[#\?@]/g,RF=/#/g;function G8(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function A0(n){n.g||(n.g=new Map,n.h=0,n.i&&function SF(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),o=null;if(0<=i){var l=n[e].substring(0,i);o=n[e].substring(i+1)}else l=n[e];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function eD(n,t){A0(n),t=ih(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function tD(n,t){return A0(n),t=ih(n,t),n.g.has(t)}function nD(n,t,e){eD(n,t),0<e.length&&(n.i=null,n.g.set(ih(n,t),Hx(e)),n.h+=e.length)}function ih(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function iD(n){this.l=n||zF,n=Vn.PerformanceNavigationTiming?0<(n=Vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vn.g&&Vn.g.Ga&&Vn.g.Ga()&&Vn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fn=G8.prototype).add=function(n,t){A0(this),this.i=null,n=ih(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},fn.forEach=function(n,t){A0(this),this.g.forEach(function(e,i){e.forEach(function(o){n.call(t,o,i,this)},this)},this)},fn.oa=function(){A0(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const o=n[i];for(let l=0;l<o.length;l++)e.push(t[i])}return e},fn.W=function(n){A0(this);let t=[];if("string"==typeof n)tD(this,n)&&(t=t.concat(this.g.get(ih(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},fn.set=function(n,t){return A0(this),this.i=null,tD(this,n=ih(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},fn.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},fn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const l=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var o=l;""!==d[i]&&(o+="="+encodeURIComponent(String(d[i]))),n.push(o)}}return this.i=n.join("&")};var zF=10;function oD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function rD(n){return n.h?1:n.g?n.g.size:0}function vM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function wM(n,t){n.g?n.g.add(t):n.h=t}function sD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function aD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Hx(n.i)}function yM(){}function FF(){this.g=new yM}function BF(n,t,e){const i=e||"";try{YS(n,function(o,l){let d=o;P8(o)&&(d=rM(o)),t.push(i+l+"="+encodeURIComponent(d))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function n7(n,t,e,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function K8(n){this.l=n.ac||null,this.j=n.jb||!1}function i7(n,t){rr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=_M,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iD.prototype.cancel=function(){if(this.i=aD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yM.prototype.stringify=function(n){return Vn.JSON.stringify(n,void 0)},yM.prototype.parse=function(n){return Vn.JSON.parse(n,void 0)},yr(K8,uM),K8.prototype.g=function(){return new i7(this.l,this.j)},K8.prototype.i=function(n){return function(){return n}}({}),yr(i7,rr);var _M=0;function cD(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function W8(n){n.readyState=4,n.l=null,n.j=null,n.A=null,q8(n)}function q8(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(fn=i7.prototype).open=function(n,t){if(this.readyState!=_M)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,q8(this)},fn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Vn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},fn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,W8(this)),this.readyState=_M},fn.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,q8(this)),this.g&&(this.readyState=3,q8(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cD(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},fn.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?W8(this):q8(this),3==this.readyState&&cD(this)}},fn.Va=function(n){this.g&&(this.response=this.responseText=n,W8(this))},fn.Ua=function(n){this.g&&(this.response=n,W8(this))},fn.ga=function(){this.g&&W8(this)},fn.setRequestHeader=function(n,t){this.v.append(n,t)},fn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},fn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(i7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jF=Vn.JSON.parse;function fo(n){rr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lD,this.K=this.L=!1}yr(fo,rr);var lD="",HF=/^https?$/i,UF=["POST","PUT"];function uD(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,dD(n),o7(n)}function dD(n){n.D||(n.D=!0,_r(n,"complete"),_r(n,"error"))}function hD(n){if(n.h&&typeof Vx<"u"&&(!n.C[1]||4!=Y1(n)||2!=n.aa()))if(n.v&&4==Y1(n))lM(n.Ha,0,n);else if(_r(n,"readystatechange"),4==Y1(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===p){var o=String(n.H).match(QS)[1]||null;if(!o&&Vn.self&&Vn.self.location){var l=Vn.self.location.protocol;o=l.substr(0,l.length-1)}i=!HF.test(o?o.toLowerCase():"")}e=i}if(e)_r(n,"complete"),_r(n,"success");else{n.m=6;try{var d=2<Y1(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",dD(n)}}finally{o7(n)}}}function o7(n,t){if(n.g){fD(n);const e=n.g,i=n.C[0]?zm:null;n.g=null,n.C=null,t||_r(n,"ready");try{e.onreadystatechange=i}catch{}}}function fD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vn.clearTimeout(n.A),n.A=null)}function Y1(n){return n.g?n.g.readyState:0}function gD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pD(n){let t="";return Yx(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function xM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=pD(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Xi(n,t,e))}function X8(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mD(n){this.Ca=0,this.i=[],this.j=new Wm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=X8("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=X8("baseRetryDelayMs",5e3,n),this.bb=X8("retryDelaySeedMs",1e4,n),this.$a=X8("forwardChannelMaxRetries",2,n),this.ta=X8("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new iD(n&&n.concurrentRequestLimit),this.Fa=new FF,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function MM(n){if(vD(n),3==n.G){var t=n.U++,e=X1(n.F);Xi(e,"SID",n.I),Xi(e,"RID",t),Xi(e,"TYPE","terminate"),Y8(n,e),(t=new V8(n,n.j,t,void 0)).K=2,t.v=t7(X1(e)),e=!1,Vn.navigator&&Vn.navigator.sendBeacon&&(e=Vn.navigator.sendBeacon(t.v.toString(),"")),!e&&Vn.Image&&((new Image).src=t.v,e=!0),e||(t.g=ID(t.l,null),t.g.da(t.v)),t.F=Date.now(),j8(t)}bD(n)}function r7(n){n.g&&(bM(n),n.g.cancel(),n.g=null)}function vD(n){r7(n),n.u&&(Vn.clearTimeout(n.u),n.u=null),a7(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vn.clearTimeout(n.m),n.m=null)}function s7(n){oD(n.h)||n.m||(n.m=!0,OS(n.Ja,n),n.C=0)}function wD(n,t){var e;e=t?t.m:n.U++;const i=X1(n.F);Xi(i,"SID",n.I),Xi(i,"RID",e),Xi(i,"AID",n.T),Y8(n,i),n.o&&n.s&&xM(i,n.o,n.s),e=new V8(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=yD(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wM(n.h,e),pM(e,i,t)}function Y8(n,t){n.ia&&Yx(n.ia,function(e,i){Xi(t,i,e)}),n.l&&YS({},function(e,i){Xi(t,i,e)})}function yD(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Tr(n.l.Ra,n.l,n):null;e:{var o=n.i;let l=-1;for(;;){const d=["count="+e];-1==l?0<e?(l=o[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let v=0;v<e;v++){let M=o[v].h;const b=o[v].g;if(M-=l,0>M)l=Math.max(0,o[v].h-100),p=!1;else try{BF(b,d,"req"+M+"_")}catch{i&&i(b)}}if(p){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function _D(n){n.g||n.u||(n.Z=1,OS(n.Ia,n),n.A=0)}function CM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=F8(Tr(n.Ia,n),CD(n,n.A)),n.A++,0))}function bM(n){null!=n.B&&(Vn.clearTimeout(n.B),n.B=null)}function xD(n){n.g=new V8(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=X1(n.sa);Xi(t,"RID","rpc"),Xi(t,"SID",n.I),Xi(t,"CI",n.L?"0":"1"),Xi(t,"AID",n.T),Xi(t,"TYPE","xmlhttp"),Y8(n,t),n.o&&n.s&&xM(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=t7(X1(t)),e.s=null,e.P=!0,KS(e,n)}function a7(n){null!=n.v&&(Vn.clearTimeout(n.v),n.v=null)}function MD(n,t){var e=null;if(n.g==t){a7(n),bM(n),n.g=null;var i=2}else{if(!vM(n.h,t))return;e=t.D,sD(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=n.C;_r(i=qm(),new jS(i,e)),s7(n)}else _D(n);else if(3==(o=t.o)||0==o&&0<n.pa||!(1==i&&function GF(n,t){return!(rD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=F8(Tr(n.Ja,n,t),CD(n,n.C)),n.C++,0)))}(n,t)||2==i&&CM(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),o){case 1:Nu(n,5);break;case 4:Nu(n,10);break;case 3:Nu(n,6);break;default:Nu(n,2)}}function CD(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Nu(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Tr(n.kb,n);e||(e=new Lu("//www.google.com/images/cleardot.gif"),Vn.location&&"http"==Vn.location.protocol||Zm(e,"https"),t7(e)),function VF(n,t){const e=new Wm;if(Vn.Image){const i=new Image;i.onload=Bm(n7,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Bm(n7,e,i,"TestLoadImage: error",!1,t),i.onabort=Bm(n7,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Bm(n7,e,i,"TestLoadImage: timeout",!1,t),Vn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Yr(2);n.G=0,n.l&&n.l.va(t),bD(n),vD(n)}function bD(n){if(n.G=0,n.la=[],n.l){const t=aD(n.h);(0!=t.length||0!=n.i.length)&&(vS(n.la,t),vS(n.la,n.i),n.h.i.length=0,Hx(n.i),n.i.length=0),n.l.ua()}}function ED(n,t,e){var i=e instanceof Lu?X1(e):new Lu(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),e7(i,i.m);else{var o=Vn.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var l=new Lu(null,void 0);i&&Zm(l,i),t&&(l.g=t),o&&e7(l,o),e&&(l.l=e),i=l}return t=n.za,(e=n.D)&&t&&Xi(i,e,t),Xi(i,"VER",n.ma),Y8(n,i),i}function ID(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fo(e&&n.Da&&!n.ra?new K8({jb:!0}):n.ra)).Ka(n.H),t}function AD(){}function c7(){if(th&&!(10<=Number(cF)))throw Error("Environmental error: no available transport.")}function Hs(n,t){rr.call(this),this.g=new mD(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Vm(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vm(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new oh(this)}function kD(n){dM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function SD(){hM.call(this),this.status=1}function oh(n){this.g=n}(fn=fo.prototype).Ka=function(n){this.L=n},fn.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fM.g(),this.C=function US(n){return n.h||(n.h=n.i())}(this.u?this.u:fM),this.g.onreadystatechange=Tr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void uD(this,l)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)e.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const l of i.keys())e.set(l,i.get(l))}i=Array.from(e.keys()).find(l=>"content-type"==l.toLowerCase()),o=Vn.FormData&&n instanceof Vn.FormData,!(0<=mS(UF,t))||i||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of e)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fD(this),0<this.B&&((this.K=function $F(n){return th&&function aF(){return function iF(n){var t=sF;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=wS(String(Hm)).split("."),e=wS("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var o=t[d]||"",l=e[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Ux(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Ux(0==o[2].length,0==l[2].length)||Ux(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tr(this.qa,this)):this.A=lM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){uD(this,l)}},fn.qa=function(){typeof Vx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_r(this,"timeout"),this.abort(8))},fn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_r(this,"complete"),_r(this,"abort"),o7(this))},fn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),o7(this,!0)),fo.X.M.call(this)},fn.Ha=function(){this.s||(this.F||this.v||this.l?hD(this):this.fb())},fn.fb=function(){hD(this)},fn.aa=function(){try{return 2<Y1(this)?this.g.status:-1}catch{return-1}},fn.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},fn.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),jF(t)}},fn.Ea=function(){return this.m},fn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fn=mD.prototype).ma=8,fn.G=1,fn.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new V8(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=CS(l),ES(l,this.S)):l=this.S),null!==this.o||this.N||(o.H=l,l=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=yD(this,o,t),Xi(e=X1(this.F),"RID",n),Xi(e,"CVER",22),this.D&&Xi(e,"X-HTTP-Session-Id",this.D),Y8(this,e),l&&(this.N?t="headers="+encodeURIComponent(String(pD(l)))+"&"+t:this.o&&xM(e,this.o,l)),wM(this.h,o),this.Ya&&Xi(e,"TYPE","init"),this.O?(Xi(e,"$req",t),Xi(e,"SID","null"),o.Z=!0,pM(o,e,null)):pM(o,e,t),this.G=2}}else 3==this.G&&(n?wD(this,n):0==this.i.length||oD(this.h)||wD(this))},fn.Ia=function(){if(this.u=null,xD(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=F8(Tr(this.eb,this),n)}},fn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yr(10),r7(this),xD(this))},fn.cb=function(){null!=this.v&&(this.v=null,r7(this),CM(this),Yr(19))},fn.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Yr(2)):(this.j.info("Failed to ping google.com"),Yr(1))},(fn=AD.prototype).xa=function(){},fn.wa=function(){},fn.va=function(){},fn.ua=function(){},fn.Ra=function(){},c7.prototype.g=function(n,t){return new Hs(n,t)},yr(Hs,rr),Hs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Yr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=ED(n,null,n.V),s7(n)},Hs.prototype.close=function(){MM(this.g)},Hs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=rM(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&s7(t)},Hs.prototype.M=function(){this.g.l=null,delete this.j,MM(this.g),delete this.g,Hs.X.M.call(this)},yr(kD,dM),yr(SD,hM),yr(oh,AD),oh.prototype.xa=function(){_r(this.g,"a")},oh.prototype.wa=function(n){_r(this.g,new kD(n))},oh.prototype.va=function(n){_r(this.g,new SD)},oh.prototype.ua=function(){_r(this.g,"b")},c7.prototype.createWebChannel=c7.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,Xm.NO_ERROR=0,Xm.TIMEOUT=8,Xm.HTTP_ERROR=6,HS.COMPLETE="complete",$S.EventType=B8,B8.OPEN="a",B8.CLOSE="b",B8.ERROR="c",B8.MESSAGE="d",rr.prototype.listen=rr.prototype.N,fo.prototype.listenOnce=fo.prototype.O,fo.prototype.getLastError=fo.prototype.Oa,fo.prototype.getLastErrorCode=fo.prototype.Ea,fo.prototype.getStatus=fo.prototype.aa,fo.prototype.getResponseJson=fo.prototype.Sa,fo.prototype.getResponseText=fo.prototype.fa,fo.prototype.send=fo.prototype.da,fo.prototype.setWithCredentials=fo.prototype.Ka;var KF=q1.createWebChannelTransport=function(){return new c7},WF=q1.getStatEventTarget=function(){return qm()},EM=q1.ErrorCode=Xm,qF=q1.EventType=HS,XF=q1.Event=Pu,DD=q1.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},YF=q1.FetchXmlHttpFactory=K8,l7=q1.WebChannel=$S,QF=q1.XhrIo=fo;const TD="@firebase/firestore";class sr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let rh="9.14.0";const k0=new E0.Vy("@firebase/firestore");function IM(){return k0.logLevel}function yt(n,...t){if(k0.logLevel<=E0.$b.DEBUG){const e=t.map(AM);k0.debug(`Firestore (${rh}): ${n}`,...e)}}function ko(n,...t){if(k0.logLevel<=E0.$b.ERROR){const e=t.map(AM);k0.error(`Firestore (${rh}): ${n}`,...e)}}function zu(n,...t){if(k0.logLevel<=E0.$b.WARN){const e=t.map(AM);k0.warn(`Firestore (${rh}): ${n}`,...e)}}function AM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function sn(n="Unexpected state"){const t=`FIRESTORE (${rh}) INTERNAL ASSERTION FAILED: `+n;throw ko(t),new Error(t)}function kn(n,t){n||sn()}function Gt(n,t){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends pi.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(sr.UNAUTHENTICATED))}shutdown(){}}class tB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class nB{constructor(t){this.t=t,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let o=this.i;const l=M=>this.i!==o?(o=this.i,e(M)):Promise.resolve();let d=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Yo,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const M=d;t.enqueueRetryable((0,le.A)(function*(){yield M.promise,yield l(i.currentUser)}))},v=M=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(M=>v(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?v(M):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Yo)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kn("string"==typeof i.accessToken),new OD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kn(null===t||"string"==typeof t),new sr(t)}}class iB{constructor(t,e,i,o){this.h=t,this.l=e,this.m=i,this.g=o,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(kn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oB{constructor(t,e,i,o){this.h=t,this.l=e,this.m=i,this.g=o}getToken(){return Promise.resolve(new iB(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rB{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=l=>{null!=l.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,yt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const o=l=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?o(l):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kn("string"==typeof e.token),this.A=e.token,new PD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class RD{static R(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const o=sB(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return i}}function jn(n,t){return n<t?-1:n>t?1:0}function sh(n,t,e){return n.length===t.length&&n.every((i,o)=>e(i,t[o]))}function LD(n){return n+"\0"}class Yi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Yi.fromMillis(Date.now())}static fromDate(t){return Yi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Yi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jn(this.nanoseconds,t.nanoseconds):jn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Sn(t)}static min(){return new Sn(new Yi(0,0))}static max(){return new Sn(new Yi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Q8{constructor(t,e,i){void 0===e?e=0:e>t.length&&sn(),void 0===i?i=t.length-e:i>t.length-e&&sn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Q8.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Q8?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let o=0;o<i;o++){const l=t.get(o),d=e.get(o);if(l<d)return-1;if(l>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ri extends Q8{construct(t,e,i){return new ri(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(Qe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(o=>o.length>0))}return new ri(e)}static emptyPath(){return new ri([])}}const aB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class go extends Q8{construct(t,e,i){return new go(t,e,i)}static isValidIdentifier(t){return aB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),go.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new go(["__name__"])}static fromServerFormat(t){const e=[];let i="",o=0;const l=()=>{if(0===i.length)throw new ft(Qe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;o<t.length;){const p=t[o];if("\\"===p){if(o+1===t.length)throw new ft(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new ft(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,o+=2}else"`"===p?(d=!d,o++):"."!==p||d?(i+=p,o++):(l(),o++)}if(l(),d)throw new ft(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new go(e)}static emptyPath(){return new go([])}}class Ht{constructor(t){this.path=t}static fromPath(t){return new Ht(ri.fromString(t))}static fromName(t){return new Ht(ri.fromString(t).popFirst(5))}static empty(){return new Ht(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ri.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ri.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ht(new ri(t.slice()))}}class u7{constructor(t,e,i,o){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=o}}function kM(n){return n.fields.find(t=>2===t.kind)}function Fu(n){return n.fields.filter(t=>2!==t.kind)}u7.UNKNOWN_ID=-1;class d7{constructor(t,e){this.fieldPath=t,this.kind=e}}class J8{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new J8(0,Us.min())}}function ND(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Sn.fromTimestamp(1e9===i?new Yi(e+1,0):new Yi(e,i));return new Us(o,Ht.empty(),t)}function zD(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Us(Sn.min(),Ht.empty(),-1)}static max(){return new Us(Sn.max(),Ht.empty(),-1)}}function SM(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ht.comparator(n.documentKey,t.documentKey),0!==e?e:jn(n.largestBatchId,t.largestBatchId))}const FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function S0(n){return DM.apply(this,arguments)}function DM(){return DM=(0,le.A)(function*(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==FD)throw n;yt("LocalStore","Unexpectedly lost primary lease")}),DM.apply(this,arguments)}class Ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ke((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ke?e:Ke.resolve(e)}catch(e){return Ke.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ke.reject(e)}static resolve(t){return new Ke((e,i)=>{e(t)})}static reject(t){return new Ke((e,i)=>{i(t)})}static waitFor(t){return new Ke((e,i)=>{let o=0,l=0,d=!1;t.forEach(p=>{++o,p.next(()=>{++l,d&&l===o&&e()},v=>i(v))}),d=!0,l===o&&e()})}static or(t){let e=Ke.resolve(!1);for(const i of t)e=e.next(o=>o?Ke.resolve(o):i());return e}static forEach(t,e){const i=[];return t.forEach((o,l)=>{i.push(e.call(this,o,l))}),this.waitFor(i)}static mapArray(t,e){return new Ke((i,o)=>{const l=t.length,d=new Array(l);let p=0;for(let v=0;v<l;v++){const M=v;e(t[M]).next(b=>{d[M]=b,++p,p===l&&i(d)},b=>o(b))}})}static doWhile(t,e){return new Ke((i,o)=>{const l=()=>{!0===t()?e().next(()=>{l()},o):i()};l()})}}class h7{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Yo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Z8(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const o=TM(i.target.error);this.P.reject(new Z8(t,o))}}static open(t,e,i,o){try{return new h7(e,t.transaction(o,i))}catch(l){throw new Z8(e,l)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(yt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new dB(e)}}class tc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===tc.D((0,pi.ZQ)())&&ko("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return yt("SimpleDb","Removing database:",t),Bu(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,pi.zW)())return!1;if(tc.N())return!0;const t=(0,pi.ZQ)(),e=tc.D(t),i=0<e&&e<10,o=tc.k(t),l=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,le.A)(function*(){return e.db||(yt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,o)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=d=>{i(d.target.result)},l.onblocked=()=>{o(new Z8(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;o("VersionError"===p.name?new ft(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ft(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Z8(t,p))},l.onupgradeneeded=d=>{yt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.$(d.target.result,l.transaction,d.oldVersion,e.version).next(()=>{yt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,o){var l=this;return(0,le.A)(function*(){const d="readonly"===e;let p=0;for(;;){++p;try{l.db=yield l.F(t);const v=h7.open(l.db,t,d?"readonly":"readwrite",i),M=o(v).next(b=>(v.V(),b)).catch(b=>(v.abort(b),Ke.reject(b))).toPromise();return M.catch(()=>{}),yield v.v,M}catch(v){const M=v,b="FirebaseError"!==M.name&&p<3;if(yt("SimpleDb","Transaction failed with error:",M.message,"Retrying:",b),l.close(),!b)return Promise.reject(M)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uB{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Bu(this.U.delete())}}class Z8 extends ft{constructor(t,e){super(Qe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function D0(n){return"IndexedDbTransactionError"===n.name}class dB{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(yt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Bu(i)}add(t){return yt("SimpleDb","ADD",this.store.name,t,t),Bu(this.store.add(t))}get(t){return Bu(this.store.get(t)).next(e=>(void 0===e&&(e=null),yt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return yt("SimpleDb","DELETE",this.store.name,t),Bu(this.store.delete(t))}count(){return yt("SimpleDb","COUNT",this.store.name),Bu(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),l=[];return this.H(o,(d,p)=>{l.push(p)}).next(()=>l)}{const o=this.store.getAll(i.range);return new Ke((l,d)=>{o.onerror=p=>{d(p.target.error)},o.onsuccess=p=>{l(p.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ke((o,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{o(d.target.result)}})}Y(t,e){yt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const o=this.cursor(i);return this.H(o,(l,d,p)=>p.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const o=this.cursor(i);return this.H(o,e)}tt(t){const e=this.cursor({});return new Ke((i,o)=>{e.onerror=l=>{const d=TM(l.target.error);o(d)},e.onsuccess=l=>{const d=l.target.result;d?t(d.primaryKey,d.value).next(p=>{p?d.continue():i()}):i()}})}H(t,e){const i=[];return new Ke((o,l)=>{t.onerror=d=>{l(d.target.error)},t.onsuccess=d=>{const p=d.target.result;if(!p)return void o();const v=new uB(p),M=e(p.primaryKey,p.value,v);if(M instanceof Ke){const b=M.catch(T=>(v.done(),Ke.reject(T)));i.push(b)}v.isDone?o():null===v.G?p.continue():p.continue(v.G)}}).next(()=>Ke.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Bu(n){return new Ke((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const o=TM(i.target.error);e(o)}})}let VD=!1;function TM(n){const t=tc.D((0,pi.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VD||(VD=!0,setTimeout(()=>{throw i},0)),i}}return n}class hB{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;yt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,le.A)(function*(){e.task=null;try{yt("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){D0(i)?yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield S0(i)}yield e.nt(6e4)}))}}class fB{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,le.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let o=e,l=!0;return Ke.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return yt("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,o).next(p=>{o-=p,i.add(d)});l=!1})).next(()=>e-o)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(o=>this.localStore.localDocuments.getNextDocuments(t,e,o,i).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(o,l)).next(p=>(yt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(t,e,p))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((o,l)=>{const d=zD(l);SM(d,i)>0&&(i=d)}),new Us(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ws{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function jD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function HD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ws.at=-1;class po{constructor(t,e){this.comparator=t,this.root=e||xr.EMPTY}insert(t,e){return new po(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(t){return new po(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(0===o)return e+i.left.size;o<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new f7(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new f7(this.root,t,this.comparator,!1)}getReverseIterator(){return new f7(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new f7(this.root,t,this.comparator,!0)}}class f7{constructor(t,e,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xr{constructor(t,e,i,o,l){this.key=t,this.value=e,this.color=i??xr.RED,this.left=o??xr.EMPTY,this.right=l??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,o,l){return new xr(t??this.key,e??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let o=this;const l=i(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,i),null):0===l?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return xr.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const t=this.left.check();if(t!==this.right.check())throw sn();return t+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1,xr.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(n,t,e,i,o){return this}insert(n,t,e){return new xr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(t){this.comparator=t,this.data=new po(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new UD(this.data.getIterator())}getIteratorFrom(t){return new UD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Oi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Oi(this.comparator);return e.data=t,e}}class UD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ah(n){return n.hasNext()?n.getNext():void 0}class $s{constructor(t){this.fields=t,t.sort(go.comparator)}static empty(){return new $s([])}unionWith(t){let e=new Oi(go.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new $s(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Qo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Qo(e)}static fromUint8Array(t){const e=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new Qo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qo.EMPTY_BYTE_STRING=new Qo("");const pB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T0(n){if(kn(!!n),"string"==typeof n){let t=0;const e=pB.exec(n);if(kn(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mo(n.seconds),nanos:mo(n.nanos)}}function mo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ju(n){return"string"==typeof n?Qo.fromBase64String(n):Qo.fromUint8Array(n)}function OM(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function $D(n){const t=n.mapValue.fields.__previous_value__;return OM(t)?$D(t):t}function ef(n){const t=T0(n.mapValue.fields.__local_write_time__.timestampValue);return new Yi(t.seconds,t.nanos)}class mB{constructor(t,e,i,o,l,d,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class O0{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new O0("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof O0&&t.projectId===this.projectId&&t.database===this.database}}function tf(n){return null==n}function nf(n){return 0===n&&1/n==-1/0}function GD(n){return"number"==typeof n&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const P0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},g7={nullValue:"NULL_VALUE"};function Hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OM(n)?4:XD(n)?9007199254740991:10:sn()}function Gc(n,t){if(n===t)return!0;const e=Hu(n);if(e!==Hu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ef(n).isEqual(ef(t));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=T0(i.timestampValue),d=T0(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,ju(n.bytesValue).isEqual(ju(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,o){return mo(i.geoPointValue.latitude)===mo(o.geoPointValue.latitude)&&mo(i.geoPointValue.longitude)===mo(o.geoPointValue.longitude)}(n,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mo(i.integerValue)===mo(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=mo(i.doubleValue),d=mo(o.doubleValue);return l===d?nf(l)===nf(d):isNaN(l)&&isNaN(d)}return!1}(n,t);case 9:return sh(n.arrayValue.values||[],t.arrayValue.values||[],Gc);case 10:return function(i,o){const l=i.mapValue.fields||{},d=o.mapValue.fields||{};if(jD(l)!==jD(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!Gc(l[p],d[p])))return!1;return!0}(n,t);default:return sn()}var o}function rf(n,t){return void 0!==(n.values||[]).find(e=>Gc(e,t))}function R0(n,t){if(n===t)return 0;const e=Hu(n),i=Hu(t);if(e!==i)return jn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jn(n.booleanValue,t.booleanValue);case 2:return function(o,l){const d=mo(o.integerValue||o.doubleValue),p=mo(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return KD(n.timestampValue,t.timestampValue);case 4:return KD(ef(n),ef(t));case 5:return jn(n.stringValue,t.stringValue);case 6:return function(o,l){const d=ju(o),p=ju(l);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const d=o.split("/"),p=l.split("/");for(let v=0;v<d.length&&v<p.length;v++){const M=jn(d[v],p[v]);if(0!==M)return M}return jn(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const d=jn(mo(o.latitude),mo(l.latitude));return 0!==d?d:jn(mo(o.longitude),mo(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,l){const d=o.values||[],p=l.values||[];for(let v=0;v<d.length&&v<p.length;++v){const M=R0(d[v],p[v]);if(M)return M}return jn(d.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,l){if(o===P0.mapValue&&l===P0.mapValue)return 0;if(o===P0.mapValue)return 1;if(l===P0.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),v=l.fields||{},M=Object.keys(v);p.sort(),M.sort();for(let b=0;b<p.length&&b<M.length;++b){const T=jn(p[b],M[b]);if(0!==T)return T;const L=R0(d[p[b]],v[M[b]]);if(0!==L)return L}return jn(p.length,M.length)}(n.mapValue,t.mapValue);default:throw sn()}}function KD(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jn(n,t);const e=T0(n),i=T0(t),o=jn(e.seconds,i.seconds);return 0!==o?o:jn(e.nanos,i.nanos)}function ch(n){return PM(n)}function PM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=T0(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ju(n.bytesValue).toBase64():"referenceValue"in n?Ht.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let o="[",l=!0;for(const d of i.values||[])l?l=!1:o+=",",o+=PM(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let l="{",d=!0;for(const p of o)d?d=!1:l+=",",l+=`${p}:${PM(i.fields[p])}`;return l+"}"}(n.mapValue):sn();var t}function Uu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function RM(n){return!!n&&"integerValue"in n}function sf(n){return!!n&&"arrayValue"in n}function WD(n){return!!n&&"nullValue"in n}function qD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p7(n){return!!n&&"mapValue"in n}function af(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Vu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=af(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=af(n.arrayValue.values[e]);return t}return Object.assign({},n)}function XD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vB(n){return"nullValue"in n?g7:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uu(O0.empty(),Ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:sn()}function wB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uu(O0.empty(),Ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?P0:sn()}function YD(n,t){const e=R0(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function QD(n,t){const e=R0(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Mr{constructor(t){this.value=t}static empty(){return new Mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!p7(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=af(e)}setAll(t){let e=go.emptyPath(),i={},o=[];t.forEach((d,p)=>{if(!e.isImmediateParentOf(p)){const v=this.getFieldsMap(e);this.applyChanges(v,i,o),i={},o=[],e=p.popLast()}d?i[p.lastSegment()]=af(d):o.push(p.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,o)}delete(t){const e=this.field(t.popLast());p7(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=e.mapValue.fields[t.get(i)];p7(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,i){Vu(e,(o,l)=>t[o]=l);for(const o of i)delete t[o]}clone(){return new Mr(af(this.value))}}function JD(n){const t=[];return Vu(n.fields,(e,i)=>{const o=new go([e]);if(p7(i)){const l=JD(i.mapValue).fields;if(0===l.length)t.push(o);else for(const d of l)t.push(o.child(d))}else t.push(o)}),new $s(t)}class Fi{constructor(t,e,i,o,l,d){this.key=t,this.documentType=e,this.version=i,this.readTime=o,this.data=l,this.documentState=d}static newInvalidDocument(t){return new Fi(t,0,Sn.min(),Sn.min(),Mr.empty(),0)}static newFoundDocument(t,e,i){return new Fi(t,1,e,Sn.min(),i,0)}static newNoDocument(t,e){return new Fi(t,2,e,Sn.min(),Mr.empty(),0)}static newUnknownDocument(t,e){return new Fi(t,3,e,Sn.min(),Mr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yB{constructor(t,e=null,i=[],o=[],l=null,d=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=p,this.ht=null}}function ZD(n,t=null,e=[],i=[],o=null,l=null,d=null){return new yB(n,t,e,i,o,l,d)}function $u(n){const t=Gt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(o=i).field.canonicalString()+o.op.toString()+ch(o.value);var o}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),tf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ch(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ch(i)).join(",")),t.ht=e}return t.ht}function cf(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!kB(n.orderBy[o],t.orderBy[o]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((e=n.filters[o]).op!==(i=t.filters[o]).op||!e.field.isEqual(i.field)||!Gc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oT(n.startAt,t.startAt)&&oT(n.endAt,t.endAt)}function m7(n){return Ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function v7(n,t){return n.filters.filter(e=>e instanceof Cr&&e.field.isEqual(t))}function eT(n,t,e){let i=g7,o=!0;for(const l of v7(n,t)){let d=g7,p=!0;switch(l.op){case"<":case"<=":d=vB(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=g7}YD({value:i,inclusive:o},{value:d,inclusive:p})<0&&(i=d,o=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const d=e.position[l];YD({value:i,inclusive:o},{value:d,inclusive:e.inclusive})<0&&(i=d,o=e.inclusive);break}return{value:i,inclusive:o}}function tT(n,t,e){let i=P0,o=!0;for(const l of v7(n,t)){let d=P0,p=!0;switch(l.op){case">=":case">":d=wB(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=P0}QD({value:i,inclusive:o},{value:d,inclusive:p})>0&&(i=d,o=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const d=e.position[l];QD({value:i,inclusive:o},{value:d,inclusive:e.inclusive})>0&&(i=d,o=e.inclusive);break}return{value:i,inclusive:o}}class Cr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new xB(t,e,i):"array-contains"===e?new bB(t,i):"in"===e?new EB(t,i):"not-in"===e?new IB(t,i):"array-contains-any"===e?new AB(t,i):new Cr(t,e,i)}static lt(t,e,i){return"in"===e?new MB(t,i):new CB(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(R0(e,this.value)):null!==e&&Hu(this.value)===Hu(e)&&this.ft(R0(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return sn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xB extends Cr{constructor(t,e,i){super(t,e,i),this.key=Ht.fromName(i.referenceValue)}matches(t){const e=Ht.comparator(t.key,this.key);return this.ft(e)}}class MB extends Cr{constructor(t,e){super(t,"in",e),this.keys=nT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CB extends Cr{constructor(t,e){super(t,"not-in",e),this.keys=nT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ht.fromName(i.referenceValue))}class bB extends Cr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sf(e)&&rf(e.arrayValue,this.value)}}class EB extends Cr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&rf(this.value.arrayValue,e)}}class IB extends Cr{constructor(t,e){super(t,"not-in",e)}matches(t){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!rf(this.value.arrayValue,e)}}class AB extends Cr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>rf(this.value.arrayValue,i))}}class L0{constructor(t,e){this.position=t,this.inclusive=e}}class lh{constructor(t,e="asc"){this.field=t,this.dir=e}}function kB(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function iT(n,t,e){let i=0;for(let o=0;o<n.position.length;o++){const l=t[o],d=n.position[o];if(i=l.field.isKeyField()?Ht.comparator(Ht.fromName(d.referenceValue),e.key):R0(d,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function oT(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gc(n.position[e],t.position[e]))return!1;return!0}class Q1{constructor(t,e=null,i=[],o=[],l=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=v,this._t=null,this.wt=null}}function rT(n,t,e,i,o,l,d,p){return new Q1(n,t,e,i,o,l,d,p)}function uh(n){return new Q1(n)}function sT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function LM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function NM(n){for(const t of n.filters)if(t.dt())return t.field;return null}function zM(n){return null!==n.collectionGroup}function dh(n){const t=Gt(n);if(null===t._t){t._t=[];const e=NM(t),i=LM(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new lh(e)),t._t.push(new lh(go.keyField(),"asc"));else{let o=!1;for(const l of t.explicitOrderBy)t._t.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new lh(go.keyField(),l))}}}return t._t}function Qr(n){const t=Gt(n);if(!t.wt)if("F"===t.limitType)t.wt=ZD(t.path,t.collectionGroup,dh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of dh(t))e.push(new lh(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new L0(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new L0(t.startAt.position,t.startAt.inclusive):null;t.wt=ZD(t.path,t.collectionGroup,e,t.filters,t.limit,i,o)}return t.wt}function w7(n,t,e){return new Q1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function lf(n,t){return cf(Qr(n),Qr(t))&&n.limitType===t.limitType}function aT(n){return`${$u(Qr(n))}|lt:${n.limitType}`}function FM(n){return`Query(target=${function _B(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${ch(i.value)}`;var i}).join(", ")}]`),tf(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>ch(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>ch(e)).join(",")),`Target(${t})`}(Qr(n))}; limitType=${n.limitType})`}function BM(n,t){return t.isFoundDocument()&&function(e,i){const o=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Ht.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,i){for(const o of e.explicitOrderBy)if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,t)&&function(e,i){for(const o of e.filters)if(!o.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(o,l,d){const p=iT(o,l,d);return o.inclusive?p<=0:p<0}(e.startAt,dh(e),i)||e.endAt&&!function(o,l,d){const p=iT(o,l,d);return o.inclusive?p>=0:p>0}(e.endAt,dh(e),i)));var e,i}function cT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lT(n){return(t,e)=>{let i=!1;for(const o of dh(n)){const l=SB(o,t,e);if(0!==l)return l;i=i||o.field.isKeyField()}return 0}}function SB(n,t,e){const i=n.field.isKeyField()?Ht.comparator(t.key,e.key):function(o,l,d){const p=l.data.field(o),v=d.data.field(o);return null!==p&&null!==v?R0(p,v):sn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return sn()}}function uT(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function dT(n){return{integerValue:""+n}}function hT(n,t){return GD(t)?dT(t):uT(n,t)}class y7{constructor(){this._=void 0}}function DB(n,t,e){return n instanceof hh?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(e,t):n instanceof Gu?gT(n,t):n instanceof Ku?pT(n,t):function(i,o){const l=fT(i,o),d=mT(l)+mT(i.yt);return RM(l)&&RM(i.yt)?dT(d):uT(i.It,d)}(n,t)}function TB(n,t,e){return n instanceof Gu?gT(n,t):n instanceof Ku?pT(n,t):e}function fT(n,t){return n instanceof fh?RM(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class hh extends y7{}class Gu extends y7{constructor(t){super(),this.elements=t}}function gT(n,t){const e=vT(t);for(const i of n.elements)e.some(o=>Gc(o,i))||e.push(i);return{arrayValue:{values:e}}}class Ku extends y7{constructor(t){super(),this.elements=t}}function pT(n,t){let e=vT(t);for(const i of n.elements)e=e.filter(o=>!Gc(o,i));return{arrayValue:{values:e}}}class fh extends y7{constructor(t,e){super(),this.It=t,this.yt=e}}function mT(n){return mo(n.integerValue||n.doubleValue)}function vT(n){return sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uf{constructor(t,e){this.field=t,this.transform=e}}class PB{constructor(t,e){this.version=t,this.transformResults=e}}class Qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _7(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class x7{}function wT(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ph(n.key,Qi.none()):new gh(n.key,n.data,Qi.none());{const e=n.data,i=Mr.empty();let o=new Oi(go.comparator);for(let l of t.fields)if(!o.has(l)){let d=e.field(l);null===d&&l.length>1&&(l=l.popLast(),d=e.field(l)),null===d?i.delete(l):i.set(l,d),o=o.add(l)}return new J1(n.key,i,new $s(o.toArray()),Qi.none())}}function RB(n,t,e){n instanceof gh?function(i,o,l){const d=i.value.clone(),p=xT(i.fieldTransforms,o,l.transformResults);d.setAll(p),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,t,e):n instanceof J1?function(i,o,l){if(!_7(i.precondition,o))return void o.convertToUnknownDocument(l.version);const d=xT(i.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(_T(i)),p.setAll(d),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function df(n,t,e,i){return n instanceof gh?function(o,l,d,p){if(!_7(o.precondition,l))return d;const v=o.value.clone(),M=MT(o.fieldTransforms,p,l);return v.setAll(M),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof J1?function(o,l,d,p){if(!_7(o.precondition,l))return d;const v=MT(o.fieldTransforms,p,l),M=l.data;return M.setAll(_T(o)),M.setAll(v),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):(d=e,_7(n.precondition,l=t)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function LB(n,t){let e=null;for(const i of n.fieldTransforms){const o=t.data.field(i.field),l=fT(i.transform,o||null);null!=l&&(null===e&&(e=Mr.empty()),e.set(i.field,l))}return e||null}function yT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&sh(e,i,(o,l)=>function OB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gu&&i instanceof Gu||e instanceof Ku&&i instanceof Ku?sh(e.elements,i.elements,Gc):e instanceof fh&&i instanceof fh?Gc(e.yt,i.yt):e instanceof hh&&i instanceof hh);var e,i}(o,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class gh extends x7{constructor(t,e,i,o=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class J1 extends x7{constructor(t,e,i,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _T(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function xT(n,t,e){const i=new Map;kn(n.length===e.length);for(let o=0;o<e.length;o++){const l=n[o],d=l.transform,p=t.data.field(l.field);i.set(l.field,TB(d,p,e[o]))}return i}function MT(n,t,e){const i=new Map;for(const o of n){const l=o.transform,d=e.data.field(o.field);i.set(o.field,DB(l,d,t))}return i}class ph extends x7{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VM extends x7{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NB{constructor(t){this.count=t}}var Bo,si;function CT(n){switch(n){default:return sn();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function bT(n){if(void 0===n)return ko("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Bo.OK:return Qe.OK;case Bo.CANCELLED:return Qe.CANCELLED;case Bo.UNKNOWN:return Qe.UNKNOWN;case Bo.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Bo.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Bo.INTERNAL:return Qe.INTERNAL;case Bo.UNAVAILABLE:return Qe.UNAVAILABLE;case Bo.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Bo.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Bo.NOT_FOUND:return Qe.NOT_FOUND;case Bo.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Bo.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Bo.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Bo.ABORTED:return Qe.ABORTED;case Bo.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Bo.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Bo.DATA_LOSS:return Qe.DATA_LOSS;default:return sn()}}(si=Bo||(Bo={}))[si.OK=0]="OK",si[si.CANCELLED=1]="CANCELLED",si[si.UNKNOWN=2]="UNKNOWN",si[si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",si[si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",si[si.NOT_FOUND=5]="NOT_FOUND",si[si.ALREADY_EXISTS=6]="ALREADY_EXISTS",si[si.PERMISSION_DENIED=7]="PERMISSION_DENIED",si[si.UNAUTHENTICATED=16]="UNAUTHENTICATED",si[si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",si[si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",si[si.ABORTED=10]="ABORTED",si[si.OUT_OF_RANGE=11]="OUT_OF_RANGE",si[si.UNIMPLEMENTED=12]="UNIMPLEMENTED",si[si.INTERNAL=13]="INTERNAL",si[si.UNAVAILABLE=14]="UNAVAILABLE",si[si.DATA_LOSS=15]="DATA_LOSS";class N0{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[o,l]of i)if(this.equalsFn(o,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0===o)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return 1===i.length?delete this.inner[e]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Vu(this.inner,(e,i)=>{for(const[o,l]of i)t(o,l)})}isEmpty(){return HD(this.inner)}size(){return this.innerSize}}const zB=new po(Ht.comparator);function ys(){return zB}const ET=new po(Ht.comparator);function hf(...n){let t=ET;for(const e of n)t=t.insert(e.key,e);return t}function IT(n){let t=ET;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Kc(){return ff()}function AT(){return ff()}function ff(){return new N0(n=>n.toString(),(n,t)=>n.isEqual(t))}const FB=new po(Ht.comparator),BB=new Oi(Ht.comparator);function $n(...n){let t=BB;for(const e of n)t=t.add(e);return t}const VB=new Oi(jn);function M7(){return VB}class gf{constructor(t,e,i,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const o=new Map;return o.set(t,pf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gf(Sn.min(),o,M7(),ys(),$n())}}class pf{constructor(t,e,i,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new pf(i,e,$n(),$n(),$n())}}class C7{constructor(t,e,i,o){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=o}}class kT{constructor(t,e){this.targetId=t,this.At=e}}class ST{constructor(t,e,i=Qo.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=o}}class DT{constructor(){this.Rt=0,this.bt=OT(),this.Pt=Qo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=$n(),e=$n(),i=$n();return this.bt.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:i=i.add(o);break;default:sn()}}),new pf(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=OT()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class jB{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=ys(),this.qt=TT(),this.Kt=new Oi(jn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:sn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,o)=>{this.Ht(o)&&e(o)})}Yt(t){const e=t.targetId,i=t.At.count,o=this.Xt(e);if(o){const l=o.target;if(m7(l))if(0===i){const d=new Ht(l.path);this.jt(e,d,Fi.newNoDocument(d,Sn.min()))}else kn(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((l,d)=>{const p=this.Xt(d);if(p){if(l.current&&m7(p.target)){const v=new Ht(p.target.path);null!==this.Ut.get(v)||this.ee(d,v)||this.jt(d,v,Fi.newNoDocument(v,t))}l.Dt&&(e.set(d,l.xt()),l.Nt())}});let i=$n();this.qt.forEach((l,d)=>{let p=!0;d.forEachWhile(v=>{const M=this.Xt(v);return!M||2===M.purpose||(p=!1,!1)}),p&&(i=i.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(t));const o=new gf(t,e,this.Kt,this.Ut,i);return this.Ut=ys(),this.qt=TT(),this.Kt=new Oi(jn),o}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const o=this.zt(t);this.ee(t,e)?o.kt(e,1):o.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new DT,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Oi(jn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||yt("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new DT),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function TT(){return new po(Ht.comparator)}function OT(){return new po(Ht.comparator)}const HB={asc:"ASCENDING",desc:"DESCENDING"},UB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $B{constructor(t,e){this.databaseId=t,this.gt=e}}function mf(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PT(n,t){return n.gt?t.toBase64():t.toUint8Array()}function GB(n,t){return mf(n,t.toTimestamp())}function ar(n){return kn(!!n),Sn.fromTimestamp(function(t){const e=T0(t);return new Yi(e.seconds,e.nanos)}(n))}function jM(n,t){return(e=n,new ri(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function RT(n){const t=ri.fromString(n);return kn(HT(t)),t}function vf(n,t){return jM(n.databaseId,t.path)}function Wc(n,t){const e=RT(t);if(e.get(1)!==n.databaseId.projectId)throw new ft(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ft(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ht(NT(e))}function HM(n,t){return jM(n.databaseId,t)}function LT(n){const t=RT(n);return 4===t.length?ri.emptyPath():NT(t)}function wf(n){return new ri(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NT(n){return kn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zT(n,t,e){return{name:vf(n,t),fields:e.value.mapValue.fields}}function FT(n,t,e){const i=Wc(n,t.name),o=ar(t.updateTime),l=new Mr({mapValue:{fields:t.fields}}),d=Fi.newFoundDocument(i,o,l);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function yf(n,t){let e;if(t instanceof gh)e={update:zT(n,t.key,t.value)};else if(t instanceof ph)e={delete:vf(n,t.key)};else if(t instanceof J1)e={update:zT(n,t.key,t.data),updateMask:eV(t.fieldMask)};else{if(!(t instanceof VM))return sn();e={verify:vf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const d=l.transform;if(d instanceof hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fh)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw sn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:GB(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:sn()),e;var o}function UM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Qi.updateTime(ar(o.updateTime)):void 0!==o.exists?Qi.exists(o.exists):Qi.none():Qi.none(),i=t.updateTransforms?t.updateTransforms.map(o=>function(l,d){let p=null;"setToServerValue"in d?(kn("REQUEST_TIME"===d.setToServerValue),p=new hh):"appendMissingElements"in d?p=new Gu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Ku(d.removeAllFromArray.values||[]):"increment"in d?p=new fh(l,d.increment):sn();const v=go.fromServerFormat(d.fieldPath);return new uf(v,p)}(n,o)):[];var o;if(t.update){const o=Wc(n,t.update.name),l=new Mr({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new $s((t.updateMask.fieldPaths||[]).map(M=>go.fromServerFormat(M)));return new J1(o,l,d,e,i)}return new gh(o,l,e,i)}if(t.delete){const o=Wc(n,t.delete);return new ph(o,e)}if(t.verify){const o=Wc(n,t.verify);return new VM(o,e)}return sn()}function BT(n,t){return{documents:[HM(n,t.path)]}}function $M(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=HM(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=HM(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(v){if(0===v.length)return;const M=v.map(b=>function(T){if("=="===T.op){if(qD(T.value))return{unaryFilter:{field:mh(T.field),op:"IS_NAN"}};if(WD(T.value))return{unaryFilter:{field:mh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(qD(T.value))return{unaryFilter:{field:mh(T.field),op:"IS_NOT_NAN"}};if(WD(T.value))return{unaryFilter:{field:mh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(T.field),op:QB(T.op),value:T.value}}}(b));return 1===M.length?M[0]:{compositeFilter:{op:"AND",filters:M}}}(t.filters);o&&(e.structuredQuery.where=o);const l=function(v){if(0!==v.length)return v.map(M=>{return{field:mh((b=M).field),direction:YB(b.dir)};var b})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const d=(M=t.limit,n.gt||tf(M)?M:{value:M});var M,p,v;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(p=t.startAt).inclusive,values:p.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function VT(n){let t=LT(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let o=null;if(i>0){kn(1===i);const b=e.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let l=[];e.where&&(l=jT(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(b=>{return new lh(vh((T=b).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let p=null;e.limit&&(p=function(b){let T;return T="object"==typeof b?b.value:b,tf(T)?null:T}(e.limit));let v=null;var b;e.startAt&&(v=new L0((b=e.startAt).values||[],!!b.before));let M=null;return e.endAt&&(M=function(b){return new L0(b.values||[],!b.before)}(e.endAt)),rT(t,o,d,l,p,"F",v,M)}function jT(n){return n?void 0!==n.unaryFilter?[ZB(n)]:void 0!==n.fieldFilter?[JB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>jT(t)).reduce((t,e)=>t.concat(e)):sn():[]}function YB(n){return HB[n]}function QB(n){return UB[n]}function mh(n){return{fieldPath:n.canonicalString()}}function vh(n){return go.fromServerFormat(n.fieldPath)}function JB(n){return Cr.create(vh(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZB(n){switch(n.unaryFilter.op){case"IS_NAN":const t=vh(n.unaryFilter.field);return Cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=vh(n.unaryFilter.field);return Cr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vh(n.unaryFilter.field);return Cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vh(n.unaryFilter.field);return Cr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}function eV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function HT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Jr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=UT(t)),t=tV(n.get(e),t);return UT(t)}function tV(n,t){let e=t;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function UT(n){return n+"\x01\x01"}function qc(n){const t=n.length;if(kn(t>=2),2===t)return kn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ri.emptyPath();const e=t-2,i=[];let o="";for(let l=0;l<t;){const d=n.indexOf("\x01",l);switch((d<0||d>e)&&sn(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let v;0===o.length?v=p:(o+=p,v=o,o=""),i.push(v);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:sn()}l=d+2}return new ri(i)}const $T=["userId","batchId"];function b7(n,t){return[n,Jr(t)]}function GT(n,t,e){return[n,Jr(t),e]}const nV={},iV=["prefixPath","collectionGroup","readTime","documentId"],oV=["prefixPath","collectionGroup","documentId"],rV=["collectionGroup","readTime","prefixPath","documentId"],sV=["canonicalId","targetId"],aV=["targetId","path"],cV=["path","targetId"],lV=["collectionId","parent"],uV=["indexId","uid"],dV=["uid","sequenceNumber"],hV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fV=["indexId","uid","orderedDocumentKey"],gV=["userId","collectionPath","documentId"],pV=["userId","collectionPath","largestBatchId"],mV=["userId","collectionGroup","largestBatchId"],KT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vV=[...KT,"documentOverlays"],WT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qT=WT,wV=[...qT,"indexConfiguration","indexState","indexEntries"];class GM extends BD{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function cr(n,t){const e=Gt(n);return tc.M(e.ie,t)}class KM{constructor(t,e,i,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&RB(l,t,i[o])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=df(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=df(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=AT();return this.mutations.forEach(o=>{const l=t.get(o.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=e.has(o.key)?null:p;const v=wT(d,p);null!==v&&i.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Sn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$n())}isEqual(t){return this.batchId===t.batchId&&sh(this.mutations,t.mutations,(e,i)=>yT(e,i))&&sh(this.baseMutations,t.baseMutations,(e,i)=>yT(e,i))}}class WM{constructor(t,e,i,o){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=o}static from(t,e,i){kn(t.mutations.length===i.length);let o=FB;const l=t.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new WM(t,e,i,o)}}class qM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class z0{constructor(t,e,i,o,l=Sn.min(),d=Sn.min(),p=Qo.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(t){return new z0(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new z0(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new z0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class XT{constructor(t){this.re=t}}function YT(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:E7(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:vf(o=n.re,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:mf(o,l.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Wu(t.version)};else{if(!t.isUnknownDocument())return sn();i.unknownDocument={path:e.path.toArray(),version:Wu(t.version)}}var o,l;return i}function E7(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Wu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function qu(n){const t=new Yi(n.seconds,n.nanoseconds);return Sn.fromTimestamp(t)}function Xu(n,t){const e=(t.baseMutations||[]).map(l=>UM(n.re,l));for(let l=0;l<t.mutations.length-1;++l)l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(t.mutations[l].updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l);const i=t.mutations.map(l=>UM(n.re,l)),o=Yi.fromMillis(t.localWriteTimeMs);return new KM(t.batchId,o,e,i)}function _f(n){const t=qu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?qu(n.lastLimboFreeSnapshotVersion):Sn.min();let i;var o;return void 0!==n.query.documents?(kn(1===(o=n.query).documents.length),i=Qr(uh(LT(o.documents[0])))):i=Qr(VT(n.query)),new z0(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Qo.fromBase64String(n.resumeToken))}function QT(n,t){const e=Wu(t.snapshotVersion),i=Wu(t.lastLimboFreeSnapshotVersion);let o;o=m7(t.target)?BT(n.re,t.target):$M(n.re,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$u(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function XM(n){const t=VT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?w7(t,t.limit,"L"):t}function YM(n,t){return new qM(t.largestBatchId,UM(n.re,t.overlayMutation))}function JT(n,t){const e=t.path.lastSegment();return[n,Jr(t.path.popLast()),e]}function ZT(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Wu(i.readTime),documentKey:Jr(i.documentKey.path),largestBatchId:i.largestBatchId}}class _V{getBundleMetadata(t,e){return eO(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:qu(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return eO(t).put({bundleId:(i=e).id,createTime:Wu(ar(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return tO(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:XM(o.bundledQuery),readTime:qu(o.readTime)};var o})}saveNamedQuery(t,e){return tO(t).put({name:(i=e).name,readTime:Wu(ar(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eO(n){return cr(n,"bundles")}function tO(n){return cr(n,"namedQueries")}class I7{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new I7(t,e.uid||"")}getOverlay(t,e){return xf(t).get(JT(this.userId,e)).next(i=>i?YM(this.It,i):null)}getOverlays(t,e){const i=Kc();return Ke.forEach(e,o=>this.getOverlay(t,o).next(l=>{null!==l&&i.set(o,l)})).next(()=>i)}saveOverlays(t,e,i){const o=[];return i.forEach((l,d)=>{const p=new qM(e,d);o.push(this.ue(t,p))}),Ke.waitFor(o)}removeOverlaysForBatchId(t,e,i){const o=new Set;e.forEach(d=>o.add(Jr(d.getCollectionPath())));const l=[];return o.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);l.push(xf(t).Y("collectionPathOverlayIndex",p))}),Ke.waitFor(l)}getOverlaysForCollection(t,e,i){const o=Kc(),l=Jr(e),d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return xf(t).W("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const M=YM(this.It,v);o.set(M.getKey(),M)}return o})}getOverlaysForCollectionGroup(t,e,i,o){const l=Kc();let d;const p=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return xf(t).Z({index:"collectionGroupOverlayIndex",range:p},(v,M,b)=>{const T=YM(this.It,M);l.size()<o||T.largestBatchId===d?(l.set(T.getKey(),T),d=T.largestBatchId):b.done()}).next(()=>l)}ue(t,e){return xf(t).put(function(i,o,l){const[d,p,v]=JT(o,l.mutation.key);return{userId:o,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:yf(i.re,l.mutation)}}(this.It,this.userId,e))}}function xf(n){return cr(n,"documentOverlays")}class Yu{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(mo(t.integerValue));else if("doubleValue"in t){const i=mo(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),nf(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(ju(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?XD(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):sn()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const o of Object.keys(i))this._e(o,e),this.ae(i[o],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const o of i)this.ae(o,e)}ge(t,e){this.le(e,37),Ht.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function xV(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function nO(n){const t=64-function(e){let i=0;for(let o=0;o<8;++o){const l=xV(255&e[o]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(t/8)}Yu.Te=new Yu;class MV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const o=e.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const o=e.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(t){const e=this.Ce(t),i=nO(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Ne(t){const e=this.Ce(t),i=nO(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let o=1;o<e.length;++o)e[o]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class CV{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class bV{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class Mf{constructor(){this.Be=new MV,this.Le=new CV(this.Be),this.Ue=new bV(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Qu{constructor(t,e,i,o){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=o}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Qu(this.indexId,this.documentKey,this.arrayValue,i)}}function Ju(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=iO(n.arrayValue,t.arrayValue),0!==e?e:(e=iO(n.directionalValue,t.directionalValue),0!==e?e:Ht.comparator(n.documentKey,t.documentKey)))}function iO(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class EV{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=kM(t);if(void 0!==e&&!this.ze(e))return!1;const i=Fu(t);let o=0,l=0;for(;o<i.length&&this.ze(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.je){const d=i[o];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++o}for(;o<i.length;++o)if(l>=this.Ge.length||!this.Je(this.Ge[l++],i[o]))return!1;return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class IV{constructor(){this.Ye=new QM}addToCollectionParentIndex(t,e){return this.Ye.add(e),Ke.resolve()}getCollectionParents(t,e){return Ke.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Ke.resolve()}deleteFieldIndex(t,e){return Ke.resolve()}getDocumentsMatchingTarget(t,e){return Ke.resolve(null)}getIndexType(t,e){return Ke.resolve(0)}getFieldIndexes(t,e){return Ke.resolve([])}getNextCollectionGroupToUpdate(t){return Ke.resolve(null)}getMinOffset(t,e){return Ke.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,e){return Ke.resolve(Us.min())}updateCollectionGroup(t,e,i){return Ke.resolve()}updateIndexEntries(t,e){return Ke.resolve()}}class QM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e]||new Oi(ri.comparator),l=!o.has(i);return this.index[e]=o.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Oi(ri.comparator)).toArray()}}const A7=new Uint8Array(0);class AV{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new QM,this.Ze=new N0(i=>$u(i),(i,o)=>cf(i,o)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const l={collectionId:i,parent:Jr(o)};return oO(t).put(l)}return Ke.resolve()}getCollectionParents(t,e){const i=[],o=IDBKeyRange.bound([e,""],[LD(e),""],!1,!0);return oO(t).W(o).next(l=>{for(const d of l){if(d.collectionId!==e)break;i.push(qc(d.parent))}return i})}addFieldIndex(t,e){const i=k7(t),o={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete o.indexId;const l=i.add(o);if(e.indexState){const d=bf(t);return l.next(p=>{d.put(ZT(p,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const i=k7(t),o=bf(t),l=Cf(t);return i.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Cf(t);let o=!0;const l=new Map;return Ke.forEach(this.tn(e),d=>this.en(t,d).next(p=>{o&&(o=!!p),l.set(d,p)})).next(()=>{if(o){let d=$n();const p=[];return Ke.forEach(l,(v,M)=>{var b;yt("IndexedDbIndexManager",`Using index ${b=v,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Pt=>`${Pt.fieldPath}:${Pt.kind}`).join(",")}`} to execute ${$u(e)}`);const T=function(Pt,an){const ln=kM(an);if(void 0===ln)return null;for(const Dn of v7(Pt,ln.fieldPath))switch(Dn.op){case"array-contains-any":return Dn.value.arrayValue.values||[];case"array-contains":return[Dn.value]}return null}(M,v),L=function(Pt,an){const ln=new Map;for(const Dn of Fu(an))for(const vo of v7(Pt,Dn.fieldPath))switch(vo.op){case"==":case"in":ln.set(Dn.fieldPath.canonicalString(),vo.value);break;case"not-in":case"!=":return ln.set(Dn.fieldPath.canonicalString(),vo.value),Array.from(ln.values())}return null}(M,v),ee=function(Pt,an){const ln=[];let Dn=!0;for(const vo of Fu(an)){const Nh=0===vo.kind?eT(Pt,vo.fieldPath,Pt.startAt):tT(Pt,vo.fieldPath,Pt.startAt);ln.push(Nh.value),Dn&&(Dn=Nh.inclusive)}return new L0(ln,Dn)}(M,v),Se=function(Pt,an){const ln=[];let Dn=!0;for(const vo of Fu(an)){const Nh=0===vo.kind?tT(Pt,vo.fieldPath,Pt.endAt):eT(Pt,vo.fieldPath,Pt.endAt);ln.push(Nh.value),Dn&&(Dn=Nh.inclusive)}return new L0(ln,Dn)}(M,v),$e=this.nn(v,M,ee),Xe=this.nn(v,M,Se),$t=this.sn(v,M,L),Xt=this.rn(v.indexId,T,$e,ee.inclusive,Xe,Se.inclusive,$t);return Ke.forEach(Xt,Pt=>i.J(Pt,e.limit).next(an=>{an.forEach(ln=>{const Dn=Ht.fromSegments(ln.documentKey);d.has(Dn)||(d=d.add(Dn),p.push(Dn))})}))}).next(()=>p)}return Ke.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,o,l,d,p){const v=(null!=e?e.length:1)*Math.max(i.length,l.length),M=v/(null!=e?e.length:1),b=[];for(let T=0;T<v;++T){const L=e?this.on(e[T/M]):A7,ee=this.un(t,L,i[T%M],o),Se=this.cn(t,L,l[T%M],d),$e=p.map(Xe=>this.un(t,L,Xe,!0));b.push(...this.createRange(ee,Se,$e))}return b}un(t,e,i,o){const l=new Qu(t,Ht.empty(),e,i);return o?l:l.Ke()}cn(t,e,i,o){const l=new Qu(t,Ht.empty(),e,i);return o?l.Ke():l}en(t,e){const i=new EV(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next(l=>{let d=null;for(const p of l)i.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(t,e){let i=2;return Ke.forEach(this.tn(e),o=>this.en(t,o).next(l=>{l?0!==i&&l.fields.length<function(d){let p=new Oi(go.comparator),v=!1;for(const M of d.filters){const b=M;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?v=!0:p=p.add(b.field))}for(const M of d.orderBy)M.field.isKeyField()||(p=p.add(M.field));return p.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Mf;for(const o of Fu(t)){const l=e.data.field(o.fieldPath);if(null==l)return null;const d=i.qe(o.kind);Yu.Te.ce(l,d)}return i.$e()}on(t){const e=new Mf;return Yu.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Mf;return Yu.Te.ce(Uu(this.databaseId,e),i.qe(function(o){const l=Fu(o);return 0===l.length?0:l[l.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let o=[];o.push(new Mf);let l=0;for(const d of Fu(t)){const p=i[l++];for(const v of o)if(this.ln(e,d.fieldPath)&&sf(p))o=this.fn(o,d,p);else{const M=v.qe(d.kind);Yu.Te.ce(p,M)}}return this.dn(o)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const o=[...t],l=[];for(const d of i.arrayValue.values||[])for(const p of o){const v=new Mf;v.seed(p.$e()),Yu.Te.ce(d,v.qe(e.kind)),l.push(v)}return l}ln(t,e){return!!t.filters.find(i=>i instanceof Cr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=k7(t),o=bf(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(l=>{const d=[];return Ke.forEach(l,p=>o.get([p.indexId,this.uid]).next(v=>{d.push(function(M,b){const T=b?new J8(b.sequenceNumber,new Us(qu(b.readTime),new Ht(qc(b.documentKey)),b.largestBatchId)):J8.empty(),L=M.fields.map(([ee,Se])=>new d7(go.fromServerFormat(ee),Se));return new u7(M.indexId,M.collectionGroup,L,T)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,o)=>{const l=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:jn(i.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const o=k7(t),l=bf(t);return this._n(t).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(p=>Ke.forEach(p,v=>l.put(ZT(v.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return Ke.forEach(e,(o,l)=>{const d=i.get(o.collectionGroup);return(d?Ke.resolve(d):this.getFieldIndexes(t,o.collectionGroup)).next(p=>(i.set(o.collectionGroup,p),Ke.forEach(p,v=>this.wn(t,o,v).next(M=>{const b=this.mn(l,v);return M.isEqual(b)?Ke.resolve():this.gn(t,l,v,M,b)}))))})}yn(t,e,i,o){return Cf(t).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,o){return Cf(t).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const o=Cf(t);let l=new Oi(Ju);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(d,p)=>{l=l.add(new Qu(i.indexId,e,p.arrayValue,p.directionalValue))}).next(()=>l)}mn(t,e){let i=new Oi(Ju);const o=this.an(e,t);if(null==o)return i;const l=kM(e);if(null!=l){const d=t.data.field(l.fieldPath);if(sf(d))for(const p of d.arrayValue.values||[])i=i.add(new Qu(e.indexId,t.key,this.on(p),o))}else i=i.add(new Qu(e.indexId,t.key,A7,o));return i}gn(t,e,i,o,l){yt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(p,v,M,b,T){const L=p.getIterator(),ee=v.getIterator();let Se=ah(L),$e=ah(ee);for(;Se||$e;){let Xe=!1,$t=!1;if(Se&&$e){const Xt=M(Se,$e);Xt<0?$t=!0:Xt>0&&(Xe=!0)}else null!=Se?$t=!0:Xe=!0;Xe?(b($e),$e=ah(ee)):$t?(T(Se),Se=ah(L)):(Se=ah(L),$e=ah(ee))}}(o,l,Ju,p=>{d.push(this.yn(t,e,i,p))},p=>{d.push(this.pn(t,e,i,p))}),Ke.waitFor(d)}_n(t){let e=1;return bf(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,l)=>{l.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,p)=>Ju(d,p)).filter((d,p,v)=>!p||0!==Ju(d,v[p-1]));const o=[];o.push(t);for(const d of i){const p=Ju(d,t),v=Ju(d,e);if(0===p)o[0]=t.Ke();else if(p>0&&v<0)o.push(d),o.push(d.Ke());else if(v>0)break}o.push(e);const l=[];for(let d=0;d<o.length;d+=2)l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,A7,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,A7,[]]));return l}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(rO)}getMinOffset(t,e){return Ke.mapArray(this.tn(e),i=>this.en(t,i).next(o=>o||sn())).next(rO)}}function oO(n){return cr(n,"collectionParents")}function Cf(n){return cr(n,"indexEntries")}function k7(n){return cr(n,"indexConfiguration")}function bf(n){return cr(n,"indexState")}function rO(n){kn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;SM(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new Us(t.readTime,t.documentKey,e)}const sO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _s(t,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aO(n,t,e){const i=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(e.batchId);let p=0;const v=i.Z({range:d},(b,T,L)=>(p++,L.delete()));l.push(v.next(()=>{kn(1===p)}));const M=[];for(const b of e.mutations){const T=GT(t,b.key.path,e.batchId);l.push(o.delete(T)),M.push(b.key)}return Ke.waitFor(l).next(()=>M)}function S7(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw sn();t=n.noDocument}return JSON.stringify(t).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class D7{constructor(t,e,i,o){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=o,this.In={}}static oe(t,e,i,o){kn(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new D7(l,e,i,o)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return F0(t).Z({index:"userMutationsIndex",range:i},(o,l,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,o){const l=wh(t),d=F0(t);return d.add({}).next(p=>{kn("number"==typeof p);const v=new KM(p,e,i,o),M=function(L,ee,Se){const $e=Se.baseMutations.map($t=>yf(L.re,$t)),Xe=Se.mutations.map($t=>yf(L.re,$t));return{userId:ee,batchId:Se.batchId,localWriteTimeMs:Se.localWriteTime.toMillis(),baseMutations:$e,mutations:Xe}}(this.It,this.userId,v),b=[];let T=new Oi((L,ee)=>jn(L.canonicalString(),ee.canonicalString()));for(const L of o){const ee=GT(this.userId,L.key.path,p);T=T.add(L.key.path.popLast()),b.push(d.put(M)),b.push(l.put(ee,nV))}return T.forEach(L=>{b.push(this.indexManager.addToCollectionParentIndex(t,L))}),t.addOnCommittedListener(()=>{this.In[p]=v.keys()}),Ke.waitFor(b).next(()=>v)})}lookupMutationBatch(t,e){return F0(t).get(e).next(i=>i?(kn(i.userId===this.userId),Xu(this.It,i)):null)}Tn(t,e){return this.In[e]?Ke.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const o=i.keys();return this.In[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,o=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return F0(t).Z({index:"userMutationsIndex",range:o},(d,p,v)=>{p.userId===this.userId&&(kn(p.batchId>=i),l=Xu(this.It,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return F0(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(o,l,d)=>{i=l.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return F0(t).W("userMutationsIndex",e).next(i=>i.map(o=>Xu(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=b7(this.userId,e.path),o=IDBKeyRange.lowerBound(i),l=[];return wh(t).Z({range:o},(d,p,v)=>{const[M,b,T]=d,L=qc(b);if(M===this.userId&&e.path.isEqual(L))return F0(t).get(T).next(ee=>{if(!ee)throw sn();kn(ee.userId===this.userId),l.push(Xu(this.It,ee))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Oi(jn);const o=[];return e.forEach(l=>{const d=b7(this.userId,l.path),p=IDBKeyRange.lowerBound(d),v=wh(t).Z({range:p},(M,b,T)=>{const[L,ee,Se]=M,$e=qc(ee);L===this.userId&&l.path.isEqual($e)?i=i.add(Se):T.done()});o.push(v)}),Ke.waitFor(o).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1,l=b7(this.userId,i),d=IDBKeyRange.lowerBound(l);let p=new Oi(jn);return wh(t).Z({range:d},(v,M,b)=>{const[T,L,ee]=v,Se=qc(L);T===this.userId&&i.isPrefixOf(Se)?Se.length===o&&(p=p.add(ee)):b.done()}).next(()=>this.En(t,p))}En(t,e){const i=[],o=[];return e.forEach(l=>{o.push(F0(t).get(l).next(d=>{if(null===d)throw sn();kn(d.userId===this.userId),i.push(Xu(this.It,d))}))}),Ke.waitFor(o).next(()=>i)}removeMutationBatch(t,e){return aO(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Ke.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return wh(t).Z({range:i},(l,d,p)=>{if(l[0]===this.userId){const v=qc(l[1]);o.push(v)}else p.done()}).next(()=>{kn(0===o.length)})})}containsKey(t,e){return cO(t,this.userId,e)}Rn(t){return lO(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cO(n,t,e){const i=b7(t,e.path),o=i[1],l=IDBKeyRange.lowerBound(i);let d=!1;return wh(n).Z({range:l,X:!0},(p,v,M)=>{const[b,T,L]=p;b===t&&T===o&&(d=!0),M.done()}).next(()=>d)}function F0(n){return cr(n,"mutations")}function wh(n){return cr(n,"documentMutations")}function lO(n){return cr(n,"mutationQueues")}class Zu{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Zu(0)}static vn(){return new Zu(-1)}}class kV{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Zu(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Sn.fromTimestamp(new Yi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(o=>(o.highestListenSequenceNumber=e,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.Sn(t,o)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>yh(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(kn(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let o=0;const l=[];return yh(t).Z((d,p)=>{const v=_f(p);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(o++,l.push(this.removeTargetData(t,v)))}).next(()=>Ke.waitFor(l)).next(()=>o)}forEachTarget(t,e){return yh(t).Z((i,o)=>{const l=_f(o);e(l)})}Vn(t){return uO(t).get("targetGlobalKey").next(e=>(kn(null!==e),e))}Sn(t,e){return uO(t).put("targetGlobalKey",e)}Dn(t,e){return yh(t).put(QT(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=$u(e),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return yh(t).Z({range:o,index:"queryTargetsIndex"},(d,p,v)=>{const M=_f(p);cf(e,M.target)&&(l=M,v.done())}).next(()=>l)}addMatchingKeys(t,e,i){const o=[],l=B0(t);return e.forEach(d=>{const p=Jr(d.path);o.push(l.put({targetId:i,path:p})),o.push(this.referenceDelegate.addReference(t,i,d))}),Ke.waitFor(o)}removeMatchingKeys(t,e,i){const o=B0(t);return Ke.forEach(e,l=>{const d=Jr(l.path);return Ke.waitFor([o.delete([i,d]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=B0(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),o=B0(t);let l=$n();return o.Z({range:i,X:!0},(d,p,v)=>{const M=qc(d[1]),b=new Ht(M);l=l.add(b)}).next(()=>l)}containsKey(t,e){const i=Jr(e.path),o=IDBKeyRange.bound([i],[LD(i)],!1,!0);let l=0;return B0(t).Z({index:"documentTargetsIndex",X:!0,range:o},([d,p],v,M)=>{0!==d&&(l++,M.done())}).next(()=>l>0)}se(t,e){return yh(t).get(e).next(i=>i?_f(i):null)}}function yh(n){return cr(n,"targets")}function uO(n){return cr(n,"targetGlobal")}function B0(n){return cr(n,"targetDocuments")}function dO([n,t],[e,i]){const o=jn(n,e);return 0===o?jn(t,i):o}class SV{constructor(t){this.xn=t,this.buffer=new Oi(dO),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DV{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;yt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,le.A)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){D0(i)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield S0(i)}yield e.Fn(3e5)}))}}class TV{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ke.resolve(ws.at);const i=new SV(e);return this.$n.forEachTarget(t,o=>i.On(o.sequenceNumber)).next(()=>this.$n.Ln(t,o=>i.On(o))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(sO)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sO):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,o,l,d,p,v,M;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(i=T,p=Date.now(),this.removeTargets(t,i,e))).next(T=>(l=T,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(M=Date.now(),IM()<=E0.$b.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-b}ms\n\tDetermined least recently used ${o} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${T} documents in `+(M-v)+`ms\nTotal Duration: ${M-b}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}class OV{constructor(t,e){this.db=t,this.garbageCollector=new TV(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(o=>i+o))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,o)=>e(o))}addReference(t,e,i){return T7(t,i)}removeReference(t,e,i){return T7(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return T7(t,e)}Gn(t,e){return function(i,o){let l=!1;return lO(i).tt(d=>cO(i,d,o).next(p=>(p&&(l=!0),Ke.resolve(!p)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Kn(t,(d,p)=>{if(p<=e){const v=this.Gn(t,d).next(M=>{if(!M)return l++,i.getEntry(t,d).next(()=>(i.removeEntry(d,Sn.min()),B0(t).delete([0,Jr(d.path)])))});o.push(v)}}).next(()=>Ke.waitFor(o)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return T7(t,e)}Kn(t,e){const i=B0(t);let o,l=ws.at;return i.Z({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:M})=>{0===d?(l!==ws.at&&e(new Ht(qc(o)),l),l=M,o=v):l=ws.at}).next(()=>{l!==ws.at&&e(new Ht(qc(o)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function T7(n,t){return B0(n).put((i=n.currentSequenceNumber,{targetId:0,path:Jr(t.path),sequenceNumber:i}));var i}class hO{constructor(){this.changes=new N0(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Fi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ke.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class PV{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ed(t).put(i)}removeEntry(t,e,i){return ed(t).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],E7(l),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Fi.newInvalidDocument(e);return ed(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ef(e))},(o,l)=>{i=this.jn(e,l)}).next(()=>i)}Wn(t,e){let i={size:0,document:Fi.newInvalidDocument(e)};return ed(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ef(e))},(o,l)=>{i={document:this.jn(e,l),size:S7(l)}}).next(()=>i)}getEntries(t,e){let i=ys();return this.zn(t,e,(o,l)=>{const d=this.jn(o,l);i=i.insert(o,d)}).next(()=>i)}Hn(t,e){let i=ys(),o=new po(Ht.comparator);return this.zn(t,e,(l,d)=>{const p=this.jn(l,d);i=i.insert(l,p),o=o.insert(l,S7(d))}).next(()=>({documents:i,Jn:o}))}zn(t,e,i){if(e.isEmpty())return Ke.resolve();let o=new Oi(mO);e.forEach(v=>o=o.add(v));const l=IDBKeyRange.bound(Ef(o.first()),Ef(o.last())),d=o.getIterator();let p=d.getNext();return ed(t).Z({index:"documentKeyIndex",range:l},(v,M,b)=>{const T=Ht.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;p&&mO(p,T)<0;)i(p,null),p=d.getNext();p&&p.isEqual(T)&&(i(p,M),p=d.hasNext()?d.getNext():null),p?b.j(Ef(p)):b.done()}).next(()=>{for(;p;)i(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(t,e,i){const o=[e.popLast().toArray(),e.lastSegment(),E7(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ed(t).W(IDBKeyRange.bound(o,l,!0)).next(d=>{let p=ys();for(const v of d){const M=this.jn(Ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(M.key,M)}return p})}getAllFromCollectionGroup(t,e,i,o){let l=ys();const d=pO(e,i),p=pO(e,Us.max());return ed(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,M,b)=>{const T=this.jn(Ht.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);l=l.insert(T.key,T),l.size===o&&b.done()}).next(()=>l)}newChangeBuffer(t){return new RV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return gO(t).get("remoteDocumentGlobalKey").next(e=>(kn(!!e),e))}Qn(t,e){return gO(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function yV(n,t){let e;if(t.document)e=FT(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ht.fromSegments(t.noDocument.path),o=qu(t.noDocument.readTime);e=Fi.newNoDocument(i,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return sn();{const i=Ht.fromSegments(t.unknownDocument.path),o=qu(t.unknownDocument.version);e=Fi.newUnknownDocument(i,o)}}return t.readTime&&e.setReadTime(function(i){const o=new Yi(i[0],i[1]);return Sn.fromTimestamp(o)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Sn.min()))return i}return Fi.newInvalidDocument(t)}}function fO(n){return new PV(n)}class RV extends hO{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new N0(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(t){const e=[];let i=0,o=new Oi((l,d)=>jn(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Xn.get(l);if(e.push(this.Yn.removeEntry(t,l,p.readTime)),d.isValidDocument()){const v=YT(this.Yn.It,d);o=o.add(l.path.popLast());const M=S7(v);i+=M-p.size,e.push(this.Yn.addEntry(t,l,v))}else if(i-=p.size,this.trackRemovals){const v=YT(this.Yn.It,d.convertToNoDocument(Sn.min()));e.push(this.Yn.addEntry(t,l,v))}}),o.forEach(l=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.Yn.updateMetadata(t,i)),Ke.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:o})=>(o.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:i.get(l).readTime})}),i))}}function gO(n){return cr(n,"remoteDocumentGlobal")}function ed(n){return cr(n,"remoteDocumentsV14")}function Ef(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pO(n,t){const e=t.documentKey.path.toArray();return[n,E7(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function mO(n,t){const e=n.path.toArray(),i=t.path.toArray();let o=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(o=jn(e[l],i[l]),o)return o;return o=jn(e.length,i.length),o||(o=jn(e[e.length-2],i[i.length-2]),o||jn(e[e.length-1],i[i.length-1]))}class LV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class vO{constructor(t,e,i,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(i=o,this.getBaseDocument(t,e,i))).next(o=>(null!==i&&df(i.mutation,o,$s.empty(),Yi.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,$n()).next(()=>i))}getLocalViewOfDocuments(t,e,i=$n()){const o=Kc();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,i).next(l=>{let d=hf();return l.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=Kc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,$n()))}populateOverlays(t,e,i){const o=[];return i.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((d,p)=>{e.set(d,p)})})}computeViews(t,e,i,o){let l=ys();const d=ff(),p=ff();return e.forEach((v,M)=>{const b=i.get(M.key);o.has(M.key)&&(void 0===b||b.mutation instanceof J1)?l=l.insert(M.key,M):void 0!==b&&(d.set(M.key,b.mutation.getFieldMask()),df(b.mutation,M,b.mutation.getFieldMask(),Yi.now()))}),this.recalculateAndSaveOverlays(t,l).next(v=>(v.forEach((M,b)=>d.set(M,b)),e.forEach((M,b)=>{var T;return p.set(M,new LV(b,null!==(T=d.get(M))&&void 0!==T?T:null))}),p))}recalculateAndSaveOverlays(t,e){const i=ff();let o=new po((d,p)=>d-p),l=$n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const p of d)p.keys().forEach(v=>{const M=e.get(v);if(null===M)return;let b=i.get(v)||$s.empty();b=p.applyToLocalView(M,b),i.set(v,b);const T=(o.get(p.batchId)||$n()).add(v);o=o.insert(p.batchId,T)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),M=v.key,b=v.value,T=AT();b.forEach(L=>{if(!l.has(L)){const ee=wT(e.get(L),i.get(L));null!==ee&&T.set(L,ee),l=l.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(t,M,T))}return Ke.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ht.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var o}getNextDocuments(t,e,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,o-l.size):Ke.resolve(Kc());let p=-1,v=l;return d.next(M=>Ke.forEach(M,(b,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),l.get(b)?Ke.resolve():this.getBaseDocument(t,b,T).next(L=>{v=v.insert(b,L)}))).next(()=>this.populateOverlays(t,M,l)).next(()=>this.computeViews(t,v,M,$n())).next(b=>({batchId:p,changes:IT(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ht(e)).next(i=>{let o=hf();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const o=e.collectionGroup;let l=hf();return this.indexManager.getCollectionParents(t,o).next(d=>Ke.forEach(d,p=>{const v=(M=e,b=p.child(o),new Q1(b,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,b;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(M=>{M.forEach((b,T)=>{l=l.insert(b,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i){let o;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(l=>{l.forEach((p,v)=>{const M=v.getKey();null===o.get(M)&&(o=o.insert(M,Fi.newInvalidDocument(M)))});let d=hf();return o.forEach((p,v)=>{const M=l.get(p);void 0!==M&&df(M.mutation,v,$s.empty(),Yi.now()),BM(e,v)&&(d=d.insert(p,v))}),d})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):Ke.resolve(Fi.newInvalidDocument(e))}}class NV{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Ke.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:ar(i.createTime)}),Ke.resolve()}getNamedQuery(t,e){return Ke.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:XM(i.bundledQuery),readTime:ar(i.readTime)}),Ke.resolve();var i}}class zV{constructor(){this.overlays=new po(Ht.comparator),this.es=new Map}getOverlay(t,e){return Ke.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Kc();return Ke.forEach(e,o=>this.getOverlay(t,o).next(l=>{null!==l&&i.set(o,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((o,l)=>{this.ue(t,e,l)}),Ke.resolve()}removeOverlaysForBatchId(t,e,i){const o=this.es.get(i);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(i)),Ke.resolve()}getOverlaysForCollection(t,e,i){const o=Kc(),l=e.length+1,d=new Ht(e.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,M=v.getKey();if(!e.isPrefixOf(M.path))break;M.path.length===l&&v.largestBatchId>i&&o.set(v.getKey(),v)}return Ke.resolve(o)}getOverlaysForCollectionGroup(t,e,i,o){let l=new po((M,b)=>M-b);const d=this.overlays.getIterator();for(;d.hasNext();){const M=d.getNext().value;if(M.getKey().getCollectionGroup()===e&&M.largestBatchId>i){let b=l.get(M.largestBatchId);null===b&&(b=Kc(),l=l.insert(M.largestBatchId,b)),b.set(M.getKey(),M)}}const p=Kc(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((M,b)=>p.set(M,b)),!(p.size()>=o)););return Ke.resolve(p)}ue(t,e,i){const o=this.overlays.get(i.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(i.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new qM(e,i));let l=this.es.get(e);void 0===l&&(l=$n(),this.es.set(e,l)),this.es.set(e,l.add(i.key))}}class JM{constructor(){this.ns=new Oi(lr.ss),this.rs=new Oi(lr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new lr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new lr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Ht(new ri([])),i=new lr(e,t),o=new lr(e,t+1),l=[];return this.rs.forEachInRange([i,o],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Ht(new ri([])),i=new lr(e,t),o=new lr(e,t+1);let l=$n();return this.rs.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(t){const e=new lr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class lr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Ht.comparator(t.key,e.key)||jn(t._s,e._s)}static os(t,e){return jn(t._s,e._s)||Ht.comparator(t.key,e.key)}}class FV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Oi(lr.ss)}checkEmpty(t){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,o){const l=this.ws;this.ws++;const d=new KM(l,e,i,o);this.mutationQueue.push(d);for(const p of o)this.gs=this.gs.add(new lr(p.key,l)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Ke.resolve(d)}lookupMutationBatch(t,e){return Ke.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.ps(e+1),l=o<0?0:o;return Ke.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new lr(e,0),o=new lr(e,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([i,o],d=>{const p=this.ys(d._s);l.push(p)}),Ke.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Oi(jn);return e.forEach(o=>{const l=new lr(o,0),d=new lr(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],p=>{i=i.add(p._s)})}),Ke.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1;let l=i;Ht.isDocumentKey(l)||(l=l.child(""));const d=new lr(new Ht(l),0);let p=new Oi(jn);return this.gs.forEachWhile(v=>{const M=v.key.path;return!!i.isPrefixOf(M)&&(M.length===o&&(p=p.add(v._s)),!0)},d),Ke.resolve(this.Is(p))}Is(t){const e=[];return t.forEach(i=>{const o=this.ys(i);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){kn(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Ke.forEach(e.mutations,o=>{const l=new lr(o.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new lr(e,0),o=this.gs.firstAfterOrEqual(i);return Ke.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return Ke.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class BV{constructor(t){this.Es=t,this.docs=new po(Ht.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,o=this.docs.get(i),l=o?o.size:0,d=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ke.resolve(i?i.document.mutableCopy():Fi.newInvalidDocument(e))}getEntries(t,e){let i=ys();return e.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Fi.newInvalidDocument(o))}),Ke.resolve(i)}getAllFromCollection(t,e,i){let o=ys();const l=new Ht(e.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!e.isPrefixOf(p.path))break;p.path.length>e.length+1||SM(zD(v),i)<=0||(o=o.insert(v.key,v.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(t,e,i,o){sn()}As(t,e){return Ke.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new VV(this)}getSize(t){return Ke.resolve(this.size)}}class VV extends hO{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?e.push(this.Yn.addEntry(t,o)):this.Yn.removeEntry(i)}),Ke.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class jV{constructor(t){this.persistence=t,this.Rs=new N0(e=>$u(e),cf),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new JM,this.targetCount=0,this.vs=Zu.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,o)=>e(o)),Ke.resolve()}getLastRemoteSnapshotVersion(t){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ke.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Ke.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Zu(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Ke.resolve()}updateTargetData(t,e){return this.Dn(e),Ke.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(t,e,i){let o=0;const l=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),Ke.waitFor(l).next(()=>o)}getTargetCount(t){return Ke.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Ke.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Ke.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(d=>{l.push(o.markPotentiallyOrphaned(t,d))}),Ke.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Ke.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Ke.resolve(i)}containsKey(t,e){return Ke.resolve(this.Ps.containsKey(e))}}class wO{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new ws(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new jV(this),this.indexManager=new IV,this.remoteDocumentCache=new BV(i=>this.referenceDelegate.xs(i)),this.It=new XT(e),this.Ns=new NV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new FV(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){yt("MemoryPersistence","Starting transaction:",t);const o=new HV(this.Ss.next());return this.referenceDelegate.ks(),i(o).next(l=>this.referenceDelegate.Os(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ms(t,e){return Ke.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class HV extends BD{constructor(t){super(),this.currentSequenceNumber=t}}class O7{constructor(t){this.persistence=t,this.Fs=new JM,this.$s=null}static Bs(t){return new O7(t)}get Ls(){if(this.$s)return this.$s;throw sn()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Ke.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Ke.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(o=>this.Ls.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.Ls.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ls,i=>{const o=Ht.fromPath(i);return this.Us(t,o).next(l=>{l||e.removeEntry(o,Sn.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return Ke.or([()=>Ke.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class UV{constructor(t){this.It=t}$(t,e,i,o){const l=new h7("createOrUpgrade",e);var p;i<1&&o>=1&&(t.createObjectStore("owner"),(p=t).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$T,{unique:!0}),p.createObjectStore("documentMutations"),yO(t),function(p){p.createObjectStore("remoteDocuments")}(t));let d=Ke.resolve();return i<3&&o>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(t),yO(t)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",M)}(l))),i<4&&o>=4&&(0!==i&&(d=d.next(()=>function(p,v){return v.store("mutations").W().next(M=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$T,{unique:!0});const b=v.store("mutations"),T=M.map(L=>b.put(L));return Ke.waitFor(T)})}(t,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&o>=5&&(d=d.next(()=>this.qs(l))),i<6&&o>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(l)))),i<7&&o>=7&&(d=d.next(()=>this.Gs(l))),i<8&&o>=8&&(d=d.next(()=>this.Qs(t,l))),i<9&&o>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&o>=10&&(d=d.next(()=>this.js(l))),i<11&&o>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&o>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:gV});v.createIndex("collectionPathOverlayIndex",pV,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",mV,{unique:!1})}(t)})),i<13&&o>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:iV});v.createIndex("documentKeyIndex",oV),v.createIndex("collectionGroupIndex",rV)}(t)).next(()=>this.Ws(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(d=d.next(()=>this.zs(t,l))),i<15&&o>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:uV}).createIndex("sequenceNumberIndex",dV,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:hV}).createIndex("documentKeyIndex",fV,{unique:!1})}(t))),d}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,o)=>{e+=S7(o)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(o=>Ke.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(p=>Ke.forEach(p,v=>{kn(v.userId===l.userId);const M=Xu(this.It,v);return aO(t,l.userId,M).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return i.Z((d,p)=>{const v=new ri(d),M=[0,Jr(v)];l.push(e.get(M).next(b=>b?Ke.resolve():e.put({targetId:0,path:Jr(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(l))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:lV});const i=e.store("collectionParents"),o=new QM,l=d=>{if(o.add(d)){const p=d.lastSegment(),v=d.popLast();return i.put({collectionId:p,parent:Jr(v)})}};return e.store("remoteDocuments").Z({X:!0},(d,p)=>{const v=new ri(d);return l(v.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([d,p,v],M)=>{const b=qc(p);return l(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,o)=>{const l=_f(o),d=QT(this.It,l);return e.put(d)})}Ws(t,e){const i=e.store("remoteDocuments"),o=[];return i.Z((l,d)=>{const p=e.store("remoteDocumentsV14"),v=(M=d,M.document?new Ht(ri.fromString(M.document.name).popFirst(5)):M.noDocument?Ht.fromSegments(M.noDocument.path):M.unknownDocument?Ht.fromSegments(M.unknownDocument.path):sn()).path.toArray();var M;const b={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(p.put(b))}).next(()=>Ke.waitFor(o))}zs(t,e){const i=e.store("mutations"),o=fO(this.It),l=new wO(O7.Bs,this.It.re);return i.W().next(d=>{const p=new Map;return d.forEach(v=>{var M;let b=null!==(M=p.get(v.userId))&&void 0!==M?M:$n();Xu(this.It,v).keys().forEach(T=>b=b.add(T)),p.set(v.userId,b)}),Ke.forEach(p,(v,M)=>{const b=new sr(M),T=I7.oe(this.It,b),L=l.getIndexManager(b),ee=D7.oe(b,this.It,L,l.referenceDelegate);return new vO(o,ee,T,L).recalculateAndSaveOverlaysForDocumentKeys(new GM(e,ws.at),v).next()})})}}function yO(n){n.createObjectStore("targetDocuments",{keyPath:aV}).createIndex("documentTargetsIndex",cV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sV,{unique:!0}),n.createObjectStore("targetGlobal")}const ZM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eC{constructor(t,e,i,o,l,d,p,v,M,b,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=l,this.window=d,this.document=p,this.Js=M,this.Ys=b,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!eC.C())throw new ft(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OV(this,o),this.ii=e+"main",this.It=new XT(v),this.ri=new tc(this.ii,this.Xs,new UV(this.It)),this.Cs=new kV(this.referenceDelegate,this.It),this.remoteDocumentCache=fO(this.It),this.Ns=new _V,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&ko("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ft(Qe.FAILED_PRECONDITION,ZM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new ws(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,le.A)(function*(o){if(e.started)return t(o)});return function(o){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,le.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,le.A)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>P7(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(D0(t))return yt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return If(t).get("owner").next(e=>Ke.resolve(this.mi(e)))}gi(t){return P7(t).delete(this.clientId)}yi(){var t=this;return(0,le.A)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=cr(i,"clientMetadata");return o.W().next(l=>{const d=t.Ii(l,18e5),p=l.filter(v=>-1===d.indexOf(v));return Ke.forEach(p,v=>o.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Ke.resolve(!0):If(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new ft(Qe.FAILED_PRECONDITION,ZM);return!1}}return!(!this.networkEnabled||!this.inForeground)||P7(t).W().next(i=>void 0===this.Ii(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(e=>(this.isPrimary!==e&&yt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,le.A)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GM(e,ws.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>P7(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return D7.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new AV(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return I7.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){yt("IndexedDbPersistence","Starting transaction:",t);const o="readonly"===e?"readonly":"readwrite",l=15===(d=this.Xs)?wV:14===d?qT:13===d?WT:12===d?vV:11===d?KT:void sn();var d;let p;return this.ri.runTransaction(t,o,l,v=>(p=new GM(v,this.Ss?this.Ss.next():ws.at),"readwrite-primary"===e?this.fi(p).next(M=>!!M||this.di(p)).next(M=>{if(!M)throw ko(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ft(Qe.FAILED_PRECONDITION,FD);return i(p)}).next(M=>this.wi(p).next(()=>M)):this.Vi(p).next(()=>i(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(t){return If(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ft(Qe.FAILED_PRECONDITION,ZM)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return If(t).put("owner",e)}static C(){return tc.C()}_i(t){const e=If(t);return e.get("owner").next(i=>this.mi(i)?(yt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ke.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ko(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,pi.nr)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return yt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ko("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ko("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function If(n){return cr(n,"owner")}function P7(n){return cr(n,"clientMetadata")}function tC(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class nC{constructor(t,e,i,o){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=o}static Ci(t,e){let i=$n(),o=$n();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new nC(t,e.fromCache,i,o)}}class _O{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,o){return this.ki(t,e).next(l=>l||this.Oi(t,e,o,i)).next(l=>l||this.Mi(t,e))}ki(t,e){if(sT(e))return Ke.resolve(null);let i=Qr(e);return this.indexManager.getIndexType(t,i).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=w7(e,null,"F"),i=Qr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const d=$n(...l);return this.Ni.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,i).next(v=>{const M=this.Fi(e,p);return this.$i(e,M,d,v.readTime)?this.ki(t,w7(e,null,"F")):this.Bi(t,M,e,v)}))})))}Oi(t,e,i,o){return sT(e)||o.isEqual(Sn.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(l=>{const d=this.Fi(e,l);return this.$i(e,d,i,o)?this.Mi(t,e):(IM()<=E0.$b.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),FM(e)),this.Bi(t,d,e,ND(o,-1)))})}Fi(t,e){let i=new Oi(lT(t));return e.forEach((o,l)=>{BM(t,l)&&(i=i.add(l))}),i}$i(t,e,i,o){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Mi(t,e){return IM()<=E0.$b.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",FM(e)),this.Ni.getDocumentsMatchingQuery(t,e,Us.min())}Bi(t,e,i,o){return this.Ni.getDocumentsMatchingQuery(t,i,o).next(l=>(e.forEach(d=>{l=l.insert(d.key,d)}),l))}}class $V{constructor(t,e,i,o){this.persistence=t,this.Li=e,this.It=o,this.Ui=new po(jn),this.qi=new N0(l=>$u(l),cf),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function xO(n,t,e,i){return new $V(n,t,e,i)}function MO(n,t){return iC.apply(this,arguments)}function iC(){return iC=(0,le.A)(function*(n,t){const e=Gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let o;return e.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],p=[];let v=$n();for(const M of o){d.push(M.batchId);for(const b of M.mutations)v=v.add(b.key)}for(const M of l){p.push(M.batchId);for(const b of M.mutations)v=v.add(b.key)}return e.localDocuments.getDocuments(i,v).next(M=>({ji:M,removedBatchIds:d,addedBatchIds:p}))})})}),iC.apply(this,arguments)}function CO(n){const t=Gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function bO(n,t,e){let i=$n(),o=$n();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let d=ys();return e.forEach((p,v)=>{const M=l.get(p);v.isFoundDocument()!==M.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Sn.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!M.isValidDocument()||v.version.compareTo(M.version)>0||0===v.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):yt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",M.version," Watch version:",v.version)}),{Wi:d,zi:o}})}function WV(n,t){const e=Gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _h(n,t){const e=Gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return e.Cs.getTargetData(i,t).next(l=>l?(o=l,Ke.resolve(o)):e.Cs.allocateTargetId(i).next(d=>(o=new z0(t,d,0,i.currentSequenceNumber),e.Cs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=e.Ui.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function xh(n,t,e){return oC.apply(this,arguments)}function oC(){return oC=(0,le.A)(function*(n,t,e){const i=Gt(n),o=i.Ui.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!D0(d))throw d;yt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Ui=i.Ui.remove(t),i.qi.delete(o.target)}),oC.apply(this,arguments)}function R7(n,t,e){const i=Gt(n);let o=Sn.min(),l=$n();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,v,M){const b=Gt(p),T=b.qi.get(M);return void 0!==T?Ke.resolve(b.Ui.get(T)):b.Cs.getTargetData(v,M)}(i,d,Qr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{l=v})}).next(()=>i.Li.getDocumentsMatchingQuery(d,t,e?o:Sn.min(),e?l:$n())).next(p=>(AO(i,cT(t),p),{documents:p,Hi:l})))}function EO(n,t){const e=Gt(n),i=Gt(e.Cs),o=e.Ui.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",l=>i.se(l,t).next(d=>d?d.target:null))}function IO(n,t){const e=Gt(n),i=e.Ki.get(t)||Sn.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Gi.getAllFromCollectionGroup(o,t,ND(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(AO(e,t,o),o))}function AO(n,t,e){let i=n.Ki.get(t)||Sn.min();e.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ki.set(t,i)}function rC(){return rC=(0,le.A)(function*(n,t,e,i){const o=Gt(n);let l=$n(),d=ys();for(const M of e){const b=t.Ji(M.metadata.name);M.document&&(l=l.add(b));const T=t.Yi(M);T.setReadTime(t.Xi(M.metadata.readTime)),d=d.insert(b,T)}const p=o.Gi.newChangeBuffer({trackRemovals:!0}),v=yield _h(o,(M=i,Qr(uh(ri.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>bO(M,p,d).next(b=>(p.apply(M),b)).next(b=>o.Cs.removeMatchingKeysForTargetId(M,v.targetId).next(()=>o.Cs.addMatchingKeys(M,l,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(M,b.Wi,b.zi)).next(()=>b.Wi)))}),rC.apply(this,arguments)}function XV(n,t){return sC.apply(this,arguments)}function sC(){return sC=(0,le.A)(function*(n,t,e=$n()){const i=yield _h(n,Qr(XM(t.bundledQuery))),o=Gt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=ar(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(l,t);const p=i.withResumeToken(Qo.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(p.targetId,p),o.Cs.updateTargetData(l,p).next(()=>o.Cs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>o.Cs.addMatchingKeys(l,e,i.targetId)).next(()=>o.Ns.saveNamedQuery(l,t))})}),sC.apply(this,arguments)}function kO(n,t){return`firestore_clients_${n}_${t}`}function SO(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function aC(n,t){return`firestore_targets_${n}_${t}`}class L7{constructor(t,e,i,o){this.user=t,this.batchId=e,this.state=i,this.error=o}static Zi(t,e,i){const o=JSON.parse(i);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new ft(o.error.code,o.error.message))),d?new L7(t,e,o.state,l):(ko("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Af{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let o,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(o=new ft(i.error.code,i.error.message))),l?new Af(t,i.state,o):(ko("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class N7{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let o="object"==typeof i&&i.activeTargetIds instanceof Array,l=M7();for(let d=0;o&&d<i.activeTargetIds.length;++d)o=GD(i.activeTargetIds[d]),l=l.add(i.activeTargetIds[d]);return o?new N7(t,l):(ko("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class cC{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new cC(e.clientId,e.onlineState):(ko("SharedClientState",`Failed to parse online state: ${t}`),null)}}class lC{constructor(){this.activeTargetIds=M7()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uC{constructor(t,e,i,o,l){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new po(jn),this.started=!1,this.cr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=kO(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new lC),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,le.A)(function*(){const e=yield t.syncEngine.vi();for(const o of e){if(o===t.sr)continue;const l=t.getItem(kO(t.persistenceKey,o));if(l){const d=N7.Zi(o,l);d&&(t.ur=t.ur.insert(d.clientId,d))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const o=t.yr(i);o&&t.pr(o)}for(const o of t.cr)t.rr(o);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(aC(this.persistenceKey,t));if(i){const o=Af.Zi(t,i);o&&(e=o.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(aC(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(o=>{this.Er(o)}),this.currentUser=t,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return yt("SharedClientState","READ",t,e),e}setItem(t,e){yt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){yt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(yt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ko("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,le.A)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const o=e.vr(i.key);return e.Vr(o,null)}{const o=e.Sr(i.key,i.newValue);if(o)return e.Vr(o.clientId,o)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const o=e.Dr(i.key,i.newValue);if(o)return e.Cr(o)}}else if(e._r.test(i.key)){if(null!==i.newValue){const o=e.Nr(i.key,i.newValue);if(o)return e.kr(o)}}else if(i.key===e.wr){if(null!==i.newValue){const o=e.yr(i.newValue);if(o)return e.pr(o)}}else if(i.key===e.hr){const o=function(l){let d=ws.at;if(null!=l)try{const p=JSON.parse(l);kn("number"==typeof p),d=p}catch(p){ko("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(i.newValue);o!==ws.at&&e.sequenceNumberHandler(o)}else if(i.key===e.mr){const o=e.Or(i.newValue);yield Promise.all(o.map(l=>e.syncEngine.Mr(l)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const o=new L7(this.currentUser,t,e,i),l=SO(this.persistenceKey,this.currentUser,t);this.setItem(l,o.tr())}Er(t){const e=SO(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const o=aC(this.persistenceKey,t),l=new Af(t,e,i);this.setItem(o,l.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return N7.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),o=Number(i[1]);return L7.Zi(new sr(void 0!==i[2]?i[2]:null),o,e)}Nr(t,e){const i=this._r.exec(t),o=Number(i[1]);return Af.Zi(o,e)}yr(t){return cC.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,le.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);yt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),o=this.Ir(this.ur),l=this.Ir(i),d=[],p=[];return l.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Br(d,p).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=M7();return t.forEach((i,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class DO{constructor(){this.Lr=new lC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new lC,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YV{qr(t){}shutdown(){}}class TO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JV{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class ZV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,o,l){const d=this.ho(t,e);yt("RestConnection","Sending: ",d,i);const p={};return this.lo(p,o,l),this.fo(t,d,p,i).then(v=>(yt("RestConnection","Received: ",v),v),v=>{throw zu("RestConnection",`${t} failed with error: `,v,"url: ",d,"request:",i),v})}_o(t,e,i,o,l,d){return this.ao(t,e,i,o,l)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+rh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}ho(t,e){return`${this.oo}/v1/${e}:${QV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,o){return new Promise((l,d)=>{const p=new QF;p.setWithCredentials(!0),p.listenOnce(qF.COMPLETE,()=>{var M;try{switch(p.getLastErrorCode()){case EM.NO_ERROR:const b=p.getResponseJson();yt("Connection","XHR received:",JSON.stringify(b)),l(b);break;case EM.TIMEOUT:yt("Connection",'RPC "'+t+'" timed out'),d(new ft(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:const T=p.getStatus();if(yt("Connection",'RPC "'+t+'" failed with status:',T,"response text:",p.getResponseText()),T>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const ee=null===(M=L)||void 0===M?void 0:M.error;if(ee&&ee.status&&ee.message){const Se=function($e){const Xe=$e.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(Xe)>=0?Xe:Qe.UNKNOWN}(ee.status);d(new ft(Se,ee.message))}else d(new ft(Qe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ft(Qe.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{yt("Connection",'RPC "'+t+'" completed.')}});const v=JSON.stringify(o);p.send(e,"POST",v,i,15)})}wo(t,e,i){const o=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=KF(),d=WF(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new YF({})),this.lo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const v=o.join("");yt("Connection","Creating WebChannel: "+v,p);const M=l.createWebChannel(v,p);let b=!1,T=!1;const L=new JV({Hr:Se=>{T?yt("Connection","Not sending because WebChannel is closed:",Se):(b||(yt("Connection","Opening WebChannel transport."),M.open(),b=!0),yt("Connection","WebChannel sending:",Se),M.send(Se))},Jr:()=>M.close()}),ee=(Se,$e,Xe)=>{Se.listen($e,$t=>{try{Xe($t)}catch(Xt){setTimeout(()=>{throw Xt},0)}})};return ee(M,l7.EventType.OPEN,()=>{T||yt("Connection","WebChannel transport opened.")}),ee(M,l7.EventType.CLOSE,()=>{T||(T=!0,yt("Connection","WebChannel transport closed"),L.io())}),ee(M,l7.EventType.ERROR,Se=>{T||(T=!0,zu("Connection","WebChannel transport errored:",Se),L.io(new ft(Qe.UNAVAILABLE,"The operation could not be completed")))}),ee(M,l7.EventType.MESSAGE,Se=>{var $e;if(!T){const Xe=Se.data[0];kn(!!Xe);const Xt=Xe.error||(null===($e=Xe[0])||void 0===$e?void 0:$e.error);if(Xt){yt("Connection","WebChannel received error:",Xt);const Pt=Xt.status;let an=function(Dn){const vo=Bo[Dn];if(void 0!==vo)return bT(vo)}(Pt),ln=Xt.message;void 0===an&&(an=Qe.INTERNAL,ln="Unknown error status: "+Pt+" with message "+Xt.message),T=!0,L.io(new ft(an,ln)),M.close()}else yt("Connection","WebChannel received:",Xe),L.ro(Xe)}}),ee(d,XF.STAT_EVENT,Se=>{Se.stat===DD.PROXY?yt("Connection","Detected buffering proxy"):Se.stat===DD.NOPROXY&&yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function OO(){return typeof window<"u"?window:null}function z7(){return typeof document<"u"?document:null}function kf(n){return new $B(n,!0)}class dC{constructor(t,e,i=1e3,o=1.5,l=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=o,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),o=Math.max(0,e-i);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class PO{constructor(t,e,i,o,l,d,p,v){this.Hs=t,this.vo=i,this.Vo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dC(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,le.A)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,le.A)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,le.A)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===Qe.RESOURCE_EXHAUSTED?(ko(e.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===Qe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.So===e&&this.Go(i,o)},i=>{t(()=>{const o=new ft(Qe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(o)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{i(()=>this.Qo(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,le.A)(function*(){t.state=0,t.start()}))}Qo(t){return yt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ej extends PO{constructor(t,e,i,o,l,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,o,d),this.It=l}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function WB(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:sn(),o=t.targetChange.targetIds||[],l=function(v,M){return v.gt?(kn(void 0===M||"string"==typeof M),Qo.fromBase64String(M||"")):(kn(void 0===M||M instanceof Uint8Array),Qo.fromUint8Array(M||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(v){const M=void 0===v.code?Qe.UNKNOWN:bT(v.code);return new ft(M,v.message||"")}(d);e=new ST(i,o,l,p||null)}else if("documentChange"in t){const i=t.documentChange,o=Wc(n,i.document.name),l=ar(i.document.updateTime),d=new Mr({mapValue:{fields:i.document.fields}}),p=Fi.newFoundDocument(o,l,d);e=new C7(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,o=Wc(n,i.document),l=i.readTime?ar(i.readTime):Sn.min(),d=Fi.newNoDocument(o,l);e=new C7([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,o=Wc(n,i.document);e=new C7([],i.removedTargetIds||[],o,null)}else{if(!("filter"in t))return sn();{const i=t.filter,l=new NB(i.count||0);e=new kT(i.targetId,l)}}var v;return e}(this.It,t),i=function(o){if(!("targetChange"in o))return Sn.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Sn.min():l.readTime?ar(l.readTime):Sn.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=wf(this.It),e.addTarget=function(o,l){let d;const p=l.target;return d=m7(p)?{documents:BT(o,p)}:{query:$M(o,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=PT(o,l.resumeToken):l.snapshotVersion.compareTo(Sn.min())>0&&(d.readTime=mf(o,l.snapshotVersion.toTimestamp())),d}(this.It,t);const i=function XB(n,t){const e=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sn()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=wf(this.It),e.removeTarget=t,this.Bo(e)}}class tj extends PO{constructor(t,e,i,o,l,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,o,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(kn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function qB(n,t){return n&&n.length>0?(kn(void 0!==t),n.map(e=>function(i,o){let l=ar(i.updateTime?i.updateTime:o);return l.isEqual(Sn.min())&&(l=ar(o)),new PB(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ar(t.commitTime);return this.listener.Zo(i,e)}return kn(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=wf(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>yf(this.It,i))};this.Bo(e)}}class nj extends class{}{constructor(t,e,i,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=o,this.nu=!1}su(){if(this.nu)throw new ft(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ao(t,e,i,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(Qe.UNKNOWN,o.toString())})}_o(t,e,i,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(t,e,i,l,d,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(Qe.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class oj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ko(e),this.ou=!1):yt("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class rj{constructor(t,e,i,o,l){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(p=>{i.enqueueAndForget((0,le.A)(function*(){var v;Z1(d)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,le.A)(function*(M){const b=Gt(M);b._u.add(4),yield Mh(b),b.gu.set("Unknown"),b._u.delete(4),yield Sf(b)}),function(M){return v.apply(this,arguments)})(d))}))}),this.gu=new oj(i,o)}}function Sf(n){return fC.apply(this,arguments)}function fC(){return fC=(0,le.A)(function*(n){if(Z1(n))for(const t of n.wu)yield t(!0)}),fC.apply(this,arguments)}function Mh(n){return gC.apply(this,arguments)}function gC(){return gC=(0,le.A)(function*(n){for(const t of n.wu)yield t(!1)}),gC.apply(this,arguments)}function F7(n,t){const e=Gt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),vC(e)?mC(e):bh(e).ko()&&pC(e,t))}function Df(n,t){const e=Gt(n),i=bh(e);e.du.delete(t),i.ko()&&RO(e,t),0===e.du.size&&(i.ko()?i.Fo():Z1(e)&&e.gu.set("Unknown"))}function pC(n,t){n.yu.Mt(t.targetId),bh(n).zo(t)}function RO(n,t){n.yu.Mt(t),bh(n).Ho(t)}function mC(n){n.yu=new jB({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),bh(n).start(),n.gu.uu()}function vC(n){return Z1(n)&&!bh(n).No()&&n.du.size>0}function Z1(n){return 0===Gt(n)._u.size}function LO(n){n.yu=void 0}function sj(n){return wC.apply(this,arguments)}function wC(){return wC=(0,le.A)(function*(n){n.du.forEach((t,e)=>{pC(n,t)})}),wC.apply(this,arguments)}function aj(n,t){return yC.apply(this,arguments)}function yC(){return yC=(0,le.A)(function*(n,t){LO(n),vC(n)?(n.gu.hu(t),mC(n)):n.gu.set("Unknown")}),yC.apply(this,arguments)}function cj(n,t,e){return _C.apply(this,arguments)}function _C(){return _C=(0,le.A)(function*(n,t,e){if(n.gu.set("Online"),t instanceof ST&&2===t.state&&t.cause)try{yield(i=(0,le.A)(function*(o,l){const d=l.cause;for(const p of l.targetIds)o.du.has(p)&&(yield o.remoteSyncer.rejectListen(p,d),o.du.delete(p),o.yu.removeTarget(p))}),function(o,l){return i.apply(this,arguments)})(n,t)}catch(i){yt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield B7(n,i)}else if(t instanceof C7?n.yu.Gt(t):t instanceof kT?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Sn.min()))try{const i=yield CO(n.localStore);e.compareTo(i)>=0&&(yield function(o,l){const d=o.yu.te(l);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const M=o.du.get(v);M&&o.du.set(v,M.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const v=o.du.get(p);if(!v)return;o.du.set(p,v.withResumeToken(Qo.EMPTY_BYTE_STRING,v.snapshotVersion)),RO(o,p);const M=new z0(v.target,p,1,v.sequenceNumber);pC(o,M)}),o.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){yt("RemoteStore","Failed to raise snapshot:",i),yield B7(n,i)}var i}),_C.apply(this,arguments)}function B7(n,t,e){return xC.apply(this,arguments)}function xC(){return xC=(0,le.A)(function*(n,t,e){if(!D0(t))throw t;n._u.add(1),yield Mh(n),n.gu.set("Offline"),e||(e=()=>CO(n.localStore)),n.asyncQueue.enqueueRetryable((0,le.A)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Sf(n)}))}),xC.apply(this,arguments)}function NO(n,t){return t().catch(e=>B7(n,e,t))}function Ch(n){return MC.apply(this,arguments)}function MC(){return MC=(0,le.A)(function*(n){const t=Gt(n),e=V0(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;lj(t);)try{const o=yield WV(t.localStore,i);if(null===o){0===t.fu.length&&e.Fo();break}i=o.batchId,uj(t,o)}catch(o){yield B7(t,o)}zO(t)&&FO(t)}),MC.apply(this,arguments)}function lj(n){return Z1(n)&&n.fu.length<10}function uj(n,t){n.fu.push(t);const e=V0(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function zO(n){return Z1(n)&&!V0(n).No()&&n.fu.length>0}function FO(n){V0(n).start()}function dj(n){return CC.apply(this,arguments)}function CC(){return CC=(0,le.A)(function*(n){V0(n).eu()}),CC.apply(this,arguments)}function hj(n){return bC.apply(this,arguments)}function bC(){return bC=(0,le.A)(function*(n){const t=V0(n);for(const e of n.fu)t.Xo(e.mutations)}),bC.apply(this,arguments)}function fj(n,t,e){return EC.apply(this,arguments)}function EC(){return EC=(0,le.A)(function*(n,t,e){const i=n.fu.shift(),o=WM.from(i,t,e);yield NO(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ch(n)}),EC.apply(this,arguments)}function gj(n,t){return IC.apply(this,arguments)}function IC(){return IC=(0,le.A)(function*(n,t){var e;t&&V0(n).Yo&&(yield(e=(0,le.A)(function*(i,o){if(CT(l=o.code)&&l!==Qe.ABORTED){const d=i.fu.shift();V0(i).Mo(),yield NO(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Ch(i)}var l}),function(i,o){return e.apply(this,arguments)})(n,t)),zO(n)&&FO(n)}),IC.apply(this,arguments)}function BO(n,t){return AC.apply(this,arguments)}function AC(){return AC=(0,le.A)(function*(n,t){const e=Gt(n);e.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const i=Z1(e);e._u.add(3),yield Mh(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Sf(e)}),AC.apply(this,arguments)}function kC(n,t){return SC.apply(this,arguments)}function SC(){return SC=(0,le.A)(function*(n,t){const e=Gt(n);t?(e._u.delete(2),yield Sf(e)):t||(e._u.add(2),yield Mh(e),e.gu.set("Unknown"))}),SC.apply(this,arguments)}function bh(n){return n.pu||(n.pu=function(t,e,i){const o=Gt(t);return o.su(),new ej(e,o.connection,o.authCredentials,o.appCheckCredentials,o.It,i)}(n.datastore,n.asyncQueue,{Yr:sj.bind(null,n),Zr:aj.bind(null,n),Wo:cj.bind(null,n)}),n.wu.push(function(){var t=(0,le.A)(function*(e){e?(n.pu.Mo(),vC(n)?mC(n):n.gu.set("Unknown")):(yield n.pu.stop(),LO(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function V0(n){return n.Iu||(n.Iu=function(t,e,i){const o=Gt(t);return o.su(),new tj(e,o.connection,o.authCredentials,o.appCheckCredentials,o.It,i)}(n.datastore,n.asyncQueue,{Yr:dj.bind(null,n),Zr:gj.bind(null,n),tu:hj.bind(null,n),Zo:fj.bind(null,n)}),n.wu.push(function(){var t=(0,le.A)(function*(e){e?(n.Iu.Mo(),yield Ch(n)):(yield n.Iu.stop(),n.fu.length>0&&(yt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class DC{constructor(t,e,i,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,o,l){const d=Date.now()+i,p=new DC(t,e,d,o,l);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ft(Qe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eh(n,t){if(ko("AsyncQueue",`${t}: ${n}`),D0(n))return new ft(Qe.UNAVAILABLE,`${t}: ${n}`);throw n}class Ih{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ht.comparator(e.key,i.key):(e,i)=>Ht.comparator(e.key,i.key),this.keyedMap=hf(),this.sortedSet=new po(this.comparator)}static emptySet(t){return new Ih(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ih)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ih;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class VO{constructor(){this.Tu=new po(Ht.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):sn():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ah{constructor(t,e,i,o,l,d,p,v,M){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=M}static fromInitialDocuments(t,e,i,o,l){const d=[];return e.forEach(p=>{d.push({type:0,doc:p})}),new Ah(t,e,Ih.emptySet(e),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==i[o].type||!e[o].doc.isEqual(i[o].doc))return!1;return!0}}class pj{constructor(){this.Au=void 0,this.listeners=[]}}class mj{constructor(){this.queries=new N0(t=>aT(t),lf),this.onlineState="Unknown",this.Ru=new Set}}function TC(n,t){return OC.apply(this,arguments)}function OC(){return OC=(0,le.A)(function*(n,t){const e=Gt(n),i=t.query;let o=!1,l=e.queries.get(i);if(l||(o=!0,l=new pj),o)try{l.Au=yield e.onListen(i)}catch(d){const p=Eh(d,`Initialization of query '${FM(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,l),l.listeners.push(t),t.bu(e.onlineState),l.Au&&t.Pu(l.Au)&&LC(e)}),OC.apply(this,arguments)}function PC(n,t){return RC.apply(this,arguments)}function RC(){return RC=(0,le.A)(function*(n,t){const e=Gt(n),i=t.query;let o=!1;const l=e.queries.get(i);if(l){const d=l.listeners.indexOf(t);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return e.queries.delete(i),e.onUnlisten(i)}),RC.apply(this,arguments)}function vj(n,t){const e=Gt(n);let i=!1;for(const o of t){const d=e.queries.get(o.query);if(d){for(const p of d.listeners)p.Pu(o)&&(i=!0);d.Au=o}}i&&LC(e)}function wj(n,t,e){const i=Gt(n),o=i.queries.get(t);if(o)for(const l of o.listeners)l.onError(e);i.queries.delete(t)}function LC(n){n.Ru.forEach(t=>{t.next()})}class NC{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)3!==o.type&&i.push(o);t=new Ah(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Ah.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class yj{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class jO{constructor(t){this.It=t}Ji(t){return Wc(this.It,t)}Yi(t){return t.metadata.exists?FT(this.It,t.document,!1):Fi.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return ar(t)}}class _j{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HO(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=ri.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new jO(this.It);for(const o of t)if(o.metadata.queries){const l=i.Ji(o.metadata.name);for(const d of o.metadata.queries){const p=(e.get(d)||$n()).add(l);e.set(d,p)}}return e}complete(){var t=this;return(0,le.A)(function*(){const e=yield function qV(n,t,e,i){return rC.apply(this,arguments)}(t.localStore,new jO(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const o of t.queries)yield XV(t.localStore,o,i.get(o.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function HO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UO{constructor(t){this.key=t}}class $O{constructor(t){this.key=t}}class GO{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=$n(),this.mutatedKeys=$n(),this.Gu=lT(t),this.Qu=new Ih(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new VO,o=e?e.Qu:this.Qu;let l=e?e.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,M="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,T)=>{const L=o.get(b),ee=BM(this.query,T)?T:null,Se=!!L&&this.mutatedKeys.has(L.key),$e=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Xe=!1;L&&ee?L.data.isEqual(ee.data)?Se!==$e&&(i.track({type:3,doc:ee}),Xe=!0):this.Hu(L,ee)||(i.track({type:2,doc:ee}),Xe=!0,(v&&this.Gu(ee,v)>0||M&&this.Gu(ee,M)<0)&&(p=!0)):!L&&ee?(i.track({type:0,doc:ee}),Xe=!0):L&&!ee&&(i.track({type:1,doc:L}),Xe=!0,(v||M)&&(p=!0)),Xe&&(ee?(d=d.add(ee),l=$e?l.add(b):l.delete(b)):(d=d.delete(b),l=l.delete(b)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const b="F"===this.query.limitType?d.last():d.first();d=d.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{Qu:d,zu:i,$i:p,mutatedKeys:l}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const o=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const l=t.zu.Eu();l.sort((M,b)=>function(T,L){const ee=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return ee(T)-ee(L)}(M.type,b.type)||this.Gu(M.doc,b.doc)),this.Ju(i);const d=e?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==l.length||v?{snapshot:new Ah(this.query,t.Qu,o,l,t.mutatedKeys,0===p,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new VO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=$n(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new $O(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new UO(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=$n();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Ah.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class xj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Mj{constructor(t){this.key=t,this.nc=!1}}class Cj{constructor(t,e,i,o,l,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new N0(p=>aT(p),lf),this.rc=new Map,this.oc=new Set,this.uc=new po(Ht.comparator),this.cc=new Map,this.ac=new JM,this.hc={},this.lc=new Map,this.fc=Zu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function bj(n,t){return zC.apply(this,arguments)}function zC(){return zC=(0,le.A)(function*(n,t){const e=sb(n);let i,o;const l=e.ic.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),o=l.view.ec();else{const d=yield _h(e.localStore,Qr(t));e.isPrimaryClient&&F7(e.remoteStore,d);const p=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,o=yield FC(e,t,i,"current"===p,d.resumeToken)}return o}),zC.apply(this,arguments)}function FC(n,t,e,i,o){return BC.apply(this,arguments)}function BC(){return BC=(0,le.A)(function*(n,t,e,i,o){n._c=(T,L,ee)=>{return(Se=(0,le.A)(function*($e,Xe,$t,Xt){let Pt=Xe.view.Wu($t);Pt.$i&&(Pt=yield R7($e.localStore,Xe.query,!1).then(({documents:Dn})=>Xe.view.Wu(Dn,Pt)));const an=Xt&&Xt.targetChanges.get(Xe.targetId),ln=Xe.view.applyChanges(Pt,$e.isPrimaryClient,an);return XC($e,Xe.targetId,ln.Xu),ln.snapshot}),function($e,Xe,$t,Xt){return Se.apply(this,arguments)})(n,T,L,ee);var Se};const l=yield R7(n.localStore,t,!0),d=new GO(t,l.Hi),p=d.Wu(l.documents),v=pf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,o),M=d.applyChanges(p,n.isPrimaryClient,v);XC(n,e,M.Xu);const b=new xj(t,e,d);return n.ic.set(t,b),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),M.snapshot}),BC.apply(this,arguments)}function Ej(n,t){return VC.apply(this,arguments)}function VC(){return VC=(0,le.A)(function*(n,t){const e=Gt(n),i=e.ic.get(t),o=e.rc.get(i.targetId);if(o.length>1)return e.rc.set(i.targetId,o.filter(l=>!lf(l,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xh(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Df(e.remoteStore,i.targetId),kh(e,i.targetId)}).catch(S0))):(kh(e,i.targetId),yield xh(e.localStore,i.targetId,!0))}),VC.apply(this,arguments)}function jC(){return jC=(0,le.A)(function*(n,t,e){const i=ab(n);try{const o=yield function(l,d){const p=Gt(l),v=Yi.now(),M=d.reduce((L,ee)=>L.add(ee.key),$n());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let ee=ys(),Se=$n();return p.Gi.getEntries(L,M).next($e=>{ee=$e,ee.forEach((Xe,$t)=>{$t.isValidDocument()||(Se=Se.add(Xe))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,ee)).next($e=>{b=$e;const Xe=[];for(const $t of d){const Xt=LB($t,b.get($t.key).overlayedDocument);null!=Xt&&Xe.push(new J1($t.key,Xt,JD(Xt.value.mapValue),Qi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,v,Xe,d)}).next($e=>{T=$e;const Xe=$e.applyToLocalDocumentSet(b,Se);return p.documentOverlayCache.saveOverlays(L,$e.batchId,Xe)})}).then(()=>({batchId:T.batchId,changes:IT(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(l,d,p){let v=l.hc[l.currentUser.toKey()];v||(v=new po(jn)),v=v.insert(d,p),l.hc[l.currentUser.toKey()]=v}(i,o.batchId,e),yield el(i,o.changes),yield Ch(i.remoteStore)}catch(o){const l=Eh(o,"Failed to persist write");e.reject(l)}}),jC.apply(this,arguments)}function KO(n,t){return HC.apply(this,arguments)}function HC(){return HC=(0,le.A)(function*(n,t){const e=Gt(n);try{const i=yield function KV(n,t){const e=Gt(n),i=t.snapshotVersion;let o=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=e.Gi.newChangeBuffer({trackRemovals:!0});o=e.Ui;const p=[];t.targetChanges.forEach((b,T)=>{const L=o.get(T);if(!L)return;p.push(e.Cs.removeMatchingKeys(l,b.removedDocuments,T).next(()=>e.Cs.addMatchingKeys(l,b.addedDocuments,T)));let ee=L.withSequenceNumber(l.currentSequenceNumber);var Se,$e,Xe;t.targetMismatches.has(T)?ee=ee.withResumeToken(Qo.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):b.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(b.resumeToken,i)),o=o.insert(T,ee),$e=ee,Xe=b,(0===(Se=L).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Se.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&p.push(e.Cs.updateTargetData(l,ee))});let v=ys(),M=$n();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(l,b))}),p.push(bO(l,d,t.documentUpdates).next(b=>{v=b.Wi,M=b.zi})),!i.isEqual(Sn.min())){const b=e.Cs.getLastRemoteSnapshotVersion(l).next(T=>e.Cs.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(b)}return Ke.waitFor(p).next(()=>d.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,v,M)).next(()=>v)}).then(l=>(e.Ui=o,l))}(e.localStore,t);t.targetChanges.forEach((o,l)=>{const d=e.cc.get(l);d&&(kn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?kn(d.nc):o.removedDocuments.size>0&&(kn(d.nc),d.nc=!1))}),yield el(e,i,t)}catch(i){yield S0(i)}}),HC.apply(this,arguments)}function WO(n,t,e){const i=Gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const o=[];i.ic.forEach((l,d)=>{const p=d.view.bu(t);p.snapshot&&o.push(p.snapshot)}),function(l,d){const p=Gt(l);p.onlineState=d;let v=!1;p.queries.forEach((M,b)=>{for(const T of b.listeners)T.bu(d)&&(v=!0)}),v&&LC(p)}(i.eventManager,t),o.length&&i.sc.Wo(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Aj(n,t,e){return UC.apply(this,arguments)}function UC(){return UC=(0,le.A)(function*(n,t,e){const i=Gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const o=i.cc.get(t),l=o&&o.key;if(l){let d=new po(Ht.comparator);d=d.insert(l,Fi.newNoDocument(l,Sn.min()));const p=$n().add(l),v=new gf(Sn.min(),new Map,new Oi(jn),d,p);yield KO(i,v),i.uc=i.uc.remove(l),i.cc.delete(t),YC(i)}else yield xh(i.localStore,t,!1).then(()=>kh(i,t,e)).catch(S0)}),UC.apply(this,arguments)}function kj(n,t){return $C.apply(this,arguments)}function $C(){return $C=(0,le.A)(function*(n,t){const e=Gt(n),i=t.batch.batchId;try{const o=yield function GV(n,t){const e=Gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),l=e.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,M){const b=v.batch,T=b.keys();let L=Ke.resolve();return T.forEach(ee=>{L=L.next(()=>M.getEntry(p,ee)).next(Se=>{const $e=v.docVersions.get(ee);kn(null!==$e),Se.version.compareTo($e)<0&&(b.applyToRemoteDocument(Se,v),Se.isValidDocument()&&(Se.setReadTime(v.commitVersion),M.addEntry(Se)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=$n();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,o))})}(e.localStore,t);qC(e,i,null),WC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield el(e,o)}catch(o){yield S0(o)}}),$C.apply(this,arguments)}function Sj(n,t,e){return GC.apply(this,arguments)}function GC(){return GC=(0,le.A)(function*(n,t,e){const i=Gt(n);try{const o=yield function(l,d){const p=Gt(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let M;return p.mutationQueue.lookupMutationBatch(v,d).next(b=>(kn(null!==b),M=b.keys(),p.mutationQueue.removeMutationBatch(v,b))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,M,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,M)).next(()=>p.localDocuments.getDocuments(v,M))})}(i.localStore,t);qC(i,t,e),WC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield el(i,o)}catch(o){yield S0(o)}}),GC.apply(this,arguments)}function KC(){return KC=(0,le.A)(function*(n,t){const e=Gt(n);Z1(e.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const d=Gt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const o=e.lc.get(i)||[];o.push(t),e.lc.set(i,o)}catch(i){const o=Eh(i,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),KC.apply(this,arguments)}function WC(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function qC(n,t,e){const i=Gt(n);let o=i.hc[i.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),i.hc[i.currentUser.toKey()]=o}}function kh(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||qO(n,i)})}function qO(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(Df(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),YC(n))}function XC(n,t,e){for(const i of e)i instanceof UO?(n.ac.addReference(i.key,t),Tj(n,i)):i instanceof $O?(yt("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||qO(n,i.key)):sn()}function Tj(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(yt("SyncEngine","New document in limbo: "+e),n.oc.add(i),YC(n))}function YC(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Ht(ri.fromString(t)),i=n.fc.next();n.cc.set(i,new Mj(e)),n.uc=n.uc.insert(e,i),F7(n.remoteStore,new z0(Qr(uh(e.path)),i,2,ws.at))}}function el(n,t,e){return QC.apply(this,arguments)}function QC(){return QC=(0,le.A)(function*(n,t,e){const i=Gt(n),o=[],l=[],d=[];var p;i.ic.isEmpty()||(i.ic.forEach((p,v)=>{d.push(i._c(v,t,e).then(M=>{if((M||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,M?.fromCache?"not-current":"current"),M){o.push(M);const b=nC.Ci(v.targetId,M);l.push(b)}}))}),yield Promise.all(d),i.sc.Wo(o),yield(p=(0,le.A)(function*(v,M){const b=Gt(v);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ke.forEach(M,L=>Ke.forEach(L.Si,ee=>b.persistence.referenceDelegate.addReference(T,L.targetId,ee)).next(()=>Ke.forEach(L.Di,ee=>b.persistence.referenceDelegate.removeReference(T,L.targetId,ee)))))}catch(T){if(!D0(T))throw T;yt("LocalStore","Failed to update sequence numbers: "+T)}for(const T of M){const L=T.targetId;if(!T.fromCache){const ee=b.Ui.get(L),$e=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);b.Ui=b.Ui.insert(L,$e)}}}),function(v,M){return p.apply(this,arguments)})(i.localStore,l))}),QC.apply(this,arguments)}function Oj(n,t){return JC.apply(this,arguments)}function JC(){return JC=(0,le.A)(function*(n,t){const e=Gt(n);if(!e.currentUser.isEqual(t)){yt("SyncEngine","User change. New user:",t.toKey());const i=yield MO(e.localStore,t);e.currentUser=t,(o=e).lc.forEach(d=>{d.forEach(p=>{p.reject(new ft(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield el(e,i.ji)}var o}),JC.apply(this,arguments)}function Pj(n,t){const e=Gt(n),i=e.cc.get(t);if(i&&i.nc)return $n().add(i.key);{let o=$n();const l=e.rc.get(t);if(!l)return o;for(const d of l){const p=e.ic.get(d);o=o.unionWith(p.view.ju)}return o}}function Rj(n,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,le.A)(function*(n,t){const e=Gt(n),i=yield R7(e.localStore,t.query,!0),o=t.view.tc(i);return e.isPrimaryClient&&XC(e,t.targetId,o.Xu),o}),ZC.apply(this,arguments)}function Lj(n,t){return eb.apply(this,arguments)}function eb(){return eb=(0,le.A)(function*(n,t){const e=Gt(n);return IO(e.localStore,t).then(i=>el(e,i))}),eb.apply(this,arguments)}function Nj(n,t,e,i){return tb.apply(this,arguments)}function tb(){return tb=(0,le.A)(function*(n,t,e,i){const o=Gt(n),l=yield function(d,p){const v=Gt(d),M=Gt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",b=>M.Tn(b,p).next(T=>T?v.localDocuments.getDocuments(b,T):Ke.resolve(null)))}(o.localStore,t);var p;null!==l?("pending"===e?yield Ch(o.remoteStore):"acknowledged"===e||"rejected"===e?(qC(o,t,i||null),WC(o,t),p=t,Gt(Gt(o.localStore).mutationQueue).An(p)):sn(),yield el(o,l)):yt("SyncEngine","Cannot apply mutation batch with id: "+t)}),tb.apply(this,arguments)}function nb(){return nb=(0,le.A)(function*(n,t){const e=Gt(n);if(sb(e),ab(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),o=yield XO(e,i.toArray());e.dc=!0,yield kC(e.remoteStore,!0);for(const l of o)F7(e.remoteStore,l)}else if(!1===t&&!1!==e.dc){const i=[];let o=Promise.resolve();e.rc.forEach((l,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):o=o.then(()=>(kh(e,d),xh(e.localStore,d,!0))),Df(e.remoteStore,d)}),yield o,yield XO(e,i),function(l){const d=Gt(l);d.cc.forEach((p,v)=>{Df(d.remoteStore,v)}),d.ac.fs(),d.cc=new Map,d.uc=new po(Ht.comparator)}(e),e.dc=!1,yield kC(e.remoteStore,!1)}}),nb.apply(this,arguments)}function XO(n,t,e){return ib.apply(this,arguments)}function ib(){return ib=(0,le.A)(function*(n,t,e){const i=Gt(n),o=[],l=[];for(const d of t){let p;const v=i.rc.get(d);if(v&&0!==v.length){p=yield _h(i.localStore,Qr(v[0]));for(const M of v){const b=i.ic.get(M),T=yield Rj(i,b);T.snapshot&&l.push(T.snapshot)}}else{const M=yield EO(i.localStore,d);p=yield _h(i.localStore,M),yield FC(i,YO(M),d,!1,p.resumeToken)}o.push(p)}return i.sc.Wo(l),o}),ib.apply(this,arguments)}function YO(n){return rT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fj(n){const t=Gt(n);return Gt(Gt(t.localStore).persistence).vi()}function Bj(n,t,e,i){return ob.apply(this,arguments)}function ob(){return ob=(0,le.A)(function*(n,t,e,i){const o=Gt(n);if(o.dc)return void yt("SyncEngine","Ignoring unexpected query state notification.");const l=o.rc.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const d=yield IO(o.localStore,cT(l[0])),p=gf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Qo.EMPTY_BYTE_STRING);yield el(o,d,p);break}case"rejected":yield xh(o.localStore,t,!0),kh(o,t,i);break;default:sn()}}),ob.apply(this,arguments)}function Vj(n,t,e){return rb.apply(this,arguments)}function rb(){return rb=(0,le.A)(function*(n,t,e){const i=sb(n);if(i.dc){for(const o of t){if(i.rc.has(o)){yt("SyncEngine","Adding an already active target "+o);continue}const l=yield EO(i.localStore,o),d=yield _h(i.localStore,l);yield FC(i,YO(l),d.targetId,!1,d.resumeToken),F7(i.remoteStore,d)}for(const o of e)i.rc.has(o)&&(yield xh(i.localStore,o,!1).then(()=>{Df(i.remoteStore,o),kh(i,o)}).catch(S0))}}),rb.apply(this,arguments)}function sb(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=KO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Aj.bind(null,t),t.sc.Wo=vj.bind(null,t.eventManager),t.sc.wc=wj.bind(null,t.eventManager),t}function ab(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sj.bind(null,t),t}class QO{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,le.A)(function*(){e.It=kf(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return xO(this.persistence,new _O,t.initialUser,this.It)}yc(t){return new wO(O7.Bs,this.It)}gc(t){return new DO}terminate(){var t=this;return(0,le.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class JO extends QO{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,le.A)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield ab(i.Ac.syncEngine),yield Ch(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return xO(this.persistence,new _O,t.initialUser,this.It)}Tc(t,e){return new DV(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new fB(e,this.persistence);return new hB(t.asyncQueue,i)}yc(t){const e=tC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new eC(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,OO(),z7(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new DO}}class Hj extends JO{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,le.A)(function*(){yield e().call(i,t);const o=i.Ac.syncEngine;i.sharedClientState instanceof uC&&(i.sharedClientState.syncEngine={Fr:Nj.bind(null,o),$r:Bj.bind(null,o),Br:Vj.bind(null,o),vi:Fj.bind(null,o),Mr:Lj.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var l=(0,le.A)(function*(d){yield function zj(n,t){return nb.apply(this,arguments)}(i.Ac.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(t){const e=OO();if(!uC.C(e))throw new ft(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=tC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uC(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class cb{initialize(t,e){var i=this;return(0,le.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>WO(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Oj.bind(null,i.syncEngine),yield kC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new mj}createDatastore(t){const e=kf(t.databaseInfo.databaseId),i=new ZV(t.databaseInfo);return new nj(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,o=t.asyncQueue,l=p=>WO(this.syncEngine,p,0),d=TO.C()?new TO:new YV,new rj(e,i,o,l,d);var e,i,o,l,d}createSyncEngine(t,e){return function(i,o,l,d,p,v,M){const b=new Cj(i,o,l,d,p,v);return M&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,le.A)(function*(e){const i=Gt(e);yt("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Mh(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function lb(n,t,e){if(!e)throw new ft(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ZO(n,t,e,i){if(!0===t&&!0===i)throw new ft(Qe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function eP(n){if(!Ht.isDocumentKey(n))throw new ft(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tP(n){if(Ht.isDocumentKey(n))throw new ft(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V7(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":sn()}function ii(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ft(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=V7(n);throw new ft(Qe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function nP(n,t){if(t<=0)throw new ft(Qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const iP=new Map;class oP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ft(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ft(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tf{constructor(t,e,i,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ft(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ft(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new eB;switch(e.type){case"gapi":return new oB(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ft(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=iP.get(t);e&&(yt("ComponentProvider","Removing Datastore"),iP.delete(t),e.terminate())}(this),Promise.resolve()}}class Hi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hi(this.firestore,t,this._key)}}class Pr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Pr(this.firestore,t,this._query)}}class Xc extends Pr{constructor(t,e,i){super(t,e,uh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hi(this.firestore,null,new Ht(t))}withConverter(t){return new Xc(this.firestore,t,this._path)}}function sP(n,t,...e){if(n=(0,pi.Ku)(n),lb("collection","path",t),n instanceof Tf){const i=ri.fromString(t,...e);return tP(i),new Xc(n,null,i)}{if(!(n instanceof Hi||n instanceof Xc))throw new ft(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ri.fromString(t,...e));return tP(i),new Xc(n.firestore,null,i)}}function j7(n,t,...e){if(n=(0,pi.Ku)(n),1===arguments.length&&(t=RD.R()),lb("doc","path",t),n instanceof Tf){const i=ri.fromString(t,...e);return eP(i),new Hi(n,null,new Ht(i))}{if(!(n instanceof Hi||n instanceof Xc))throw new ft(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ri.fromString(t,...e));return eP(i),new Hi(n.firestore,n instanceof Xc?n.converter:null,new Ht(i))}}function aP(n,t){return n=(0,pi.Ku)(n),t=(0,pi.Ku)(t),(n instanceof Hi||n instanceof Xc)&&(t instanceof Hi||t instanceof Xc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function ub(n,t){return n=(0,pi.Ku)(n),t=(0,pi.Ku)(t),n instanceof Pr&&t instanceof Pr&&n.firestore===t.firestore&&lf(n._query,t._query)&&n.converter===t.converter}function cP(n,t=10240){let e=0;return{read:()=>(0,le.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,le.A)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class H7{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ko("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class $j{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new Yo,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,le.A)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,le.A)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,le.A)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),o=Number(i);isNaN(o)&&t.Dc(`length string (${i}) is not valid number`);const l=yield t.Cc(o);return new yj(JSON.parse(l),e.length+o)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,le.A)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,le.A)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,le.A)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Wj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,le.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ft(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,le.A)(function*(l,d){const p=Gt(l),v=wf(p.It)+"/documents",M={documents:d.map(ee=>vf(p.It,ee))},b=yield p._o("BatchGetDocuments",v,M,d.length),T=new Map;b.forEach(ee=>{const Se=function KB(n,t){return"found"in t?function(e,i){kn(!!i.found);const o=Wc(e,i.found.name),l=ar(i.found.updateTime),d=new Mr({mapValue:{fields:i.found.fields}});return Fi.newFoundDocument(o,l,d)}(n,t):"missing"in t?function(e,i){kn(!!i.missing),kn(!!i.readTime);const o=Wc(e,i.missing),l=ar(i.readTime);return Fi.newNoDocument(o,l)}(n,t):sn()}(p.It,ee);T.set(Se.key.toString(),Se)});const L=[];return d.forEach(ee=>{const Se=T.get(ee.toString());kn(!!Se),L.push(Se)}),L}),function(l,d){return o.apply(this,arguments)})(e.datastore,t);var o;return i.forEach(o=>e.recordVersion(o)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ph(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,le.A)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,o)=>{const l=Ht.fromPath(o);t.mutations.push(new VM(l,t.precondition(l)))}),yield(i=(0,le.A)(function*(o,l){const d=Gt(o),p=wf(d.It)+"/documents",v={writes:l.map(M=>yf(d.It,M))};yield d.ao("Commit",p,v)}),function(o,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw sn();e=Sn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ft(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Sn.min())?Qi.exists(!1):Qi.updateTime(e):Qi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Sn.min()))throw new ft(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qi.updateTime(e)}return Qi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class qj{constructor(t,e,i,o,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=o,this.deferred=l,this.kc=i.maxAttempts,this.xo=new dC(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,le.A)(function*(){const e=new Wj(t.datastore),i=t.Mc(e);i&&i.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(l=>{t.Fc(l)}))}).catch(o=>{t.Fc(o)})}))}Mc(t){try{const e=this.updateFunction(t);return!tf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!CT(e)}return!1}}class Xj{constructor(t,e,i,o){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=o,this.user=sr.UNAUTHENTICATED,this.clientId=RD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,le.A)(function*(p){yt("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(yt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,le.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ft(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.A)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const o=Eh(i,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function lP(n,t){return db.apply(this,arguments)}function db(){return db=(0,le.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,le.A)(function*(l){i.isEqual(l)||(yield MO(t.localStore,l),i=l)});return function(l){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),db.apply(this,arguments)}function uP(n,t){return hb.apply(this,arguments)}function hb(){return hb=(0,le.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield fb(n);yt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(o=>BO(t.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>BO(t.remoteStore,l)),n.onlineComponents=t}),hb.apply(this,arguments)}function fb(n){return gb.apply(this,arguments)}function gb(){return gb=(0,le.A)(function*(n){return n.offlineComponents||(yt("FirestoreClient","Using default OfflineComponentProvider"),yield lP(n,new QO)),n.offlineComponents}),gb.apply(this,arguments)}function U7(n){return pb.apply(this,arguments)}function pb(){return pb=(0,le.A)(function*(n){return n.onlineComponents||(yt("FirestoreClient","Using default OnlineComponentProvider"),yield uP(n,new cb)),n.onlineComponents}),pb.apply(this,arguments)}function dP(n){return fb(n).then(t=>t.persistence)}function $7(n){return fb(n).then(t=>t.localStore)}function mb(n){return U7(n).then(t=>t.remoteStore)}function vb(n){return U7(n).then(t=>t.syncEngine)}function Sh(n){return wb.apply(this,arguments)}function wb(){return wb=(0,le.A)(function*(n){const t=yield U7(n),e=t.eventManager;return e.onListen=bj.bind(null,t.syncEngine),e.onUnlisten=Ej.bind(null,t.syncEngine),e}),wb.apply(this,arguments)}function fP(n,t,e={}){const i=new Yo;return n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function(o,l,d,p,v){const M=new H7({next:T=>{l.enqueueAndForget(()=>PC(o,b));const L=T.docs.has(d);!L&&T.fromCache?v.reject(new ft(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&T.fromCache&&p&&"server"===p.source?v.reject(new ft(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),b=new NC(uh(d.path),M,{includeMetadataChanges:!0,Nu:!0});return TC(o,b)}(yield Sh(n),n.asyncQueue,t,e,i)})),i.promise}function gP(n,t,e={}){const i=new Yo;return n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function(o,l,d,p,v){const M=new H7({next:T=>{l.enqueueAndForget(()=>PC(o,b)),T.fromCache&&"server"===p.source?v.reject(new ft(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),b=new NC(d,M,{includeMetadataChanges:!0,Nu:!0});return TC(o,b)}(yield Sh(n),n.asyncQueue,t,e,i)})),i.promise}class iH{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new dC(this,"async_queue_retry"),this.Wc=()=>{const e=z7();e&&yt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=z7();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=z7();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new Yo;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,le.A)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!D0(e))throw e;yt("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,ko("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const o=DC.createAndSchedule(this,t,e,i,l=>this.Yc(l));return this.qc.push(o),o}zc(){this.Kc&&sn()}verifyOperationInProgress(){}Xc(){var t=this;return(0,le.A)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function yb(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class oH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ui extends Tf{constructor(t,e,i,o){super(t,e,i,o),this.type="firestore",this._queue=new iH,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pP(this),this._firestoreClient.terminate()}}function So(n){return n._firestoreClient||pP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pP(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new mB(n._databaseId,l,n._persistenceKey,(p=e).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new Xj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function mP(n,t,e){const i=new Yo;return n.asyncQueue.enqueue((0,le.A)(function*(){try{yield lP(n,e),yield uP(n,t),i.resolve()}catch(o){const l=o;if(!("FirebaseError"===(d=l).name?d.code===Qe.FAILED_PRECONDITION||d.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;zu("Error enabling offline persistence. Falling back to persistence disabled: "+l),i.reject(l)}var d})).then(()=>i.promise)}function vP(n){if(n._initialized||n._terminated)throw new ft(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yc(Qo.fromBase64String(t))}catch(e){throw new ft(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yc(Qo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class tl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ft(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new go(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class td{constructor(t){this._methodName=t}}class G7{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ft(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ft(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jn(this._lat,t._lat)||jn(this._long,t._long)}}const gH=/^__.*__$/;class pH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new J1(t,this.data,this.fieldMask,e,this.fieldTransforms):new gh(t,this.data,e,this.fieldTransforms)}}class wP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new J1(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function yP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class K7{constructor(t,e,i,o,l,d){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=o,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new K7(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.ia({path:i,oa:!1});return o.ua(t),o}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.ia({path:i,oa:!1});return o.na(),o}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return X7(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(yP(this.sa)&&gH.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class mH{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||kf(t)}da(t,e,i,o=!1){return new K7({sa:t,methodName:e,fa:i,path:go.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function nd(n){const t=n._freezeSettings(),e=kf(n._databaseId);return new mH(n._databaseId,!!t.ignoreUndefinedProperties,e)}function W7(n,t,e,i,o,l={}){const d=n.da(l.merge||l.mergeFields?2:0,t,e,o);Cb("Data must be an object, but it was:",d,i);const p=MP(i,d);let v,M;if(l.merge)v=new $s(d.fieldMask),M=d.fieldTransforms;else if(l.mergeFields){const b=[];for(const T of l.mergeFields){const L=bb(t,T,e);if(!d.contains(L))throw new ft(Qe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);bP(b,L)||b.push(L)}v=new $s(b),M=d.fieldTransforms.filter(T=>v.covers(T.field))}else v=null,M=d.fieldTransforms;return new pH(new Mr(p),v,M)}class Of extends td{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Of}}function _P(n,t,e){return new K7({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class _b extends td{_toFieldTransform(t){return new uf(t.path,new hh)}isEqual(t){return t instanceof _b}}class vH extends td{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=_P(this,t,!0),i=this._a.map(l=>id(l,e)),o=new Gu(i);return new uf(t.path,o)}isEqual(t){return this===t}}class wH extends td{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=_P(this,t,!0),i=this._a.map(l=>id(l,e)),o=new Ku(i);return new uf(t.path,o)}isEqual(t){return this===t}}class yH extends td{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new fh(t.It,hT(t.It,this.wa));return new uf(t.path,e)}isEqual(t){return this===t}}function xb(n,t,e,i){const o=n.da(1,t,e);Cb("Data must be an object, but it was:",o,i);const l=[],d=Mr.empty();Vu(i,(v,M)=>{const b=q7(t,v,e);M=(0,pi.Ku)(M);const T=o.ca(b);if(M instanceof Of)l.push(b);else{const L=id(M,T);null!=L&&(l.push(b),d.set(b,L))}});const p=new $s(l);return new wP(d,p,o.fieldTransforms)}function Mb(n,t,e,i,o,l){const d=n.da(1,t,e),p=[bb(t,i,e)],v=[o];if(l.length%2!=0)throw new ft(Qe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)p.push(bb(t,l[L])),v.push(l[L+1]);const M=[],b=Mr.empty();for(let L=p.length-1;L>=0;--L)if(!bP(M,p[L])){const ee=p[L];let Se=v[L];Se=(0,pi.Ku)(Se);const $e=d.ca(ee);if(Se instanceof Of)M.push(ee);else{const Xe=id(Se,$e);null!=Xe&&(M.push(ee),b.set(ee,Xe))}}const T=new $s(M);return new wP(b,T,d.fieldTransforms)}function xP(n,t,e,i=!1){return id(e,n.da(i?4:3,t))}function id(n,t){if(CP(n=(0,pi.Ku)(n)))return Cb("Unsupported field value:",t,n),MP(n,t);if(n instanceof td)return function(e,i){if(!yP(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const o=[];let l=0;for(const d of e){let p=id(d,i.aa(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,t)}return function(e,i){if(null===(e=(0,pi.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hT(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=Yi.fromDate(e);return{timestampValue:mf(i.It,o)}}if(e instanceof Yi){const o=new Yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mf(i.It,o)}}if(e instanceof G7)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yc)return{bytesValue:PT(i.It,e._byteString)};if(e instanceof Hi){const o=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(o))throw i.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jM(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${V7(e)}`)}(n,t)}function MP(n,t){const e={};return HD(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(n,(i,o)=>{const l=id(o,t.ra(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function CP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yi||n instanceof G7||n instanceof Yc||n instanceof Hi||n instanceof td)}function Cb(n,t,e){if(!CP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=V7(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function bb(n,t,e){if((t=(0,pi.Ku)(t))instanceof tl)return t._internalPath;if("string"==typeof t)return q7(n,t);throw X7("Field path arguments must be of type string or ",n,!1,void 0,e)}const _H=new RegExp("[~\\*/\\[\\]]");function q7(n,t,e){if(t.search(_H)>=0)throw X7(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new tl(...t.split("."))._internalPath}catch{throw X7(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function X7(n,t,e,i,o){const l=i&&!i.isEmpty(),d=void 0!==o;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${i}`),d&&(v+=` in document ${o}`),v+=")"),new ft(Qe.INVALID_ARGUMENT,p+n+v)}function bP(n,t){return n.some(e=>e.isEqual(t))}class Pf{constructor(t,e,i,o,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new xH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Y7("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class xH extends Pf{data(){return super.data()}}function Y7(n,t){return"string"==typeof t?q7(n,t):t instanceof tl?t._internalPath:t._delegate._internalPath}function EP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ft(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rf{}function j0(n,...t){for(const e of t)n=e._apply(n);return n}class MH extends Rf{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=nd(t.firestore),i=function(o,l,d,p,v,M,b){let T;if(v.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new ft(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){TP(b,M);const ee=[];for(const Se of b)ee.push(DP(p,o,Se));T={arrayValue:{values:ee}}}else T=DP(p,o,b)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||TP(b,M),T=xP(d,"where",b,"in"===M||"not-in"===M);const L=Cr.create(v,M,T);return function(ee,Se){if(Se.dt()){const Xe=NM(ee);if(null!==Xe&&!Xe.isEqual(Se.field))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xe.toString()}' and '${Se.field.toString()}'`);const $t=LM(ee);null!==$t&&OP(0,Se.field,$t)}const $e=function(Xe,$t){for(const Xt of Xe.filters)if($t.indexOf(Xt.op)>=0)return Xt.op;return null}(ee,function(Xe){switch(Xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Se.op));if(null!==$e)throw new ft(Qe.INVALID_ARGUMENT,$e===Se.op?`Invalid query. You cannot use more than one '${Se.op.toString()}' filter.`:`Invalid query. You cannot use '${Se.op.toString()}' filters with '${$e.toString()}' filters.`)}(o,L),L}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Pr(t.firestore,t.converter,function(o,l){const d=o.filters.concat([l]);return new Q1(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))}}class bH extends Rf{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,o,l){if(null!==i.startAt)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new lh(o,l);return function(p,v){if(null===LM(p)){const M=NM(p);null!==M&&OP(0,M,v.field)}}(i,d),d}(t._query,this.ma,this.pa);return new Pr(t.firestore,t.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Q1(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class IP extends Rf{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new Pr(t.firestore,t.converter,w7(t._query,this.Ia,this.Ta))}}class AP extends Rf{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=SP(t,this.type,this.Ea,this.Aa);return new Pr(t.firestore,t.converter,(o=e,new Q1((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class kP extends Rf{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=SP(t,this.type,this.Ea,this.Aa);return new Pr(t.firestore,t.converter,(o=e,new Q1((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function SP(n,t,e,i){if(e[0]=(0,pi.Ku)(e[0]),e[0]instanceof Pf)return function(o,l,d,p,v){if(!p)throw new ft(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const M=[];for(const b of dh(o))if(b.field.isKeyField())M.push(Uu(l,p.key));else{const T=p.data.field(b.field);if(OM(T))throw new ft(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const L=b.field.canonicalString();throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}M.push(T)}return new L0(M,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const o=nd(n.firestore);return function(l,d,p,v,M,b){const T=l.explicitOrderBy;if(M.length>T.length)throw new ft(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let ee=0;ee<M.length;ee++){const Se=M[ee];if(T[ee].field.isKeyField()){if("string"!=typeof Se)throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Se}`);if(!zM(l)&&-1!==Se.indexOf("/"))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Se}' contains a slash.`);const $e=l.path.child(ri.fromString(Se));if(!Ht.isDocumentKey($e))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const Xe=new Ht($e);L.push(Uu(d,Xe))}else{const $e=xP(p,v,Se);L.push($e)}}return new L0(L,b)}(n._query,n.firestore._databaseId,o,t,e,i)}}function DP(n,t,e){if("string"==typeof(e=(0,pi.Ku)(e))){if(""===e)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zM(t)&&-1!==e.indexOf("/"))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ri.fromString(e));if(!Ht.isDocumentKey(i))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uu(n,new Ht(i))}if(e instanceof Hi)return Uu(n,e._key);throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V7(e)}.`)}function TP(n,t){if(!Array.isArray(n)||0===n.length)throw new ft(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ft(Qe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function OP(n,t,e){if(!e.isEqual(t))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Eb{convertValue(t,e="none"){switch(Hu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mo(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw sn()}}convertObject(t,e){const i={};return Vu(t.fields,(o,l)=>{i[o]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new G7(mo(t.latitude),mo(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=$D(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ef(t));default:return null}}convertTimestamp(t){const e=T0(t);return new Yi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ri.fromString(t);kn(HT(i));const o=new O0(i.get(1),i.get(3)),l=new Ht(i.popFirst(5));return o.isEqual(e)||ko(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function Q7(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class OH extends Eb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,e)}}class od{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nl extends Pf{constructor(t,e,i,o,l,d){super(t,e,i,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Y7("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Lf extends nl{data(t={}){return super.data(t)}}class H0{constructor(t,e,i,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new od(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Lf(this._firestore,this._userDataWriter,i.key,i,new od(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ft(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Lf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new od(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const p=new Lf(i._firestore,i._userDataWriter,d.doc.key,d.doc,new od(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,M=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),M=l.indexOf(d.doc.key)),{type:PH(d.type),doc:p,oldIndex:v,newIndex:M}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function PH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function PP(n,t){return n instanceof nl&&t instanceof nl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof H0&&t instanceof H0&&n._firestore===t._firestore&&ub(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class U0 extends Eb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,e)}}function RP(n,t,e){n=ii(n,Hi);const i=ii(n.firestore,Ui),o=Q7(n.converter,t,e);return Dh(i,[W7(nd(i),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,Qi.none())])}function LP(n,t,e,...i){n=ii(n,Hi);const o=ii(n.firestore,Ui),l=nd(o);let d;return d="string"==typeof(t=(0,pi.Ku)(t))||t instanceof tl?Mb(l,"updateDoc",n._key,t,e,i):xb(l,"updateDoc",n._key,t),Dh(o,[d.toMutation(n._key,Qi.exists(!0))])}function NP(n,...t){var e,i,o;n=(0,pi.Ku)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||yb(t[d])||(l=t[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(yb(t[d])){const T=t[d];t[d]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[d+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[d+2]=null===(o=T.complete)||void 0===o?void 0:o.bind(T)}let v,M,b;if(n instanceof Hi)M=ii(n.firestore,Ui),b=uh(n._key.path),v={next:T=>{t[d]&&t[d](Ib(M,n,T))},error:t[d+1],complete:t[d+2]};else{const T=ii(n,Pr);M=ii(T.firestore,Ui),b=T._query;const L=new U0(M);v={next:ee=>{t[d]&&t[d](new H0(M,L,T,ee))},error:t[d+1],complete:t[d+2]},EP(n._query)}return function(T,L,ee,Se){const $e=new H7(Se),Xe=new NC(L,$e,ee);return T.asyncQueue.enqueueAndForget((0,le.A)(function*(){return TC(yield Sh(T),Xe)})),()=>{$e.bc(),T.asyncQueue.enqueueAndForget((0,le.A)(function*(){return PC(yield Sh(T),Xe)}))}}(So(M),b,p,v)}function Dh(n,t){return function(e,i){const o=new Yo;return e.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function Ij(n,t,e){return jC.apply(this,arguments)}(yield vb(e),i,o)})),o.promise}(So(n),t)}function Ib(n,t,e){const i=e.docs.get(t._key),o=new U0(n);return new nl(n,o,t._key,i,new od(e.hasPendingWrites,e.fromCache),t.converter)}const UH={maxAttempts:5};class zP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=nd(t)}set(t,e,i){this._verifyNotCommitted();const o=$0(t,this._firestore),l=Q7(o.converter,e,i),d=W7(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,i);return this._mutations.push(d.toMutation(o._key,Qi.none())),this}update(t,e,i,...o){this._verifyNotCommitted();const l=$0(t,this._firestore);let d;return d="string"==typeof(e=(0,pi.Ku)(e))||e instanceof tl?Mb(this._dataReader,"WriteBatch.update",l._key,e,i,o):xb(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(d.toMutation(l._key,Qi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=$0(t,this._firestore);return this._mutations=this._mutations.concat(new ph(e._key,Qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ft(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $0(n,t){if((n=(0,pi.Ku)(n)).firestore!==t)throw new ft(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $H extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=nd(t)}get(t){const e=$0(t,this._firestore),i=new OH(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return sn();const l=o[0];if(l.isFoundDocument())return new Pf(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new Pf(this._firestore,i,e._key,null,e.converter);throw sn()})}set(t,e,i){const o=$0(t,this._firestore),l=Q7(o.converter,e,i),d=W7(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,i);return this._transaction.set(o._key,d),this}update(t,e,i,...o){const l=$0(t,this._firestore);let d;return d="string"==typeof(e=(0,pi.Ku)(e))||e instanceof tl?Mb(this._dataReader,"Transaction.update",l._key,e,i,o):xb(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,d),this}delete(t){const e=$0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=$0(t,this._firestore),i=new U0(this._firestore);return super.get(t).then(o=>new nl(this._firestore,i,e._key,o._document,new od(!1,!1),e.converter))}}function Ab(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ft("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function BP(){if(typeof Uint8Array>"u")throw new ft("unimplemented","Uint8Arrays are not available in this environment.")}function VP(){if(!function gB(){return typeof atob<"u"}())throw new ft("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){rh=Tu.SDK_VERSION,(0,Tu._registerComponent)(new km.uA("firestore",(e,{instanceIdentifier:i,options:o})=>{const l=e.getProvider("app").getImmediate(),d=new Ui(new nB(e.getProvider("auth-internal")),new rB(e.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ft(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new O0(p.options.projectId,v)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Tu.registerVersion)(TD,"3.7.3",n),(0,Tu.registerVersion)(TD,"3.7.3","esm2017")}();class Nf{constructor(t){this._delegate=t}static fromBase64String(t){return VP(),new Nf(Yc.fromBase64String(t))}static fromUint8Array(t){return BP(),new Nf(Yc.fromUint8Array(t))}toBase64(){return VP(),this._delegate.toBase64()}toUint8Array(){return BP(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kb(n){return function ZH(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class eU{enableIndexedDbPersistence(t,e){return function sH(n,t){vP(n=ii(n,Ui));const e=So(n),i=n._freezeSettings(),o=new cb;return mP(e,o,new JO(o,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function aH(n){vP(n=ii(n,Ui));const t=So(n),e=n._freezeSettings(),i=new cb;return mP(t,i,new Hj(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function cH(n){if(n._initialized&&!n._terminated)throw new ft(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Yo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,le.A)(function*(){try{yield(e=(0,le.A)(function*(i){if(!tc.C())return Promise.resolve();const o=i+"main";yield tc.delete(o)}),function(i){return e.apply(this,arguments)})(tC(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class jP{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof O0||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function rP(n,t,e,i={}){var o;const l=(n=ii(n,Tf))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,p;if("string"==typeof i.mockUserToken)d=i.mockUserToken,p=sr.MOCK_USER;else{d=(0,pi.Fy)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ft(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new sr(v)}n._authCredentials=new tB(new OD(d,p))}}(this._delegate,t,e,i)}enableNetwork(){return function uH(n){return function Yj(n){return n.asyncQueue.enqueue((0,le.A)(function*(){const t=yield dP(n),e=yield mb(n);return t.setNetworkEnabled(!0),function(i){const o=Gt(i);return o._u.delete(0),Sf(o)}(e)}))}(So(n=ii(n,Ui)))}(this._delegate)}disableNetwork(){return function dH(n){return function Qj(n){return n.asyncQueue.enqueue((0,le.A)(function*(){const t=yield dP(n),e=yield mb(n);return t.setNetworkEnabled(!1),(i=(0,le.A)(function*(o){const l=Gt(o);l._u.add(0),yield Mh(l),l.gu.set("Offline")}),function(o){return i.apply(this,arguments)})(e);var i}))}(So(n=ii(n,Ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,ZO("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lH(n){return function(t){const e=new Yo;return t.asyncQueue.enqueueAndForget((0,le.A)(function*(){return function Dj(n,t){return KC.apply(this,arguments)}(yield vb(t),e)})),e.promise}(So(n=ii(n,Ui)))}(this._delegate)}onSnapshotsInSync(t){return function HH(n,t){return function eH(n,t){const e=new H7(t);return n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return i=yield Sh(n),o=e,Gt(i).Ru.add(o),void o.next();var i,o})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return i=yield Sh(n),o=e,void Gt(i).Ru.delete(o);var i,o}))}}(So(n=ii(n,Ui)),yb(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ft("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Th(this,sP(this._delegate,t))}catch(e){throw Zr(e,"collection()","Firestore.collection()")}}doc(t){try{return new _a(this,j7(this._delegate,t))}catch(e){throw Zr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new es(this,function Uj(n,t){if(n=ii(n,Tf),lb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ft(Qe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(n,null,(e=t,new Q1(ri.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Zr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function GH(n,t,e){n=ii(n,Ui);const i=Object.assign(Object.assign({},UH),e);return function(o){if(o.maxAttempts<1)throw new ft(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,l,d){const p=new Yo;return o.asyncQueue.enqueueAndForget((0,le.A)(function*(){const v=yield function hP(n){return U7(n).then(t=>t.datastore)}(o);new qj(o.asyncQueue,v,d,l,p).run()})),p.promise}(So(n),o=>t(new $H(n,o)),i)}(this._delegate,e=>t(new HP(this,e)))}batch(){return So(this._delegate),new UP(new zP(this._delegate,t=>Dh(this._delegate,t)))}loadBundle(t){return function hH(n,t){const e=So(n=ii(n,Ui)),i=new oH;return function tH(n,t,e,i){const o=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,M){if(v instanceof Uint8Array)return cP(v,M);if(v instanceof ArrayBuffer)return cP(new Uint8Array(v),M);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new $j(v,d);var v}(e,kf(t));n.asyncQueue.enqueueAndForget((0,le.A)(function*(){!function jj(n,t,e){const i=Gt(n);var o;(o=(0,le.A)(function*(l,d,p){try{const v=yield d.getMetadata();if(yield function(L,ee){const Se=Gt(L),$e=ar(ee.createTime);return Se.persistence.runTransaction("hasNewerBundle","readonly",Xe=>Se.Ns.getBundleMetadata(Xe,ee.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo($e)>=0)}(l.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=v).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(HO(v));const M=new _j(v,l.localStore,d.It);let b=yield d.mc();for(;b;){const L=yield M.Fu(b);L&&p._updateProgress(L),b=yield d.mc()}const T=yield M.complete();return yield el(l,T.Lu,void 0),yield function(L,ee){const Se=Gt(L);return Se.persistence.runTransaction("Save bundle","readwrite",$e=>Se.Ns.saveBundleMetadata($e,ee))}(l.localStore,v),p._completeWith(T.progress),Promise.resolve(T.Bu)}catch(v){return zu("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var L}),function(l,d,p){return o.apply(this,arguments)})(i,t,e).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield vb(n),o,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function fH(n,t){return function nH(n,t){return n.asyncQueue.enqueue((0,le.A)(function*(){return function(e,i){const o=Gt(e);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ns.getNamedQuery(l,i))}(yield $7(n),t)}))}(So(n=ii(n,Ui)),t).then(e=>e?new Pr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new es(this,e):null)}}class J7 extends Eb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nf(new Yc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return _a.forKey(e,this.firestore,null)}}class HP{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new J7(t)}get(t){const e=sd(t);return this._delegate.get(e).then(i=>new zf(this._firestore,new nl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const o=sd(t);return i?(Ab("Transaction.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const l=sd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...o),this}delete(t){const e=sd(t);return this._delegate.delete(e),this}}class UP{constructor(t){this._delegate=t}set(t,e,i){const o=sd(t);return i?(Ab("WriteBatch.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const l=sd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...o),this}delete(t){const e=sd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class rd{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Lf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ff(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=rd.INSTANCES;let o=i.get(t);o||(o=new WeakMap,i.set(t,o));let l=o.get(e);return l||(l=new rd(t,new J7(t),e),o.set(e,l)),l}}rd.INSTANCES=new WeakMap;class _a{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new J7(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ft("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new _a(e,new Hi(e._delegate,i,new Ht(t)))}static forKey(t,e,i){return new _a(e,new Hi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Th(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Th(this.firestore,sP(this._delegate,t))}catch(e){throw Zr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,pi.Ku)(t))instanceof Hi&&aP(this._delegate,t)}set(t,e){e=Ab("DocumentReference.set",e);try{return e?RP(this._delegate,t,e):RP(this._delegate,t)}catch(i){throw Zr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?LP(this._delegate,t):LP(this._delegate,t,e,...i)}catch(o){throw Zr(o,"updateDoc()","DocumentReference.update()")}}delete(){return function VH(n){return Dh(ii(n.firestore,Ui),[new ph(n._key,Qi.none())])}(this._delegate)}onSnapshot(...t){const e=$P(t),i=GP(t,o=>new zf(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return NP(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function LH(n){n=ii(n,Hi);const t=ii(n.firestore,Ui),e=So(t),i=new U0(t);return function Jj(n,t){const e=new Yo;return n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return(i=(0,le.A)(function*(o,l,d){try{const p=yield function(v,M){const b=Gt(v);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,M))}(o,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new ft(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Eh(p,`Failed to get document '${l} from cache`);d.reject(v)}}),function(o,l,d){return i.apply(this,arguments)})(yield $7(n),t,e);var i})),e.promise}(e,n._key).then(o=>new nl(t,i,n._key,o,new od(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function NH(n){n=ii(n,Hi);const t=ii(n.firestore,Ui);return fP(So(t),n._key,{source:"server"}).then(e=>Ib(t,n,e))}(this._delegate):function RH(n){n=ii(n,Hi);const t=ii(n.firestore,Ui);return fP(So(t),n._key).then(e=>Ib(t,n,e))}(this._delegate),e.then(i=>new zf(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new _a(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function Zr(n,t,e){return n.message=n.message.replace(t,e),n}function $P(n){for(const t of n)if("object"==typeof t&&!kb(t))return t;return{}}function GP(n,t){var e,i;let o;return o=kb(n[0])?n[0]:kb(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(t(l))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class zf{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return PP(this._delegate,t._delegate)}}class Ff extends zf{data(t){const e=this._delegate.data(t);return function ZF(n,t){n||sn()}(void 0!==e),e}}class es{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new J7(t)}where(t,e,i){try{return new es(this.firestore,j0(this._delegate,function CH(n,t,e){const i=t,o=Y7("where",n);return new MH(o,i,e)}(t,e,i)))}catch(o){throw Zr(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new es(this.firestore,j0(this._delegate,function EH(n,t="asc"){const e=t,i=Y7("orderBy",n);return new bH(i,e)}(t,e)))}catch(i){throw Zr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new es(this.firestore,j0(this._delegate,function IH(n){return nP("limit",n),new IP("limit",n,"F")}(t)))}catch(e){throw Zr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new es(this.firestore,j0(this._delegate,function AH(n){return nP("limitToLast",n),new IP("limitToLast",n,"L")}(t)))}catch(e){throw Zr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new es(this.firestore,j0(this._delegate,function kH(...n){return new AP("startAt",n,!0)}(...t)))}catch(e){throw Zr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new es(this.firestore,j0(this._delegate,function SH(...n){return new AP("startAfter",n,!1)}(...t)))}catch(e){throw Zr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new es(this.firestore,j0(this._delegate,function DH(...n){return new kP("endBefore",n,!1)}(...t)))}catch(e){throw Zr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new es(this.firestore,j0(this._delegate,function TH(...n){return new kP("endAt",n,!0)}(...t)))}catch(e){throw Zr(e,"endAt()","Query.endAt()")}}isEqual(t){return ub(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function FH(n){n=ii(n,Pr);const t=ii(n.firestore,Ui),e=So(t),i=new U0(t);return function Zj(n,t){const e=new Yo;return n.asyncQueue.enqueueAndForget((0,le.A)(function*(){return(i=(0,le.A)(function*(o,l,d){try{const p=yield R7(o,l,!0),v=new GO(l,p.Hi),M=v.Wu(p.documents),b=v.applyChanges(M,!1);d.resolve(b.snapshot)}catch(p){const v=Eh(p,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(o,l,d){return i.apply(this,arguments)})(yield $7(n),t,e);var i})),e.promise}(e,n._query).then(o=>new H0(t,i,n,o))}(this._delegate):"server"===t?.source?function BH(n){n=ii(n,Pr);const t=ii(n.firestore,Ui),e=So(t),i=new U0(t);return gP(e,n._query,{source:"server"}).then(o=>new H0(t,i,n,o))}(this._delegate):function zH(n){n=ii(n,Pr);const t=ii(n.firestore,Ui),e=So(t),i=new U0(t);return EP(n._query),gP(e,n._query).then(o=>new H0(t,i,n,o))}(this._delegate),e.then(i=>new Sb(this.firestore,new H0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=$P(t),i=GP(t,o=>new Sb(this.firestore,new H0(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return NP(this._delegate,e,i)}withConverter(t){return new es(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}class nU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sb{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ff(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new nU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ff(this._firestore,i))})}isEqual(t){return PP(this._delegate,t._delegate)}}class Th extends es{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new _a(this.firestore,t):null}doc(t){try{return new _a(this.firestore,void 0===t?j7(this._delegate):j7(this._delegate,t))}catch(e){throw Zr(e,"doc()","CollectionReference.doc()")}}add(t){return function jH(n,t){const e=ii(n.firestore,Ui),i=j7(n),o=Q7(n.converter,t);return Dh(e,[W7(nd(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,Qi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new _a(this.firestore,e))}isEqual(t){return aP(this._delegate,t._delegate)}withConverter(t){return new Th(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function sd(n){return ii(n,Hi)}class Db{constructor(...t){this._delegate=new tl(...t)}static documentId(){return new Db(go.keyField().canonicalString())}isEqual(t){return(t=(0,pi.Ku)(t))instanceof tl&&this._delegate._internalPath.isEqual(t._internalPath)}}class ad{constructor(t){this._delegate=t}static serverTimestamp(){const t=function WH(){return new _b("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ad(t)}static delete(){const t=function KH(){return new Of("deleteField")}();return t._methodName="FieldValue.delete",new ad(t)}static arrayUnion(...t){const e=function qH(...n){return new vH("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ad(e)}static arrayRemove(...t){const e=function XH(...n){return new wH("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ad(e)}static increment(t){const e=function YH(n){return new yH("increment",n)}(t);return e._methodName="FieldValue.increment",new ad(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const iU={Firestore:jP,GeoPoint:G7,Timestamp:Yi,Blob:Nf,Transaction:HP,WriteBatch:UP,DocumentReference:_a,DocumentSnapshot:zf,Query:es,QueryDocumentSnapshot:Ff,QuerySnapshot:Sb,CollectionReference:Th,FieldPath:Db,FieldValue:ad,setLogLevel:function tU(n){!function JF(n){k0.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function KP(n,t){return function sU(n,t=U5.E){return new to.c(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Tb(n,t){return KP(n,t).pipe((0,Ot.T)(e=>({payload:e,type:"query"})))}function Z7(n,t){return Tb(n,t).pipe(Ss(void 0),Nm(),(0,Ot.T)(([e,i])=>{const o=i.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,p)=>{const v=o.find(b=>b.doc.ref.isEqual(d.ref)),M=e?.payload.docs.find(b=>b.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&M&&JSON.stringify(M.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function WP(n,t,e){return Z7(n,e).pipe(Pa((i,o)=>function cU(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Ob(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Ob(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Ob(n,t.oldIndex,1)}return n}(n,i))}),n}(i,o.map(l=>l.payload),t),[]),(0,N4.F)(),(0,Ot.T)(i=>i.map(o=>({type:o.type,payload:o}))))}function Ob(n,t,e,...i){const o=n.slice();return o.splice(t,e,...i),o}function qP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function rU(n){(function oU(n,t){n.INTERNAL.registerComponent(new km.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return t(i,o)},"PUBLIC").setServiceProps(Object.assign({},iU)))})(n,(t,e)=>new jP(t,e,new eU)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(Xz.A);class XP{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Z7(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ot.T)(i=>i.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(Ss(void 0),Nm(),ki(([i,o])=>o.length>0||!i),(0,Ot.T)(([i,o])=>o),Ti.U0)}auditTrail(t){return this.stateChanges(t).pipe(Pa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=qP(t);return WP(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ti.U0)}valueChanges(t={}){return Tb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.T)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ti.U0)}get(t){return(0,hi.H)(this.query.get(t)).pipe(Ti.U0)}add(t){return this.ref.add(t)}doc(t){return new YP(this.ref.doc(t),this.afs)}}class YP{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:o,query:l}=ZP(i,e);return new XP(o,l,this.afs)}snapshotChanges(){return function aU(n,t){return KP(n,t).pipe(Ss(void 0),Nm(),(0,Ot.T)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ti.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ot.T)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,hi.H)(this.ref.get(t)).pipe(Ti.U0)}}class uU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Z7(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.T)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ki(e=>e.length>0),Ti.U0):Z7(this.query,this.afs.schedulers.outsideAngular).pipe(Ti.U0)}auditTrail(t){return this.stateChanges(t).pipe(Pa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=qP(t);return WP(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ti.U0)}valueChanges(t={}){return Tb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.T)(i=>i.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),Ti.U0)}get(t){return(0,hi.H)(this.query.get(t)).pipe(Ti.U0)}}const QP=new s.nKC("angularfire2.enableFirestorePersistence"),JP=new s.nKC("angularfire2.firestore.persistenceSettings"),dU=new s.nKC("angularfire2.firestore.settings"),hU=new s.nKC("angularfire2.firestore.use-emulator");function ZP(n,t=(e=>e)){return{query:t(n),ref:n}}let cd=(()=>{class n{constructor(e,i,o,l,d,p,v,M,b,T,L,ee,Se,$e,Xe,$t,Xt){this.schedulers=v;const Pt=(0,Ao.iB)(e,p,i),an=b;T&&pS(Pt,p,L,Se,$e,Xe,ee,$t),[this.firestore,this.persistenceEnabled$]=(0,Ao.BM)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const ln=p.runOutsideAngular(()=>Pt.firestore());if(l&&ln.settings(l),an&&ln.useEmulator(...an),o&&!Er(d)){const Dn=()=>{try{return(0,hi.H)(ln.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(vo){return typeof console<"u"&&console.warn(vo),(0,Dt.of)(!1)}};return[ln,p.runOutsideAngular(Dn)]}return[ln,(0,Dt.of)(!1)]},[l,an,o])}collection(e,i){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:d}=ZP(o,i),p=this.schedulers.ngZone.run(()=>l);return new XP(p,d,this)}collectionGroup(e,i){const o=i||(d=>d),l=this.firestore.collectionGroup(e);return new uU(o(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>i);return new YP(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Ao.rx),s.KVO(Ao.uP,8),s.KVO(QP,8),s.KVO(dU,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Ti.u0),s.KVO(JP,8),s.KVO(hU,8),s.KVO(Ou,8),s.KVO(lS,8),s.KVO(uS,8),s.KVO(dS,8),s.KVO(hS,8),s.KVO(fS,8),s.KVO(gS,8),s.KVO(Lm,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fU=(()=>{class n{constructor(){eh.A.registerVersion("angularfire",Ti.xv.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:QP,useValue:!0},{provide:JP,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[cd]}),n})();function Pb(n){return(0,Lo.N)((t,e)=>{let i,l,o=!1;const d=()=>{i=t.subscribe((0,no._)(e,void 0,void 0,p=>{l||(l=new Ai.B,(0,ks.Tg)(n(l)).subscribe((0,no._)(e,()=>i?d():o=!0))),l&&l.next(p)})),o&&(i.unsubscribe(),i=null,o=!1,d())};d()})}let ev=(()=>{class n{constructor(e,i){this.http=e,this.toastController=i,this.isOnline=new Di.t(navigator.onLine),this.connectionError=new Di.t(null),this.TEST_URL="https://api-football-v1.p.rapidapi.com/v3/timezone",this.MAX_RETRIES=3,this.RETRY_DELAY=2e3,this.retryCount=0,this.initializeConnectionListeners()}initializeConnectionListeners(){window.addEventListener("online",()=>this.updateOnlineStatus(!0)),window.addEventListener("offline",()=>this.updateOnlineStatus(!1)),O4(0,3e4).subscribe(()=>{navigator.onLine&&this.testConnection()})}updateOnlineStatus(e){var i=this;return(0,le.A)(function*(){i.isOnline.next(e),e?yield i.testConnection():(i.connectionError.next(-200),yield i.showConnectionToast("Sin conexi\xf3n a internet","warning"))})()}getOnlineStatus(){return this.isOnline.asObservable()}getConnectionError(){return this.connectionError.asObservable()}testConnection(){var e=this;return(0,le.A)(function*(){e.retryTimer&&clearTimeout(e.retryTimer);const i=navigator.onLine;return e.isOnline.next(i),e.connectionError.next(i?null:-200),i})()}handleConnectionError(e){var i=this;return(0,le.A)(function*(){i.connectionError.next(e),i.retryCount<i.MAX_RETRIES?(i.retryCount++,yield i.showConnectionToast("Error de conexi\xf3n. Intentando reconectar...","warning"),i.retryTimer=setTimeout(()=>{i.testConnection()},i.RETRY_DELAY*i.retryCount)):(yield i.showConnectionToast("No se pudo establecer conexi\xf3n. Por favor, verifica tu internet.","danger"),i.retryCount=0)})()}showConnectionToast(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"top",color:i,buttons:[{text:"Reintentar",handler:()=>{o.retryCount=0,o.testConnection()}}]})).present()})()}clearConnectionError(){this.connectionError.next(null),this.retryCount=0,this.retryTimer&&clearTimeout(this.retryTimer)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ql),s.KVO(Kr))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rb=(()=>{class n{constructor(e,i,o,l){this.router=e,this.ngZone=i,this.toastController=o,this.connectionService=l,this.SESSION_TIMEOUT=18e5,this.LAST_ACTIVITY_KEY="lastActivityTimestamp",this.SESSION_ID_KEY="sessionId",this.MAX_RETRY_ATTEMPTS=3,this.RETRY_DELAY=2e3,this.events=["click","mousemove","keypress","scroll","touchstart"],this.sessionActive=new Di.t(!0),this.retryCount=0,this.initializeSessionMonitoring()}initializeSessionMonitoring(){O4(0,6e4).subscribe(()=>this.validateSession()),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.validateSession()}),window.addEventListener("storage",e=>{e.key===this.SESSION_ID_KEY&&this.validateSession()}),this.connectionService.getConnectionError().subscribe(e=>{-200===e&&this.handleConnectionError()})}initializeSession(){try{const e=this.generateSessionId();localStorage.setItem(this.SESSION_ID_KEY,e),this.updateLastActivity(),this.initializeSessionTimeout(),this.sessionActive.next(!0),this.retryCount=0}catch(e){console.error("Error initializing session:",e),this.handleSessionError(e)}}initializeSessionTimeout(){this.events.forEach(e=>{window.addEventListener(e,()=>this.resetTimer())}),this.resetTimer()}resetTimer(){var e=this;try{this.updateLastActivity(),this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.ngZone.run((0,le.A)(function*(){yield e.handleSessionTimeout()}))},this.SESSION_TIMEOUT)}catch(i){console.error("Error resetting timer:",i),this.handleSessionError(i)}}updateLastActivity(){try{localStorage.setItem(this.LAST_ACTIVITY_KEY,Date.now().toString())}catch(e){console.error("Error updating last activity:",e),this.handleSessionError(e)}}validateSession(){var e=this;return(0,le.A)(function*(){try{const i=localStorage.getItem(e.SESSION_ID_KEY),o=parseInt(localStorage.getItem(e.LAST_ACTIVITY_KEY)||"0",10),l=Date.now()-o;(!i||l>=e.SESSION_TIMEOUT)&&(yield e.handleSessionTimeout())}catch(i){console.error("Error validating session:",i),e.handleSessionError(i)}})()}handleSessionTimeout(){var e=this;return(0,le.A)(function*(){if(e.sessionActive.value)try{e.sessionActive.next(!1),e.clearSession(),yield(yield e.toastController.create({message:"Tu sesi\xf3n ha expirado. Por favor, inicia sesi\xf3n nuevamente.",duration:3e3,position:"top",color:"warning"})).present(),e.router.navigate(["/login"])}catch(i){console.error("Error handling session timeout:",i),e.handleSessionError(i)}})()}handleConnectionError(){var e=this;return(0,le.A)(function*(){e.retryCount<e.MAX_RETRY_ATTEMPTS&&(e.retryCount++,(0,hi.H)(e.connectionService.testConnection()).pipe(Pb(i=>i.pipe(hu(e.RETRY_DELAY),Ci(e.MAX_RETRY_ATTEMPTS))),qi((0,le.A)(function*(){return yield(yield e.toastController.create({message:"Error de conexi\xf3n. Por favor, verifica tu conexi\xf3n a internet.",duration:3e3,position:"top",color:"danger"})).present(),!1}))).subscribe())})()}handleSessionError(e){this.retryCount<this.MAX_RETRY_ATTEMPTS?(this.retryCount++,setTimeout(()=>this.initializeSession(),this.RETRY_DELAY)):(this.clearSession(),this.router.navigate(["/login"]))}clearSession(){try{this.timeoutId&&clearTimeout(this.timeoutId),this.events.forEach(e=>{window.removeEventListener(e,()=>this.resetTimer())}),localStorage.removeItem(this.SESSION_ID_KEY),localStorage.removeItem(this.LAST_ACTIVITY_KEY),this.sessionActive.next(!1),this.clearLocalData()}catch(e){console.error("Error clearing session:",e)}}clearLocalData(){try{const e=localStorage.getItem("darkMode");localStorage.clear(),e&&localStorage.setItem("darkMode",e),sessionStorage.clear(),"caches"in window&&caches.keys().then(i=>{i.forEach(o=>{caches.delete(o)})})}catch(e){console.error("Error clearing local data:",e)}}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substring(2)}`}isSessionActive(){return this.sessionActive.value}getSessionStatus(){return this.sessionActive.asObservable()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(gi),s.KVO(s.SKi),s.KVO(Kr),s.KVO(ev))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xs=(()=>{class n{constructor(e,i,o){this.afAuth=e,this.afs=i,this.sessionService=o,this.user$=this.afAuth.authState.pipe((0,Hn.n)(l=>l?this.afs.doc(`users/${l.uid}`).valueChanges().pipe((0,Vi.M)(d=>{d||(console.log("User not found in Firestore, creating new user document"),this.updateUserData(l))}),(0,Ot.T)(d=>d?{...d,uid:l.uid,email:l.email||d.email}:{uid:l.uid,email:l.email||"",isAdmin:!1}),qi(d=>(console.error("Error fetching user data:",d),(0,Dt.of)({uid:l.uid,email:l.email||"",isAdmin:!1})))):(0,Dt.of)(null)),qi(l=>(console.error("Error in auth state:",l),(0,Dt.of)(null))))}signInWithEmail(e,i){var o=this;return(0,le.A)(function*(){try{const l=yield o.afAuth.signInWithEmailAndPassword(e,i);l.user&&(yield o.updateAuthData(l.user))}catch(l){throw console.error("Error signing in:",l),l}})()}signUpWithEmail(e,i,o,l,d){var p=this;return(0,le.A)(function*(){try{const v=yield p.afAuth.createUserWithEmailAndPassword(e,i);yield p.updateUserData(v.user,{firstName:o,lastName:l,username:d,isAdmin:!1})}catch(v){throw console.error("Error signing up:",v),v}})()}resetPassword(e){var i=this;return(0,le.A)(function*(){try{yield i.afAuth.sendPasswordResetEmail(e)}catch(o){throw console.error("Error sending password reset email:",o),o}})()}logout(){var e=this;return(0,le.A)(function*(){try{e.sessionService.clearSession(),yield e.afAuth.signOut()}catch(i){throw console.error("Error signing out:",i),i}})()}updateAuthData(e){var i=this;return(0,le.A)(function*(){if(!e)return;const o=i.afs.doc(`users/${e.uid}`);try{const d=(yield o.get().toPromise())?.data(),p={uid:e.uid,email:e.email||"",firstName:d?.firstName,lastName:d?.lastName,username:d?.username,isAdmin:d?.isAdmin??!1};yield o.set(p,{merge:!0})}catch(l){throw console.error("Error updating auth data:",l),l}})()}updateUserData(e,i){var o=this;return(0,le.A)(function*(){if(!e)return;const l=o.afs.doc(`users/${e.uid}`);try{const p=(yield l.get().toPromise())?.data(),v={uid:e.uid,email:e.email||p?.email||"",firstName:i?.firstName||p?.firstName,lastName:i?.lastName||p?.lastName,username:i?.username||p?.username,isAdmin:p?.isAdmin??!1};yield l.set(v,{merge:!0}),console.log("User data updated in Firestore")}catch(d){throw console.error("Error updating user data:",d),d}})()}getRedirectResult(){return this.afAuth.getRedirectResult().then(e=>e.user?{uid:e.user.uid,email:e.user.email||"",isAdmin:!1}:null).catch(e=>(console.error("Error getting redirect result:",e),null))}isAdmin(e){return!0===e?.isAdmin}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ou),s.KVO(cd),s.KVO(Rb))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const pU=new s.nKC("angularfire2.functions.origin"),mU=new s.nKC("angularfire2.functions.region"),vU=new s.nKC("angularfire2.functions.use-emulator");let Lb=(()=>{class n{constructor(e,i,o,l,d,p,v,M){const b=v,T=(0,Dt.of)(void 0).pipe((0,Du.Q)(l.outsideAngular),(0,Hn.n)(()=>A.e(7340).then(A.bind(A,7340))),(0,Ot.T)(()=>(0,Ao.iB)(e,o,i)),(0,Ot.T)(L=>(0,Ao.BM)(`${L.name}.functions.${d||p}`,"AngularFireFunctions",L.name,()=>{let ee;if(d&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return ee=L.functions(d||p||void 0),b&&ee.useEmulator(...b),ee},[d,p,b])),Am({bufferSize:1,refCount:!1}));return this.httpsCallable=(L,ee)=>Se=>(0,hi.H)(T).pipe((0,Du.Q)(l.insideAngular),(0,Hn.n)($e=>$e.httpsCallable(L,ee)(Se)),(0,Ot.T)($e=>$e.data)),(0,Ao.Gt)(this,T,o)}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Ao.rx),s.KVO(Ao.uP,8),s.KVO(s.SKi),s.KVO(Ti.u0),s.KVO(mU,8),s.KVO(pU,8),s.KVO(vU,8),s.KVO(Lm,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wU=(()=>{class n{constructor(){eh.A.registerVersion("angularfire",Ti.xv.full,"fn-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[Lb]}),n})(),eR=(()=>{class n{constructor(e){this.platform=e,this.platformInfo=new Di.t({isMobile:!1,isTablet:!1,isDesktop:!1,currentBreakpoint:"md"}),this.detectPlatform(),this.setupResizeListener()}detectPlatform(){const e=window.innerWidth,i={isMobile:this.platform.is("mobile")||e<768,isTablet:this.platform.is("tablet")||e>=768&&e<1024,isDesktop:this.platform.is("desktop")||e>=1024,currentBreakpoint:this.getCurrentBreakpoint(e)};this.platformInfo.next(i)}getCurrentBreakpoint(e){return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":"xl"}setupResizeListener(){window.addEventListener("resize",()=>{this.detectPlatform()})}getPlatformInfo(){return this.platformInfo.asObservable()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(vu))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yU=A(5083),Nb=function(n){return n.SizeChanged="bannerAdSizeChanged",n.Loaded="bannerAdLoaded",n.FailedToLoad="bannerAdFailedToLoad",n.Opened="bannerAdOpened",n.Closed="bannerAdClosed",n.AdImpression="bannerAdImpression",n}(Nb||{}),tR=function(n){return n.TOP_CENTER="TOP_CENTER",n.CENTER="CENTER",n.BOTTOM_CENTER="BOTTOM_CENTER",n}(tR||{}),nR=function(n){return n.BANNER="BANNER",n.FULL_BANNER="FULL_BANNER",n.LARGE_BANNER="LARGE_BANNER",n.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",n.LEADERBOARD="LEADERBOARD",n.ADAPTIVE_BANNER="ADAPTIVE_BANNER",n.SMART_BANNER="SMART_BANNER",n}(nR||{});A(2844);const G0=(0,yU.F3)("AdMob",{web:()=>A.e(6077).then(A.bind(A,6077)).then(n=>new n.AdMobWeb)});let zb=(()=>{class n{constructor(e){this.platform=e,this.bannerAdId="ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY",this.interstitialAdId="ca-app-pub-XXXXXXXXXXXXXXXX/ZZZZZZZZZZ",this.isInitialized=!1,this.setupAds()}setupAds(){var e=this;return(0,le.A)(function*(){if(!e.isInitialized)try{yield G0.initialize({testingDevices:["2077ef9a63d2b398840261c8221a0c9b"],initializeForTesting:!1}),G0.addListener(Nb.Loaded,()=>{console.log("Banner ad loaded")}),G0.addListener(Nb.FailedToLoad,i=>{console.error("Banner ad failed to load:",i)}),e.isInitialized=!0}catch(i){console.error("Error initializing AdMob:",i)}})()}showBanner(){var e=this;return(0,le.A)(function*(){e.isInitialized||(yield e.setupAds());const i={adId:e.bannerAdId,adSize:nR.ADAPTIVE_BANNER,position:tR.BOTTOM_CENTER,margin:0,isTesting:!1};try{yield G0.showBanner(i)}catch(o){console.error("Error showing banner ad:",o)}})()}hideBanner(){return(0,le.A)(function*(){try{yield G0.removeBanner()}catch(e){console.error("Error hiding banner ad:",e)}})()}showInterstitial(){var e=this;return(0,le.A)(function*(){e.isInitialized||(yield e.setupAds());try{yield G0.prepareInterstitial({adId:e.interstitialAdId,isTesting:!1}),yield G0.showInterstitial()}catch(i){console.error("Error showing interstitial ad:",i)}})()}resumeBanner(){return(0,le.A)(function*(){try{yield G0.resumeBanner()}catch(e){console.error("Error resuming banner ad:",e)}})()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(vu))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const iR=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=63&o|128):55296==(64512&o)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++i)),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=63&o|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=63&o|128)}return t},oR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,p=d?n[o+1]:0,v=o+2<n.length,M=v?n[o+2]:0;let L=(15&p)<<2|M>>6,ee=63&M;v||(ee=64,d||(L=64)),i.push(e[l>>2],e[(3&l)<<4|p>>4],e[L],e[ee])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(iR(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const o=n[e++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[e++];t[i++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){const v=((7&o)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(v>>10)),t[i++]=String.fromCharCode(56320+(1023&v))}else{const l=n[e++],d=n[e++];t[i++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=e[n.charAt(o++)],p=o<n.length?e[n.charAt(o)]:0;++o;const M=o<n.length?e[n.charAt(o)]:64;++o;const T=o<n.length?e[n.charAt(o)]:64;if(++o,null==l||null==p||null==M||null==T)throw new AU;i.push(l<<2|p>>4),64!==M&&(i.push(p<<4&240|M>>2),64!==T&&i.push(M<<6&192|T))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tv=function(n){return function(n){const t=iR(n);return oR.encodeByteArray(t,!0)}(n).replace(/\./g,"")};function Bf(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!SU(e)||(n[e]=Bf(n[e],t[e]));return n}function SU(n){return"__proto__"!==n}function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nv=()=>{try{return rR().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&function(n){try{return oR.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},sR=()=>{var n;return null===(n=nv())||void 0===n?void 0:n.config};class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function cR(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}class Oh extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Oh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ov.prototype.create)}}class ov{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],d=l?function BU(n,t){return n.replace(VU,(e,i)=>{const o=t[i];return null!=o?String(o):`<${i}?>`})}(l,i):"Error";return new Oh(o,`${this.serviceName}: ${d} (${o}).`,i)}}const VU=/\{\$([^}]+)}/g;function uR(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function Vb(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const o of e){if(!i.includes(o))return!1;const l=n[o],d=t[o];if(dR(l)&&dR(d)){if(!Vb(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!e.includes(o))return!1;return!0}function dR(n){return null!==n&&"object"==typeof n}function jU(n,t){const e=new HU(n,t);return e.subscribe.bind(e)}class HU{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let o;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");o=function UU(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===o.next&&(o.next=jb),void 0===o.error&&(o.error=jb),void 0===o.complete&&(o.complete=jb);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jb(){}class Vf{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ld="[DEFAULT]";class XU{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new aR;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),o=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function QU(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ld})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(t=ld){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,le.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=ld){return this.instances.has(t)}getOptions(t=ld){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,d]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(l)&&d.resolve(o);return o}onInit(t,e){var i;const o=this.normalizeInstanceIdentifier(e),l=null!==(i=this.onInitCallbacks.get(o))&&void 0!==i?i:new Set;l.add(t),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&t(d,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const o of i)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YU(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ld){return this.component?this.component.multipleInstances?t:ld:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function YU(n){return n===ld?void 0:n}class hR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new XU(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Ub=[];var $i=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($i||{});const fR={debug:$i.DEBUG,verbose:$i.VERBOSE,info:$i.INFO,warn:$i.WARN,error:$i.ERROR,silent:$i.SILENT},JU=$i.INFO,ZU={[$i.DEBUG]:"log",[$i.VERBOSE]:"log",[$i.INFO]:"info",[$i.WARN]:"warn",[$i.ERROR]:"error"},e$=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),o=ZU[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${i}]  ${n.name}:`,...e)};class gR{constructor(t){this.name=t,this._logLevel=JU,this._logHandler=e$,this._userLogHandler=null,Ub.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?fR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$i.DEBUG,...t),this._logHandler(this,$i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$i.VERBOSE,...t),this._logHandler(this,$i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$i.INFO,...t),this._logHandler(this,$i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$i.WARN,...t),this._logHandler(this,$i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$i.ERROR,...t),this._logHandler(this,$i.ERROR,...t)}}const i$=(n,t)=>t.some(e=>n instanceof e);let pR,mR;const vR=new WeakMap,$b=new WeakMap,wR=new WeakMap,Gb=new WeakMap,Kb=new WeakMap;let Wb={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return $b.get(n);if("objectStoreNames"===t)return n.objectStoreNames||wR.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return K0(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function u$(n){return"function"==typeof n?function l$(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function r$(){return mR||(mR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(qb(this),t),K0(vR.get(this))}:function(...t){return K0(n.apply(qb(this),t))}:function(t,...e){const i=n.call(qb(this),t,...e);return wR.set(i,t.sort?t.sort():[t]),K0(i)}}(n):(n instanceof IDBTransaction&&function a$(n){if($b.has(n))return;const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{e(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});$b.set(n,t)}(n),i$(n,function o$(){return pR||(pR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Wb):n)}function K0(n){if(n instanceof IDBRequest)return function s$(n){const t=new Promise((e,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{e(K0(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&vR.set(e,n)}).catch(()=>{}),Kb.set(t,n),t}(n);if(Gb.has(n))return Gb.get(n);const t=u$(n);return t!==n&&(Gb.set(n,t),Kb.set(t,n)),t}const qb=n=>Kb.get(n),h$=["get","getKey","getAll","getAllKeys","count"],f$=["put","add","delete","clear"],Xb=new Map;function yR(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(Xb.get(t))return Xb.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,o=f$.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!h$.includes(e))return;const l=function(){var d=(0,le.A)(function*(p,...v){const M=this.transaction(p,o?"readwrite":"readonly");let b=M.store;return i&&(b=b.index(v.shift())),(yield Promise.all([b[e](...v),o&&M.done]))[0]});return function(v){return d.apply(this,arguments)}}();return Xb.set(t,l),l}!function c$(n){Wb=n(Wb)}(n=>({...n,get:(t,e,i)=>yR(t,e)||n.get(t,e,i),has:(t,e)=>!!yR(t,e)||n.has(t,e)}));class g${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function p$(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const sv="@firebase/app",Yb="0.10.15",il=new gR("@firebase/app"),W0="[DEFAULT]",U$={[sv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},q0=new Map,Ph=new Map,Rh=new Map;function jf(n,t){try{n.container.addComponent(t)}catch(e){il.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _R(n,t){n.container.addOrOverwriteComponent(t)}function Hf(n){const t=n.name;if(Rh.has(t))return il.debug(`There were multiple attempts to register component ${t}.`),!1;Rh.set(t,n);for(const e of q0.values())jf(e,n);for(const e of Ph.values())jf(e,n);return!0}function xR(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function $$(n,t,e=W0){xR(n,t).clearInstance(e)}function MR(n){return void 0!==n.options}function G$(n){return void 0!==n.settings}function K$(){Rh.clear()}const xa=new ov("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class CR{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}class q$ extends CR{constructor(t,e,i,o){const l=void 0!==e.automaticDataCollectionEnabled&&e.automaticDataCollectionEnabled,d={name:i,automaticDataCollectionEnabled:l};super(void 0!==t.apiKey?t:t.options,d,o),this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},e),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,e.releaseOnDeref=void 0,ud(sv,Yb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,void 0!==t&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Jb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xa.create("server-app-deleted")}}const bR="11.0.1";function Qb(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:W0,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!=typeof o||!o)throw xa.create("bad-app-name",{appName:String(o)});if(e||(e=sR()),!e)throw xa.create("no-options");const l=q0.get(o);if(l){if(Vb(e,l.options)&&Vb(i,l.config))return l;throw xa.create("duplicate-app",{appName:o})}const d=new hR(o);for(const v of Rh.values())d.addComponent(v);const p=new CR(e,i,d);return q0.set(o,p),p}function X$(n,t){if(function LU(){return typeof window<"u"||cR()}()&&!cR())throw xa.create("invalid-server-app-environment");let e;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),e=MR(n)?n.options:n;const i=Object.assign(Object.assign({},t),e);if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==t.releaseOnDeref&&typeof FinalizationRegistry>"u")throw xa.create("finalization-registry-not-supported",{});const l=""+(M=JSON.stringify(i),[...M].reduce((b,T)=>Math.imul(31,b)+T.charCodeAt(0)|0,0)),d=Ph.get(l);var M;if(d)return d.incRefCount(t.releaseOnDeref),d;const p=new hR(l);for(const M of Rh.values())p.addComponent(M);const v=new q$(e,t,l,p);return Ph.set(l,v),v}function Y$(n=W0){const t=q0.get(n);if(!t&&n===W0&&sR())return Qb();if(!t)throw xa.create("no-app",{appName:n});return t}function Q$(){return Array.from(q0.values())}function Jb(n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,le.A)(function*(n){let t=!1;const e=n.name;q0.has(e)?(t=!0,q0.delete(e)):Ph.has(e)&&n.decRefCount()<=0&&(Ph.delete(e),t=!0),t&&(yield Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}),Zb.apply(this,arguments)}function ud(n,t,e){var i;let o=null!==(i=U$[n])&&void 0!==i?i:n;e&&(o+=`-${e}`);const l=o.match(/\s|\//),d=t.match(/\s|\//);if(l||d){const p=[`Unable to register library "${o}" with version "${t}":`];return l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void il.warn(p.join(" "))}Hf(new Vf(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}function ER(n,t){if(null!==n&&"function"!=typeof n)throw xa.create("invalid-log-argument");!function n$(n,t){for(const e of Ub){let i=null;t&&t.level&&(i=fR[t.level]),e.userLogHandler=null===n?null:(o,l,...d)=>{const p=d.map(v=>{if(null==v)return null;if("string"==typeof v)return v;if("number"==typeof v||"boolean"==typeof v)return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(v=>v).join(" ");l>=(i??o.logLevel)&&n({level:$i[l].toLowerCase(),message:p,args:d,type:o.name})}}}(n,t)}function IR(n){!function t$(n){Ub.forEach(t=>{t.setLogLevel(n)})}(n)}const J$="firebase-heartbeat-database",Z$=1,Uf="firebase-heartbeat-store";let eE=null;function AR(){return eE||(eE=function d$(n,t,{blocked:e,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,t),p=K0(d);return i&&d.addEventListener("upgradeneeded",v=>{i(K0(d.result),v.oldVersion,v.newVersion,K0(d.transaction),v)}),e&&d.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),p.then(v=>{l&&v.addEventListener("close",()=>l()),o&&v.addEventListener("versionchange",M=>o(M.oldVersion,M.newVersion,M))}).catch(()=>{}),p}(J$,Z$,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Uf)}catch(e){console.warn(e)}}}).catch(n=>{throw xa.create("idb-open",{originalErrorMessage:n.message})})),eE}function tE(){return tE=(0,le.A)(function*(n){try{const e=(yield AR()).transaction(Uf),i=yield e.objectStore(Uf).get(SR(n));return yield e.done,i}catch(t){if(t instanceof Oh)il.warn(t.message);else{const e=xa.create("idb-get",{originalErrorMessage:t?.message});il.warn(e.message)}}}),tE.apply(this,arguments)}function kR(n,t){return nE.apply(this,arguments)}function nE(){return nE=(0,le.A)(function*(n,t){try{const i=(yield AR()).transaction(Uf,"readwrite");yield i.objectStore(Uf).put(t,SR(n)),yield i.done}catch(e){if(e instanceof Oh)il.warn(e.message);else{const i=xa.create("idb-set",{originalErrorMessage:e?.message});il.warn(i.message)}}}),nE.apply(this,arguments)}function SR(n){return`${n.name}!${n.options.appId}`}class iG{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rG(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,le.A)(function*(){var e,i;try{const l=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=DR();return null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||t._heartbeatsCache.lastSentHeartbeatDate===d||t._heartbeatsCache.heartbeats.some(p=>p.date===d)?void 0:(t._heartbeatsCache.heartbeats.push({date:d,agent:l}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(p=>{const v=new Date(p.date).valueOf();return Date.now()-v<=2592e6}),t._storage.overwrite(t._heartbeatsCache))}catch(o){il.warn(o)}})()}getHeartbeatsHeader(){var t=this;return(0,le.A)(function*(){var e;try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=DR(),{heartbeatsToSend:o,unsentEntries:l}=function oG(n,t=1024){const e=[];let i=n.slice();for(const o of n){const l=e.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),TR(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),TR(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),d=tv(JSON.stringify({version:2,heartbeats:o}));return t._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(t._heartbeatsCache.heartbeats=l,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d}catch(i){return il.warn(i),""}})()}}function DR(){return(new Date).toISOString().substring(0,10)}class rG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,le.A)(function*(){return!!function NU(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function zU(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t((null===(l=o.error)||void 0===l?void 0:l.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,le.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function eG(n){return tE.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,le.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const l=yield e.read();return kR(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,le.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const l=yield e.read();return kR(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}})()}}function TR(n){return tv(JSON.stringify({version:2,heartbeats:n})).length}!function sG(n){Hf(new Vf("platform-logger",t=>new g$(t),"PRIVATE")),Hf(new Vf("heartbeat",t=>new iG(t),"PRIVATE")),ud(sv,Yb,n),ud(sv,Yb,"esm2017"),ud("fire-js","")}("");class aG{constructor(t,e){this._delegate=t,this.firebase=e,jf(t,new Vf("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Jb(this._delegate)))}_getService(t,e=W0){var i;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(t);return!o.isInitialized()&&"EXPLICIT"===(null===(i=o.getComponent())||void 0===i?void 0:i.instantiationMode)&&o.initialize(),o.getImmediate({identifier:e})}_removeServiceInstance(t,e=W0){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){jf(this._delegate,t)}_addOrOverwriteComponent(t){_R(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const OR=new ov("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),uG=function PR(){const n=function lG(n){const t={},e={__esModule:!0,initializeApp:function l(M,b={}){const T=Qb(M,b);if(uR(t,T.name))return t[T.name];const L=new n(T,e);return t[T.name]=L,L},app:o,registerVersion:ud,setLogLevel:IR,onLog:ER,apps:null,SDK_VERSION:bR,INTERNAL:{registerComponent:function p(M){const b=M.name,T=b.replace("-compat","");if(Hf(M)&&"PUBLIC"===M.type){const L=(ee=o())=>{if("function"!=typeof ee[T])throw OR.create("invalid-app-argument",{appName:b});return ee[T]()};void 0!==M.serviceProps&&Bf(L,M.serviceProps),e[T]=L,n.prototype[T]=function(...ee){return this._getService.bind(this,b).apply(this,M.multipleInstances?ee:[])}}return"PUBLIC"===M.type?e[T]:null},removeApp:function i(M){delete t[M]},useAsService:function v(M,b){return"serverAuth"===b?null:b},modularAPIs:E}};function o(M){if(!uR(t,M=M||W0))throw OR.create("no-app",{appName:M});return t[M]}return e.default=e,Object.defineProperty(e,"apps",{get:function d(){return Object.keys(t).map(M=>t[M])}}),o.App=n,e}(aG);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:PR,extendNamespace:function t(e){Bf(n,e)},createSubscribe:jU,ErrorFactory:ov,deepExtend:Bf}),n}(),RR=new gR("@firebase/app-compat");try{const n=rR();if(void 0!==n.firebase){RR.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=n.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&RR.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Do=uG;!function fG(n){ud("@firebase/app-compat","0.2.45",n)}(),Do.registerVersion("firebase","11.0.1","app-compat");let ol=(()=>{class n{constructor(e){this.http=e,this.API_HOST="v3.football.api-sports.io",this.API_URL=`https://${this.API_HOST}`,this.API_KEY="c141edc534ff1faa37eb2b951c0642d1",this.LIGA_MX_ID="262",this.CURRENT_SEASON="2024",this.TIMEZONE="America/Mexico_City",this.CACHE_DURATION=3e5,this.MAX_RETRIES=3,this.RETRY_DELAY=2e3,this.matchesCache=new Map,this.standingsCache=new Map,this.currentRoundSubject=new Di.t(1),this.currentRoundPromise=null,this.initializeCurrentRound()}initializeCurrentRound(){var e=this;return(0,le.A)(function*(){try{const i=yield e.fetchCurrentRound();e.currentRoundSubject.next(i)}catch(i){console.error("Error initializing current round:",i)}})()}getCurrentRound(){var e=this;return(0,le.A)(function*(){if(1===e.currentRoundSubject.value){e.currentRoundPromise||(e.currentRoundPromise=e.fetchCurrentRound());const i=yield e.currentRoundPromise;e.currentRoundSubject.next(i),e.currentRoundPromise=null}return e.currentRoundSubject.value})()}getStandings(){const e=`${this.LIGA_MX_ID}-${this.CURRENT_SEASON}`,i=this.standingsCache.get(e);if(i)return(0,Dt.of)(i);const o=new pr({"x-apisports-key":this.API_KEY}),l=(new nr).set("league",this.LIGA_MX_ID).set("season",this.CURRENT_SEASON);return this.http.get(`${this.API_URL}/standings`,{headers:o,params:l}).pipe((0,Ot.T)(d=>{if(!d?.response?.[0]?.league?.standings?.[0])return[];const p=d.response[0].league.standings[0];return this.standingsCache.set(e,p),p}),qi(d=>(console.error("Error fetching standings:",d),(0,Dt.of)([]))))}fetchCurrentRound(){var e=this;return(0,le.A)(function*(){const i=new pr({"x-apisports-key":e.API_KEY}),o=(new nr).set("league",e.LIGA_MX_ID).set("season",e.CURRENT_SEASON).set("current","true");try{const l=yield io(e.http.get(`${e.API_URL}/fixtures/rounds`,{headers:i,params:o}));return l&&Array.isArray(l.response)&&l.response.length>0?e.extractWeekNumber(l.response[l.response.length-1]):(console.warn("Invalid response from rounds API, defaulting to round 1"),1)}catch(l){return console.error("Error fetching current round:",l),1}})()}getRoundString(e){return`Apertura - ${e}`}extractWeekNumber(e){const i=e.match(/\d+$/);return i?parseInt(i[0],10):1}getCachedMatches(e){const i=this.matchesCache.get(e);return i?Date.now()-i.timestamp>this.CACHE_DURATION?(this.matchesCache.delete(e),null):i.matches:null}setCachedMatches(e,i){this.matchesCache.set(e,{timestamp:Date.now(),matches:i})}getMatches(e){const i=this.getCachedMatches(e);if(i)return(0,Dt.of)(i);const o=new pr({"x-apisports-key":this.API_KEY}),l=(new nr).set("league",this.LIGA_MX_ID).set("season",this.CURRENT_SEASON).set("round",this.getRoundString(e)).set("timezone",this.TIMEZONE);return _9([this.http.get(`${this.API_URL}/fixtures`,{headers:o,params:l}),this.getStandings()]).pipe((0,Ot.T)(([d,p])=>{if(!d?.response)return console.warn("Empty or invalid API response"),[];const v=d.response.map(M=>{const b=p.find(L=>L.team.id===M.teams.home.id),T=p.find(L=>L.team.id===M.teams.away.id);return{id:M.fixture.id,date:M.fixture.date,homeTeam:M.teams.home.name,awayTeam:M.teams.away.name,homeTeamLogo:M.teams.home.logo,awayTeamLogo:M.teams.away.logo,homeScore:M.goals.home,awayScore:M.goals.away,status:M.fixture.status,venue:M.fixture.venue,round:M.league.round,weekNumber:this.extractWeekNumber(M.league.round),homeTeamPosition:b?.rank,awayTeamPosition:T?.rank,homeTeamForm:b?.form,awayTeamForm:T?.form}});return this.setCachedMatches(e,v),v}),qi(d=>(d instanceof Hg?(console.error("API request failed:",d.message),0===d.status&&console.error("Network error - check internet connection")):console.error("Unexpected error:",d),(0,Dt.of)([]))),Pb(d=>d.pipe(hu(this.RETRY_DELAY),Ci(this.MAX_RETRIES))))}getOrdinalSuffix(e){return 1===e?"er":2===e?"do":3===e?"er":"to"}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ql))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rl=(()=>{class n{constructor(e,i){this.afs=e,this.footballService=i}getPredictions(e,i){return this.afs.doc(`predictions/${e}/weeks/${i}`).valueChanges().pipe((0,Ot.T)(o=>o?.predictions||[]),qi(o=>(console.error("Error getting predictions:",o),(0,Dt.of)([]))))}savePredictions(e,i,o,l){var d=this;return(0,le.A)(function*(){yield d.afs.doc(`predictions/${e}/weeks/${i}`).set({predictions:o,totalPoints:l,lastUpdated:Do.firestore.Timestamp.now()},{merge:!0}),yield d.updateUserTotalPoints(e)})()}updateUserTotalPoints(e){var i=this;return(0,le.A)(function*(){try{const o=yield i.afs.collection(`predictions/${e}/weeks`).get().toPromise();let l=0;if(o){const d=yield i.footballService.getCurrentRound();for(const p of o.docs){const v=p.data(),M=parseInt(p.id);if(M<=d){const b=yield io(i.footballService.getMatches(M));let T=0;v.predictions.forEach(L=>{const ee=b.find(Se=>Se.id===L.matchId);if(ee&&null!==L.homeScore&&null!==L.awayScore&&null!==ee.homeScore&&null!==ee.awayScore){const Se=Math.sign(L.homeScore-L.awayScore),$e=Math.sign(ee.homeScore-ee.awayScore);("FT"===ee.status.short||"LIVE"===ee.status.short||"HT"===ee.status.short||"1H"===ee.status.short||"2H"===ee.status.short)&&(L.homeScore===ee.homeScore&&L.awayScore===ee.awayScore?T+=3:Se===$e&&(T+=1))}}),l+=T}}}yield i.afs.doc(`userPoints/${e}`).set({totalPoints:l,lastUpdated:Do.firestore.Timestamp.now()},{merge:!0})}catch(o){throw console.error("Error updating total points:",o),o}})()}getAllUsers(){return this.afs.collection("users").valueChanges({idField:"uid"}).pipe(qi(e=>(console.error("Error getting users:",e),(0,Dt.of)([]))))}getAllUsersTotalPoints(){return this.afs.collection("userPoints").valueChanges({idField:"userId"}).pipe((0,Ot.T)(e=>e.map(i=>({userId:i.userId,totalPoints:i.totalPoints||0}))),qi(e=>(console.error("Error getting all users total points:",e),(0,Dt.of)([]))))}updateMatchPoints(e,i){var o=this;return(0,le.A)(function*(){try{const[l,d]=yield Promise.all([io(o.getPredictions(e,i)),io(o.footballService.getMatches(parseInt(i)))]);if(!l||!d)return;let p=0,v=!1;const M=l.map(b=>{const T=d.find(ee=>ee.id===b.matchId);let L=b.points||0;if("FT"===T?.status.short&&null!==T.homeScore&&null!==T.awayScore){const ee=o.calculateMatchPoints(b,T);ee!==L&&(L=ee,v=!0)}return p+=L,{...b,points:L}});if(v){const b=o.afs.firestore.batch(),T=o.afs.doc(`predictions/${e}/weeks/${i}`).ref;b.update(T,{predictions:M,totalPoints:p,lastUpdated:Do.firestore.Timestamp.now()}),yield b.commit(),yield o.updateUserTotalPoints(e)}}catch(l){console.error("Error updating match points:",l)}})()}calculateMatchPoints(e,i){if(!e||null===e.homeScore||null===e.awayScore||null===i.homeScore||null===i.awayScore)return 0;const o=Math.sign(e.homeScore-e.awayScore),l=Math.sign(i.homeScore-i.awayScore);return e.homeScore===i.homeScore&&e.awayScore===i.awayScore?3:o===l?1:0}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(cd),s.KVO(ol))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LR=(()=>{class n{constructor(){this.darkMode=new Di.t(!1),this.loadTheme()}loadTheme(){const e=window.matchMedia("(prefers-color-scheme: dark)"),i=localStorage.getItem("darkMode");this.setTheme(null!==i?"true"===i:e.matches),e.addEventListener("change",o=>{null===localStorage.getItem("darkMode")&&this.setTheme(o.matches)})}setTheme(e){this.darkMode.next(e),localStorage.setItem("darkMode",e.toString()),e?document.body.classList.add("dark"):document.body.classList.remove("dark")}isDarkMode(){return this.darkMode.value}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mG(n,t){1&n&&(s.j41(0,"ion-buttons",6),s.nrm(1,"ion-back-button",7),s.k0s())}function vG(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-button",8),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.logout())}),s.j41(1,"div",9)(2,"span",10),s.EFF(3),s.k0s(),s.j41(4,"div",11),s.nrm(5,"ion-icon",12),s.j41(6,"span",13),s.EFF(7,"Salir"),s.k0s()()()()}if(2&n){const e=t.ngIf;s.R7$(3),s.JRh(e.username||e.email)}}let wG=(()=>{class n{constructor(e,i,o){this.authService=e,this.router=i,this.themeService=o,this.showBackButton=!0,this.user$=this.authService.user$,this.isDarkMode=this.themeService.isDarkMode(),this.router.events.subscribe(l=>{l instanceof fs&&(this.showBackButton=!l.urlAfterRedirects.includes("/home"))})}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.themeService.setTheme(this.isDarkMode)}logout(){var e=this;return(0,le.A)(function*(){try{yield e.authService.logout(),e.router.navigate(["/login"])}catch(i){console.error("Error signing out:",i)}})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(xs),s.rXU(gi),s.rXU(LR))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-header"]],decls:10,vars:5,consts:[["color","primary"],["slot","start",4,"ngIf"],["slot","end"],[3,"click"],["slot","icon-only",3,"name"],["class","logout-button",3,"click",4,"ngIf"],["slot","start"],["defaultHref","/home"],[1,"logout-button",3,"click"],[1,"user-info"],[1,"user-name"],[1,"logout-container"],["name","log-out-outline",1,"logout-icon"],[1,"logout-text"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0),s.DNE(2,mG,2,0,"ion-buttons",1),s.j41(3,"ion-title"),s.EFF(4,"Quiniela Liga MX"),s.k0s(),s.j41(5,"ion-buttons",2)(6,"ion-button",3),s.bIt("click",function(){return o.toggleTheme()}),s.nrm(7,"ion-icon",4),s.k0s(),s.DNE(8,vG,8,1,"ion-button",5),s.nI1(9,"async"),s.k0s()()()),2&i&&(s.R7$(2),s.Y8G("ngIf",o.showBackButton),s.R7$(5),s.Y8G("name",o.isDarkMode?"sunny-outline":"moon-outline"),s.R7$(1),s.Y8G("ngIf",s.bMT(9,3,o.authService.user$)))},dependencies:[ui,Gr,js,va,Fo,Sr,wa,ya,lt],styles:[".logout-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;font-size:1em}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{margin-bottom:4px;font-size:1.1em;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]   .logout-icon[_ngcontent-%COMP%]{font-size:1.4em;margin-right:6px}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{font-size:1.1em}"]})}}return n})(),yG=(()=>{class n{constructor(e,i,o,l,d,p,v,M,b,T,L,ee,Se,$e){this.platform=e,this.authService=i,this.connectionService=o,this.router=l,this.swUpdate=d,this.toastController=p,this.afs=v,this.afAuth=M,this.afFunctions=b,this.platformService=T,this.adsService=L,this.sessionService=ee,this.databaseService=Se,this.footballService=$e,this.platformInfo=null}ngOnInit(){var e=this;return(0,le.A)(function*(){yield e.initializeApp()})()}initializeApp(){var e=this;return(0,le.A)(function*(){yield e.platform.ready(),e.checkForUpdates(),e.setupConnectionListener(),e.setupAuthListener(),e.setupPlatformListener(),e.sessionService.initializeSession(),yield e.updateUserPoints(),yield e.adsService.setupAds(),yield e.adsService.showBanner()})()}updateUserPoints(){var e=this;return(0,le.A)(function*(){const i=yield io(e.authService.user$);if(i){const o=yield e.footballService.getCurrentRound();yield e.databaseService.updateMatchPoints(i.uid,o.toString())}})()}checkForUpdates(){this.swUpdate.isEnabled&&this.swUpdate.available.subscribe(()=>{this.presentUpdateToast()})}presentUpdateToast(){var e=this;return(0,le.A)(function*(){yield(yield e.toastController.create({message:"A new version is available. Reload the page to update.",position:"bottom",buttons:[{text:"Reload",role:"cancel",handler:()=>{window.location.reload()}}]})).present()})()}setupConnectionListener(){this.connectionService.getOnlineStatus().subscribe(e=>{console.log("Connection status:",e?"online":"offline")})}setupAuthListener(){this.authService.user$.subscribe(e=>{e||this.router.navigate(["/login"])})}setupPlatformListener(){this.platformService.getPlatformInfo().subscribe(e=>{this.platformInfo=e,document.body.classList.toggle("mobile",e.isMobile),document.body.classList.toggle("tablet",e.isTablet),document.body.classList.toggle("desktop",e.isDesktop)})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(vu),s.rXU(xs),s.rXU(ev),s.rXU(gi),s.rXU(V1),s.rXU(Kr),s.rXU(cd),s.rXU(Ou),s.rXU(Lb),s.rXU(eR),s.rXU(zb),s.rXU(Rb),s.rXU(rl),s.rXU(ol))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-root"]],decls:3,vars:16,template:function(i,o){1&i&&(s.j41(0,"ion-app"),s.nrm(1,"app-header")(2,"ion-router-outlet"),s.k0s()),2&i&&s.AVh("mobile",null==o.platformInfo?null:o.platformInfo.isMobile)("tablet",null==o.platformInfo?null:o.platformInfo.isTablet)("desktop",null==o.platformInfo?null:o.platformInfo.isDesktop)("xs","xs"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("sm","sm"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("md","md"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("lg","lg"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("xl","xl"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))},dependencies:[c8,xu,wG],styles:["[_nghost-%COMP%]{display:block;height:100%}"]})}}return n})(),av=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e){return this.authService.user$.pipe(Ci(1),(0,Ot.T)(i=>{if(i)return this.router.navigate(["/home"]),!1;{const o=e.paramMap.get("code");return!(o&&!e.routeConfig?.path?.includes("signup")&&(this.router.navigate(["/signup"],{queryParams:{code:o}}),1))}}))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(xs),s.KVO(gi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_G=(()=>{class n{retryOperation(e,i=3,o=2e3){return e.pipe(Pb(l=>l.pipe((0,lo.Z)((d,p)=>{const v=p+1;return v>i?na(()=>new Error("Maximum retry attempts reached")):(console.log(`Attempt ${v}: retrying in ${o}ms`),O4(o))}))),Ra(()=>console.log("Firebase operation completed")))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iE=(()=>{class n{constructor(e){this.afs=e,this.SEASON_COLLECTION="seasons",this.ACTIVE_SEASON_DOC="config/activeSeason"}getActiveSeason(){return this.afs.doc(this.ACTIVE_SEASON_DOC).valueChanges().pipe((0,Hn.n)(e=>e?.seasonId?this.afs.doc(`${this.SEASON_COLLECTION}/${e.seasonId}`).valueChanges().pipe((0,Ot.T)(i=>i?{...i,id:e.seasonId,startDate:i.startDate?.toDate()||new Date,endDate:i.endDate?.toDate()||new Date}:null)):(0,Dt.of)(null)))}getAllSeasons(){return this.afs.collection(this.SEASON_COLLECTION).snapshotChanges().pipe((0,Ot.T)(e=>e.map(i=>{const o=i.payload.doc.data(),l=i.payload.doc.id;return{...o,id:l,startDate:o.startDate?.toDate()||new Date,endDate:o.endDate?.toDate()||new Date}})))}createSeason(e){var i=this;return(0,le.A)(function*(){const o=i.afs.collection(i.SEASON_COLLECTION).doc();return yield o.set({...e,startDate:Do.firestore.Timestamp.fromDate(e.startDate),endDate:Do.firestore.Timestamp.fromDate(e.endDate)}),o.ref.id})()}setActiveSeason(e){var i=this;return(0,le.A)(function*(){yield i.afs.doc(i.ACTIVE_SEASON_DOC).set({seasonId:e})})()}updateSeason(e,i){var o=this;return(0,le.A)(function*(){const l={...i};i.startDate&&(l.startDate=Do.firestore.Timestamp.fromDate(i.startDate)),i.endDate&&(l.endDate=Do.firestore.Timestamp.fromDate(i.endDate)),yield o.afs.doc(`${o.SEASON_COLLECTION}/${e}`).update(l)})()}saveSeason(e){var i=this;return(0,le.A)(function*(){const o=yield i.createSeason(e);e.isActive&&(yield i.setActiveSeason(o))})()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(cd))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cv=(()=>{class n{constructor(e,i,o){this.afs=e,this.authService=i,this.router=o,this.APP_DOMAIN="https://quinielamx.netlify.app"}createGroup(e){var i=this;return(0,le.A)(function*(){const o=yield io(i.authService.user$.pipe(Ci(1)));if(!o)throw new Error("Usuario no autenticado");const l=i.generateInviteCode(),d={name:e.name,description:e.description||"",createdAt:Do.firestore.Timestamp.now(),createdBy:o.uid,inviteCode:l,isPrivate:e.isPrivate??!0,memberCount:1,members:[o.uid],admins:[o.uid]},p=yield i.afs.collection("groups").add(d);return yield i.afs.doc(`groups/${p.id}/members/${o.uid}`).set({userId:o.uid,joinedAt:Do.firestore.Timestamp.now(),role:"admin"}),yield i.afs.doc(`users/${o.uid}/groups/${p.id}`).set({groupId:p.id,role:"admin",joinedAt:Do.firestore.Timestamp.now()}),p.id})()}getUserGroups(){return this.authService.user$.pipe((0,Hn.n)(e=>e?this.afs.collection(`users/${e.uid}/groups`).valueChanges().pipe((0,Hn.n)(i=>0===i.length?(0,Dt.of)([]):Ir(i.map(l=>l.groupId).map(l=>this.afs.doc(`groups/${l}`).valueChanges().pipe((0,Ot.T)(d=>d?{...d,id:l,name:d.name||"",description:d.description||"",members:d.members||[],admins:d.admins||[]}:null)))).pipe((0,Ot.T)(l=>l.filter(d=>null!==d))))):(0,Dt.of)([])))}joinGroup(e){var i=this;return(0,le.A)(function*(){const o=yield io(i.authService.user$.pipe(Ci(1)));if(!o)throw new Error("Usuario no autenticado");const d=yield i.afs.collection("groups").ref.where("inviteCode","==",e).get();if(d.empty)throw new Error("C\xf3digo de invitaci\xf3n inv\xe1lido");const p=d.docs[0];if(p.data().members.includes(o.uid))throw new Error("Ya eres miembro de este grupo");const M=i.afs.firestore.batch();M.update(p.ref,{members:Do.firestore.FieldValue.arrayUnion(o.uid),memberCount:Do.firestore.FieldValue.increment(1)});const b=i.afs.doc(`groups/${p.id}/members/${o.uid}`).ref;M.set(b,{userId:o.uid,joinedAt:Do.firestore.Timestamp.now(),role:"member"});const T=i.afs.doc(`users/${o.uid}/groups/${p.id}`).ref;M.set(T,{groupId:p.id,role:"member",joinedAt:Do.firestore.Timestamp.now()}),yield M.commit()})()}getGroupMembers(e){return this.afs.collection(`groups/${e}/members`).valueChanges().pipe((0,Hn.n)(i=>Ir(i.map(l=>this.afs.doc(`users/${l.userId}`).valueChanges().pipe((0,Ot.T)(d=>d?{...d,uid:l.userId,email:d.email||"",role:l.role}:null)))).pipe((0,Ot.T)(l=>l.filter(d=>null!==d)))))}getGroupByInviteCode(e){var i=this;return(0,le.A)(function*(){const o=yield i.afs.collection("groups").ref.where("inviteCode","==",e).get();if(o.empty)return null;const l=o.docs[0];return{id:l.id,...l.data()}})()}generateInviteLink(e,i){return`${this.APP_DOMAIN}/groups/join/${i}`}generateInviteCode(){let i="";for(let o=0;o<6;o++)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return i}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(cd),s.KVO(xs),s.KVO(gi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NR=(()=>{class n{constructor(){this.version="0.9.63"}getVersion(){return`Beta v${this.version}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xG(n,t){1&n&&(s.j41(0,"ion-item-divider")(1,"ion-label"),s.EFF(2,"Administraci\xf3n"),s.k0s()())}function MG(n,t){1&n&&(s.j41(0,"ion-item",15),s.nrm(1,"ion-icon",16),s.j41(2,"ion-label"),s.EFF(3,"Panel de Administraci\xf3n"),s.k0s()())}function CG(n,t){1&n&&(s.j41(0,"ion-item",17),s.nrm(1,"ion-icon",18),s.j41(2,"ion-label"),s.EFF(3,"Mis Puntos"),s.k0s()())}function bG(n,t){1&n&&(s.j41(0,"ion-item",19),s.nrm(1,"ion-icon",9),s.j41(2,"ion-label"),s.EFF(3,"Participantes"),s.k0s()())}let EG=(()=>{class n{constructor(e,i,o){this.versionService=e,this.authService=i,this.adsService=o,this.isAdmin=!1,this.version=this.versionService.getVersion(),this.authService.user$.subscribe(l=>{this.isAdmin=this.authService.isAdmin(l)})}ngOnInit(){var e=this;return(0,le.A)(function*(){yield e.adsService.showBanner()})()}ngOnDestroy(){var e=this;return(0,le.A)(function*(){yield e.adsService.hideBanner()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(NR),s.rXU(xs),s.rXU(zb))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-home"]],decls:29,vars:5,consts:[[1,"home-content"],[1,"main-title"],["button","","routerLink","/scores"],["name","football-outline","slot","start"],["button","","routerLink","/pools"],["name","create-outline","slot","start"],["button","","routerLink","/leaderboard"],["name","podium-outline","slot","start"],["button","","routerLink","/groups"],["name","people-outline","slot","start"],[4,"ngIf"],["button","","routerLink","/admin/test-predictions",4,"ngIf"],["button","","routerLink","/admin/points",4,"ngIf"],["button","","routerLink","/admin/users",4,"ngIf"],[1,"version-info"],["button","","routerLink","/admin/test-predictions"],["name","construct-outline","slot","start"],["button","","routerLink","/admin/points"],["name","trophy-outline","slot","start"],["button","","routerLink","/admin/users"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"h1",1),s.EFF(2,"Bienvenido a Quiniela Liga MX"),s.k0s(),s.j41(3,"p"),s.EFF(4,"Elige una opci\xf3n del men\xfa a continuaci\xf3n:"),s.k0s(),s.j41(5,"ion-list")(6,"ion-item",2),s.nrm(7,"ion-icon",3),s.j41(8,"ion-label"),s.EFF(9,"Marcadores"),s.k0s()(),s.j41(10,"ion-item",4),s.nrm(11,"ion-icon",5),s.j41(12,"ion-label"),s.EFF(13,"Sube tu Quiniela"),s.k0s()(),s.j41(14,"ion-item",6),s.nrm(15,"ion-icon",7),s.j41(16,"ion-label"),s.EFF(17,"Tabla General"),s.k0s()(),s.j41(18,"ion-item",8),s.nrm(19,"ion-icon",9),s.j41(20,"ion-label"),s.EFF(21,"Mis Grupos"),s.k0s()(),s.DNE(22,xG,3,0,"ion-item-divider",10),s.DNE(23,MG,4,0,"ion-item",11),s.DNE(24,CG,4,0,"ion-item",12),s.DNE(25,bG,4,0,"ion-item",13),s.k0s(),s.j41(26,"div",14)(27,"span"),s.EFF(28),s.k0s()()()),2&i&&(s.R7$(22),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(3),s.JRh(o.version))},dependencies:[ui,Fo,vs,Cp,jc,Hc,Mu,Ec],styles:[".home-content[_ngcontent-%COMP%]{padding:20px 20px 40px;max-width:800px;margin:60px auto 0;background:var(--ion-background-color);min-height:calc(100% - 60px);position:relative}.main-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--ion-text-color);margin-bottom:12px;text-align:center}p[_ngcontent-%COMP%]{font-size:17px;color:var(--ion-text-color);text-align:center;margin-bottom:24px}ion-list[_ngcontent-%COMP%]{background:transparent;padding:0;margin-top:20px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-card-background);--color: var(--ion-text-color);margin-bottom:12px;border-radius:8px;--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px}ion-item[_ngcontent-%COMP%]::part(native){border-radius:8px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:24px;margin-right:16px}ion-item-divider[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-color-medium);font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px;margin-top:24px;margin-bottom:8px;padding:8px 16px}.version-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0;right:0;text-align:right;color:var(--ion-color-medium);font-size:14px;padding:8px}.version-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}"]})}}return n})();function IG(n,t){if(1&n&&(s.j41(0,"ion-text",19)(1,"p"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.JRh(e.errorMessage)}}let AG=(()=>{class n{constructor(e,i,o,l,d,p){this.authService=e,this.router=i,this.fb=o,this.toastController=l,this.alertController=d,this.versionService=p,this.errorMessage="",this.loginForm=this.fb.group({email:["",[ir.required,ir.email]],password:["",[ir.required,ir.minLength(6)]]}),this.version=this.versionService.getVersion()}ngOnInit(){}loginWithEmail(){var e=this;return(0,le.A)(function*(){if(e.loginForm.valid){const{email:i,password:o}=e.loginForm.value;try{yield e.authService.signInWithEmail(i,o),yield(yield e.toastController.create({message:"\xa1Bienvenido de vuelta!",duration:2e3,position:"top",color:"success"})).present(),e.router.navigate(["/home"])}catch(l){e.errorMessage=e.getErrorMessage(l.code)}}})()}forgotPassword(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Restablecer Contrase\xf1a",message:"Ingresa tu correo electr\xf3nico para recibir un enlace de restablecimiento de contrase\xf1a",inputs:[{name:"email",type:"email",placeholder:"Correo electr\xf3nico"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Enviar",handler:(o=(0,le.A)(function*(l){if(!l.email)return e.showToast("Por favor ingresa un correo electr\xf3nico","warning"),!1;try{return yield e.authService.resetPassword(l.email),e.showToast("Se ha enviado un enlace de restablecimiento a tu correo","success"),!0}catch(d){return e.showToast(e.getErrorMessage(d.code),"danger"),!1}}),function(d){return o.apply(this,arguments)})}]})).present()})()}showToast(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"top",color:i})).present()})()}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No existe una cuenta con este correo electr\xf3nico";case"auth/wrong-password":return"Contrase\xf1a incorrecta";case"auth/invalid-email":return"Correo electr\xf3nico inv\xe1lido";case"auth/user-disabled":return"Esta cuenta ha sido deshabilitada";case"auth/too-many-requests":return"Demasiados intentos fallidos. Por favor, intenta m\xe1s tarde";default:return"Error al iniciar sesi\xf3n. Por favor, intenta de nuevo"}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(xs),s.rXU(gi),s.rXU(Xa),s.rXU(Kr),s.rXU(M0),s.rXU(NR))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-login"]],decls:38,vars:4,consts:[[1,"ion-padding"],[1,"login-container"],["src","https://stackblitz.com/storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBOWdSRXc9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--a9d0bcdf53d9038083712fc795093e53b3873adb/quiniela-mx-logo.png","alt","Quiniela Liga MX Logo",1,"logo"],[1,"signup-prompt"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"form-item"],["position","floating"],["name","mail-outline",1,"input-icon"],["type","email","formControlName","email","placeholder","tucorreo@email.com"],["name","lock-closed-outline",1,"input-icon"],["type","password","formControlName","password","placeholder","Tu contrase\xf1a"],[1,"forgot-password"],["fill","clear","size","small",3,"click"],["expand","block","type","submit",1,"login-button",3,"disabled"],["name","log-in-outline","slot","start"],["color","danger","class","error-message",4,"ngIf"],["fill","clear","routerLink","/signup",1,"signup-link"],["name","arrow-forward-outline","slot","end"],[1,"version-info"],["color","danger",1,"error-message"]],template:function(i,o){1&i&&(s.j41(0,"ion-content",0)(1,"div",1)(2,"h1"),s.EFF(3,"Quiniela de la Liga MX"),s.k0s(),s.nrm(4,"img",2),s.j41(5,"p",3),s.EFF(6,"Inicia sesi\xf3n para continuar"),s.k0s(),s.j41(7,"form",4),s.bIt("ngSubmit",function(){return o.loginWithEmail()}),s.j41(8,"ion-card")(9,"ion-card-content")(10,"ion-item",5)(11,"ion-label",6),s.nrm(12,"ion-icon",7),s.EFF(13," Correo electr\xf3nico "),s.k0s(),s.nrm(14,"ion-input",8),s.k0s(),s.j41(15,"ion-item",5)(16,"ion-label",6),s.nrm(17,"ion-icon",9),s.EFF(18," Contrase\xf1a "),s.k0s(),s.nrm(19,"ion-input",10),s.k0s(),s.j41(20,"div",11)(21,"ion-button",12),s.bIt("click",function(){return o.forgotPassword()}),s.EFF(22," \xbfOlvidaste tu contrase\xf1a? "),s.k0s()(),s.j41(23,"ion-button",13),s.nrm(24,"ion-icon",14),s.EFF(25," Iniciar Sesi\xf3n "),s.k0s()()()(),s.DNE(26,IG,3,1,"ion-text",15),s.j41(27,"div",3)(28,"p")(29,"ion-button",16),s.EFF(30," \xbfNo tienes una cuenta? "),s.nrm(31,"br"),s.EFF(32,"Reg\xedstrate aqu\xed"),s.nrm(33,"br")(34,"ion-icon",17),s.k0s()()(),s.j41(35,"div",18)(36,"span"),s.EFF(37),s.k0s()()()()),2&i&&(s.R7$(7),s.Y8G("formGroup",o.loginForm),s.R7$(16),s.Y8G("disabled",!o.loginForm.valid),s.R7$(3),s.Y8G("ngIf",o.errorMessage),s.R7$(11),s.JRh(o.version))},dependencies:[ui,Gr,ma,vr,ms,Fo,y0,vs,jc,ec,wu,Mu,s0,T1,x4,Ns,a0,Ec],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:20px;background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%)}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#fff}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.logo-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin-top:.5rem}.logo[_ngcontent-%COMP%]{width:17.88%;height:auto}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-radius:16px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);margin:0}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.form-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-medium);--border-radius: 8px;--border-width: 1px;--padding-start: 8px;--padding-end: 8px;margin-bottom:16px}.form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:12px}.form-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--ion-color-medium)}.forgot-password[_ngcontent-%COMP%]{text-align:right;margin-bottom:16px}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);font-size:.9em;text-transform:none;font-weight:400}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: var(--ion-color-primary)}.login-button[_ngcontent-%COMP%]{margin-top:16px;--border-radius: 8px;--box-shadow: 0 4px 12px rgba(var(--ion-color-primary-rgb), .3);font-weight:600;height:48px}.login-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.error-message[_ngcontent-%COMP%]{text-align:center;margin:16px 0;padding:12px;border-radius:8px;background:rgba(var(--ion-color-danger-rgb),.1)}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-danger);font-size:.9rem}.signup-prompt[_ngcontent-%COMP%]{margin-top:24px;text-align:center;color:#fff}.signup-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.signup-prompt[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{--color: white;font-weight:600;text-decoration:none}.signup-prompt[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.version-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0;right:0;text-align:center;color:#fff;font-size:14px;padding:8px;opacity:.7}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:16px}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:3rem}.logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0}}.dark[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.9)}.dark[_nghost-%COMP%]   .error-message[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15)}.dark[_nghost-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-light)}"]})}}return n})();function kG(n,t){if(1&n&&(s.j41(0,"div",20)(1,"p",21),s.EFF(2,"Has sido invitado a unirte al grupo:"),s.k0s(),s.j41(3,"h2",22),s.EFF(4),s.k0s(),s.j41(5,"p",23),s.EFF(6),s.k0s()()),2&n){const e=s.XpG();s.R7$(4),s.JRh(e.groupName),s.R7$(2),s.SpI("C\xf3digo de invitaci\xf3n: ",e.inviteCode,"")}}function SG(n,t){if(1&n&&(s.j41(0,"ion-text",24)(1,"p",25),s.EFF(2),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.JRh(e.errorMessage)}}const DG=function(){return["/login"]},TG=function(n){return{code:n}},OG=function(){return{}};let zR=(()=>{class n{constructor(e,i,o,l,d,p,v){this.authService=e,this.router=i,this.fb=o,this.route=l,this.toastController=d,this.loadingController=p,this.groupService=v,this.errorMessage="",this.inviteCode=null,this.groupName=null,this.loading=!1,this.signupForm=this.fb.group({email:["",[ir.required,ir.email]],password:["",[ir.required,ir.minLength(6)]],firstName:["",[ir.required]],lastName:["",[ir.required]],username:["",[ir.required]]})}ngOnInit(){var e=this;return(0,le.A)(function*(){const i=e.route.snapshot.paramMap.get("code");if(i){e.inviteCode=i;try{const o=yield e.groupService.getGroupByInviteCode(i);o&&(e.groupName=o.name)}catch(o){console.error("Error fetching group details:",o)}}else e.route.queryParams.subscribe(function(){var o=(0,le.A)(function*(l){const d=l.code;if(d){e.inviteCode=d;try{const p=yield e.groupService.getGroupByInviteCode(d);p&&(e.groupName=p.name)}catch(p){console.error("Error fetching group details:",p)}}});return function(l){return o.apply(this,arguments)}}())})()}signupWithEmail(){var e=this;return(0,le.A)(function*(){if(e.signupForm.valid){e.loading=!0;const i=yield e.loadingController.create({message:"Creando cuenta...",spinner:"crescent"});yield i.present();try{const{email:o,password:l,firstName:d,lastName:p,username:v}=e.signupForm.value;if(yield e.authService.signUpWithEmail(o,l,d,p,v),yield(yield e.toastController.create({message:"\xa1Cuenta creada exitosamente!",duration:2e3,color:"success",position:"top"})).present(),e.inviteCode)try{yield e.groupService.joinGroup(e.inviteCode),yield(yield e.toastController.create({message:`\xa1Te has unido al grupo ${e.groupName||""} exitosamente!`,duration:2e3,color:"success",position:"top"})).present()}catch(b){console.error("Error joining group:",b),yield(yield e.toastController.create({message:"Error al unirse al grupo. Por favor, intenta nuevamente desde la secci\xf3n de grupos.",duration:3e3,color:"warning",position:"top"})).present()}e.router.navigate(["/home"])}catch(o){console.error("Signup error:",o),e.errorMessage=e.getErrorMessage(o.code),yield(yield e.toastController.create({message:e.errorMessage,duration:3e3,color:"danger",position:"top"})).present()}finally{e.loading=!1,yield i.dismiss()}}})()}getErrorMessage(e){switch(e){case"auth/email-already-in-use":return"Este correo electr\xf3nico ya est\xe1 registrado";case"auth/invalid-email":return"Correo electr\xf3nico inv\xe1lido";case"auth/operation-not-allowed":return"Operaci\xf3n no permitida";case"auth/weak-password":return"La contrase\xf1a debe tener al menos 6 caracteres";default:return"Error al crear la cuenta. Por favor, intenta nuevamente"}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(xs),s.rXU(gi),s.rXU(Xa),s.rXU(gr),s.rXU(Kr),s.rXU(bu),s.rXU(cv))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-signup"]],decls:45,vars:13,consts:[[1,"ion-padding"],[1,"signup-container"],["class","group-info",4,"ngIf"],[3,"formGroup","ngSubmit"],["position","floating"],["name","mail-outline",1,"input-icon"],["type","email","formControlName","email"],["name","lock-closed-outline",1,"input-icon"],["type","password","formControlName","password"],["name","person-outline",1,"input-icon"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["name","at-outline",1,"input-icon"],["type","text","formControlName","username"],["expand","block","type","submit",1,"signup-button",3,"disabled"],["name","person-add-outline","slot","start"],["color","danger",4,"ngIf"],[1,"login-prompt"],["fill","clear",3,"routerLink","queryParams"],["name","arrow-forward-outline","slot","end"],[1,"group-info"],[1,"invite-message"],[1,"group-name"],[1,"invite-code"],["color","danger"],[1,"error-message"]],template:function(i,o){1&i&&(s.j41(0,"ion-content",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s(),s.DNE(4,kG,7,2,"div",2),s.j41(5,"p"),s.EFF(6),s.k0s(),s.j41(7,"form",3),s.bIt("ngSubmit",function(){return o.signupWithEmail()}),s.j41(8,"ion-card")(9,"ion-card-content")(10,"ion-item")(11,"ion-label",4),s.nrm(12,"ion-icon",5),s.EFF(13," Correo Electr\xf3nico "),s.k0s(),s.nrm(14,"ion-input",6),s.k0s(),s.j41(15,"ion-item")(16,"ion-label",4),s.nrm(17,"ion-icon",7),s.EFF(18," Contrase\xf1a "),s.k0s(),s.nrm(19,"ion-input",8),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",4),s.nrm(22,"ion-icon",9),s.EFF(23," Nombre "),s.k0s(),s.nrm(24,"ion-input",10),s.k0s(),s.j41(25,"ion-item")(26,"ion-label",4),s.nrm(27,"ion-icon",9),s.EFF(28," Apellido "),s.k0s(),s.nrm(29,"ion-input",11),s.k0s(),s.j41(30,"ion-item")(31,"ion-label",4),s.nrm(32,"ion-icon",12),s.EFF(33," Apodo "),s.k0s(),s.nrm(34,"ion-input",13),s.k0s(),s.j41(35,"ion-button",14),s.nrm(36,"ion-icon",15),s.EFF(37),s.k0s()()()(),s.DNE(38,SG,3,1,"ion-text",16),s.j41(39,"div",17)(40,"p"),s.EFF(41," \xbfYa tienes una cuenta? "),s.j41(42,"ion-button",18),s.EFF(43," Inicia sesi\xf3n aqu\xed "),s.nrm(44,"ion-icon",19),s.k0s()()()()()),2&i&&(s.R7$(3),s.JRh(o.inviteCode?"\xa1Te han invitado!":"Registro Quiniela Liga MX"),s.R7$(1),s.Y8G("ngIf",o.inviteCode&&o.groupName),s.R7$(2),s.JRh(o.inviteCode?"Crea tu cuenta para unirte al grupo":"Crea tu cuenta"),s.R7$(1),s.Y8G("formGroup",o.signupForm),s.R7$(28),s.Y8G("disabled",!o.signupForm.valid||o.loading),s.R7$(2),s.SpI(" ",o.loading?"Creando cuenta...":"Registrarse"," "),s.R7$(1),s.Y8G("ngIf",o.errorMessage),s.R7$(4),s.Y8G("routerLink",s.lJ4(9,DG))("queryParams",o.inviteCode?s.eq3(10,TG,o.inviteCode):s.lJ4(12,OG)))},dependencies:[ui,Gr,ma,vr,ms,Fo,y0,vs,jc,ec,wu,Mu,s0,T1,x4,Ns,a0,Ec],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:20px;background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%)}.signup-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#fff;text-align:center;text-shadow:0 2px 4px rgba(0,0,0,.2)}.signup-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:#fff;text-align:center}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);padding:20px;border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-bottom:24px;text-align:center;border:1px solid rgba(255,255,255,.2)}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-message[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px;font-size:.9em}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:700;margin:8px 0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-code[_ngcontent-%COMP%]{color:#ffffffe6;font-family:monospace;background:rgba(255,255,255,.1);padding:8px 16px;border-radius:20px;display:inline-block;margin-top:8px;font-size:.9em}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:400px}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-radius:16px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);margin:0}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-medium);--border-radius: 8px;--border-width: 1px;--padding-start: 8px;--padding-end: 8px;margin-bottom:16px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:24px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--ion-color-medium)}.signup-container[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{margin-top:16px;--border-radius: 8px;--box-shadow: 0 4px 12px rgba(var(--ion-color-primary-rgb), .3);font-weight:600;height:48px}.signup-container[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);color:var(--ion-color-danger-contrast);padding:12px;border-radius:8px;margin:16px 0;text-align:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]{margin-top:24px;text-align:center}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: white;font-weight:600;text-decoration:none}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.dark[_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.9)}.dark[_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15)}@media (max-width: 480px){.signup-container[_ngcontent-%COMP%]{padding:16px}.signup-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{padding:16px}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1.2em}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-code[_ngcontent-%COMP%]{font-size:.85em;padding:6px 12px}}"]})}}return n})();const PG=["roundsContainer"],RG=["selectedRoundElement"];function LG(n,t){if(1&n&&s.nrm(0,"ion-icon",7),2&n){const e=s.XpG(2);s.AVh("pulse",e.isLiveRound)}}function NG(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",4,5),s.bIt("click",function(){const l=s.eBV(e).$implicit,d=s.XpG();return s.Njj(d.onRoundChange(l))}),s.EFF(2),s.DNE(3,LG,1,2,"ion-icon",6),s.k0s()}if(2&n){const e=t.$implicit,i=s.XpG();s.AVh("active",i.selectedRound===e)("current",e===i.currentRound),s.R7$(2),s.SpI(" J",e," "),s.R7$(1),s.Y8G("ngIf",e===i.currentRound)}}let lv=(()=>{class n{constructor(){this.selectedRound=1,this.currentRound=1,this.isLiveRound=!1,this.rounds=Array.from({length:17},(e,i)=>i+1),this.roundChange=new s.bkB}ngOnInit(){this.scheduleScroll()}ngAfterViewInit(){this.scheduleScroll()}ngOnChanges(e){(e.selectedRound||e.currentRound)&&this.scheduleScroll()}onRoundChange(e){this.roundChange.emit(e)}scheduleScroll(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollToSelectedRound(),setTimeout(()=>this.scrollToSelectedRound(),100),setTimeout(()=>this.scrollToSelectedRound(),300),setTimeout(()=>this.scrollToSelectedRound(),500)},0)}scrollToSelectedRound(){if(!this.roundsContainer?.nativeElement)return;const e=this.roundsContainer.nativeElement,i=e.querySelector(`.round-chip:nth-child(${this.selectedRound})`);if(i){const p=Math.max(0,i.offsetLeft-e.offsetWidth/2+i.offsetWidth/2);e.scrollTo({left:p,behavior:"smooth"})}}ngOnDestroy(){this.scrollTimeout&&clearTimeout(this.scrollTimeout)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-rounds-selector"]],viewQuery:function(i,o){if(1&i&&(s.GBs(PG,5),s.GBs(RG,5)),2&i){let l;s.mGM(l=s.lsd())&&(o.roundsContainer=l.first),s.mGM(l=s.lsd())&&(o.selectedRoundElement=l.first)}},inputs:{selectedRound:"selectedRound",currentRound:"currentRound",isLiveRound:"isLiveRound",rounds:"rounds"},outputs:{roundChange:"roundChange"},features:[s.OA$],decls:4,vars:1,consts:[[1,"rounds-scroll"],[1,"rounds-container"],["roundsContainer",""],["class","round-chip",3,"active","current","click",4,"ngFor","ngForOf"],[1,"round-chip",3,"click"],["selectedRoundElement",""],["name","radio","class","live-indicator",3,"pulse",4,"ngIf"],["name","radio",1,"live-indicator"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"div",1,2),s.DNE(3,NG,4,6,"div",3),s.k0s()()),2&i&&(s.R7$(3),s.Y8G("ngForOf",o.rounds))},dependencies:[ro,ui,Fo],styles:[".rounds-scroll[_ngcontent-%COMP%]{margin:0 -16px;padding:8px 16px;overflow:hidden;position:relative}.rounds-container[_ngcontent-%COMP%]{display:flex;gap:8px;padding:4px 0;overflow-x:auto;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none;scroll-snap-type:x mandatory}.rounds-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.round-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;background:var(--ion-color-light);border-radius:20px;font-weight:500;cursor:pointer;transition:all .2s ease;position:relative;min-width:48px;justify-content:center;flex-shrink:0;scroll-snap-align:center;color:var(--ion-text-color)}.round-chip.active[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;transform:scale(1.05);box-shadow:0 2px 8px rgba(var(--ion-color-primary-rgb),.3)}.round-chip.current[_ngcontent-%COMP%]{border:2px solid var(--ion-color-success)}.round-chip.current[_ngcontent-%COMP%]:not(.active){color:var(--ion-color-success)}.round-chip[_ngcontent-%COMP%]   .live-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-success)}.round-chip[_ngcontent-%COMP%]   .live-indicator.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .round-chip[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .round-chip.active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip.active[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;box-shadow:0 2px 12px rgba(var(--ion-color-primary-rgb),.4)}.dark[_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]{border-color:var(--ion-color-success)}.dark[_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]:not(.active), .dark   [_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]:not(.active){background:rgba(var(--ion-color-success-rgb),.15);color:var(--ion-color-success-shade)}@media (max-width: 768px){.rounds-scroll[_ngcontent-%COMP%]{margin-top:0;padding:6px 12px}.round-chip[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9em;min-width:40px}.round-chip[_ngcontent-%COMP%]   .live-indicator[_ngcontent-%COMP%]{font-size:10px}}"]})}}return n})();function zG(n,t){if(1&n&&(s.j41(0,"div",13)(1,"ion-card")(2,"ion-card-content")(3,"h2"),s.EFF(4),s.k0s()()()()),2&n){const e=s.XpG();s.R7$(4),s.SpI("Total de Puntos: ",e.totalPoints,"")}}function FG(n,t){1&n&&(s.j41(0,"div",14),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function BG(n,t){if(1&n&&(s.j41(0,"ion-text",15),s.nrm(1,"ion-icon",16),s.j41(2,"p"),s.EFF(3),s.k0s()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function VG(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",17)(1,"p"),s.EFF(2),s.k0s(),s.j41(3,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar "),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(2),s.JRh(e.error)}}function jG(n,t){if(1&n&&(s.j41(0,"div",33),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2).$implicit;let i;s.R7$(1),s.SpI(" ",null!==(i="FT"===e.status.short?e.prediction.points:e.prediction.livePoints)&&void 0!==i?i:0," pts ")}}function HG(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.DNE(2,jG,2,1,"div",32),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);let o;s.Y8G("ngClass",i.getPredictionClass(e)),s.R7$(1),s.Lme(" Tu Pron\xf3stico ",null!==(o=e.prediction.homeScore)&&void 0!==o?o:"-"," - ",null!==(o=e.prediction.awayScore)&&void 0!==o?o:"-"," "),s.R7$(1),s.Y8G("ngIf","FT"===e.status.short||"LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short)}}function UG(n,t){if(1&n&&(s.j41(0,"ion-item")(1,"ion-card",21)(2,"ion-card-header")(3,"ion-card-subtitle",22),s.EFF(4),s.nI1(5,"date"),s.nI1(6,"date"),s.nrm(7,"br"),s.j41(8,"small"),s.EFF(9),s.k0s()(),s.j41(10,"ion-badge",23),s.EFF(11),s.k0s()(),s.j41(12,"ion-card-content")(13,"div",24)(14,"div",25),s.nrm(15,"img",26),s.j41(16,"div",27),s.EFF(17),s.k0s()(),s.j41(18,"div",28)(19,"div",29),s.EFF(20),s.k0s(),s.DNE(21,HG,3,4,"div",30),s.k0s(),s.j41(22,"div",25),s.nrm(23,"img",26),s.j41(24,"div",27),s.EFF(25),s.k0s()()()()()()),2&n){const e=t.$implicit,i=s.XpG(2);let o;s.R7$(4),s.Lme(" ",s.ii3(5,18,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(6,23,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,""),s.R7$(1),s.AVh("live-status","LIVE"===e.status.short||"HT"===e.status.short),s.Y8G("color","LIVE"===e.status.short||"HT"===e.status.short?"success":"NS"===e.status.short?"warning":"medium"),s.R7$(1),s.SpI(" ",i.getMatchStatus(e)," "),s.R7$(4),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(3),s.E5c(" ","NS"===e.status.short?"":null!==(o=e.homeScore)&&void 0!==o?o:""," ","NS"===e.status.short?"":"-"," ","NS"===e.status.short?"":null!==(o=e.awayScore)&&void 0!==o?o:""," "),s.R7$(1),s.Y8G("ngIf",e.prediction),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam)}}function $G(n,t){if(1&n&&(s.j41(0,"div",19)(1,"ion-list"),s.DNE(2,UG,26,28,"ion-item",20),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.Y8G("ngForOf",e.matches)}}let GG=(()=>{class n{constructor(e,i,o,l){this.footballService=e,this.databaseService=i,this.authService=o,this.toastController=l,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(d,p)=>p+1),this.isRateLimited=!1,this.isLiveRound=!1,this.isRoundFinished=!1,this.userId=null,this.totalPoints=0}ngOnInit(){var e=this;return(0,le.A)(function*(){e.authService.user$.subscribe(i=>{e.userId=i?.uid||null,e.findCurrentRound()})})()}findCurrentRound(){var e=this;return(0,le.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i,e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding current round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}loadMatches(){var e=this;return(0,le.A)(function*(){e.loading=!0,e.error=null,e.isRateLimited=!1,e.totalPoints=0;try{const[i,o]=yield Promise.all([io(e.footballService.getMatches(e.selectedRound)),e.userId?io(e.databaseService.getPredictions(e.userId,e.selectedRound.toString())):[]]);e.matches=e.sortMatchesByStatus(i).map(d=>{const p=o.find(b=>b.matchId===d.id);let v=0,M=0;if(p&&null!==p.homeScore&&null!==p.awayScore&&null!==d.homeScore&&null!==d.awayScore){const b=Math.sign(p.homeScore-p.awayScore),T=Math.sign(d.homeScore-d.awayScore),L=p.homeScore===d.homeScore&&p.awayScore===d.awayScore,ee=b===T;"FT"===d.status.short?(L?v=3:ee&&(v=1),e.totalPoints+=v):("LIVE"===d.status.short||"HT"===d.status.short||"1H"===d.status.short||"2H"===d.status.short)&&(L?M=3:ee&&(M=1),e.totalPoints+=M)}return{...d,prediction:{homeScore:p?.homeScore??null,awayScore:p?.awayScore??null,points:v,livePoints:M}}}),e.isLiveRound=i.some(d=>"LIVE"===d.status.short||"HT"===d.status.short||"1H"===d.status.short||"2H"===d.status.short);const l=i.filter(d=>"FT"===d.status.short||"AET"===d.status.short||"PEN"===d.status.short);e.isRoundFinished=l.length===i.length,0===e.matches.length&&(yield e.showToast("No hay partidos programados para esta jornada","warning"))}catch(i){console.error("Error loading matches:",i),2100===i.error?.code?(e.isRateLimited=!0,e.error="Se ha alcanzado el l\xedmite de la API. Los datos mostrados pueden no estar actualizados.",yield e.showToast("L\xedmite de API alcanzado. Se muestran datos en cach\xe9.","warning")):(e.error="Error al cargar los partidos. Por favor intente nuevamente.",yield e.showToast("Error al cargar los partidos","danger"))}finally{e.loading=!1}})()}sortMatchesByStatus(e){const i={LIVE:0,HT:1,"1H":2,"2H":3,NS:4,FT:5,AET:6,PEN:7};return[...e].sort((o,l)=>{const d=i[o.status.short]??999,p=i[l.status.short]??999;return d===p?new Date(o.date).getTime()-new Date(l.date).getTime():d-p})}onRoundChange(e){this.selectedRound=e,this.loadMatches()}getRoundStatus(){return this.isLiveRound?"Jornada en curso":this.isRoundFinished?"Jornada finalizada":`Jornada ${this.selectedRound}`}getMatchStatus(e){if("LIVE"===e.status.short)return e.status.elapsed?e.status.elapsed<=45?`Primer Tiempo ${e.status.elapsed}'`:`Segundo Tiempo ${e.status.elapsed}'`:"En Vivo";if("HT"===e.status.short)return"Medio Tiempo";if("FT"===e.status.short)return"Finalizado";if("1H"===e.status.short)return`Primer Tiempo ${e.status.elapsed}'`;if("2H"===e.status.short)return`Segundo Tiempo ${e.status.elapsed}'`;if("NS"===e.status.short){const o=new Date(e.date),l=new Date,d=Math.floor((o.getTime()-l.getTime())/6e4);return d<=60&&d>0?`Comienza en ${d} min`:d<=0?"Por comenzar":d<=120?`Comienza en ${Math.floor(d/60)}h ${d%60}m`:this.formatMatchTime(o)}return{PST:"Pospuesto",CANC:"Cancelado",ABD:"Abandonado",INT:"Interrumpido",SUSP:"Suspendido",TBD:"Por definir",AWD:"Victoria administrativa",WO:"Walkover",PEN:"Penales",AET:"Tiempo extra",BREAK:"Descanso",ET:"Tiempo extra",P:"Penales"}[e.status.short]||e.status.long||"Programado"}getPredictionClass(e){if(!e.prediction?.homeScore||!e.prediction?.awayScore||null===e.homeScore||null===e.awayScore)return"no-match";const i=Math.sign(e.prediction.homeScore-e.prediction.awayScore),o=Math.sign(e.homeScore-e.awayScore),l=e.prediction.homeScore===e.homeScore&&e.prediction.awayScore===e.awayScore,d=i===o&&!l;return"FT"===e.status.short?l?"exact-match":d?"partial-match":"no-match":"LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short?l?"exact-match live":d?"partial-match live":"no-match live":"no-match"}formatMatchTime(e){return e.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit",hour12:!0})}showToast(e,i="primary"){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i,buttons:[{text:"OK",role:"cancel"}]})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(ol),s.rXU(rl),s.rXU(xs),s.rXU(Kr))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-scores"]],decls:18,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"week-header"],[1,"round-status"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","total-points",4,"ngIf"],["class","loading-container",4,"ngIf"],["color","warning","class","rate-limit-warning",4,"ngIf"],["color","danger",4,"ngIf"],["class","matches-container",4,"ngIf"],[1,"total-points"],[1,"loading-container"],["color","warning",1,"rate-limit-warning"],["name","warning-outline"],["color","danger"],["size","small","fill","outline",3,"click"],[1,"matches-container"],[4,"ngFor","ngForOf"],[1,"match-card"],[1,"match-date"],[1,"match-status",3,"color"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],[1,"scores-container"],[1,"final-score"],["class","prediction-score",3,"ngClass",4,"ngIf"],[1,"prediction-score",3,"ngClass"],["class","points-badge",4,"ngIf"],[1,"points-badge"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Marcadores"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5),s.EFF(9),s.j41(10,"ion-badge",6),s.EFF(11),s.k0s()()(),s.j41(12,"app-rounds-selector",7),s.bIt("roundChange",function(d){return o.onRoundChange(d)}),s.k0s(),s.DNE(13,zG,5,1,"div",8),s.DNE(14,FG,4,0,"div",9),s.DNE(15,BG,4,1,"ion-text",10),s.DNE(16,VG,5,1,"ion-text",11),s.DNE(17,$G,3,1,"div",12),s.k0s()),2&i&&(s.R7$(9),s.SpI(" ",o.getRoundStatus()," "),s.R7$(1),s.Y8G("color",o.isLiveRound?"success":o.isRoundFinished?"medium":"warning"),s.R7$(1),s.SpI(" ",o.isLiveRound?"ACTIVA EN ESTOS MOMENTOS":o.isRoundFinished?"FINALIZADA":"PROGRAMADA"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error&&o.matches.length>0),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.error&&!o.isRateLimited),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[jo,ro,ui,$1,Gr,js,ma,vr,G1,m0,ms,va,Fo,vs,Hc,x0,ec,Sr,wa,ya,lv,Zn],styles:[".week-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding:12px;background:var(--ion-color-light);border-radius:12px;box-shadow:0 2px 8px #0000001a}.total-points[_ngcontent-%COMP%]{margin:20px 0}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;background:var(--ion-color-primary)}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:600;margin:0}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;padding-bottom:8px}.match-status[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;padding:6px 12px;border-radius:20px;font-size:.8em;font-weight:500;text-align:center}.match-status.live-status[_ngcontent-%COMP%]{background:var(--ion-color-success);animation:_ngcontent-%COMP%_pulse 2s infinite}.match-date[_ngcontent-%COMP%]{text-align:center;font-size:.9em;color:var(--ion-color-medium);margin-top:24px}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:35%}.team-logo[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px;object-fit:contain}.team-name[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:500}.scores-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%;gap:12px}.final-score[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:8px;color:var(--ion-color-dark)}.final-score.live[_ngcontent-%COMP%]{color:var(--ion-color-success)}.prediction-score[_ngcontent-%COMP%]{font-size:.9em;padding:8px;border-radius:8px;text-align:center;position:relative;width:100%;background:rgba(var(--ion-color-medium-rgb),.1);border:1px solid transparent}.prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);border-color:var(--ion-color-success);color:var(--ion-color-success)}.prediction-score.exact-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);border-color:var(--ion-color-warning);color:var(--ion-color-warning)}.prediction-score.partial-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);border-color:var(--ion-color-danger);color:var(--ion-color-danger)}.prediction-score.no-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background:var(--ion-color-primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:.8em;font-weight:500}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.8)}.dark[_nghost-%COMP%]   .final-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .final-score[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)}.dark[_nghost-%COMP%]   .prediction-score.exact-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.15);border-color:var(--ion-color-success);color:var(--ion-color-success-tint)}.dark[_nghost-%COMP%]   .prediction-score.partial-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.15);border-color:var(--ion-color-warning);color:var(--ion-color-warning-tint)}.dark[_nghost-%COMP%]   .prediction-score.no-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15);border-color:var(--ion-color-danger);color:var(--ion-color-danger-tint)}"]})}}return n})();function KG(n,t){if(1&n&&(s.j41(0,"div",2),s.nrm(1,"ion-icon",3),s.k0s()),2&n){const e=t.$implicit,i=s.XpG();s.HbH(i.getResultClass(e)),s.R7$(1),s.Y8G("name",i.getResultIcon(e))}}let WG=(()=>{class n{constructor(){this.form=""}getFormArray(){return this.form?this.form.split("").reverse():[]}getResultClass(e){switch(e.toUpperCase()){case"W":return"win";case"D":return"draw";case"L":return"loss";default:return""}}getResultIcon(e){switch(e.toUpperCase()){case"W":return"checkmark";case"D":return"remove";case"L":return"close";default:return""}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-team-form"]],inputs:{form:"form"},decls:2,vars:1,consts:[[1,"form-display"],["class","form-item",3,"class",4,"ngFor","ngForOf"],[1,"form-item"],[3,"name"]],template:function(i,o){1&i&&(s.j41(0,"div",0),s.DNE(1,KG,2,3,"div",1),s.k0s()),2&i&&(s.R7$(1),s.Y8G("ngForOf",o.getFormArray()))},dependencies:[ro,Fo],styles:[".form-display[_ngcontent-%COMP%]{display:flex;gap:4px;justify-content:center;margin-top:4px}.form-item[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center}.form-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px;color:#fff}.form-item.win[_ngcontent-%COMP%]{background-color:#2dd36f}.form-item.draw[_ngcontent-%COMP%]{background-color:#92949c}.form-item.loss[_ngcontent-%COMP%]{background-color:#eb445a}@media (min-width: 768px){.form-item[_ngcontent-%COMP%]{width:24px;height:24px}.form-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}"]})}}return n})();function qG(n,t){if(1&n&&(s.j41(0,"div",9)(1,"div",10),s.EFF(2,"Resultado actual:"),s.k0s(),s.j41(3,"div",11),s.EFF(4),s.k0s(),s.j41(5,"div",12),s.EFF(6),s.k0s()()),2&n){const e=s.XpG();let i;s.R7$(4),s.Lme(" ",null!==(i=e.match.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.match.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.AVh("live","LIVE"===e.match.status.short),s.R7$(1),s.SpI(" ","LIVE"===e.match.status.short?"EN VIVO":"FINAL"," ")}}function XG(n,t){if(1&n&&(s.j41(0,"div",10),s.EFF(1),s.k0s()),2&n){const e=s.XpG();s.R7$(1),s.SpI(" ",e.isCompleted?"Tu Pron\xf3stico:":e.canEdit?"A\xfan puedes predecir:":"Ingresa tu Pron\xf3stico:"," ")}}function YG(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.incrementScore("home"))}),s.nrm(4,"ion-icon",17),s.k0s(),s.j41(5,"span",18),s.EFF(6),s.k0s(),s.j41(7,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.decrementScore("home"))}),s.nrm(8,"ion-icon",19),s.k0s()()(),s.j41(9,"div",20),s.EFF(10,"-"),s.k0s(),s.j41(11,"div",14)(12,"div",15)(13,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.incrementScore("away"))}),s.nrm(14,"ion-icon",17),s.k0s(),s.j41(15,"span",18),s.EFF(16),s.k0s(),s.j41(17,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.decrementScore("away"))}),s.nrm(18,"ion-icon",19),s.k0s()()()()}if(2&n){const e=s.XpG();let i,o;s.R7$(3),s.Y8G("disabled",99===e.prediction.homeScore),s.R7$(3),s.JRh(null!==(i=e.prediction.homeScore)&&void 0!==i?i:0),s.R7$(1),s.Y8G("disabled",0===e.prediction.homeScore),s.R7$(6),s.Y8G("disabled",99===e.prediction.awayScore),s.R7$(3),s.JRh(null!==(o=e.prediction.awayScore)&&void 0!==o?o:0),s.R7$(1),s.Y8G("disabled",0===e.prediction.awayScore)}}function QG(n,t){if(1&n&&(s.j41(0,"div",22),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2);s.R7$(1),s.SpI(" ",e.getPoints()," pts ")}}function JG(n,t){if(1&n&&(s.j41(0,"div",11),s.EFF(1),s.DNE(2,QG,2,1,"div",21),s.k0s()),2&n){const e=s.XpG();let i;s.R7$(1),s.Lme(" ",null!==(i=e.prediction.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.prediction.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.Y8G("ngIf","FT"===e.match.status.short)}}function ZG(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",23)(1,"div",24),s.EFF(2,"Resultados comunes:"),s.k0s(),s.j41(3,"div",25)(4,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(1,0))}),s.EFF(5," 1-0 "),s.k0s(),s.j41(6,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(2,1))}),s.EFF(7," 2-1 "),s.k0s(),s.j41(8,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(0,0))}),s.EFF(9," 0-0 "),s.k0s(),s.j41(10,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(1,1))}),s.EFF(11," 1-1 "),s.k0s(),s.j41(12,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(2,2))}),s.EFF(13," 2-2 "),s.k0s()()()}}function eK(n,t){1&n&&(s.j41(0,"div",27)(1,"ion-text",28)(2,"small"),s.EFF(3,"Los pron\xf3sticos est\xe1n cerrados para este partido"),s.k0s()()())}let tK=(()=>{class n{constructor(){this.canPredict=!1,this.canEdit=!1,this.isCompleted=!1,this.predictionChange=new s.bkB}ngOnInit(){this.prediction&&this.canPredict&&(null===this.prediction.homeScore&&(this.prediction.homeScore=0),null===this.prediction.awayScore&&(this.prediction.awayScore=0),this.predictionChange.emit(this.prediction))}getScoreClass(){return this.isCompleted?this.isExactMatch()?"exact-match":this.isPartialMatch()?"partial-match":"no-match":""}getPoints(){return this.isCompleted?this.isExactMatch()?3:this.isPartialMatch()?1:0:0}incrementScore(e){!this.canPredict&&!this.canEdit||("home"===e?this.prediction.homeScore=(this.prediction.homeScore??0)+1:this.prediction.awayScore=(this.prediction.awayScore??0)+1,this.onScoreChange())}decrementScore(e){!this.canPredict&&!this.canEdit||("home"===e&&(this.prediction.homeScore??0)>0?this.prediction.homeScore=(this.prediction.homeScore??1)-1:"away"===e&&(this.prediction.awayScore??0)>0&&(this.prediction.awayScore=(this.prediction.awayScore??1)-1),this.onScoreChange())}setQuickScore(e,i){!this.canPredict&&!this.canEdit||(this.prediction.homeScore=e,this.prediction.awayScore=i,this.onScoreChange())}isExactMatch(){return this.match.homeScore===this.prediction.homeScore&&this.match.awayScore===this.prediction.awayScore}isPartialMatch(){return null!==this.match.homeScore&&null!==this.match.awayScore&&null!==this.prediction.homeScore&&null!==this.prediction.awayScore&&Math.sign(this.match.homeScore-this.match.awayScore)===Math.sign(this.prediction.homeScore-this.prediction.awayScore)}onScoreChange(){(this.canPredict||this.canEdit)&&this.predictionChange.emit(this.prediction)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-match-prediction"]],inputs:{match:"match",prediction:"prediction",canPredict:"canPredict",canEdit:"canEdit",isCompleted:"isCompleted"},outputs:{predictionChange:"predictionChange"},decls:9,vars:7,consts:[[1,"prediction-container"],[1,"score-section"],["class","actual-score",4,"ngIf"],[1,"prediction-score",3,"ngClass"],["class","score-label",4,"ngIf"],["class","score-input-vertical",4,"ngIf"],["class","score-display",4,"ngIf"],["class","quick-scores",4,"ngIf"],["class","prediction-status",4,"ngIf"],[1,"actual-score"],[1,"score-label"],[1,"score-display"],[1,"status-badge"],[1,"score-input-vertical"],[1,"team-score"],[1,"score-controls"],["fill","clear",3,"disabled","click"],["name","add-circle-outline"],[1,"score-value"],["name","remove-circle-outline"],[1,"score-separator"],["class","points-badge",4,"ngIf"],[1,"points-badge"],[1,"quick-scores"],[1,"quick-score-label"],[1,"quick-score-buttons"],["fill","clear","size","small",3,"click"],[1,"prediction-status"],["color","danger"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"div",1),s.DNE(2,qG,7,5,"div",2),s.j41(3,"div",3),s.DNE(4,XG,2,1,"div",4),s.DNE(5,YG,19,6,"div",5),s.DNE(6,JG,3,3,"div",6),s.DNE(7,ZG,14,0,"div",7),s.k0s()(),s.DNE(8,eK,4,0,"div",8),s.k0s()),2&i&&(s.R7$(2),s.Y8G("ngIf","FT"===o.match.status.short||"LIVE"===o.match.status.short),s.R7$(1),s.Y8G("ngClass",o.getScoreClass()),s.R7$(1),s.Y8G("ngIf",o.canPredict||o.canEdit||o.isCompleted),s.R7$(1),s.Y8G("ngIf",!o.isCompleted&&o.canPredict||o.canEdit),s.R7$(1),s.Y8G("ngIf",o.isCompleted),s.R7$(1),s.Y8G("ngIf",!o.isCompleted&&o.canPredict||o.canEdit),s.R7$(1),s.Y8G("ngIf",!o.canPredict&&!o.canEdit&&!o.isCompleted))},dependencies:[jo,ui,Gr,Fo,ec],styles:[".prediction-container[_ngcontent-%COMP%]{padding:8px;border-radius:12px;background:var(--ion-color-light);width:82%;max-width:320px;margin:0 auto;overflow:hidden}.score-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.score-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium);margin-bottom:8px;text-align:center;font-weight:500}.actual-score[_ngcontent-%COMP%], .prediction-score[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background:white;position:relative;width:100%}.score-display[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;text-align:center;margin:8px 0}.status-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;padding:2px 6px;border-radius:10px;font-size:.7em;font-weight:500;background:var(--ion-color-medium);color:#fff}.status-badge.live[_ngcontent-%COMP%]{background:var(--ion-color-success);animation:_ngcontent-%COMP%_pulse 2s infinite}.score-input-vertical[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:8px;background:var(--ion-color-light);border-radius:8px;margin:8px 0}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 2px;--padding-end: 2px;height:24px;width:24px;margin:0}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--ion-color-primary)}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:disabled   ion-icon[_ngcontent-%COMP%]{opacity:.5}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;min-width:28px;text-align:center;color:var(--ion-color-dark);padding:2px 0}.score-input-vertical[_ngcontent-%COMP%]   .score-separator[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--ion-color-medium);margin:0 4px;align-self:center}.quick-scores[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(var(--ion-color-medium-rgb),.2)}.quick-scores[_ngcontent-%COMP%]   .quick-score-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium);margin-bottom:8px;text-align:center;font-weight:500}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:4px}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;height:26px;font-size:.8em;--color: var(--ion-color-primary);font-weight:500}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-color-primary-rgb), .1)}.prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);border:1px solid var(--ion-color-success)}.prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);border:1px solid var(--ion-color-warning)}.prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);border:1px solid var(--ion-color-danger)}.points-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:var(--ion-color-primary);color:#fff;padding:2px 8px;border-radius:10px;font-size:.75em;font-weight:500}.prediction-status[_ngcontent-%COMP%]{text-align:center;margin-top:6px;font-style:italic;font-size:.9em;color:var(--ion-color-danger)}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.6}to{opacity:1}}.dark[_nghost-%COMP%]   .actual-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .actual-score[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%]{background:rgba(255,255,255,.05)}.dark[_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]{background:rgba(255,255,255,.1)}.dark[_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{color:var(--ion-color-light)}@media (max-width: 768px){.prediction-container[_ngcontent-%COMP%]{padding:6px;max-width:280px}.score-input-vertical[_ngcontent-%COMP%]{gap:8px;padding:6px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:22px;width:22px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:18px;min-width:24px}.score-input-vertical[_ngcontent-%COMP%]   .score-separator[_ngcontent-%COMP%]{font-size:18px}.score-display[_ngcontent-%COMP%]{font-size:1.2em}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:24px;font-size:.75em}}"]})}}return n})();function nK(n,t){1&n&&(s.j41(0,"div",13),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function iK(n,t){if(1&n&&(s.j41(0,"ion-text",14),s.nrm(1,"ion-icon",15),s.j41(2,"p"),s.EFF(3),s.k0s()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function oK(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",16)(1,"p"),s.EFF(2),s.k0s(),s.j41(3,"ion-button",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar "),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(2),s.JRh(e.error)}}function rK(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",18)(1,"p"),s.EFF(2," No hay conexi\xf3n a internet. Algunos datos pueden no estar actualizados. "),s.k0s(),s.j41(3,"ion-button",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar Conexi\xf3n "),s.k0s()()}}function sK(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);s.R7$(1),s.Lme(" ",e.homeTeamPosition,"",i.getOrdinalSuffix(e.homeTeamPosition)," Lugar de la Tabla ")}}function aK(n,t){if(1&n&&s.nrm(0,"app-team-form",32),2&n){const e=s.XpG().$implicit;s.Y8G("form",e.homeTeamForm)}}function cK(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);s.R7$(1),s.Lme(" ",e.awayTeamPosition,"",i.getOrdinalSuffix(e.awayTeamPosition)," Lugar de la Tabla ")}}function lK(n,t){if(1&n&&s.nrm(0,"app-team-form",32),2&n){const e=s.XpG().$implicit;s.Y8G("form",e.awayTeamForm)}}function uK(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-item")(1,"ion-card",22)(2,"ion-card-content")(3,"div",23)(4,"div",24),s.nrm(5,"img",25),s.j41(6,"div",26),s.EFF(7),s.k0s(),s.DNE(8,sK,2,2,"div",27),s.DNE(9,aK,1,1,"app-team-form",28),s.k0s(),s.j41(10,"app-match-prediction",29),s.bIt("predictionChange",function(o){const d=s.eBV(e).$implicit,p=s.XpG(2);return s.Njj(p.onPredictionChange(d,o))}),s.k0s(),s.j41(11,"div",24),s.nrm(12,"img",25),s.j41(13,"div",26),s.EFF(14),s.k0s(),s.DNE(15,cK,2,2,"div",27),s.DNE(16,lK,1,1,"app-team-form",28),s.k0s()(),s.j41(17,"ion-card-header",30)(18,"ion-card-subtitle"),s.EFF(19),s.nI1(20,"date"),s.nI1(21,"date"),s.nrm(22,"br"),s.j41(23,"small"),s.EFF(24),s.k0s()()()()()()}if(2&n){const e=t.$implicit,i=s.XpG(2);s.R7$(5),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(1),s.Y8G("ngIf",e.homeTeamPosition),s.R7$(1),s.Y8G("ngIf",e.homeTeamForm),s.R7$(1),s.Y8G("match",e)("prediction",e.prediction)("canPredict",e.canPredict)("isCompleted",i.hasPredictions),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam),s.R7$(1),s.Y8G("ngIf",e.awayTeamPosition),s.R7$(1),s.Y8G("ngIf",e.awayTeamForm),s.R7$(3),s.Lme(" ",s.ii3(20,18,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(21,23,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,"")}}function dK(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-button",33),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.submitPredictions())}),s.EFF(1," Guardar Predicciones "),s.k0s()}if(2&n){const e=s.XpG(2);s.Y8G("disabled",e.isSubmitDisabled())}}function hK(n,t){if(1&n&&(s.j41(0,"div",19)(1,"ion-list"),s.DNE(2,uK,25,28,"ion-item",20),s.k0s(),s.DNE(3,dK,2,1,"ion-button",21),s.k0s()),2&n){const e=s.XpG();s.R7$(2),s.Y8G("ngForOf",e.matches),s.R7$(1),s.Y8G("ngIf",!e.hasPredictions)}}let fK=(()=>{class n{constructor(e,i,o,l,d,p,v,M){this.footballService=e,this.databaseService=i,this.authService=o,this.toastController=l,this.loadingController=d,this.alertController=p,this.connectionService=v,this.adsService=M,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(b,T)=>T+1),this.userId=null,this.isOffline=!1,this.hasPredictions=!1,this.weeklyPoints=0,this.isRateLimited=!1,this.savingPredictions=!1,this.isLiveRound=!1}ngOnInit(){this.authService.user$.subscribe(e=>{this.userId=e?e.uid:null,this.userId?this.findPendingRound():(this.error="Usuario no autenticado",this.loading=!1)}),this.connectionService.getOnlineStatus().subscribe(e=>{this.isOffline=!e})}getOrdinalSuffix(e){return this.footballService.getOrdinalSuffix(e)}findPendingRound(){var e=this;return(0,le.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i;for(let o=i;o<=17;o++){const l=yield io(e.footballService.getMatches(o)),d=new Date;if(l.filter(v=>new Date(v.date)>d&&"NS"===v.status.short).length>0)return e.selectedRound=o,void(yield e.loadMatches())}e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding pending round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}getWeekTitle(){return"Estatus de tu Quiniela para esta Jornada: "}onPredictionChange(e,i){e.prediction=i}onRoundChange(e){this.selectedRound=e,this.loadMatches()}canPredictMatch(e){const i=new Date,o=new Date(e.date);return"FT"!==e.status.short&&"LIVE"!==e.status.short&&"HT"!==e.status.short&&("NS"===e.status.short||o.getTime()-i.getTime()>3e5)}isSubmitDisabled(){const e=this.matches.filter(i=>i.canPredict);return 0===e.length||!e.some(i=>null!==i.prediction?.homeScore&&null!==i.prediction?.awayScore)}loadMatches(){var e=this;return(0,le.A)(function*(){if(e.loading=!0,e.error=null,e.weeklyPoints=0,e.isRateLimited=!1,e.userId)try{const[i,o]=yield Promise.all([io(e.footballService.getMatches(e.selectedRound)),io(e.databaseService.getPredictions(e.userId,e.selectedRound.toString()))]),l=o.filter(d=>d.matchId&&null!==d.homeScore&&null!==d.awayScore);e.hasPredictions=l.length>0,e.isLiveRound=i.some(d=>"LIVE"===d.status.short||"HT"===d.status.short),e.matches=i.map(d=>{const p=o.find(M=>M.matchId===d.id),v=e.canPredictMatch(d);return{...d,prediction:{homeScore:p?.homeScore??null,awayScore:p?.awayScore??null},canPredict:v}}),e.hasPredictions&&(e.weeklyPoints=o.reduce((d,p)=>d+(p.points||0),0)),e.loading=!1,e.isOffline=!1,0===e.matches.length&&(e.error="No hay partidos programados para esta jornada.")}catch(i){console.error("Error loading matches:",i),2100===i.error?.code?(e.isRateLimited=!0,e.error="Se ha alcanzado el l\xedmite de la API. Los datos mostrados pueden no estar actualizados.",yield e.showToast("L\xedmite de API alcanzado. Se muestran datos en cach\xe9.","warning")):(e.error="Error al cargar los partidos. Por favor intente nuevamente.",e.isOffline=!0,yield e.showOfflineAlert()),e.loading=!1}else e.error="Usuario no autenticado",e.loading=!1})()}submitPredictions(){var e=this;return(0,le.A)(function*(){if(!e.userId)return void(yield e.showAlert("Error","Usuario no autenticado"));if(e.isOffline)return void(yield e.showAlert("Sin conexi\xf3n","No hay conexi\xf3n a internet. Por favor intente nuevamente cuando tenga conexi\xf3n."));let i=null;e.savingPredictions=!0;try{i=yield e.loadingController.create({message:"Guardando predicciones...",spinner:"crescent"}),yield i.present();const o=e.matches.filter(l=>l.canPredict&&null!==l.prediction?.homeScore&&null!==l.prediction?.awayScore).map(l=>({matchId:l.id,homeScore:l.prediction.homeScore,awayScore:l.prediction.awayScore}));if(0===o.length)throw new Error("No hay predicciones v\xe1lidas para guardar");yield e.databaseService.savePredictions(e.userId,e.selectedRound.toString(),o,0),yield e.showToast(`Se guardaron ${o.length} predicciones exitosamente`,"success"),yield e.adsService.showInterstitial(),yield e.loadMatches()}catch(o){console.error("Error saving predictions:",o),yield e.showToast("string"==typeof o?o:"Error al guardar las predicciones. Por favor intente nuevamente.","danger")}finally{e.savingPredictions=!1,i&&(yield i.dismiss())}})()}showAlert(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.alertController.create({header:e,message:i,buttons:["OK"]})).present()})()}showOfflineAlert(){var e=this;return(0,le.A)(function*(){yield(yield e.alertController.create({header:"Modo Sin Conexi\xf3n",message:"Actualmente est\xe1 sin conexi\xf3n. Algunas funciones pueden estar limitadas.",buttons:["OK"]})).present()})()}showToast(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i,buttons:[{text:"OK",role:"cancel"}]})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(ol),s.rXU(rl),s.rXU(xs),s.rXU(Kr),s.rXU(bu),s.rXU(M0),s.rXU(ev),s.rXU(zb))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-pools"]],decls:18,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"week-header"],[1,"round-badge"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","loading-container",4,"ngIf"],["color","warning","class","rate-limit-warning",4,"ngIf"],["color","danger",4,"ngIf"],["color","warning",4,"ngIf"],["class","matches-container",4,"ngIf"],[1,"loading-container"],["color","warning",1,"rate-limit-warning"],["name","warning-outline"],["color","danger"],["size","small","fill","outline",3,"click"],["color","warning"],[1,"matches-container"],[4,"ngFor","ngForOf"],["expand","block","class","submit-button",3,"disabled","click",4,"ngIf"],[1,"match-card"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],["class","team-position",4,"ngIf"],[3,"form",4,"ngIf"],[3,"match","prediction","canPredict","isCompleted","predictionChange"],["align","center"],[1,"team-position"],[3,"form"],["expand","block",1,"submit-button",3,"disabled","click"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Sube tu Quiniela"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5),s.EFF(9),s.j41(10,"ion-badge",6),s.EFF(11),s.k0s()()(),s.j41(12,"app-rounds-selector",7),s.bIt("roundChange",function(d){return o.onRoundChange(d)}),s.k0s(),s.DNE(13,nK,4,0,"div",8),s.DNE(14,iK,4,1,"ion-text",9),s.DNE(15,oK,5,1,"ion-text",10),s.DNE(16,rK,5,0,"ion-text",11),s.DNE(17,hK,4,2,"div",12),s.k0s()),2&i&&(s.R7$(9),s.SpI(" ",o.getWeekTitle()," "),s.R7$(1),s.Y8G("color",o.hasPredictions?"success":"warning"),s.R7$(1),s.SpI(" ",o.hasPredictions?"COMPLETADA":"PENDIENTE"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.error&&!o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.isOffline),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[ro,ui,$1,Gr,js,ma,vr,G1,m0,ms,va,Fo,vs,Hc,x0,ec,Sr,wa,ya,lv,WG,tK,Zn],styles:[".week-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding:12px;background:var(--ion-color-light);border-radius:12px;box-shadow:0 2px 8px #0000001a}.week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;font-size:1em;font-weight:500;color:var(--ion-text-color)}.week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{font-size:.75em;padding:4px 8px;border-radius:12px}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;padding-bottom:8px}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 8px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%}.team-logo[_ngcontent-%COMP%]{width:36px;height:36px;margin-bottom:8px;object-fit:contain}.team-name[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:500;margin-bottom:4px;color:var(--ion-text-color)}.team-position[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:var(--ion-color-medium);background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:10px;margin-top:2px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}.submit-button[_ngcontent-%COMP%]{margin:16px;--border-radius: 8px;--padding-top: 14px;--padding-bottom: 14px;font-weight:600;font-size:.95em;letter-spacing:.5px}.submit-button.button-disabled[_ngcontent-%COMP%]{opacity:.7}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.8)}.dark[_nghost-%COMP%]   .team-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team-name[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .team-position[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team-position[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2);color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)!important}@media (min-width: 768px){.teams[_ngcontent-%COMP%]{padding:16px}.team[_ngcontent-%COMP%]{width:35%}.team-logo[_ngcontent-%COMP%]{width:48px;height:48px}.team-name[_ngcontent-%COMP%]{font-size:16px}.team-position[_ngcontent-%COMP%]{font-size:12px}.submit-button[_ngcontent-%COMP%]{margin:20px;--padding-top: 16px;--padding-bottom: 16px;font-size:1em}}@media (min-width: 992px){.team-logo[_ngcontent-%COMP%]{width:54px;height:54px}.team-name[_ngcontent-%COMP%]{font-size:18px}.team-position[_ngcontent-%COMP%]{font-size:14px}}"]})}}return n})();function gK(n,t){if(1&n&&(s.j41(0,"div",14)(1,"ion-card")(2,"ion-card-content")(3,"h2"),s.EFF(4),s.k0s()()()()),2&n){const e=s.XpG();s.R7$(4),s.SpI("Total de Puntos: ",e.totalPoints,"")}}function pK(n,t){1&n&&(s.j41(0,"div",15),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function mK(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",16)(1,"ion-text",17)(2,"p"),s.EFF(3),s.k0s(),s.j41(4,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(5," Reintentar "),s.k0s()()()}if(2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function vK(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",19)(1,"ion-text",20)(2,"p"),s.EFF(3,"No hay conexi\xf3n a internet. Algunos datos pueden no estar actualizados."),s.k0s(),s.j41(4,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.retryConnection())}),s.EFF(5," Reintentar Conexi\xf3n "),s.k0s()()()}}function wK(n,t){if(1&n&&(s.j41(0,"div",32),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2).$implicit;s.R7$(1),s.SpI(" ",e.points," pts ")}}function yK(n,t){if(1&n&&(s.j41(0,"div",30),s.EFF(1),s.DNE(2,wK,2,1,"div",31),s.k0s()),2&n){const e=s.XpG().$implicit;s.R7$(1),s.Lme(" Tu Pron\xf3stico: ",e.predictedHomeScore," - ",e.predictedAwayScore," "),s.R7$(1),s.Y8G("ngIf",void 0!==e.points)}}function _K(n,t){if(1&n&&(s.j41(0,"ion-item")(1,"ion-card",22)(2,"ion-card-header")(3,"ion-card-subtitle"),s.EFF(4),s.nI1(5,"date"),s.nI1(6,"date"),s.nrm(7,"br"),s.j41(8,"small"),s.EFF(9),s.k0s()()(),s.j41(10,"ion-card-content")(11,"div",23)(12,"div",24),s.nrm(13,"img",25),s.j41(14,"div",26),s.EFF(15),s.k0s()(),s.j41(16,"div",27)(17,"div",28),s.EFF(18),s.k0s(),s.DNE(19,yK,3,3,"div",29),s.k0s(),s.j41(20,"div",24),s.nrm(21,"img",25),s.j41(22,"div",26),s.EFF(23),s.k0s()()()()()()),2&n){const e=t.$implicit;let i;s.R7$(4),s.Lme(" ",s.ii3(5,13,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(6,18,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,""),s.R7$(4),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(3),s.Lme(" ",null!==(i=e.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.Y8G("ngIf",void 0!==e.predictedHomeScore),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam)}}function xK(n,t){if(1&n&&(s.j41(0,"ion-list"),s.DNE(1,_K,24,23,"ion-item",21),s.k0s()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngForOf",e.matches)}}let MK=(()=>{class n{constructor(e,i,o,l,d){this.footballService=e,this.databaseService=i,this.authService=o,this.alertController=l,this.toastController=d,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(p,v)=>v+1),this.userId=null,this.isOffline=!1,this.totalPoints=0,this.isLiveRound=!1,this.isRoundFinished=!1}ngOnInit(){var e=this;this.authService.user$.subscribe(function(){var i=(0,le.A)(function*(o){e.userId=o?o.uid:null,e.userId?yield e.findCurrentRound():(e.error="Usuario no autenticado",e.loading=!1)});return function(o){return i.apply(this,arguments)}}())}findCurrentRound(){var e=this;return(0,le.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i,e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding current round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}onRoundChange(e){this.selectedRound=e,this.loadMatches()}loadMatches(){var e=this;return(0,le.A)(function*(){if(e.loading=!0,e.error=null,e.userId)try{const i=yield io(e.footballService.getMatches(e.selectedRound)),o=yield io(e.databaseService.getPredictions(e.userId,e.selectedRound.toString()));e.isLiveRound=i.some(d=>"LIVE"===d.status.short||"HT"===d.status.short);const l=i.filter(d=>"FT"===d.status.short||"AET"===d.status.short||"PEN"===d.status.short);e.isRoundFinished=l.length===i.length,e.matches=i.map(d=>{const p=o.find(M=>M.matchId===d.id);return{...d,predictedHomeScore:p?.homeScore??null,predictedAwayScore:p?.awayScore??null,points:e.calculatePoints(d,p)}}),e.totalPoints=e.matches.reduce((d,p)=>d+p.points,0),e.loading=!1,e.isOffline=!1,0===e.matches.length&&(e.error="No hay partidos para la jornada seleccionada.")}catch(i){console.error("Error fetching matches or predictions:",i),e.isOffline=!0,yield e.showOfflineAlert(),e.error="Error al cargar los datos. Por favor intente nuevamente.",e.loading=!1}else e.error="Usuario no autenticado",e.loading=!1})()}calculatePoints(e,i){if(!i||null===i.homeScore||null===i.awayScore||null===e.homeScore||null===e.awayScore)return 0;const o=e.homeScore,l=e.awayScore;return o===i.homeScore&&l===i.awayScore?3:Math.sign(o-l)===Math.sign(i.homeScore-i.awayScore)?1:0}getRoundStatus(){return this.isLiveRound?"Jornada en curso":this.isRoundFinished?"Jornada finalizada":`Jornada ${this.selectedRound}`}showOfflineAlert(){var e=this;return(0,le.A)(function*(){yield(yield e.alertController.create({header:"Modo Sin Conexi\xf3n",message:"Actualmente est\xe1 sin conexi\xf3n. Algunas funciones pueden estar limitadas.",buttons:["OK"]})).present()})()}retryConnection(){var e=this;return(0,le.A)(function*(){yield(yield e.toastController.create({message:"Intentando reconectar...",duration:2e3})).present(),yield e.loadMatches()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(ol),s.rXU(rl),s.rXU(xs),s.rXU(M0),s.rXU(Kr))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-points"]],decls:19,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[1,"points-container"],[1,"round-info"],[1,"round-status"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","total-points",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","offline-container",4,"ngIf"],[4,"ngIf"],[1,"total-points"],[1,"loading-container"],[1,"error-container"],["color","danger"],["size","small","fill","outline",3,"click"],[1,"offline-container"],["color","warning"],[4,"ngFor","ngForOf"],[1,"match-card"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],[1,"scores-container"],[1,"final-score"],["class","prediction-score",4,"ngIf"],[1,"prediction-score"],["class","points-badge",4,"ngIf"],[1,"points-badge"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Mis Puntos"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"div",6),s.EFF(10),s.j41(11,"ion-badge",7),s.EFF(12),s.k0s()()(),s.j41(13,"app-rounds-selector",8),s.bIt("roundChange",function(d){return o.onRoundChange(d)}),s.k0s(),s.DNE(14,gK,5,1,"div",9),s.DNE(15,pK,4,0,"div",10),s.DNE(16,mK,6,1,"div",11),s.DNE(17,vK,6,0,"div",12),s.DNE(18,xK,2,1,"ion-list",13),s.k0s()()),2&i&&(s.R7$(10),s.SpI(" ",o.getRoundStatus()," "),s.R7$(1),s.Y8G("color",o.isLiveRound?"success":o.isRoundFinished?"medium":"warning"),s.R7$(1),s.SpI(" ",o.isLiveRound?"EN VIVO":o.isRoundFinished?"FINALIZADA":"PROGRAMADA"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error&&o.matches.length>0),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error),s.R7$(1),s.Y8G("ngIf",o.isOffline),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[ro,ui,$1,Gr,js,ma,vr,G1,m0,ms,va,vs,Hc,x0,ec,Sr,wa,ya,lv,Zn],styles:[".points-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.round-info[_ngcontent-%COMP%]{margin:16px 0;padding:16px;background:var(--ion-color-light);border-radius:12px}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:1.1em;font-weight:500;padding:0 8px;color:var(--ion-text-color)}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{font-size:.8em;padding:4px 8px;border-radius:12px}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]   .round-badge.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.total-points[_ngcontent-%COMP%]{margin:20px 0}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;background:var(--ion-color-primary)}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:600;margin:0}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:20px 0}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:10px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:10px}.match-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--inner-padding-end: 0;margin-bottom:16px}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:16px}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium)}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:35%}.team[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px;object-fit:contain}.team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:500;color:var(--ion-text-color)}.scores-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%;position:relative}.scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:8px;color:var(--ion-text-color)}.scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium)}.scores-container[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]{position:absolute;top:-20px;right:-20px;background:var(--ion-color-primary);color:#fff;border-radius:20px;padding:4px 12px;font-weight:700;font-size:.9em}.dark[_nghost-%COMP%]   .round-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1)}.dark[_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.8)}.dark[_nghost-%COMP%]   .team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)!important}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}"]})}}return n})();function CK(n,t){1&n&&(s.j41(0,"div",8),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando participantes..."),s.k0s()())}function bK(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",9)(1,"ion-text",10)(2,"p"),s.EFF(3),s.k0s(),s.j41(4,"ion-button",11),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadUsers())}),s.EFF(5," Reintentar "),s.k0s()()()}if(2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function EK(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Admin"),s.k0s())}function IK(n,t){if(1&n&&(s.j41(0,"ion-item",14)(1,"ion-label")(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p",15),s.EFF(5),s.k0s(),s.j41(6,"p",16),s.EFF(7),s.k0s(),s.DNE(8,EK,2,0,"ion-badge",17),s.k0s()()),2&n){const e=t.$implicit;s.R7$(3),s.Lme("",e.firstName," ",e.lastName,""),s.R7$(2),s.SpI("@",e.username||"sin_usuario",""),s.R7$(2),s.SpI("ID: ",e.uid,""),s.R7$(1),s.Y8G("ngIf",e.isAdmin)}}function AK(n,t){1&n&&(s.j41(0,"div",18),s.nrm(1,"ion-icon",19),s.j41(2,"h2"),s.EFF(3,"No hay participantes registrados"),s.k0s()())}function kK(n,t){if(1&n&&(s.j41(0,"ion-list"),s.DNE(1,IK,9,5,"ion-item",12),s.DNE(2,AK,4,0,"div",13),s.k0s()),2&n){const e=t.ngIf;s.R7$(1),s.Y8G("ngForOf",e),s.R7$(1),s.Y8G("ngIf",0===e.length)}}let SK=(()=>{class n{constructor(e){this.databaseService=e,this.loading=!0,this.error=null,this.users$=new to.c}ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.error=null,this.users$=this.databaseService.getAllUsers(),this.users$.subscribe({next:e=>{this.loading=!1,console.log("Users loaded:",e)},error:e=>{this.loading=!1,this.error="Failed to load users. Please try again.",console.error("Error loading users:",e)}})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(rl))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-user-list"]],decls:12,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[1,"user-list-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"error-container"],["color","danger"],["size","small","fill","outline",3,"click"],["class","user-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"user-item"],[1,"username"],[1,"user-id"],["color","primary",4,"ngIf"],[1,"empty-state"],["name","people-outline",1,"empty-icon"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Participantes"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4),s.DNE(8,CK,4,0,"div",5),s.DNE(9,bK,6,1,"div",6),s.DNE(10,kK,3,2,"ion-list",7),s.nI1(11,"async"),s.k0s()()),2&i&&(s.R7$(8),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error),s.R7$(1),s.Y8G("ngIf",s.bMT(11,3,o.users$)))},dependencies:[ro,ui,$1,Gr,js,ms,va,Fo,vs,jc,Hc,x0,ec,Sr,wa,ya,lt],styles:[".user-list-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}.user-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px;margin-bottom:8px;border-radius:8px}.user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:4px;color:var(--ion-color-dark)}.user-item[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);margin-bottom:4px}.user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);font-family:monospace;background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin-bottom:4px}.user-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-top:4px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-medium);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:18px;font-weight:500}.dark[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)}.dark[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-light)}"]})}}return n})();function DK(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-toolbar",12)(1,"app-rounds-selector",13),s.bIt("roundChange",function(o){s.eBV(e);const l=s.XpG();return s.Njj(l.onRoundChange(o))}),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(1),s.Y8G("selectedRound",e.selectedRound)("currentRound",e.currentRound)("isLiveRound",!1)}}function TK(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG(3);s.R7$(2),s.SpI("Tabla Grupo ",e.currentGroup.name,"")}}function OK(n,t){if(1&n&&(s.j41(0,"div",22)(1,"div",23),s.nrm(2,"img",24),s.j41(3,"div",25),s.EFF(4),s.k0s()(),s.j41(5,"div",23),s.nrm(6,"img",24),s.j41(7,"div",25),s.EFF(8),s.k0s()()()),2&n){const e=t.$implicit;let i,o;s.R7$(2),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(null!==(i=e.homeScore)&&void 0!==i?i:""),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(null!==(o=e.awayScore)&&void 0!==o?o:"")}}function PK(n,t){if(1&n&&(s.qex(0),s.j41(1,"div",29),s.EFF(2),s.k0s(),s.j41(3,"div",29),s.EFF(4),s.k0s(),s.bVm()),2&n){const e=t.ngIf;s.R7$(2),s.JRh(e.homeScore),s.R7$(2),s.JRh(e.awayScore)}}function RK(n,t){1&n&&(s.qex(0),s.j41(1,"div",29),s.EFF(2,"-"),s.k0s(),s.j41(3,"div",29),s.EFF(4,"-"),s.k0s(),s.bVm())}function LK(n,t){if(1&n&&(s.qex(0),s.j41(1,"div",28),s.DNE(2,PK,5,2,"ng-container",11),s.DNE(3,RK,5,0,"ng-container",11),s.k0s(),s.bVm()),2&n){const e=t.$implicit,i=s.XpG().$implicit,o=s.XpG(3);s.R7$(1),s.AVh("exact-match",3===o.getPredictionPoints(i.predictions,e))("partial-match",1===o.getPredictionPoints(i.predictions,e))("no-match",0===o.getPredictionPoints(i.predictions,e))("no-prediction",!o.getPrediction(i.predictions,e))("live","LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short),s.R7$(1),s.Y8G("ngIf",o.getPrediction(i.predictions,e)),s.R7$(1),s.Y8G("ngIf",!o.getPrediction(i.predictions,e))}}function NK(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s(),s.DNE(7,LK,4,12,"ng-container",27),s.k0s()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(3);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.SpI(" ",(e.weeklyPoints||0)+(e.livePoints||0)," "),s.R7$(2),s.JRh(e.username),s.R7$(1),s.Y8G("ngForOf",o.weekMatches)}}function zK(n,t){if(1&n&&(s.qex(0),s.DNE(1,TK,3,1,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Participante"),s.k0s(),s.DNE(10,OK,9,6,"div",19),s.k0s(),s.DNE(11,NK,8,6,"div",20),s.k0s(),s.bVm()),2&n){const e=t.ngIf,i=s.XpG(2);s.R7$(1),s.Y8G("ngIf",i.currentGroup),s.R7$(9),s.Y8G("ngForOf",i.weekMatches),s.R7$(1),s.Y8G("ngForOf",e)}}function FK(n,t){if(1&n&&(s.qex(0),s.DNE(1,zK,12,3,"ng-container",11),s.nI1(2,"async"),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",s.bMT(2,1,e.weeklyLeaderboard$))}}function BK(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG(2);s.R7$(2),s.SpI("Tabla Grupo ",e.currentGroup.name,"")}}function VK(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s()()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(2);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.JRh(e.totalPoints),s.R7$(2),s.JRh(e.username)}}function jK(n,t){if(1&n&&(s.qex(0),s.DNE(1,BK,3,1,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Usuario"),s.k0s()(),s.DNE(10,VK,7,5,"div",20),s.nI1(11,"async"),s.k0s(),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",e.currentGroup),s.R7$(9),s.Y8G("ngForOf",s.bMT(11,2,e.overallLeaderboard$))}}function HK(n,t){1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2,"Tabla Mundial"),s.k0s()())}function UK(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s()()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(2);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.JRh(e.totalPoints),s.R7$(2),s.JRh(e.username)}}function $K(n,t){if(1&n&&(s.qex(0),s.DNE(1,HK,3,0,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Usuario"),s.k0s()(),s.DNE(10,UK,7,5,"div",20),s.nI1(11,"async"),s.k0s(),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",e.currentGroup),s.R7$(9),s.Y8G("ngForOf",s.bMT(11,2,e.globalLeaderboard$))}}let GK=(()=>{class n{constructor(e,i,o,l){this.databaseService=e,this.authService=i,this.footballService=o,this.groupService=l,this.weeklyLeaderboard$=(0,Dt.of)([]),this.overallLeaderboard$=(0,Dt.of)([]),this.globalLeaderboard$=(0,Dt.of)([]),this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.selectedView="weekly",this.weekMatches=[],this.currentUserId=null,this.currentGroup=null,this.isLiveRound=!1}ngOnInit(){var e=this;return(0,le.A)(function*(){e.authService.user$.subscribe(i=>{e.currentUserId=i?.uid||null,i&&e.loadUserGroup()}),yield e.findCurrentRound(),yield e.loadWeekMatches(),e.setupLeaderboards()})()}getPrediction(e,i){return e?e.find(o=>o.matchId===i.id):null}getPredictionPoints(e,i){const o=this.getPrediction(e,i);if(!o||null===o.homeScore||null===o.awayScore||null===i.homeScore||null===i.awayScore)return 0;const l=Math.sign(o.homeScore-o.awayScore),d=Math.sign(i.homeScore-i.awayScore);if("FT"===i.status.short||"LIVE"===i.status.short||"HT"===i.status.short||"1H"===i.status.short||"2H"===i.status.short){if(o.homeScore===i.homeScore&&o.awayScore===i.awayScore)return 3;if(l===d)return 1}return 0}loadUserGroup(){var e=this;return(0,le.A)(function*(){try{const i=yield io(e.groupService.getUserGroups());i.length>0&&(e.currentGroup=i[0],e.setupLeaderboards())}catch(i){console.error("Error loading user group:",i)}})()}findCurrentRound(){var e=this;return(0,le.A)(function*(){try{e.currentRound=yield e.footballService.getCurrentRound(),e.selectedRound=e.currentRound}catch(i){console.error("Error finding current round:",i),e.currentRound=1,e.selectedRound=1}})()}loadWeekMatches(){var e=this;return(0,le.A)(function*(){try{e.weekMatches=yield io(e.footballService.getMatches(e.selectedRound)),e.isLiveRound=e.weekMatches.some(i=>"LIVE"===i.status.short||"HT"===i.status.short||"1H"===i.status.short||"2H"===i.status.short)}catch(i){console.error("Error loading week matches:",i),e.weekMatches=[]}})()}setupLeaderboards(){this.weeklyLeaderboard$=this.databaseService.getAllUsers().pipe((0,Ot.T)(e=>e.filter(i=>!this.currentGroup||this.currentGroup.members.includes(i.uid))),(0,Hn.n)(e=>Ir(e.map(o=>this.databaseService.getPredictions(o.uid,this.selectedRound.toString()).pipe((0,Ot.T)(l=>{let d=0,p=0;return l.forEach(v=>{const M=this.weekMatches.find(b=>b.id===v.matchId);if(M&&null!==v.homeScore&&null!==v.awayScore&&null!==M.homeScore&&null!==M.awayScore){const b=Math.sign(v.homeScore-v.awayScore),T=Math.sign(M.homeScore-M.awayScore),L=v.homeScore===M.homeScore&&v.awayScore===M.awayScore,ee=b===T;"FT"===M.status.short?L?d+=3:ee&&(d+=1):("LIVE"===M.status.short||"HT"===M.status.short||"1H"===M.status.short||"2H"===M.status.short)&&(L?p+=3:ee&&(p+=1))}}),{userId:o.uid,username:o.username||o.email||"Unknown User",totalPoints:0,weeklyPoints:d,livePoints:p,predictions:l.map(v=>({matchId:v.matchId,homeScore:v.homeScore,awayScore:v.awayScore,points:v.points||0}))}}))))),(0,Ot.T)(e=>e.sort((i,o)=>(o.weeklyPoints||0)+(o.livePoints||0)-((i.weeklyPoints||0)+(i.livePoints||0))))),this.overallLeaderboard$=this.databaseService.getAllUsersTotalPoints().pipe((0,Hn.n)(e=>Ir(e.filter(o=>!this.currentGroup||this.currentGroup.members.includes(o.userId)).map(o=>this.databaseService.getAllUsers().pipe((0,Ot.T)(l=>{const d=l.find(p=>p.uid===o.userId);return{userId:o.userId,username:d?.username||d?.email||"Unknown User",totalPoints:o.totalPoints,weeklyPoints:0}}))))),(0,Ot.T)(e=>e.sort((i,o)=>o.totalPoints-i.totalPoints))),this.globalLeaderboard$=this.databaseService.getAllUsersTotalPoints().pipe((0,Hn.n)(e=>Ir(e.map(o=>this.databaseService.getAllUsers().pipe((0,Ot.T)(l=>{const d=l.find(p=>p.uid===o.userId);return{userId:o.userId,username:d?.username||d?.email||"Unknown User",totalPoints:o.totalPoints,weeklyPoints:0}}))))),(0,Ot.T)(e=>e.sort((i,o)=>o.totalPoints-i.totalPoints)))}onRoundChange(e){var i=this;return(0,le.A)(function*(){i.selectedRound=e,yield i.loadWeekMatches(),i.setupLeaderboards()})()}onViewChange(){this.setupLeaderboards()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(rl),s.rXU(xs),s.rXU(ol),s.rXU(cv))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-leaderboard"]],decls:26,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],["mode","ios",1,"custom-segment",3,"ngModel","ngModelChange","ionChange"],["value","weekly"],["name","calendar-outline"],["value","overall"],["name","trophy-outline"],["value","global"],["name","globe-outline"],["color","light",4,"ngIf"],[4,"ngIf"],["color","light"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","group-info",4,"ngIf"],[1,"matches-grid"],[1,"grid-header"],[1,"pos-col"],[1,"user-col"],["class","matches-col",4,"ngFor","ngForOf"],["class","grid-row",3,"current-user",4,"ngFor","ngForOf"],[1,"group-info"],[1,"matches-col"],[1,"team-container"],[1,"team-logo",3,"src","alt"],[1,"score"],[1,"grid-row"],[4,"ngFor","ngForOf"],[1,"prediction-col"],[1,"pred-score"]],template:function(i,o){1&i&&(s.j41(0,"ion-header"),s.nrm(1,"br"),s.j41(2,"ion-toolbar",0)(3,"ion-buttons",1),s.nrm(4,"ion-back-button",2),s.k0s(),s.j41(5,"ion-title"),s.EFF(6,"Tabla General"),s.k0s()(),s.j41(7,"ion-toolbar",0)(8,"ion-segment",3),s.bIt("ngModelChange",function(d){return o.selectedView=d})("ionChange",function(){return o.onViewChange()}),s.j41(9,"ion-segment-button",4)(10,"ion-label"),s.nrm(11,"ion-icon",5),s.EFF(12," Jornada "),s.k0s()(),s.j41(13,"ion-segment-button",6)(14,"ion-label"),s.nrm(15,"ion-icon",7),s.EFF(16," Temporada "),s.k0s()(),s.j41(17,"ion-segment-button",8)(18,"ion-label"),s.nrm(19,"ion-icon",9),s.EFF(20," Mundial "),s.k0s()()()(),s.DNE(21,DK,2,3,"ion-toolbar",10),s.k0s(),s.j41(22,"ion-content"),s.DNE(23,FK,3,3,"ng-container",11),s.DNE(24,jK,12,4,"ng-container",11),s.DNE(25,$K,12,4,"ng-container",11),s.k0s()),2&i&&(s.R7$(8),s.Y8G("ngModel",o.selectedView),s.R7$(13),s.Y8G("ngIf","weekly"===o.selectedView),s.R7$(2),s.Y8G("ngIf","weekly"===o.selectedView),s.R7$(1),s.Y8G("ngIf","overall"===o.selectedView),s.R7$(1),s.Y8G("ngIf","global"===o.selectedView))},dependencies:[ro,ui,js,ms,va,Fo,jc,h8,Pp,Sr,wa,a8,ya,T1,M6,lv,lt],styles:[".matches-grid[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:10px auto 0;padding:8px;background:var(--ion-card-background);border-radius:8px;overflow-x:auto;-webkit-overflow-scrolling:touch}.group-info[_ngcontent-%COMP%]{text-align:center;margin:10px 0;padding:10px;background:var(--ion-color-primary);border-radius:8px;color:#fff}.group-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2em;font-weight:500}.grid-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:25px 30px minmax(70px,90px) repeat(auto-fit,28px);gap:1px;padding:6px;background:var(--ion-color-primary);color:#fff;border-radius:4px;font-weight:600;position:sticky;top:0;z-index:10;font-size:.85em;text-align:center}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:19px;height:19px;object-fit:contain}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1em;font-weight:500}.grid-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:25px 30px minmax(70px,90px) repeat(auto-fit,28px);gap:1px;padding:6px;align-items:center;border-bottom:1px solid rgba(var(--ion-color-medium-rgb),.1);font-size:.85em;text-align:center}.grid-row.current-user[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.1);font-weight:500}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1px;padding:1px;border-radius:3px;font-weight:500;font-size:1em}.grid-row[_ngcontent-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);color:var(--ion-color-success)}.grid-row[_ngcontent-%COMP%]   .prediction-col.exact-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);color:var(--ion-color-warning)}.grid-row[_ngcontent-%COMP%]   .prediction-col.partial-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.05);color:var(--ion-color-medium)}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.05);color:var(--ion-color-medium);opacity:.5}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]   .pred-score[_ngcontent-%COMP%]{min-width:14px}.pos-col[_ngcontent-%COMP%], .pts-col[_ngcontent-%COMP%]{font-weight:600}.pts-col[_ngcontent-%COMP%]{color:var(--ion-color-primary);position:relative}.pts-col[_ngcontent-%COMP%]   .live-points[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background:var(--ion-color-success);color:#fff;font-size:.7em;padding:2px 4px;border-radius:8px}.user-col[_ngcontent-%COMP%]{padding-left:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .matches-grid[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .matches-grid[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.5)}.dark[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]{border-color:rgba(var(--ion-color-medium-rgb),.1)}.dark[_nghost-%COMP%]   .grid-row.current-user[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .grid-row.current-user[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.15)}.dark[_nghost-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.15);color:var(--ion-color-success-tint)}.dark[_nghost-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.15);color:var(--ion-color-warning-tint)}.dark[_nghost-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.1);color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.1);color:var(--ion-color-medium-tint);opacity:.5}.dark[_nghost-%COMP%]   .user-col[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-col[_ngcontent-%COMP%]{color:var(--ion-color-light)}@media (max-width: 768px){.matches-grid[_ngcontent-%COMP%]{padding:4px;margin-top:8px}.grid-header[_ngcontent-%COMP%], .grid-row[_ngcontent-%COMP%]{grid-template-columns:22px 28px minmax(65px,85px) repeat(auto-fit,26px);gap:1px;padding:3px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:12px;height:12px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:.7em}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]{font-size:.7em;padding:1px}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]   .pred-score[_ngcontent-%COMP%]{min-width:12px}.user-col[_ngcontent-%COMP%]{font-size:.8em;padding-left:2px}}"]})}}return n})();function KK(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h2"),s.EFF(2,"Temporada Actual"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s(),s.j41(5,"p"),s.EFF(6),s.nI1(7,"date"),s.k0s(),s.j41(8,"p"),s.EFF(9),s.nI1(10,"date"),s.k0s()()),2&n){const e=s.XpG();s.R7$(4),s.JRh(e.currentSeason.name),s.R7$(2),s.SpI("Inicio: ",s.i5U(7,3,e.currentSeason.startDate,"mediumDate"),""),s.R7$(3),s.SpI("Fin: ",s.i5U(10,6,e.currentSeason.endDate,"mediumDate"),"")}}function WK(n,t){1&n&&(s.j41(0,"div",22),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Procesando operaci\xf3n..."),s.k0s()())}let qK=(()=>{class n{constructor(e,i,o,l,d,p,v,M){this.databaseService=e,this.seasonService=i,this.footballService=o,this.toastController=l,this.alertController=d,this.loadingController=p,this.afAuth=v,this.afs=M,this.loading=!1,this.currentSeason=null}ngOnInit(){this.loadCurrentSeason()}loadCurrentSeason(){var e=this;return(0,le.A)(function*(){try{e.currentSeason=yield io(e.seasonService.getActiveSeason())}catch(i){console.error("Error loading current season:",i)}})()}recalculateAllPoints(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Recalcular Todos los Puntos",message:"\xbfEst\xe1s seguro de que deseas recalcular los puntos de todas las jornadas para todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Recalcular",handler:(o=(0,le.A)(function*(){const l=yield e.loadingController.create({message:"Recalculando puntos..."});yield l.present();try{const d=yield e.afs.collection("users").get().toPromise();let p=0,v=0;if(d){const M=yield e.footballService.getCurrentRound();for(const b of d.docs){v++,console.log(`Processing user ${v}/${d.docs.length}: ${b.id}`);try{let T=0;for(let L=1;L<=M;L++){console.log(`Processing round ${L} for user ${b.id}`);const Se=(yield io(e.footballService.getMatches(L))).filter(Xe=>"FT"===Xe.status.short),$e=yield e.afs.doc(`predictions/${b.id}/weeks/${L}`).get().toPromise();if($e?.exists){const Xe=$e.data();if(Xe?.predictions&&Array.isArray(Xe.predictions)){let $t=0;const Xt=Xe.predictions.map(Pt=>{const an=Se.find(Dn=>Dn.id===Pt.matchId);let ln=0;return an&&null!==Pt.homeScore&&null!==Pt.awayScore&&(Pt.homeScore===an.homeScore&&Pt.awayScore===an.awayScore?ln=3:Math.sign(an.homeScore-an.awayScore)===Math.sign(Pt.homeScore-Pt.awayScore)&&(ln=1)),$t+=ln,{...Pt,points:ln}});yield $e.ref.update({predictions:Xt,totalPoints:$t,lastUpdated:Do.firestore.Timestamp.now()}),T+=$t}}}yield e.afs.doc(`userPoints/${b.id}`).set({totalPoints:T,lastUpdated:Do.firestore.Timestamp.now()},{merge:!0}),console.log(`Updated total points for user ${b.id}: ${T}`),p++}catch(T){console.error(`Error processing user ${b.id}:`,T)}}yield e.showToast(`Se actualizaron los puntos de ${p} usuarios de ${v} totales`,"success")}}catch(d){console.error("Error recalculating points:",d),yield e.showToast("Error al recalcular los puntos","danger")}finally{yield l.dismiss()}}),function(){return o.apply(this,arguments)})}]})).present()})()}recalculateRound16Points(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Recalcular Puntos Jornada 16",message:"\xbfEst\xe1s seguro de que deseas recalcular los puntos de la jornada 16 para todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Recalcular",handler:(o=(0,le.A)(function*(){const l=yield e.loadingController.create({message:"Recalculando puntos..."});yield l.present();try{console.log("Fetching round 16 matches...");const p=(yield io(e.footballService.getMatches(16))).filter(T=>"FT"===T.status.short);console.log(`Found ${p.length} finished matches`);const v=yield e.afs.collection("users").get().toPromise();let M=0,b=0;if(v){for(const T of v.docs){b++,console.log(`Processing user ${b}/${v.docs.length}: ${T.id}`);try{const L=yield e.afs.doc(`predictions/${T.id}/weeks/16`).get().toPromise();if(L?.exists){const ee=L.data();if(ee?.predictions&&Array.isArray(ee.predictions)){let Se=0;const $e=ee.predictions.map(Xt=>{const Pt=p.find(ln=>ln.id===Xt.matchId);let an=0;return Pt&&null!==Xt.homeScore&&null!==Xt.awayScore&&(console.log(`Match ${Pt.id}: ${Pt.homeScore}-${Pt.awayScore} vs Prediction: ${Xt.homeScore}-${Xt.awayScore}`),Xt.homeScore===Pt.homeScore&&Xt.awayScore===Pt.awayScore?(an=3,console.log("Exact match! 3 points")):Math.sign(Pt.homeScore-Pt.awayScore)===Math.sign(Xt.homeScore-Xt.awayScore)&&(an=1,console.log("Correct result! 1 point"))),Se+=an,{...Xt,points:an}});console.log(`Total weekly points for user ${T.id}: ${Se}`),yield L.ref.update({predictions:$e,totalPoints:Se,lastUpdated:Do.firestore.Timestamp.now()});const Xe=yield e.afs.collection(`predictions/${T.id}/weeks`).get().toPromise();let $t=0;Xe&&Xe.docs.forEach(Xt=>{if("16"===Xt.id)$t+=Se;else{const Pt=Xt.data();$t+=Pt.totalPoints||0}}),console.log(`Updated total points for user ${T.id}: ${$t}`),yield e.afs.doc(`userPoints/${T.id}`).set({totalPoints:$t,lastUpdated:Do.firestore.Timestamp.now()},{merge:!0}),M++}}}catch(L){console.error(`Error processing user ${T.id}:`,L)}}yield e.showToast(`Se actualizaron los puntos de ${M} usuarios de ${b} totales`,"success")}}catch(d){console.error("Error recalculating points:",d),yield e.showToast("Error al recalcular los puntos","danger")}finally{yield l.dismiss()}}),function(){return o.apply(this,arguments)})}]})).present()})()}updateRound16Predictions(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar actualizaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas actualizar las predicciones de la jornada 16 para agregar puntos iniciales?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Actualizar",handler:(o=(0,le.A)(function*(){e.loading=!0;try{const l=yield e.afs.collection("users").get().toPromise(),d=e.afs.firestore.batch();let p=0;if(l)for(const v of l.docs){const M=yield e.afs.doc(`predictions/${v.id}/weeks/16`).get().toPromise();if(M?.exists){const b=M.data();if(b?.predictions&&Array.isArray(b.predictions)){const T=b.predictions.map(L=>({...L,points:L.points??0}));d.update(M.ref,{predictions:T,lastUpdated:Do.firestore.Timestamp.now()}),p++}}}p>0?(yield d.commit(),yield e.showToast(`Se actualizaron las predicciones de ${p} usuarios para la jornada 16`,"success")):yield e.showToast("No se encontraron predicciones para actualizar en la jornada 16","warning")}catch(l){console.error("Error updating round 16 predictions:",l),yield e.showToast("Error al actualizar las predicciones de la jornada 16","danger")}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}generateRandomPredictions(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar generaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas generar predicciones aleatorias para partidos pasados?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Generar",handler:(o=(0,le.A)(function*(){e.loading=!0;try{const l=yield e.footballService.getCurrentRound(),d=yield e.afs.collection("users").get().toPromise(),p=e.afs.firestore.batch(),v={};for(let b=1;b<=l;b++){const L=(yield io(e.footballService.getMatches(b))).filter(ee=>new Date(ee.date)<new Date);L.length>0&&(v[b]=L)}d?.docs.forEach(b=>{Object.entries(v).forEach(([T,L])=>{const{predictions:ee,totalPoints:Se}=e.generatePredictionsForMatches(L);if(ee.length>0){const $e=e.afs.doc(`predictions/${b.id}/weeks/${T}`).ref;p.set($e,{predictions:ee,totalPoints:Se,lastUpdated:Do.firestore.Timestamp.now()},{merge:!0})}})}),yield p.commit(),yield(yield e.toastController.create({message:"Predicciones aleatorias generadas exitosamente para partidos pasados",duration:2e3,color:"success"})).present()}catch(l){console.error("Error generating predictions:",l),yield(yield e.toastController.create({message:"Error al generar predicciones aleatorias",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}clearPredictions(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar todas las predicciones? Esta acci\xf3n no se puede deshacer.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:(o=(0,le.A)(function*(){e.loading=!0;try{const l=yield e.afs.collection("users").get().toPromise(),d=e.afs.firestore.batch();if(l)for(const v of l.docs)(yield e.afs.collection(`predictions/${v.id}/weeks`).get().toPromise())?.docs.forEach(b=>{d.delete(b.ref)});yield d.commit(),yield(yield e.toastController.create({message:"Predicciones eliminadas exitosamente",duration:2e3,color:"success"})).present()}catch(l){console.error("Error clearing predictions:",l),yield(yield e.toastController.create({message:"Error al eliminar las predicciones",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}resetPasswords(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar reseteo",message:"\xbfEst\xe1s seguro de que deseas resetear las contrase\xf1as de todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Resetear",handler:(o=(0,le.A)(function*(){e.loading=!0;try{const d=(yield e.afs.collection("users").get().toPromise())?.docs.map(function(){var v=(0,le.A)(function*(M){const b=M.data();b.email&&(yield e.afAuth.sendPasswordResetEmail(b.email))});return function(M){return v.apply(this,arguments)}}());d&&(yield Promise.all(d)),yield(yield e.toastController.create({message:"Correos de reseteo de contrase\xf1a enviados exitosamente",duration:2e3,color:"success"})).present()}catch(l){console.error("Error resetting passwords:",l),yield(yield e.toastController.create({message:"Error al resetear las contrase\xf1as",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}setAdminUser(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Asignar Administrador",message:"Ingresa el correo electr\xf3nico del usuario que deseas hacer administrador",inputs:[{name:"email",type:"email",placeholder:"Correo electr\xf3nico"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Asignar",handler:(o=(0,le.A)(function*(l){if(!l.email)return e.showToast("Por favor ingresa un correo electr\xf3nico","warning"),!1;e.loading=!0;try{const p=yield e.afs.collection("users").ref.where("email","==",l.email).get();return p.empty?(e.showToast("Usuario no encontrado","warning"),!1):(yield p.docs[0].ref.update({isAdmin:!0}),e.showToast("Usuario actualizado como administrador","success"),!0)}catch(d){return console.error("Error setting admin user:",d),e.showToast("Error al asignar administrador","danger"),!1}finally{e.loading=!1}}),function(d){return o.apply(this,arguments)})}]})).present()})()}calculatePoints(e,i){return e&&null!==e.homeScore&&null!==e.awayScore&&null!==i.homeScore&&null!==i.awayScore?e.homeScore===i.homeScore&&e.awayScore===i.awayScore?3:Math.sign(i.homeScore-i.awayScore)===Math.sign(e.homeScore-e.awayScore)?1:0:0}generatePredictionsForMatches(e){const i=e.map(l=>{const d={matchId:l.id,homeScore:Math.floor(4*Math.random()),awayScore:Math.floor(4*Math.random()),points:0};return"FT"===l.status.short&&(d.points=this.calculatePoints(d,l)),d}),o=i.reduce((l,d)=>l+(d.points||0),0);return{predictions:i,totalPoints:o}}showToast(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,color:i,position:"bottom"})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(rl),s.rXU(iE),s.rXU(ol),s.rXU(Kr),s.rXU(M0),s.rXU(bu),s.rXU(Ou),s.rXU(cd))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-test-predictions"]],decls:57,vars:9,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],["class","season-info",4,"ngIf"],["expand","block","routerLink","/admin/season","color","primary"],["name","calendar-outline","slot","start"],["expand","block","routerLink","/admin/points","color","success"],["name","trophy-outline","slot","start"],["expand","block","routerLink","/admin/users","color","tertiary"],["name","people-outline","slot","start"],["expand","block","color","warning",3,"disabled","click"],["name","calculator-outline","slot","start"],["name","refresh-outline","slot","start"],["expand","block","color","tertiary",3,"disabled","click"],["name","shuffle-outline","slot","start"],["expand","block","color","danger",3,"disabled","click"],["name","trash-outline","slot","start"],["name","key-outline","slot","start"],["name","person-add-outline","slot","start"],["class","loading-container",4,"ngIf"],[1,"season-info"],[1,"loading-container"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Panel de Administraci\xf3n"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),s.EFF(10,"Herramientas de Administraci\xf3n"),s.k0s(),s.j41(11,"ion-card-subtitle"),s.EFF(12,"Gesti\xf3n de temporada y datos del sistema"),s.k0s()(),s.j41(13,"ion-card-content"),s.DNE(14,KK,11,9,"div",4),s.j41(15,"ion-list")(16,"ion-item")(17,"ion-button",5),s.nrm(18,"ion-icon",6),s.EFF(19," Configurar Temporada "),s.k0s()(),s.j41(20,"ion-item")(21,"ion-button",7),s.nrm(22,"ion-icon",8),s.EFF(23," Mis Puntos "),s.k0s()(),s.j41(24,"ion-item")(25,"ion-button",9),s.nrm(26,"ion-icon",10),s.EFF(27," Participantes "),s.k0s()(),s.j41(28,"ion-item")(29,"ion-button",11),s.bIt("click",function(){return o.recalculateAllPoints()}),s.nrm(30,"ion-icon",12),s.EFF(31," Recalcular Todos los Puntos "),s.k0s()(),s.j41(32,"ion-item")(33,"ion-button",11),s.bIt("click",function(){return o.recalculateRound16Points()}),s.nrm(34,"ion-icon",12),s.EFF(35," Recalcular Puntos Jornada 16 "),s.k0s()(),s.j41(36,"ion-item")(37,"ion-button",11),s.bIt("click",function(){return o.updateRound16Predictions()}),s.nrm(38,"ion-icon",13),s.EFF(39," Actualizar Puntos Jornada 16 "),s.k0s()(),s.j41(40,"ion-item")(41,"ion-button",14),s.bIt("click",function(){return o.generateRandomPredictions()}),s.nrm(42,"ion-icon",15),s.EFF(43," Generar Predicciones Aleatorias "),s.k0s()(),s.j41(44,"ion-item")(45,"ion-button",16),s.bIt("click",function(){return o.clearPredictions()}),s.nrm(46,"ion-icon",17),s.EFF(47," Eliminar Predicciones "),s.k0s()(),s.j41(48,"ion-item")(49,"ion-button",11),s.bIt("click",function(){return o.resetPasswords()}),s.nrm(50,"ion-icon",18),s.EFF(51," Resetear Contrase\xf1as "),s.k0s()(),s.j41(52,"ion-item")(53,"ion-button",14),s.bIt("click",function(){return o.setAdminUser()}),s.nrm(54,"ion-icon",19),s.EFF(55," Asignar Administrador "),s.k0s()()(),s.DNE(56,WK,4,0,"div",20),s.k0s()()()),2&i&&(s.R7$(14),s.Y8G("ngIf",o.currentSeason),s.R7$(15),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(3),s.Y8G("ngIf",o.loading))},dependencies:[ui,Gr,js,ma,vr,G1,m0,Za,ms,va,Fo,vs,Hc,x0,Sr,wa,ya,Mu,Ec,Zn],styles:[".season-info[_ngcontent-%COMP%]{margin-bottom:24px;padding:16px;background:var(--ion-color-light);border-radius:8px}.season-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2em;color:var(--ion-color-dark)}.season-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:var(--ion-color-medium)}ion-list[_ngcontent-%COMP%]{background:transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--inner-padding-end: 0;--background: transparent;margin-bottom:12px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;margin:0;--padding-top: 16px;--padding-bottom: 16px;font-weight:500}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:12px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}ion-card[_ngcontent-%COMP%]{margin:16px 0;border-radius:12px;box-shadow:0 4px 12px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;margin-bottom:8px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}"]})}}return n})();function XK(n,t){1&n&&(s.j41(0,"div",17),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Guardando configuraci\xf3n de temporada..."),s.k0s()())}function YK(n,t){if(1&n&&(s.j41(0,"div",18)(1,"ion-text",19)(2,"p"),s.EFF(3),s.k0s()()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}let QK=(()=>{class n{constructor(e,i,o,l){this.fb=e,this.seasonService=i,this.toastController=o,this.router=l,this.loading=!1,this.error=null,this.currentSeason=null,this.seasonForm=this.fb.group({name:["Clausura 2024",[ir.required]],startDate:["2024-01-12",[ir.required]],endDate:["2024-05-26",[ir.required]],isActive:[!0]})}ngOnInit(){this.loadCurrentSeason()}loadCurrentSeason(){var e=this;return(0,le.A)(function*(){try{const i=yield io(e.seasonService.getActiveSeason());if(i){e.currentSeason=i;const o=e.formatDateForInput(i.startDate),l=e.formatDateForInput(i.endDate);e.seasonForm.patchValue({name:i.name,startDate:o,endDate:l,isActive:i.isActive}),console.log("Loaded season:",{name:i.name,startDate:o,endDate:l,isActive:i.isActive})}}catch(i){console.error("Error loading season:",i),e.error="Error al cargar la configuraci\xf3n de la temporada"}})()}formatDateForInput(e){if(!e)return"";const i=new Date(e);let o=""+(i.getMonth()+1),l=""+i.getDate();const d=i.getFullYear();return o.length<2&&(o="0"+o),l.length<2&&(l="0"+l),[d,o,l].join("-")}saveSeason(){var e=this;return(0,le.A)(function*(){if(e.seasonForm.valid){e.loading=!0,e.error=null;try{const{name:i,startDate:o,endDate:l,isActive:d}=e.seasonForm.value;yield e.seasonService.saveSeason({name:i,startDate:new Date(o),endDate:new Date(l),isActive:d}),yield(yield e.toastController.create({message:"Configuraci\xf3n de temporada guardada exitosamente",duration:2e3,color:"success"})).present(),e.router.navigate(["/admin/test-predictions"])}catch(i){console.error("Error saving season:",i),e.error="Error al guardar la configuraci\xf3n de la temporada",yield(yield e.toastController.create({message:"Error al guardar la configuraci\xf3n",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Xa),s.rXU(iE),s.rXU(Kr),s.rXU(gi))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-season-management"]],decls:41,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","name"],["value","Clausura 2024"],["value","Apertura 2024"],["type","date","formControlName","startDate"],["type","date","formControlName","endDate"],["formControlName","isActive"],[1,"button-container"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],["name","save-outline","slot","start"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"loading-container"],[1,"error-container"],["color","danger"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Configuraci\xf3n de Temporada"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"form",4),s.bIt("ngSubmit",function(){return o.saveSeason()}),s.j41(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),s.EFF(11,"Configuraci\xf3n de Temporada Liga MX"),s.k0s(),s.j41(12,"ion-card-subtitle"),s.EFF(13,"Define las fechas de inicio y fin del torneo actual"),s.k0s()(),s.j41(14,"ion-card-content")(15,"ion-item")(16,"ion-label",5),s.EFF(17,"Nombre del Torneo"),s.k0s(),s.j41(18,"ion-select",6)(19,"ion-select-option",7),s.EFF(20,"Clausura 2024"),s.k0s(),s.j41(21,"ion-select-option",8),s.EFF(22,"Apertura 2024"),s.k0s()()(),s.j41(23,"ion-item")(24,"ion-label",5),s.EFF(25,"Fecha de Inicio"),s.k0s(),s.nrm(26,"ion-input",9),s.k0s(),s.j41(27,"ion-item")(28,"ion-label",5),s.EFF(29,"Fecha de Fin"),s.k0s(),s.nrm(30,"ion-input",10),s.k0s(),s.j41(31,"ion-item")(32,"ion-label"),s.EFF(33,"Establecer como Temporada Activa"),s.k0s(),s.nrm(34,"ion-toggle",11),s.k0s(),s.j41(35,"div",12)(36,"ion-button",13),s.nrm(37,"ion-icon",14),s.EFF(38," Guardar Configuraci\xf3n "),s.k0s()(),s.DNE(39,XK,4,0,"div",15),s.DNE(40,YK,4,1,"div",16),s.k0s()()()()),2&i&&(s.R7$(7),s.Y8G("formGroup",o.seasonForm),s.R7$(29),s.Y8G("disabled",!o.seasonForm.valid||o.loading),s.R7$(3),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error))},dependencies:[ui,Gr,js,ma,vr,G1,m0,Za,ms,va,Fo,y0,vs,jc,Rp,yy,x0,ec,Sr,f8,wa,s8,a8,wu,ya,s0,T1,x4,Ns,a0],styles:[".ion-margin-top[_ngcontent-%COMP%]{margin-top:20px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px 0}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;color:var(--ion-color-medium)}ion-item[_ngcontent-%COMP%]{margin-bottom:16px;--padding-start: 0}ion-card[_ngcontent-%COMP%]{margin:20px 0;border-radius:12px;box-shadow:0 4px 12px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;margin-bottom:8px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{margin-top:24px}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: 16px;--padding-bottom: 16px;font-weight:500}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}}return n})();function JK(n,t){if(1&n&&(s.j41(0,"p"),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit;s.R7$(1),s.JRh(e.description)}}function ZK(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Privado"),s.k0s())}function eW(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Admin"),s.k0s())}function tW(n,t){if(1&n&&(s.j41(0,"ion-item",28)(1,"ion-avatar",1),s.nrm(2,"ion-icon",29),s.k0s(),s.j41(3,"ion-label")(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s(),s.j41(8,"p",30),s.EFF(9),s.k0s(),s.DNE(10,eW,2,0,"ion-badge",18),s.k0s(),s.j41(11,"ion-note",31),s.EFF(12),s.k0s()()),2&n){const e=t.$implicit;s.R7$(2),s.Y8G("name",e.hasPredicted?"checkmark-circle":"alert-circle")("color",e.hasPredicted?"success":"warning"),s.R7$(3),s.JRh(e.username||e.email),s.R7$(2),s.Lme("",e.firstName," ",e.lastName,""),s.R7$(2),s.SpI("ID: ",e.uid,""),s.R7$(1),s.Y8G("ngIf","admin"===e.role),s.R7$(1),s.Y8G("color",e.hasPredicted?"success":"warning"),s.R7$(1),s.SpI(" ",e.hasPredicted?"Completado":"Pendiente"," ")}}function nW(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-item",14)(1,"div",15)(2,"div",16)(3,"ion-label")(4,"h2"),s.EFF(5),s.k0s(),s.DNE(6,JK,2,1,"p",8),s.j41(7,"p")(8,"ion-badge",17),s.EFF(9),s.k0s(),s.DNE(10,ZK,2,0,"ion-badge",18),s.k0s()(),s.j41(11,"ion-buttons")(12,"ion-button",19),s.bIt("click",function(){const l=s.eBV(e).$implicit,d=s.XpG(2);return s.Njj(d.showInviteCode(l))}),s.nrm(13,"ion-icon",20),s.k0s()()(),s.j41(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17),s.k0s(),s.j41(18,"div",23)(19,"span",24),s.nrm(20,"ion-icon",25),s.EFF(21," Ya subi\xf3 quiniela "),s.k0s(),s.j41(22,"span",24),s.nrm(23,"ion-icon",26),s.EFF(24," Pendiente "),s.k0s()()(),s.j41(25,"ion-list"),s.DNE(26,tW,13,9,"ion-item",27),s.k0s()()()()}if(2&n){const e=t.$implicit,i=s.XpG(2);s.R7$(5),s.JRh(e.name),s.R7$(1),s.Y8G("ngIf",e.description),s.R7$(3),s.SpI("",e.memberCount||0," miembros"),s.R7$(1),s.Y8G("ngIf",e.isPrivate),s.R7$(7),s.SpI("Participantes - Jornada ",i.currentRound,""),s.R7$(9),s.Y8G("ngForOf",e.membersList)}}function iW(n,t){1&n&&(s.j41(0,"ion-item")(1,"ion-label",17),s.EFF(2," No perteneces a ning\xfan grupo "),s.k0s()())}function oW(n,t){if(1&n){const e=s.RV6();s.qex(0),s.j41(1,"ion-list"),s.DNE(2,nW,27,6,"ion-item",11),s.DNE(3,iW,3,0,"ion-item",8),s.k0s(),s.j41(4,"ion-button",12),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.joinGroup())}),s.nrm(5,"ion-icon",13),s.EFF(6," Unirse a un Grupo "),s.k0s(),s.bVm()}if(2&n){const e=t.ngIf;s.R7$(2),s.Y8G("ngForOf",e),s.R7$(1),s.Y8G("ngIf",!e.length)}}function rW(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-card",32)(1,"ion-card-header")(2,"ion-card-title"),s.EFF(3,"Crear Nuevo Grupo"),s.k0s()(),s.j41(4,"ion-card-content")(5,"form",33),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createGroup())}),s.j41(6,"ion-item")(7,"ion-label",34),s.EFF(8,"Nombre del Grupo"),s.k0s(),s.nrm(9,"ion-input",35),s.k0s(),s.j41(10,"ion-item")(11,"ion-label",34),s.EFF(12,"Descripci\xf3n"),s.k0s(),s.nrm(13,"ion-textarea",36),s.k0s(),s.j41(14,"ion-item")(15,"ion-label"),s.EFF(16,"Grupo Privado"),s.k0s(),s.nrm(17,"ion-toggle",37),s.k0s(),s.j41(18,"div",38)(19,"ion-button",39),s.nrm(20,"ion-icon",40),s.EFF(21," Crear Grupo "),s.k0s(),s.j41(22,"ion-button",41),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.toggleCreateGroup())}),s.nrm(23,"ion-icon",42),s.EFF(24," Cancelar "),s.k0s()()()()()}if(2&n){const e=s.XpG();s.R7$(5),s.Y8G("formGroup",e.groupForm),s.R7$(14),s.Y8G("disabled",!e.groupForm.valid||e.loading)}}let FR=(()=>{class n{constructor(e,i,o,l,d,p,v,M){this.fb=e,this.groupService=i,this.toastController=o,this.alertController=l,this.loadingController=d,this.footballService=p,this.databaseService=v,this.route=M,this.loading=!1,this.showCreateGroup=!1,this.currentRound=1,this.errorSubject=new Di.t(null),this.error$=this.errorSubject.asObservable(),this.groupForm=this.fb.group({name:["",[ir.required,ir.minLength(3)]],description:[""],isPrivate:[!0]}),this.groups$=this.groupService.getUserGroups().pipe((0,Hn.n)(b=>{const T=b.map(L=>this.loadGroupMembers(L).then(ee=>({...L,membersList:ee,memberCount:ee.length})));return Promise.all(T)}))}ngOnInit(){var e=this;return(0,le.A)(function*(){try{e.currentRound=yield e.footballService.getCurrentRound(),e.route.queryParams.subscribe(function(){var i=(0,le.A)(function*(o){const l=o.code;l&&(yield e.handleInviteCode(l))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Error getting current round:",i),e.currentRound=1}})()}handleInviteCode(e){var i=this;return(0,le.A)(function*(){try{const o=yield i.groupService.getGroupByInviteCode(e);o&&(yield(yield i.alertController.create({header:"Unirse al Grupo",message:`\xbfDeseas unirte al grupo "${o.name}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Unirme",handler:(d=(0,le.A)(function*(){yield i.joinGroupWithCode(e)}),function(){return d.apply(this,arguments)})}]})).present())}catch(o){console.error("Error handling invite code:",o)}var d})()}loadGroupMembers(e){var i=this;return(0,le.A)(function*(){if(!e.id)return[];try{const o=yield io(i.groupService.getGroupMembers(e.id));return(yield Promise.all(o.map(function(){var d=(0,le.A)(function*(p){try{const v=yield io(i.databaseService.getPredictions(p.uid,i.currentRound.toString())),M=v.length>0&&v.every(b=>b.matchId&&null!==b.homeScore&&null!==b.awayScore);return{...p,hasPredicted:M}}catch(v){return console.error(`Error loading predictions for member ${p.uid}:`,v),{...p,hasPredicted:!1}}});return function(p){return d.apply(this,arguments)}}()))).sort((d,p)=>d.role===p.role?(d.hasPredicted?1:0)-(p.hasPredicted?1:0):"admin"===d.role?-1:1)}catch(o){return console.error("Error loading group members:",o),yield i.showToast("Error loading group members","danger"),[]}})()}toggleCreateGroup(){this.showCreateGroup=!this.showCreateGroup,this.showCreateGroup||this.groupForm.reset({name:"",description:"",isPrivate:!0})}createGroup(){var e=this;return(0,le.A)(function*(){if(e.groupForm.valid){e.loading=!0;try{yield e.groupService.createGroup(e.groupForm.value),yield e.showToast("Group created successfully","success"),e.toggleCreateGroup()}catch(i){console.error("Error creating group:",i),yield e.showToast("Error creating group","danger")}finally{e.loading=!1}}})()}joinGroup(){var e=this;return(0,le.A)(function*(){var o;yield(yield e.alertController.create({header:"Join a Group",message:"Enter the group invitation code",inputs:[{name:"inviteCode",type:"text",placeholder:"Invitation code"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Join",handler:(o=(0,le.A)(function*(l){return l.inviteCode?(yield e.joinGroupWithCode(l.inviteCode),!0):(yield e.showToast("Please enter an invitation code","warning"),!1)}),function(d){return o.apply(this,arguments)})}]})).present()})()}joinGroupWithCode(e){var i=this;return(0,le.A)(function*(){i.loading=!0;try{yield i.groupService.joinGroup(e),yield i.showToast("Successfully joined the group","success")}catch(o){console.error("Error joining group:",o),yield i.showToast("Error joining group","danger")}finally{i.loading=!1}})()}showInviteCode(e){var i=this;return(0,le.A)(function*(){const o=i.groupService.generateInviteLink(e.id,e.inviteCode);yield(yield i.alertController.create({header:"Invitar al Grupo",message:"Loading...",buttons:[{text:"Copiar Link",handler:()=>(navigator.clipboard.writeText(o).then(()=>{i.showToast("Link copiado al portapapeles","success")}).catch(p=>{console.error("Error copying to clipboard:",p),i.showToast("Error al copiar el link","danger")}),!1)},{text:"Copiar C\xf3digo",handler:()=>(navigator.clipboard.writeText(e.inviteCode).then(()=>{i.showToast("C\xf3digo copiado al portapapeles","success")}).catch(p=>{console.error("Error copying to clipboard:",p),i.showToast("Error al copiar el c\xf3digo","danger")}),!1)},{text:"Cerrar",role:"cancel"}],cssClass:"invite-code-alert"})).present();const d=document.querySelector(".alert-message");d&&(d.innerHTML=`\n        <div class="invite-code">\n          <p>Comparte este link o c\xf3digo para invitar a otros usuarios:</p>\n          <div class="code-container">\n            <div class="link">${o}</div>\n            <div class="code">C\xf3digo: ${e.inviteCode}</div>\n          </div>\n        </div>\n      `)})()}showToast(e,i){var o=this;return(0,le.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Xa),s.rXU(cv),s.rXU(Kr),s.rXU(M0),s.rXU(bu),s.rXU(ol),s.rXU(rl),s.rXU(gr))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-group-management"]],decls:19,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"page-container"],[1,"groups-card"],["fill","clear",3,"click"],["name","add-circle-outline","slot","icon-only"],[4,"ngIf"],["class","create-group-card",4,"ngIf"],["message","Por favor espere...",3,"isOpen"],["lines","full","class","group-item",4,"ngFor","ngForOf"],["expand","block","color","secondary",1,"ion-margin-top",3,"click"],["name","enter-outline","slot","start"],["lines","full",1,"group-item"],[1,"group-content"],[1,"group-header"],["color","medium"],["color","primary",4,"ngIf"],["title","Compartir c\xf3digo",3,"click"],["name","share-social-outline"],[1,"members-list"],[1,"members-header"],[1,"status-legend"],[1,"legend-item"],["name","checkmark-circle","color","success"],["name","alert-circle","color","warning"],["lines","full","class","member-item",4,"ngFor","ngForOf"],["lines","full",1,"member-item"],[1,"prediction-status-icon",3,"name","color"],[1,"user-id"],["slot","end",3,"color"],[1,"create-group-card"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","name","type","text"],["formControlName","description","rows","3"],["formControlName","isPrivate"],[1,"button-container"],["expand","block","type","submit",3,"disabled"],["name","add-circle-outline","slot","start"],["expand","block","fill","outline","color","medium",3,"click"],["name","close-circle-outline","slot","start"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Mis Grupos"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"ion-card",5)(9,"ion-card-header")(10,"ion-card-title"),s.EFF(11," Mis Grupos "),s.j41(12,"ion-button",6),s.bIt("click",function(){return o.toggleCreateGroup()}),s.nrm(13,"ion-icon",7),s.k0s()()(),s.j41(14,"ion-card-content"),s.DNE(15,oW,7,2,"ng-container",8),s.nI1(16,"async"),s.k0s()(),s.DNE(17,rW,25,2,"ion-card",9),s.k0s(),s.nrm(18,"ion-loading",10),s.k0s()),2&i&&(s.R7$(15),s.Y8G("ngIf",s.bMT(16,3,o.groups$)),s.R7$(2),s.Y8G("ngIf",o.showCreateGroup),s.R7$(1),s.Y8G("isOpen",o.loading))},dependencies:[ro,ui,l8,$1,Gr,js,ma,vr,G1,Za,ms,va,Fo,y0,vs,jc,Hc,_0,d8,Lp,Sr,f8,wa,s8,wu,ya,s0,T1,x4,Ns,a0,lt],styles:[".page-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:16px}.groups-card[_ngcontent-%COMP%], .create-group-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.group-item[_ngcontent-%COMP%]{position:relative;overflow:visible;margin-bottom:16px;border-radius:8px;--background: var(--ion-color-light-tint)}.group-item[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{width:100%}.group-item[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;color:var(--ion-color-medium);background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin:4px 0}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-right:8px}.members-list[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:16px;padding:16px;background:var(--ion-color-light);border-radius:8px;box-shadow:0 2px 8px #0000001a}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{margin-bottom:16px;background:var(--ion-color-primary);border-radius:8px;padding:16px;box-shadow:0 2px 8px rgba(var(--ion-color-primary-rgb),.2);text-align:center}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;margin:0 0 12px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;font-size:.9em;color:#fff;margin-top:8px;font-weight:500}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);padding:6px 12px;border-radius:20px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);white-space:nowrap}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--background: var(--ion-background-color);margin-bottom:8px;border-radius:8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:transparent;min-width:32px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .prediction-status-icon[_ngcontent-%COMP%]{font-size:1.8em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal;overflow:visible;padding:8px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:4px;font-size:.95em;overflow:hidden;text-overflow:ellipsis}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85em;color:var(--ion-color-medium);margin:2px 0;overflow:hidden;text-overflow:ellipsis}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-size:.75em;background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin:4px 0;word-break:break-all}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-top:4px;font-size:.75em;padding:4px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.8em;font-weight:500;white-space:nowrap;padding-left:8px;min-width:80px;text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]     .invite-code-alert{--max-width: 320px}[_nghost-%COMP%]     .invite-code-alert .invite-code{text-align:center;padding:8px}[_nghost-%COMP%]     .invite-code-alert .invite-code p{margin-bottom:16px;color:var(--ion-color-medium)}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container{background:rgba(var(--ion-color-primary-rgb),.1);border-radius:8px;padding:12px;margin:8px 0}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container .link{font-size:14px;word-break:break-all;color:var(--ion-color-primary);margin-bottom:8px;padding:8px;background:rgba(var(--ion-color-primary-rgb),.1);border-radius:4px}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container .code{font-size:20px;font-weight:600;color:var(--ion-color-primary);letter-spacing:2px}[_nghost-%COMP%]     .invite-code-alert .alert-button-group{padding:8px}[_nghost-%COMP%]     .invite-code-alert .alert-button-group .alert-button.alert-button-role-cancel{color:var(--ion-color-medium)}@media (max-width: 576px){.page-container[_ngcontent-%COMP%]{padding:8px}.groups-card[_ngcontent-%COMP%]{margin-bottom:16px}.groups-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:12px}.groups-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:12px}.group-item[_ngcontent-%COMP%]{margin-bottom:12px}.group-item[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{padding:8px}.members-list[_ngcontent-%COMP%]{padding:8px;margin-top:12px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{padding:12px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{font-size:.8em;gap:8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{padding:4px 8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--min-height: auto;padding:4px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin:0 8px 0 0;width:28px;height:28px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .prediction-status-icon[_ngcontent-%COMP%]{font-size:1.4em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em;margin:1px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-size:.7em;padding:1px 4px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:.7em;padding:2px 6px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.75em;min-width:60px;text-align:center}.invite-code-alert[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;padding:6px}.invite-code-alert[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{font-size:18px}}.dark[_nghost-%COMP%]   .group-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-light-rgb), .05)}.dark[_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)!important}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.05)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{background:var(--ion-color-primary-shade)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-background-color-rgb), .3)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark   [_nghost-%COMP%]     .invite-code-alert .code-container{background:rgba(var(--ion-color-primary-rgb),.2)}.dark   [_nghost-%COMP%]     .invite-code-alert .code-container .link{background:rgba(var(--ion-color-primary-rgb),.2)}.dark[_nghost-%COMP%]   .groups-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .groups-card[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .create-group-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .create-group-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.8)}"]})}}return n})(),Lh=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.user$.pipe(Ci(1),(0,Ot.T)(e=>!!e||(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(xs),s.KVO(gi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const sW=[{path:"login",component:AG,canActivate:[av]},{path:"signup",component:zR,canActivate:[av]},{path:"home",component:EG,canActivate:[Lh]},{path:"scores",component:GG,canActivate:[Lh]},{path:"pools",component:fK,canActivate:[Lh]},{path:"leaderboard",component:GK,canActivate:[Lh]},{path:"groups",component:FR,canActivate:[Lh]},{path:"groups/join/:code",component:zR,canActivate:[av]},{path:"admin",canActivate:[Lh,(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.user$.pipe(Ci(1),(0,Ot.T)(e=>{const i=this.authService.isAdmin(e);return i||this.router.navigate(["/home"]),i}))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(xs),s.KVO(gi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()],children:[{path:"test-predictions",component:qK},{path:"season",component:QK},{path:"groups",component:FR},{path:"points",component:MK},{path:"users",component:SK}]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let aW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[a4.forRoot(sW),a4]})}}return n})();var cW=A(9295);const VR="firebase_screen_id",rE="outlet",$f="screen_class",jR="screen_name";let xW=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const sE={},MW=n=>{const t=[n[$f],n[rE]].join("#");if(sE.hasOwnProperty(t))return sE[t];{const e=xW++;return sE[t]=e,e}},kW=new s.nKC("angularfire2.analytics.analyticsCollectionEnabled"),SW=new s.nKC("angularfire2.analytics.appVersion"),DW=new s.nKC("angularfire2.analytics.appName"),TW=new s.nKC("angularfire2.analytics.debugMode"),OW=new s.nKC("angularfire2.analytics.config"),uv="dataLayer";let Gf=(()=>{class n{constructor(e,i,o,l,d,p,v,M,b){if(this.analyticsInitialized=new Promise(()=>{}),Ro(v)){window[uv]=window[uv]||[];const L=(...$e)=>"config"===$e[0]&&"firebase"===$e[2].origin&&(this.measurementId=$e[1],!0),ee=$e=>{window.gtag=(...Xe)=>{$e&&$e(...Xe),"event"===Xe[0]&&Xe[2].send_to===this.measurementId&&(l&&(Xe[2].app_name=l),o&&(Xe[2].app_version=o)),d&&typeof console<"u"&&console.info(...Xe),function(...$t){window[uv].push(arguments)}(...Xe)}};window[uv].some(L)?(this.analyticsInitialized=Promise.resolve(),ee()):this.analyticsInitialized=new Promise($e=>{ee((...Xe)=>{L(...Xe)&&$e()})}),p&&this.updateConfig(p),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const T=(0,Dt.of)(void 0).pipe((0,Du.Q)(b.outsideAngular),(0,Hn.n)(cW.TT),(0,Hn.n)(L=>L?M.runOutsideAngular(()=>A.e(1395).then(A.bind(A,1395))):ds.w),(0,Ot.T)(()=>(0,Ao.BM)("analytics","AngularFireAnalytics",e.name,()=>{const L=e.analytics();return!1===i&&L.setAnalyticsCollectionEnabled(!1),L},[e,i,p,d])),Am({bufferSize:1,refCount:!1}));return(0,Ao.Gt)(this,T,M)}updateConfig(e){return(0,It.sH)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Ao.XU),s.KVO(kW,8),s.KVO(SW,8),s.KVO(DW,8),s.KVO(TW,8),s.KVO(OW,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Ti.u0))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cE=(()=>{class n{constructor(e,i,o,l){if(this.disposables=[],eh.A.registerVersion("angularfire",Ti.xv.full,"compat-user-tracking"),Er(i))this.initialized=Promise.resolve();else{let d;this.initialized=l.runOutsideAngular(()=>new Promise(p=>d=p)),this.disposables=[o.authState.subscribe(p=>{e.setUserId(p?.uid),d()}),o.credential.subscribe(p=>{if(p){const v=p.user.isAnonymous?"anonymous":p.additionalUserInfo.providerId;p.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:v}),e.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Gf),s.KVO(s.Agw),s.KVO(Ou),s.KVO(s.SKi))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})(),UR=(()=>{class n{constructor(e,i,o,l,d,p){if(eh.A.registerVersion("angularfire",Ti.xv.full,"compat-screen-tracking"),!i||!e)return this;d.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(ki(o=>o instanceof p3)).pipe((0,Hn.n)(o=>{var l;const p=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,ee=>ee.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===l?void 0:l.toString())||"",v=n.routerState.root.children.map(ee=>ee).find(ee=>ee.outlet===o.snapshot.outlet);if(!v)return(0,Dt.of)(null);let M=v;for(;M.firstChild;)M=M.firstChild;const b=M.pathFromRoot.map(ee=>{var Se;return null===(Se=ee.routeConfig)||void 0===Se?void 0:Se.path}).filter(ee=>ee).join("/")||"/",T={[jR]:b,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:b,[rE]:o.snapshot.outlet};t&&(T.page_title=t.getTitle());let L=v.component;if(L){if(L===M1){let ee=o.snapshot;for(;ee.firstChild;)ee=ee.firstChild;L=ee.component}}else L=o.snapshot.component;if("string"==typeof L)return(0,Dt.of)(Object.assign(Object.assign({},T),{[$f]:L}));if(L){const ee=e.resolveComponentFactory(L);return(0,Dt.of)(Object.assign(Object.assign({},T),{[$f]:ee.selector}))}return(0,Dt.of)(null)}),ki(o=>!!o),(0,Ot.T)(o=>Object.assign({firebase_screen_class:o[$f],[VR]:MW(o)},o)),function lW(n,t,e,i){return(0,Lo.N)((o,l)=>{let d;t&&"function"!=typeof t?({duration:e,element:d,connector:i}=t):d=t;const p=new Map,v=Se=>{p.forEach(Se),Se(l)},M=Se=>v($e=>$e.error(Se));let b=0,T=!1;const L=new no.H(l,Se=>{try{const $e=n(Se);let Xe=p.get($e);if(!Xe){p.set($e,Xe=i?i():new Ai.B);const $t=function ee(Se,$e){const Xe=new to.c($t=>{b++;const Xt=$e.subscribe($t);return()=>{Xt.unsubscribe(),0==--b&&T&&L.unsubscribe()}});return Xe.key=Se,Xe}($e,Xe);if(l.next($t),e){const Xt=(0,no._)(Xe,()=>{Xe.complete(),Xt?.unsubscribe()},void 0,void 0,()=>p.delete($e));L.add((0,ks.Tg)(e($t)).subscribe(Xt))}}Xe.next(d?d(Se):Se)}catch($e){M($e)}},()=>v(Se=>Se.complete()),M,()=>p.clear(),()=>(T=!0,0===b));o.subscribe(L)})}(o=>o[rE]),(0,lo.Z)(o=>o.pipe((0,N4.F)((l,d)=>JSON.stringify(l)===JSON.stringify(d)),Ss(void 0),Nm(),(0,Ot.T)(([l,d])=>l?Object.assign({firebase_previous_class:l[$f],firebase_previous_screen:l[jR],firebase_previous_id:l[VR]},d):d)))))(i,o,l).pipe((0,Hn.n)(v=>(0,It.sH)(this,void 0,void 0,function*(){return p&&(yield p.initialized),yield e.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Gf),s.KVO(gi,8),s.KVO(at,8),s.KVO(s.OM3),s.KVO(s.SKi),s.KVO(cE,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})(),BW=(()=>{class n{constructor(e,i,o){eh.A.registerVersion("angularfire",Ti.xv.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Gf),s.KVO(UR,8),s.KVO(cE,8))},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[Gf]}),n})();(function Kn(n,t,e){(0,s.XSP)(n,t,e)})($E),function(n){Object.keys(n).forEach(function(t){$p(t,n[t]);var e=t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();t!==e&&$p(e,n[t])})}({trophy:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>",trophyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M176 464h160M256 464V336M384 224c0-50.64-.08-134.63-.12-160a16 16 0 00-16-16l-223.79.26a16 16 0 00-16 15.95c0 30.58-.13 129.17-.13 159.79 0 64.28 83 112 128 112S384 288.28 384 224z' class='ionicon-fill-none ionicon-stroke-width'/><path d='M128 96H48v16c0 55.22 33.55 112 80 112M384 96h80v16c0 55.22-33.55 112-80 112' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",football:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm143 304h-45.22a8 8 0 01-6.91-4l-16.14-27.68a8 8 0 01-.86-6l14.86-59.92a8 8 0 014.65-5.45l28.1-11.9a8 8 0 018.34 1.3l41.63 35.82a8 8 0 012.69 7.26 174.75 174.75 0 01-24.28 66.68A8 8 0 01399 352zM134.52 237.13l28.1 11.9a8 8 0 014.65 5.45l14.86 59.92a8 8 0 01-.86 6L165.13 348a8 8 0 01-6.91 4H113a8 8 0 01-6.82-3.81 174.75 174.75 0 01-24.28-66.68 8 8 0 012.69-7.26l41.63-35.82a8 8 0 018.3-1.3zm256.94-87.24l-18.07 51.38A8 8 0 01369 206l-29.58 12.53a8 8 0 01-8.26-1.24L274.9 170.1a8 8 0 01-2.9-6.1v-33.58a8 8 0 013.56-6.65l42.83-28.54a8 8 0 017.66-.67A176.92 176.92 0 01390 142a8 8 0 011.46 7.89zM193.6 95.23l42.84 28.54a8 8 0 013.56 6.65V164a8 8 0 01-2.86 6.13l-56.26 47.19a8 8 0 01-8.26 1.24L143 206a8 8 0 01-4.43-4.72L120.5 149.9a8 8 0 011.5-7.9 176.92 176.92 0 0164-47.48 8 8 0 017.6.71zm17.31 327.46L191.18 373a8 8 0 01.52-7l15.17-26a8 8 0 016.91-4h84.44a8 8 0 016.91 4l15.18 26a8 8 0 01.53 7l-19.59 49.67a8 8 0 01-5.69 4.87 176.58 176.58 0 01-79 0 8 8 0 01-5.65-4.85z'/></svg>",footballOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 175.15l-76.09 63.83L200 320h112l20.09-81.02L256 175.15zM332.09 238.98l52.87-22.4 25.78-73.26M447 269.97l-62.04-53.39M179.91 238.98l-52.87-22.4-25.78-73.26M65 269.97l62.04-53.39M256 175.15v-57.57l64-42.64M192 74.93l64 42.65M312 320l28 48-28 71M410.74 368H342M200 320l-28 48 28.37 71.5M101.63 368H172' class='ionicon-fill-none ionicon-stroke-width'/></svg>",podium:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 32H192a32 32 0 00-32 32v412a4 4 0 004 4h184a4 4 0 004-4V64a32 32 0 00-32-32zM464 192h-72a8 8 0 00-8 8v272a8 8 0 008 8h80a24 24 0 0024-24V224a32 32 0 00-32-32zM48 128a32 32 0 00-32 32v296a24 24 0 0024 24h80a8 8 0 008-8V136a8 8 0 00-8-8z'/></svg>",podiumOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M32 160v296a8 8 0 008 8h136V160a16 16 0 00-16-16H48a16 16 0 00-16 16zM320 48H192a16 16 0 00-16 16v400h160V64a16 16 0 00-16-16zM464 208H352a16 16 0 00-16 16v240h136a8 8 0 008-8V224a16 16 0 00-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",people:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zM467.83 432H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zM212.66 291.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z'/></svg>",peopleOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",calendar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z'/></svg>",calendarOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",globe:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M340.75 344.49c5.91-20.7 9.82-44.75 11.31-67.84a4.41 4.41 0 00-4.46-4.65h-71.06a4.43 4.43 0 00-4.47 4.39v55.3a4.44 4.44 0 004.14 4.38 273.51 273.51 0 0159 11.39 4.45 4.45 0 005.54-2.97zM323.58 377.31a260.05 260.05 0 00-46.6-9.09 4.42 4.42 0 00-4.91 4.29v65.24a4.47 4.47 0 006.76 3.7c15.9-9.27 29-24.84 40.84-45.43 1.94-3.36 4.89-9.15 6.67-12.69a4.29 4.29 0 00-2.76-6.02zM235.29 368.4a256.85 256.85 0 00-46.56 8.82c-2.64.76-3.75 4.4-2.55 6.79 1.79 3.56 4 8.11 5.89 11.51 13 23 26.84 37.5 41.24 45.93a4.47 4.47 0 006.76-3.7v-65.27a4.16 4.16 0 00-4.78-4.08zM235.6 272h-71.06a4.41 4.41 0 00-4.46 4.64c1.48 23.06 5.37 47.16 11.26 67.84a4.46 4.46 0 005.59 3 272.2 272.2 0 0159-11.36 4.44 4.44 0 004.15-4.38V276.4a4.43 4.43 0 00-4.48-4.4zM277 143.78a235.8 235.8 0 0046.5-9.14 4.3 4.3 0 002.76-6c-1.79-3.57-4.27-8.68-6.17-12.09-12.29-22-26.14-37.35-41.24-46a4.48 4.48 0 00-6.76 3.7v65.23a4.43 4.43 0 004.91 4.3zM276.54 240h71.06a4.39 4.39 0 004.46-4.58c-1.48-22.77-5.27-47.8-11.16-68.22a4.46 4.46 0 00-5.59-2.95c-19 5.74-38.79 10.43-59.09 12a4.4 4.4 0 00-4.15 4.32v55.11a4.4 4.4 0 004.47 4.32zM233.31 70.56c-15.42 8.57-29.17 24.43-41.47 46.37-1.91 3.41-4.19 8.11-6 11.67a4.31 4.31 0 002.76 6 225.42 225.42 0 0046.54 9.17 4.43 4.43 0 004.91-4.29V74.26a4.49 4.49 0 00-6.74-3.7zM235.92 176.26c-20.3-1.55-40.11-6.24-59.09-12a4.46 4.46 0 00-5.59 2.95c-5.89 20.42-9.68 45.45-11.16 68.22a4.39 4.39 0 004.46 4.58h71.06a4.4 4.4 0 004.47-4.34v-55.09a4.4 4.4 0 00-4.15-4.32z'/><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM176.6 430.85a219.08 219.08 0 01-12.48-19.66c-2-3.69-4.84-9.26-6.73-13.13a7.29 7.29 0 00-10.31-3.16c-4.3 2.41-10 5.72-14.13 8.43a147.29 147.29 0 01-23.57-22.43 248.83 248.83 0 0130.41-18.36c1.86-1 2.77-2.14 2.18-4.18a374.8 374.8 0 01-14.09-82.17 4.36 4.36 0 00-4.3-4.17H66.84a2 2 0 01-2-1.7A98.28 98.28 0 0164 256a96.27 96.27 0 01.86-14.29 2 2 0 012-1.7h56.74c2.29 0 4.17-1.32 4.29-3.63a372.71 372.71 0 0114-81.83 4.36 4.36 0 00-2.19-5.11 260.63 260.63 0 01-29.84-17.9 169.82 169.82 0 0123.14-22.8c4.08 2.68 9.4 5.71 13.66 8.11a7.89 7.89 0 0011-3.42c1.88-3.87 4-8.18 6.06-11.88a221.93 221.93 0 0112.54-19.91A185 185 0 01256 64c28.94 0 55.9 7 80.53 18.46a202.23 202.23 0 0112 19c2.59 4.66 5.34 10.37 7.66 15.32a4.29 4.29 0 005.92 1.94c5.38-2.91 11.21-6.26 16.34-9.63a171.36 171.36 0 0123.2 23 244.89 244.89 0 01-29.06 17.31 4.35 4.35 0 00-2.18 5.12 348.68 348.68 0 0113.85 81.4 4.33 4.33 0 004.3 4.12l56.62-.07a2 2 0 012 1.7 117.46 117.46 0 010 28.62 2 2 0 01-2 1.72h-56.67a4.35 4.35 0 00-4.3 4.17 367.4 367.4 0 01-13.87 81.3 4.45 4.45 0 002.19 5.19c5 2.59 10.57 5.48 15.37 8.42s9.55 6.08 14.13 9.34a172.73 172.73 0 01-23 22.93c-2.44-1.61-5.34-3.44-7.84-4.94-1.72-1-4.89-2.77-6.65-3.76-3.82-2.14-7.88-.54-9.79 3.4s-4.83 9.59-6.87 13.25a212.42 212.42 0 01-12.35 19.53C310.91 442.37 284.94 448 256 448s-54.77-5.63-79.4-17.15z'/></svg>",globeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M256 48v416M464 256H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",construct:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M503.58 126.2a16.85 16.85 0 00-27.07-4.55l-51.15 51.15a11.15 11.15 0 01-15.66 0l-22.48-22.48a11.17 11.17 0 010-15.67l50.88-50.89a16.85 16.85 0 00-5.27-27.4c-39.71-17-89.08-7.45-120 23.29-26.81 26.61-34.83 68-22 113.7a11 11 0 01-3.16 11.1L114.77 365.1a56.76 56.76 0 1080.14 80.18L357 272.08a11 11 0 0110.9-3.17c45 12 86 4 112.43-22 15.2-15 25.81-36.17 29.89-59.71 3.83-22.2 1.41-44.44-6.64-61z'/><path d='M437.33 378.41c-13.94-11.59-43.72-38.4-74.07-66.22l-66.07 70.61c28.24 30 53.8 57.85 65 70.88l.07.08A30 30 0 00383.72 464h1.1a30.11 30.11 0 0021-8.62l.07-.07 33.43-33.37a29.46 29.46 0 00-2-43.53zM118.54 214.55a20.48 20.48 0 00-3-10.76 2.76 2.76 0 012.62-4.22h.06c.84.09 5.33.74 11.7 4.61 4.73 2.87 18.23 12.08 41.73 35.54a34.23 34.23 0 007.22 22.12l66.23-61.55a33.73 33.73 0 00-21.6-9.2 2.65 2.65 0 01-.21-.26l-.65-.69-24.54-33.84a28.45 28.45 0 01-4-26.11 35.23 35.23 0 0111.78-16.35c5.69-4.41 18.53-9.72 29.44-10.62a52.92 52.92 0 0115.19.94 65.57 65.57 0 017.06 2.13 15.46 15.46 0 002.15.63 16 16 0 0016.38-25.06c-.26-.35-1.32-1.79-2.89-3.73a91.85 91.85 0 00-9.6-10.36c-8.15-7.36-29.27-19.77-57-19.77a123.13 123.13 0 00-46.3 9c-38.37 15.45-63.47 36.58-75.01 47.79l-.09.09A222.14 222.14 0 0063.7 129.5a27 27 0 00-4.7 11.77 7.33 7.33 0 01-7.71 6.17H50.2a20.65 20.65 0 00-14.59 5.9L6.16 182.05l-.32.32a20.89 20.89 0 00-.24 28.72c.19.2.37.39.57.58L53.67 258a21 21 0 0014.65 6 20.65 20.65 0 0014.59-5.9l29.46-28.79a20.51 20.51 0 006.17-14.76z'/></svg>",constructOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M436.67 184.11a27.17 27.17 0 01-38.3 0l-22.48-22.49a27.15 27.15 0 010-38.29l50.89-50.89a.85.85 0 00-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 01-7.67 27.14l-173 160.76a40.76 40.76 0 1057.57 57.54l162.15-173.3a27 27 0 0126.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 00-1.36-.22z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 01-3.33-21.35 20.76 20.76 0 013.5-4.62l15.68-15.29a18.66 18.66 0 015.63-3.87 18.11 18.11 0 0120 3.62c5.45 5.29 15.43 15 33.41 32.52M317.07 291.3c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 01.94 19.92L394.63 444a14 14 0 01-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M17.34 193.5l29.41-28.74a4.71 4.71 0 013.41-1.35 4.85 4.85 0 013.41 1.35h0a9.86 9.86 0 008.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0119.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 01206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0110.28 11.64 78.92 78.92 0 00-9.21-2.77 68.82 68.82 0 00-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 01-.34 9.16l-18.22 18a6.88 6.88 0 01-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 00-18.27 3.87 11.39 11.39 0 00-2.64 2 14.14 14.14 0 00.42 20.08l1.71 1.6a4.63 4.63 0 010 6.64L71.73 246.6a4.71 4.71 0 01-3.41 1.4 4.86 4.86 0 01-3.41-1.35l-47.57-46.43a4.88 4.88 0 010-6.72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",warning:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M449.07 399.08L278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0080 446.25h340.89a32 32 0 0028.18-47.17zm-198.6-1.83a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.95a21.73 21.73 0 0121.5-22.69h.21a21.74 21.74 0 0121.73 22.7z'/></svg>",warningOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M85.57 446.25h340.86a32 32 0 0028.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0028.17 47.17z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 195.39l5.74 122 5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 5.95z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 397.25a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",alert:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",alertOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",checkmark:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",checkmarkOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",radio:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='36'/><path d='M190.24 341.77a22 22 0 01-16.46-7.38 118 118 0 010-156.76 22 22 0 1132.87 29.24 74 74 0 000 98.29 22 22 0 01-16.43 36.61zM321.76 341.77a22 22 0 01-16.43-36.61 74 74 0 000-98.29 22 22 0 1132.87-29.24 118 118 0 010 156.76 22 22 0 01-16.44 7.38z'/><path d='M139.29 392.72a21.92 21.92 0 01-16.08-7 190 190 0 010-259.49 22 22 0 1132.13 30.06 146 146 0 000 199.38 22 22 0 01-16.06 37zM372.71 392.72a22 22 0 01-16.06-37 146 146 0 000-199.38 22 22 0 1132.13-30.06 190 190 0 010 259.49 21.92 21.92 0 01-16.07 6.95z'/><path d='M429 438a22 22 0 01-16.39-36.67 218.34 218.34 0 000-290.66 22 22 0 0132.78-29.34 262.34 262.34 0 010 349.34A22 22 0 01429 438zM83 438a21.94 21.94 0 01-16.41-7.33 262.34 262.34 0 010-349.34 22 22 0 0132.78 29.34 218.34 218.34 0 000 290.66A22 22 0 0183 438z'/></svg>",radioOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256.02' r='32'/><path d='M184.25 192.25a96 96 0 000 127.52M327.77 319.77a96 96 0 000-127.52M133.28 141.28a168 168 0 000 229.44M378.72 370.72a168 168 0 000-229.44M435 416a240.34 240.34 0 000-320M77 96a240.34 240.34 0 000 320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",add:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",addOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",remove:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",removeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",close:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",closeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",create:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>",createOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",person:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>",personOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",mail:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z'/></svg>",mailOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='96' width='416' height='320' rx='40' ry='40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M112 160l144 112 144-112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lockClosed:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>",lockClosedOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 208v-95a80 80 0 00-160 0v95' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",at:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 254.27c-4.5 51-40.12 80-80.55 80s-67.34-35.82-63.45-80 37.12-80 77.55-80 70.33 36 66.45 80z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M319.77 415.77c-28.56 12-47.28 14.5-79.28 14.5-97.2 0-169-78.8-160.49-176s94.31-176 191.51-176C381 78.27 441.19 150 432.73 246c-6.31 71.67-52.11 92.32-76.09 88.07-22.56-4-41.18-24.42-37.74-63.5l8.48-96.25' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",atOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 254.27c-4.5 51-40.12 80-80.55 80s-67.34-35.82-63.45-80 37.12-80 77.55-80 70.33 36 66.45 80z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M319.77 415.77c-28.56 12-47.28 14.5-79.28 14.5-97.2 0-169-78.8-160.49-176s94.31-176 191.51-176C381 78.27 441.19 150 432.73 246c-6.31 71.67-52.11 92.32-76.09 88.07-22.56-4-41.18-24.42-37.74-63.5l8.48-96.25' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",logIn:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M392 80H232a56.06 56.06 0 00-56 56v104h153.37l-52.68-52.69a16 16 0 0122.62-22.62l80 80a16 16 0 010 22.62l-80 80a16 16 0 01-22.62-22.62L329.37 272H176v104c0 32.05 33.79 56 64 56h152a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zM80 240a16 16 0 000 32h96v-32z'/></svg>",logInOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 176v-40a40 40 0 0140-40h160a40 40 0 0140 40v240a40 40 0 01-40 40H240c-22.09 0-48-17.91-48-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M288 336l80-80-80-80M80 256h272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",logOut:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>",logOutOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",arrowForward:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",arrowForwardOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",sunny:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>",sunnyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M256 48v48M256 416v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",moon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z'/></svg>",moonOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",share:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M376 176H272v145a16 16 0 01-32 0V176H136a56.06 56.06 0 00-56 56v192a56.06 56.06 0 0056 56h240a56.06 56.06 0 0056-56V232a56.06 56.06 0 00-56-56zM272 86.63l52.69 52.68a16 16 0 0022.62-22.62l-80-80a16 16 0 00-22.62 0l-80 80a16 16 0 0022.62 22.62L240 86.63V176h32z'/></svg>",shareOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shareSocial:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 336a63.78 63.78 0 00-46.12 19.7l-148-83.27a63.85 63.85 0 000-32.86l148-83.27a63.8 63.8 0 10-15.73-27.87l-148 83.27a64 64 0 100 88.6l148 83.27A64 64 0 10384 336z'/></svg>",shareSocialOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='128' cy='256' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='112' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='400' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M169.83 279.53l172.34 96.94M342.17 135.53l-172.34 96.94' class='ionicon-fill-none ionicon-stroke-width'/></svg>",enter:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136v104h153.37l-52.68-52.69a16 16 0 0122.62-22.62l80 80a16 16 0 010 22.62l-80 80a16 16 0 01-22.62-22.62L313.37 272H160v104a56.06 56.06 0 0056 56h208a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56H216a56.06 56.06 0 00-56 56zM48 240a16 16 0 000 32h112v-32z'/></svg>",enterOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M176 176v-40a40 40 0 0140-40h208a40 40 0 0140 40v240a40 40 0 01-40 40H216a40 40 0 01-40-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M272 336l80-80-80-80M48 256h288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",key:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 00-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 11-32-32 32 32 0 0132 32z'/></svg>",keyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 00-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 11-32-32 32 32 0 0132 32z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",save:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M465.94 119.76l-73.7-73.7A47.68 47.68 0 00358.3 32H96a64 64 0 00-64 64v320a64 64 0 0064 64h320a64 64 0 0064-64V153.7a47.68 47.68 0 00-14.06-33.94zM120 112h176a8 8 0 018 8v48a8 8 0 01-8 8H120a8 8 0 01-8-8v-48a8 8 0 018-8zm139.75 319.91a80 80 0 1176.16-76.16 80.06 80.06 0 01-76.16 76.16z'/><circle cx='256' cy='352' r='48'/></svg>",saveOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M380.93 57.37A32 32 0 00358.3 48H94.22A46.21 46.21 0 0048 94.22v323.56A46.21 46.21 0 0094.22 464h323.56A46.36 46.36 0 00464 417.78V153.7a32 32 0 00-9.37-22.63zM256 416a64 64 0 1164-64 63.92 63.92 0 01-64 64zm48-224H112a16 16 0 01-16-16v-64a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-16 16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",refresh:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",refreshOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",calculator:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 80a48.05 48.05 0 00-48-48H144a48.05 48.05 0 00-48 48v352a48.05 48.05 0 0048 48h224a48.05 48.05 0 0048-48zM168 432a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm88 160a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm112 136a24 24 0 01-48 0v-80a24 24 0 0148 0zm-24-136a24 24 0 1124-24 24 24 0 01-24 24zm19.31-100.69A16 16 0 01352 176H160a16 16 0 01-16-16V96a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-4.69 11.31z'/></svg>",calculatorOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>",trash:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",trashOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shuffle:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256' class='ionicon-fill-none ionicon-stroke-width'/><path d='M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shuffleOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256' class='ionicon-fill-none ionicon-stroke-width'/><path d='M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"});let VW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n,bootstrap:[yG]})}static{this.\u0275inj=s.G2t({providers:[{provide:Vv,useClass:dp},ol,rl,xs,ev,_G,iE,cv,eR,LR,Rb,av,UR,cE],imports:[Jh,ky.forRoot(),Y3,c0,l0,aW,B6.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),Ao.bf.initializeApp(W1_firebase),qz,fU.enablePersistence({synchronizeTabs:!0}),wU,BW]})}}return n})();Qh().bootstrapModule(VW).catch(n=>console.error(n))},4412:(Mt,Le,A)=>{"use strict";A.d(Le,{t:()=>s});var E=A(1413);class s extends E.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const Ae=super._subscribe(ae);return!Ae.closed&&ae.next(this._value),Ae}getValue(){const{hasError:ae,thrownError:Ae,_value:ke}=this;if(ae)throw Ae;return this._throwIfClosed(),ke}next(ae){super.next(this._value=ae)}}},1985:(Mt,Le,A)=>{"use strict";A.d(Le,{c:()=>be});var E=A(7707),s=A(8359),z=A(3494),ae=A(1203),Ae=A(1026),ke=A(8071),q=A(9786);let be=(()=>{class se{constructor(ie){ie&&(this._subscribe=ie)}lift(ie){const Ie=new se;return Ie.source=this,Ie.operator=ie,Ie}subscribe(ie,Ie,ye){const pe=function F(se){return se&&se instanceof E.vU||function B(se){return se&&(0,ke.T)(se.next)&&(0,ke.T)(se.error)&&(0,ke.T)(se.complete)}(se)&&(0,s.Uv)(se)}(ie)?ie:new E.Ms(ie,Ie,ye);return(0,q.Y)(()=>{const{operator:J,source:fe}=this;pe.add(J?J.call(pe,fe):fe?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(ie){try{return this._subscribe(ie)}catch(Ie){ie.error(Ie)}}forEach(ie,Ie){return new(Ie=we(Ie))((ye,pe)=>{const J=new E.Ms({next:fe=>{try{ie(fe)}catch(Pe){pe(Pe),J.unsubscribe()}},error:pe,complete:ye});this.subscribe(J)})}_subscribe(ie){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(ie)}[z.s](){return this}pipe(...ie){return(0,ae.m)(ie)(this)}toPromise(ie){return new(ie=we(ie))((Ie,ye)=>{let pe;this.subscribe(J=>pe=J,J=>ye(J),()=>Ie(pe))})}}return se.create=ce=>new se(ce),se})();function we(se){var ce;return null!==(ce=se??Ae.$.Promise)&&void 0!==ce?ce:Promise}},1413:(Mt,Le,A)=>{"use strict";A.d(Le,{B:()=>q});var E=A(1985),s=A(8359);const ae=(0,A(1853).L)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=A(7908),ke=A(9786);let q=(()=>{class we extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const se=new be(this,this);return se.operator=F,se}_throwIfClosed(){if(this.closed)throw new ae}next(F){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(F)}})}error(F){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:se}=this;for(;se.length;)se.shift().error(F)}})}complete(){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:se,isStopped:ce,observers:ie}=this;return se||ce?s.Kn:(this.currentObservers=null,ie.push(F),new s.yU(()=>{this.currentObservers=null,(0,Ae.o)(ie,F)}))}_checkFinalizedStatuses(F){const{hasError:se,thrownError:ce,isStopped:ie}=this;se?F.error(ce):ie&&F.complete()}asObservable(){const F=new E.c;return F.source=this,F}}return we.create=(B,F)=>new be(B,F),we})();class be extends q{constructor(B,F){super(),this.destination=B,this.source=F}next(B){var F,se;null===(se=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===se||se.call(F,B)}error(B){var F,se;null===(se=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===se||se.call(F,B)}complete(){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===F||F.call(B)}_subscribe(B){var F,se;return null!==(se=null===(F=this.source)||void 0===F?void 0:F.subscribe(B))&&void 0!==se?se:s.Kn}}},7707:(Mt,Le,A)=>{"use strict";A.d(Le,{Ms:()=>ye,vU:()=>se});var E=A(8071),s=A(8359),z=A(1026),ae=A(5334),Ae=A(5343);const ke=we("C",void 0,void 0);function we(Z,Ee,oe){return{kind:Z,value:Ee,error:oe}}var B=A(9270),F=A(9786);class se extends s.yU{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,s.Uv)(Ee)&&Ee.add(this)):this.destination=Pe}static create(Ee,oe,Ce){return new ye(Ee,oe,Ce)}next(Ee){this.isStopped?fe(function be(Z){return we("N",Z,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?fe(function q(Z){return we("E",void 0,Z)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?fe(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ce=Function.prototype.bind;function ie(Z,Ee){return ce.call(Z,Ee)}class Ie{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:oe}=this;if(oe.next)try{oe.next(Ee)}catch(Ce){pe(Ce)}}error(Ee){const{partialObserver:oe}=this;if(oe.error)try{oe.error(Ee)}catch(Ce){pe(Ce)}else pe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(oe){pe(oe)}}}class ye extends se{constructor(Ee,oe,Ce){let V;if(super(),(0,E.T)(Ee)||!Ee)V={next:Ee??void 0,error:oe??void 0,complete:Ce??void 0};else{let D;this&&z.$.useDeprecatedNextContext?(D=Object.create(Ee),D.unsubscribe=()=>this.unsubscribe(),V={next:Ee.next&&ie(Ee.next,D),error:Ee.error&&ie(Ee.error,D),complete:Ee.complete&&ie(Ee.complete,D)}):V=Ee}this.destination=new Ie(V)}}function pe(Z){z.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(Z):(0,ae.m)(Z)}function fe(Z,Ee){const{onStoppedNotification:oe}=z.$;oe&&B.f.setTimeout(()=>oe(Z,Ee))}const Pe={closed:!0,next:Ae.l,error:function J(Z){throw Z},complete:Ae.l}},8359:(Mt,Le,A)=>{"use strict";A.d(Le,{Kn:()=>ke,yU:()=>Ae,Uv:()=>q});var E=A(8071);const z=(0,A(1853).L)(we=>function(F){we(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((se,ce)=>`${ce+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var ae=A(7908);class Ae{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const ie of F)ie.remove(this);else F.remove(this);const{initialTeardown:se}=this;if((0,E.T)(se))try{se()}catch(ie){B=ie instanceof z?ie.errors:[ie]}const{_finalizers:ce}=this;if(ce){this._finalizers=null;for(const ie of ce)try{be(ie)}catch(Ie){B=B??[],Ie instanceof z?B=[...B,...Ie.errors]:B.push(Ie)}}if(B)throw new z(B)}}add(B){var F;if(B&&B!==this)if(this.closed)be(B);else{if(B instanceof Ae){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(B)}}_hasParent(B){const{_parentage:F}=this;return F===B||Array.isArray(F)&&F.includes(B)}_addParent(B){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(B),F):F?[F,B]:B}_removeParent(B){const{_parentage:F}=this;F===B?this._parentage=null:Array.isArray(F)&&(0,ae.o)(F,B)}remove(B){const{_finalizers:F}=this;F&&(0,ae.o)(F,B),B instanceof Ae&&B._removeParent(this)}}Ae.EMPTY=(()=>{const we=new Ae;return we.closed=!0,we})();const ke=Ae.EMPTY;function q(we){return we instanceof Ae||we&&"closed"in we&&(0,E.T)(we.remove)&&(0,E.T)(we.add)&&(0,E.T)(we.unsubscribe)}function be(we){(0,E.T)(we)?we():we.unsubscribe()}},1026:(Mt,Le,A)=>{"use strict";A.d(Le,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Mt,Le,A)=>{"use strict";A.d(Le,{w:()=>s});const s=new(A(1985).c)(Ae=>Ae.complete())},8455:(Mt,Le,A)=>{"use strict";A.d(Le,{H:()=>Ee});var E=A(8750),s=A(941),z=A(6745),ke=A(1985),be=A(4761),we=A(8071),B=A(5225);function se(oe,Ce){if(!oe)throw new Error("Iterable cannot be null");return new ke.c(V=>{(0,B.N)(V,Ce,()=>{const D=oe[Symbol.asyncIterator]();(0,B.N)(V,Ce,()=>{D.next().then(U=>{U.done?V.complete():V.next(U.value)})},0,!0)})})}var ce=A(5055),ie=A(9858),Ie=A(7441),ye=A(5397),pe=A(7953),J=A(591),fe=A(5196);function Ee(oe,Ce){return Ce?function Z(oe,Ce){if(null!=oe){if((0,ce.l)(oe))return function ae(oe,Ce){return(0,E.Tg)(oe).pipe((0,z._)(Ce),(0,s.Q)(Ce))}(oe,Ce);if((0,Ie.X)(oe))return function q(oe,Ce){return new ke.c(V=>{let D=0;return Ce.schedule(function(){D===oe.length?V.complete():(V.next(oe[D++]),V.closed||this.schedule())})})}(oe,Ce);if((0,ie.y)(oe))return function Ae(oe,Ce){return(0,E.Tg)(oe).pipe((0,z._)(Ce),(0,s.Q)(Ce))}(oe,Ce);if((0,pe.T)(oe))return se(oe,Ce);if((0,ye.x)(oe))return function F(oe,Ce){return new ke.c(V=>{let D;return(0,B.N)(V,Ce,()=>{D=oe[be.l](),(0,B.N)(V,Ce,()=>{let U,Q;try{({value:U,done:Q}=D.next())}catch(K){return void V.error(K)}Q?V.complete():V.next(U)},0,!0)}),()=>(0,we.T)(D?.return)&&D.return()})}(oe,Ce);if((0,fe.U)(oe))return function Pe(oe,Ce){return se((0,fe.C)(oe),Ce)}(oe,Ce)}throw(0,J.L)(oe)}(oe,Ce):(0,E.Tg)(oe)}},8750:(Mt,Le,A)=>{"use strict";A.d(Le,{Tg:()=>ce});var E=A(1635),s=A(7441),z=A(9858),ae=A(1985),Ae=A(5055),ke=A(7953),q=A(591),be=A(5397),we=A(5196),B=A(8071),F=A(5334),se=A(3494);function ce(Z){if(Z instanceof ae.c)return Z;if(null!=Z){if((0,Ae.l)(Z))return function ie(Z){return new ae.c(Ee=>{const oe=Z[se.s]();if((0,B.T)(oe.subscribe))return oe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,s.X)(Z))return function Ie(Z){return new ae.c(Ee=>{for(let oe=0;oe<Z.length&&!Ee.closed;oe++)Ee.next(Z[oe]);Ee.complete()})}(Z);if((0,z.y)(Z))return function ye(Z){return new ae.c(Ee=>{Z.then(oe=>{Ee.closed||(Ee.next(oe),Ee.complete())},oe=>Ee.error(oe)).then(null,F.m)})}(Z);if((0,ke.T)(Z))return J(Z);if((0,be.x)(Z))return function pe(Z){return new ae.c(Ee=>{for(const oe of Z)if(Ee.next(oe),Ee.closed)return;Ee.complete()})}(Z);if((0,we.U)(Z))return function fe(Z){return J((0,we.C)(Z))}(Z)}throw(0,q.L)(Z)}function J(Z){return new ae.c(Ee=>{(function Pe(Z,Ee){var oe,Ce,V,D;return(0,E.sH)(this,void 0,void 0,function*(){try{for(oe=(0,E.xN)(Z);!(Ce=yield oe.next()).done;)if(Ee.next(Ce.value),Ee.closed)return}catch(U){V={error:U}}finally{try{Ce&&!Ce.done&&(D=oe.return)&&(yield D.call(oe))}finally{if(V)throw V.error}}Ee.complete()})})(Z,Ee).catch(oe=>Ee.error(oe))})}},7786:(Mt,Le,A)=>{"use strict";A.d(Le,{h:()=>ke});var E=A(6365),s=A(8750),z=A(983),ae=A(9326),Ae=A(8455);function ke(...q){const be=(0,ae.lI)(q),we=(0,ae.R0)(q,1/0),B=q;return B.length?1===B.length?(0,s.Tg)(B[0]):(0,E.U)(we)((0,Ae.H)(B,be)):z.w}},7673:(Mt,Le,A)=>{"use strict";A.d(Le,{of:()=>z});var E=A(9326),s=A(8455);function z(...ae){const Ae=(0,E.lI)(ae);return(0,s.H)(ae,Ae)}},4360:(Mt,Le,A)=>{"use strict";A.d(Le,{H:()=>z,_:()=>s});var E=A(7707);function s(ae,Ae,ke,q,be){return new z(ae,Ae,ke,q,be)}class z extends E.vU{constructor(Ae,ke,q,be,we,B){super(Ae),this.onFinalize=we,this.shouldUnsubscribe=B,this._next=ke?function(F){try{ke(F)}catch(se){Ae.error(se)}}:super._next,this._error=be?function(F){try{be(F)}catch(se){Ae.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(F){Ae.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},3294:(Mt,Le,A)=>{"use strict";A.d(Le,{F:()=>ae});var E=A(3669),s=A(9974),z=A(4360);function ae(ke,q=E.D){return ke=ke??Ae,(0,s.N)((be,we)=>{let B,F=!0;be.subscribe((0,z._)(we,se=>{const ce=q(se);(F||!ke(B,ce))&&(F=!1,B=ce,we.next(se))}))})}function Ae(ke,q){return ke===q}},6354:(Mt,Le,A)=>{"use strict";A.d(Le,{T:()=>z});var E=A(9974),s=A(4360);function z(ae,Ae){return(0,E.N)((ke,q)=>{let be=0;ke.subscribe((0,s._)(q,we=>{q.next(ae.call(Ae,we,be++))}))})}},6365:(Mt,Le,A)=>{"use strict";A.d(Le,{U:()=>z});var E=A(1397),s=A(3669);function z(ae=1/0){return(0,E.Z)(s.D,ae)}},1397:(Mt,Le,A)=>{"use strict";A.d(Le,{Z:()=>be});var E=A(6354),s=A(8750),z=A(9974),ae=A(5225),Ae=A(4360),q=A(8071);function be(we,B,F=1/0){return(0,q.T)(B)?be((se,ce)=>(0,E.T)((ie,Ie)=>B(se,ie,ce,Ie))((0,s.Tg)(we(se,ce))),F):("number"==typeof B&&(F=B),(0,z.N)((se,ce)=>function ke(we,B,F,se,ce,ie,Ie,ye){const pe=[];let J=0,fe=0,Pe=!1;const Z=()=>{Pe&&!pe.length&&!J&&B.complete()},Ee=Ce=>J<se?oe(Ce):pe.push(Ce),oe=Ce=>{ie&&B.next(Ce),J++;let V=!1;(0,s.Tg)(F(Ce,fe++)).subscribe((0,Ae._)(B,D=>{ce?.(D),ie?Ee(D):B.next(D)},()=>{V=!0},void 0,()=>{if(V)try{for(J--;pe.length&&J<se;){const D=pe.shift();Ie?(0,ae.N)(B,Ie,()=>oe(D)):oe(D)}Z()}catch(D){B.error(D)}}))};return we.subscribe((0,Ae._)(B,Ee,()=>{Pe=!0,Z()})),()=>{ye?.()}}(se,ce,we,F)))}},941:(Mt,Le,A)=>{"use strict";A.d(Le,{Q:()=>ae});var E=A(5225),s=A(9974),z=A(4360);function ae(Ae,ke=0){return(0,s.N)((q,be)=>{q.subscribe((0,z._)(be,we=>(0,E.N)(be,Ae,()=>be.next(we),ke),()=>(0,E.N)(be,Ae,()=>be.complete(),ke),we=>(0,E.N)(be,Ae,()=>be.error(we),ke)))})}},7647:(Mt,Le,A)=>{"use strict";A.d(Le,{u:()=>Ae});var E=A(8750),s=A(1413),z=A(7707),ae=A(9974);function Ae(q={}){const{connector:be=(()=>new s.B),resetOnError:we=!0,resetOnComplete:B=!0,resetOnRefCountZero:F=!0}=q;return se=>{let ce,ie,Ie,ye=0,pe=!1,J=!1;const fe=()=>{ie?.unsubscribe(),ie=void 0},Pe=()=>{fe(),ce=Ie=void 0,pe=J=!1},Z=()=>{const Ee=ce;Pe(),Ee?.unsubscribe()};return(0,ae.N)((Ee,oe)=>{ye++,!J&&!pe&&fe();const Ce=Ie=Ie??be();oe.add(()=>{ye--,0===ye&&!J&&!pe&&(ie=ke(Z,F))}),Ce.subscribe(oe),!ce&&ye>0&&(ce=new z.Ms({next:V=>Ce.next(V),error:V=>{J=!0,fe(),ie=ke(Pe,we,V),Ce.error(V)},complete:()=>{pe=!0,fe(),ie=ke(Pe,B),Ce.complete()}}),(0,E.Tg)(Ee).subscribe(ce))})(se)}}function ke(q,be,...we){if(!0===be)return void q();if(!1===be)return;const B=new z.Ms({next:()=>{B.unsubscribe(),q()}});return(0,E.Tg)(be(...we)).subscribe(B)}},6745:(Mt,Le,A)=>{"use strict";A.d(Le,{_:()=>s});var E=A(9974);function s(z,ae=0){return(0,E.N)((Ae,ke)=>{ke.add(z.schedule(()=>Ae.subscribe(ke),ae))})}},5558:(Mt,Le,A)=>{"use strict";A.d(Le,{n:()=>ae});var E=A(8750),s=A(9974),z=A(4360);function ae(Ae,ke){return(0,s.N)((q,be)=>{let we=null,B=0,F=!1;const se=()=>F&&!we&&be.complete();q.subscribe((0,z._)(be,ce=>{we?.unsubscribe();let ie=0;const Ie=B++;(0,E.Tg)(Ae(ce,Ie)).subscribe(we=(0,z._)(be,ye=>be.next(ke?ke(ce,ye,Ie,ie++):ye),()=>{we=null,se()}))},()=>{F=!0,se()}))})}},8141:(Mt,Le,A)=>{"use strict";A.d(Le,{M:()=>Ae});var E=A(8071),s=A(9974),z=A(4360),ae=A(3669);function Ae(ke,q,be){const we=(0,E.T)(ke)||q||be?{next:ke,error:q,complete:be}:ke;return we?(0,s.N)((B,F)=>{var se;null===(se=we.subscribe)||void 0===se||se.call(we);let ce=!0;B.subscribe((0,z._)(F,ie=>{var Ie;null===(Ie=we.next)||void 0===Ie||Ie.call(we,ie),F.next(ie)},()=>{var ie;ce=!1,null===(ie=we.complete)||void 0===ie||ie.call(we),F.complete()},ie=>{var Ie;ce=!1,null===(Ie=we.error)||void 0===Ie||Ie.call(we,ie),F.error(ie)},()=>{var ie,Ie;ce&&(null===(ie=we.unsubscribe)||void 0===ie||ie.call(we)),null===(Ie=we.finalize)||void 0===Ie||Ie.call(we)}))}):ae.D}},6780:(Mt,Le,A)=>{"use strict";A.d(Le,{R:()=>Ae});var E=A(8359);class s extends E.yU{constructor(q,be){super()}schedule(q,be=0){return this}}const z={setInterval(ke,q,...be){const{delegate:we}=z;return we?.setInterval?we.setInterval(ke,q,...be):setInterval(ke,q,...be)},clearInterval(ke){const{delegate:q}=z;return(q?.clearInterval||clearInterval)(ke)},delegate:void 0};var ae=A(7908);class Ae extends s{constructor(q,be){super(q,be),this.scheduler=q,this.work=be,this.pending=!1}schedule(q,be=0){var we;if(this.closed)return this;this.state=q;const B=this.id,F=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(F,B,be)),this.pending=!0,this.delay=be,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(F,this.id,be),this}requestAsyncId(q,be,we=0){return z.setInterval(q.flush.bind(q,this),we)}recycleAsyncId(q,be,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return be;null!=be&&z.clearInterval(be)}execute(q,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(q,be);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,be){let B,we=!1;try{this.work(q)}catch(F){we=!0,B=F||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:q,scheduler:be}=this,{actions:we}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.o)(we,this),null!=q&&(this.id=this.recycleAsyncId(be,q,null)),this.delay=null,super.unsubscribe()}}}},9687:(Mt,Le,A)=>{"use strict";A.d(Le,{q:()=>z});var E=A(6129);class s{constructor(Ae,ke=s.now){this.schedulerActionCtor=Ae,this.now=ke}schedule(Ae,ke=0,q){return new this.schedulerActionCtor(this,Ae).schedule(q,ke)}}s.now=E.U.now;class z extends s{constructor(Ae,ke=s.now){super(Ae,ke),this.actions=[],this._active=!1}flush(Ae){const{actions:ke}=this;if(this._active)return void ke.push(Ae);let q;this._active=!0;do{if(q=Ae.execute(Ae.state,Ae.delay))break}while(Ae=ke.shift());if(this._active=!1,q){for(;Ae=ke.shift();)Ae.unsubscribe();throw q}}}},3236:(Mt,Le,A)=>{"use strict";A.d(Le,{E:()=>z,b:()=>ae});var E=A(6780);const z=new(A(9687).q)(E.R),ae=z},6129:(Mt,Le,A)=>{"use strict";A.d(Le,{U:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},9270:(Mt,Le,A)=>{"use strict";A.d(Le,{f:()=>E});const E={setTimeout(s,z,...ae){const{delegate:Ae}=E;return Ae?.setTimeout?Ae.setTimeout(s,z,...ae):setTimeout(s,z,...ae)},clearTimeout(s){const{delegate:z}=E;return(z?.clearTimeout||clearTimeout)(s)},delegate:void 0}},4761:(Mt,Le,A)=>{"use strict";A.d(Le,{l:()=>s});const s=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Mt,Le,A)=>{"use strict";A.d(Le,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Mt,Le,A)=>{"use strict";A.d(Le,{R0:()=>ke,lI:()=>Ae,ms:()=>ae});var E=A(8071),s=A(9470);function z(q){return q[q.length-1]}function ae(q){return(0,E.T)(z(q))?q.pop():void 0}function Ae(q){return(0,s.m)(z(q))?q.pop():void 0}function ke(q,be){return"number"==typeof z(q)?q.pop():be}},7908:(Mt,Le,A)=>{"use strict";function E(s,z){if(s){const ae=s.indexOf(z);0<=ae&&s.splice(ae,1)}}A.d(Le,{o:()=>E})},1853:(Mt,Le,A)=>{"use strict";function E(s){const ae=s(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}A.d(Le,{L:()=>E})},9786:(Mt,Le,A)=>{"use strict";A.d(Le,{Y:()=>z,l:()=>ae});var E=A(1026);let s=null;function z(Ae){if(E.$.useDeprecatedSynchronousErrorHandling){const ke=!s;if(ke&&(s={errorThrown:!1,error:null}),Ae(),ke){const{errorThrown:q,error:be}=s;if(s=null,q)throw be}}else Ae()}function ae(Ae){E.$.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=Ae)}},5225:(Mt,Le,A)=>{"use strict";function E(s,z,ae,Ae=0,ke=!1){const q=z.schedule(function(){ae(),ke?s.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(s.add(q),!ke)return q}A.d(Le,{N:()=>E})},3669:(Mt,Le,A)=>{"use strict";function E(s){return s}A.d(Le,{D:()=>E})},7441:(Mt,Le,A)=>{"use strict";A.d(Le,{X:()=>E});const E=s=>s&&"number"==typeof s.length&&"function"!=typeof s},7953:(Mt,Le,A)=>{"use strict";A.d(Le,{T:()=>s});var E=A(8071);function s(z){return Symbol.asyncIterator&&(0,E.T)(z?.[Symbol.asyncIterator])}},8071:(Mt,Le,A)=>{"use strict";function E(s){return"function"==typeof s}A.d(Le,{T:()=>E})},5055:(Mt,Le,A)=>{"use strict";A.d(Le,{l:()=>z});var E=A(3494),s=A(8071);function z(ae){return(0,s.T)(ae[E.s])}},5397:(Mt,Le,A)=>{"use strict";A.d(Le,{x:()=>z});var E=A(4761),s=A(8071);function z(ae){return(0,s.T)(ae?.[E.l])}},9858:(Mt,Le,A)=>{"use strict";A.d(Le,{y:()=>s});var E=A(8071);function s(z){return(0,E.T)(z?.then)}},5196:(Mt,Le,A)=>{"use strict";A.d(Le,{C:()=>z,U:()=>ae});var E=A(1635),s=A(8071);function z(Ae){return(0,E.AQ)(this,arguments,function*(){const q=Ae.getReader();try{for(;;){const{value:be,done:we}=yield(0,E.N3)(q.read());if(we)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(be)}}finally{q.releaseLock()}})}function ae(Ae){return(0,s.T)(Ae?.getReader)}},9470:(Mt,Le,A)=>{"use strict";A.d(Le,{m:()=>s});var E=A(8071);function s(z){return z&&(0,E.T)(z.schedule)}},9974:(Mt,Le,A)=>{"use strict";A.d(Le,{N:()=>z,S:()=>s});var E=A(8071);function s(ae){return(0,E.T)(ae?.lift)}function z(ae){return Ae=>{if(s(Ae))return Ae.lift(function(ke){try{return ae(ke,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Mt,Le,A)=>{"use strict";function E(){}A.d(Le,{l:()=>E})},1203:(Mt,Le,A)=>{"use strict";A.d(Le,{F:()=>s,m:()=>z});var E=A(3669);function s(...ae){return z(ae)}function z(ae){return 0===ae.length?E.D:1===ae.length?ae[0]:function(ke){return ae.reduce((q,be)=>be(q),ke)}}},5334:(Mt,Le,A)=>{"use strict";A.d(Le,{m:()=>z});var E=A(1026),s=A(9270);function z(ae){s.f.setTimeout(()=>{const{onUnhandledError:Ae}=E.$;if(!Ae)throw ae;Ae(ae)})}},591:(Mt,Le,A)=>{"use strict";function E(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(Le,{L:()=>E})},8996:(Mt,Le,A)=>{var E={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function s(z){if(!A.o(E,z))return Promise.resolve().then(()=>{var ke=new Error("Cannot find module '"+z+"'");throw ke.code="MODULE_NOT_FOUND",ke});var ae=E[z],Ae=ae[0];return Promise.all(ae.slice(1).map(A.e)).then(()=>A(Ae))}s.keys=()=>Object.keys(E),s.id=8996,Mt.exports=s},7705:(Mt,Le,A)=>{"use strict";A.d(Le,{$C:()=>lt,$GK:()=>mt,$K3:()=>F_,AVh:()=>n8,Agw:()=>S1,B4B:()=>j2,BIS:()=>V3,BMQ:()=>z5,C4Q:()=>Y4,Co$:()=>Ry,DNE:()=>V6,E5c:()=>r8,EFF:()=>Hw,EJ8:()=>Yt,EmA:()=>a4,FsC:()=>Bt,G2t:()=>qt,GBs:()=>g_,GFd:()=>O6,H3F:()=>z_,H5H:()=>u8,H8p:()=>zg,HJs:()=>Nk,HbH:()=>ap,Hbi:()=>Mk,JRh:()=>hp,JZv:()=>Rt,Jv_:()=>Py,KH2:()=>v0,KVO:()=>Ft,L39:()=>Pk,LfX:()=>Ye,Lme:()=>fp,MKu:()=>bm,NAR:()=>Cw,NEm:()=>QA,NYb:()=>WA,Njj:()=>Ed,O8t:()=>n1,OA$:()=>t2,OM3:()=>p4,Ocv:()=>CA,Ol2:()=>Ly,PLl:()=>Vg,QTQ:()=>S9,Ql9:()=>IA,QuC:()=>Zn,R7$:()=>l6,RV6:()=>K6,Rfq:()=>Ie,RxE:()=>g9,SKi:()=>Eo,SdG:()=>vu,SpI:()=>Vc,TL$:()=>wg,Tbb:()=>se,VBU:()=>Ge,Vns:()=>C0,Vt3:()=>S5,WHO:()=>H_,WQX:()=>Ct,XSP:()=>sy,XpG:()=>Mw,Xx1:()=>m1,Y8G:()=>fu,Z63:()=>s4,_9s:()=>X3,_q3:()=>Cm,a0P:()=>Lk,aKT:()=>W2,aNF:()=>Ny,bIt:()=>Q5,bMT:()=>Qy,bVm:()=>mu,bkB:()=>Xo,c1b:()=>_8,czy:()=>m,e01:()=>U_,eBV:()=>Is,eq3:()=>$y,eu8:()=>G6,fpN:()=>xk,gRc:()=>sk,gXe:()=>oo,giA:()=>fm,hnV:()=>N_,i5U:()=>Jy,iLQ:()=>mm,ii3:()=>e_,j41:()=>gu,jDH:()=>Nt,jNT:()=>Lc,k0s:()=>R4,kS0:()=>Ll,kdw:()=>Ba,lJ4:()=>Uy,lsd:()=>m_,mGM:()=>f_,mq5:()=>ms,n$t:()=>Yv,nI1:()=>Yy,nKC:()=>rn,naY:()=>rk,nrm:()=>$6,o8S:()=>ku,oH4:()=>W_,plB:()=>rm,qex:()=>pu,rXU:()=>Y2,sFG:()=>f9,sZ2:()=>B3,uvJ:()=>da,w6W:()=>hI,wOt:()=>Z,wni:()=>p_,xGo:()=>Fd,xe9:()=>C8,xvI:()=>p9,zZn:()=>Ni,zcH:()=>Sc,zjR:()=>_w});var E=A(1413),s=A(8359),z=A(1985),ae=A(7786),Ae=A(4412),ke=A(7673),q=A(7647),be=A(5558),we=A(3294);function B(r){for(let a in r)if(r[a]===B)return a;throw Error("Could not find renamed property on target object.")}function F(r,a){for(const c in a)a.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(r[c]=a[c])}function se(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(se).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ce(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}const ie=B({__forward_ref__:B});function Ie(r){return r.__forward_ref__=Ie,r.toString=function(){return se(this())},r}function ye(r){return pe(r)?r():r}function pe(r){return"function"==typeof r&&r.hasOwnProperty(ie)&&r.__forward_ref__===Ie}function J(r){return r&&!!r.\u0275providers}const Pe="https://g.co/ng/security#xss";class Z extends Error{constructor(a,c){super(function Ee(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}(a,c)),this.code=a}}function oe(r){return"string"==typeof r?r:null==r?"":String(r)}function Q(r,a){throw new Z(-201,!1)}function Ze(r,a){null==r&&function He(r,a,c,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,r,null,"!=")}function Nt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function qt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Kt(r){return De(r,At)||De(r,on)}function Ye(r){return null!==Kt(r)}function De(r,a){return r.hasOwnProperty(a)?r[a]:null}function gt(r){return r&&(r.hasOwnProperty(_n)||r.hasOwnProperty(vn))?r[_n]:null}const At=B({\u0275prov:B}),_n=B({\u0275inj:B}),on=B({ngInjectableDef:B}),vn=B({ngInjectorDef:B});var mt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(mt||{});let xn;function zt(r){const a=xn;return xn=r,a}function Ii(r,a,c){const u=Kt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&mt.Optional?null:void 0!==a?a:void Q(se(r))}const Rt=globalThis;class rn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Nt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const en={},Mn="__NG_DI_FLAG__",ue="ngTempTokenPath",R=/\n/gm,ne="__source";let ze;function _t(r){const a=ze;return ze=r,a}function tn(r,a=mt.Default){if(void 0===ze)throw new Z(-203,!1);return null===ze?Ii(r,void 0,a):ze.get(r,a&mt.Optional?null:void 0,a)}function Ft(r,a=mt.Default){return(function Jt(){return xn}()||tn)(ye(r),a)}function Ct(r,a=mt.Default){return Ft(r,On(a))}function On(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function yi(r){const a=[];for(let c=0;c<r.length;c++){const u=ye(r[c]);if(Array.isArray(u)){if(0===u.length)throw new Z(900,!1);let h,g=mt.Default;for(let w=0;w<u.length;w++){const _=u[w],C=Ri(_);"number"==typeof C?-1===C?h=_.token:g|=C:h=_}a.push(Ft(h,g))}else a.push(Ft(u))}return a}function _i(r,a){return r[Mn]=a,r.prototype[Mn]=a,r}function Ri(r){return r[Mn]}function Ki(r){return{toString:r}.toString()}var Vo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Vo||{}),oo=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(oo||{});const xe={},Ne=[],rt=B({\u0275cmp:B}),Qt=B({\u0275dir:B}),ei=B({\u0275pipe:B}),Bn=B({\u0275mod:B}),Kn=B({\u0275fac:B}),Jn=B({__NG_ELEMENT_ID__:B}),oi=B({__NG_ENV_ID__:B});function xi(r,a,c){let u=r.length;for(;;){const h=r.indexOf(a,c);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const g=a.length;if(h+g===u||r.charCodeAt(h+g)<=32)return h}c=h+1}}function jo(r,a,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const g=c[u++],w=c[u++],_=c[u++];r.setAttribute(a,w,_,g)}else{const g=h,w=c[++u];ai(g)?r.setProperty(a,g,w):r.setAttribute(a,g,w),u++}}return u}function Ho(r){return 3===r||4===r||6===r}function ai(r){return 64===r.charCodeAt(0)}function zn(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const h=a[u];"number"==typeof h?c=h:0===c||ro(r,c,h,null,-1===c||2===c?a[++u]:null)}}return r}function ro(r,a,c,u,h){let g=0,w=r.length;if(-1===a)w=-1;else for(;g<r.length;){const _=r[g++];if("number"==typeof _){if(_===a){w=-1;break}if(_>a){w=g-1;break}}}for(;g<r.length;){const _=r[g];if("number"==typeof _)break;if(_===c){if(null===u)return void(null!==h&&(r[g+1]=h));if(u===r[g+1])return void(r[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==w&&(r.splice(w,0,a),g=w+1),r.splice(g++,0,c),null!==u&&r.splice(g++,0,u),null!==h&&r.splice(g++,0,h)}const ur="ng-template";function ns(r,a,c){let u=0,h=!0;for(;u<r.length;){let g=r[u++];if("string"==typeof g&&h){const w=r[u++];if(c&&"class"===g&&-1!==xi(w.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<r.length&&"string"==typeof(g=r[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function ui(r){return 4===r.type&&r.value!==ur}function Ma(r,a,c){return a===(4!==r.type||c?r.value:ur)}function Jo(r,a,c){let u=4;const h=r.attrs||[],g=function Ca(r){for(let a=0;a<r.length;a++)if(Ho(r[a]))return a;return r.length}(h);let w=!1;for(let _=0;_<a.length;_++){const C=a[_];if("number"!=typeof C){if(!w)if(4&u){if(u=2|1&u,""!==C&&!Ma(r,C,c)||""===C&&1===a.length){if(Bi(u))return!1;w=!0}}else{const I=8&u?C:a[++_];if(8&u&&null!==r.attrs){if(!ns(r.attrs,I,c)){if(Bi(u))return!1;w=!0}continue}const Y=Zo(8&u?"class":C,h,ui(r),c);if(-1===Y){if(Bi(u))return!1;w=!0;continue}if(""!==I){let Me;Me=Y>g?"":h[Y+1].toLowerCase();const Oe=8&u?Me:null;if(Oe&&-1!==xi(Oe,I,0)||2&u&&I!==Me){if(Bi(u))return!1;w=!0}}}}else{if(!w&&!Bi(u)&&!Bi(C))return!1;if(w&&Bi(C))continue;w=!1,u=C|1&u}}return Bi(u)||w}function Bi(r){return 0==(1&r)}function Zo(r,a,c,u){if(null===a)return-1;let h=0;if(u||!c){let g=!1;for(;h<a.length;){const w=a[h];if(w===r)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let _=a[++h];for(;"string"==typeof _;)_=a[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function Ue(r,a){let c=r.indexOf(4);if(c>-1)for(c++;c<r.length;){const u=r[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,r)}function Lr(r,a,c=!1){for(let u=0;u<a.length;u++)if(Jo(r,a[u],c))return!0;return!1}function xt(r,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(r.length===u.length){for(let h=0;h<r.length;h++)if(r[h]!==u[h])continue e;return!0}}return!1}function S(r,a){return r?":not("+a.trim()+")":a}function N(r){let a=r[0],c=1,u=2,h="",g=!1;for(;c<r.length;){let w=r[c];if("string"==typeof w)if(2&u){const _=r[++c];h+="["+w+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?h+="."+w:4&u&&(h+=" "+w);else""!==h&&!Bi(w)&&(a+=S(g,h),h=""),u=w,g=g||!Bi(u);c++}return""!==h&&(a+=S(g,h)),a}function Ge(r){return Ki(()=>{const a=Gs(r),c={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Vo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||oo.Emulated,styles:r.styles||Ne,_:null,schemas:r.schemas||null,tView:null,id:""};To(c);const u=r.dependencies;return c.directiveDefs=Uo(u,!1),c.pipeDefs=Uo(u,!0),c.id=function is(r){let a=0;const c=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function ht(r){return Vt(r)||Pn(r)}function it(r){return null!==r}function lt(r){return Ki(()=>({type:r.type,bootstrap:r.bootstrap||Ne,declarations:r.declarations||Ne,imports:r.imports||Ne,exports:r.exports||Ne,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function wt(r,a){if(null==r)return xe;const c={};for(const u in r)if(r.hasOwnProperty(u)){let h=r[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=u,a&&(a[h]=g)}return c}function Bt(r){return Ki(()=>{const a=Gs(r);return To(a),a})}function Yt(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Vt(r){return r[rt]||null}function Pn(r){return r[Qt]||null}function Xn(r){return r[ei]||null}function Zn(r){const a=Vt(r)||Pn(r)||Xn(r);return null!==a&&a.standalone}function In(r,a){const c=r[Bn]||null;if(!c&&!0===a)throw new Error(`Type ${se(r)} does not have '\u0275mod' property.`);return c}function Gs(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||xe,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Ne,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wt(r.inputs,a),outputs:wt(r.outputs)}}function To(r){r.features?.forEach(a=>a(r))}function Uo(r,a){if(!r)return null;const c=a?Xn:ht;return()=>("function"==typeof r?r():r).map(u=>c(u)).filter(it)}const ni=0,St=1,wn=2,mi=3,Oo=4,os=5,Zi=6,er=7,Mi=8,Po=9,Nr=10,yn=11,zr=12,Ro=13,Er=14,zi=15,Ks=16,rs=17,so=18,Ms=19,al=20,Fr=21,Wi=22,Ws=23,ao=24,Un=25,qs=1,Qc=2,wo=7,j=9,he=11;function st(r){return Array.isArray(r)&&"object"==typeof r[qs]}function vt(r){return Array.isArray(r)&&!0===r[qs]}function nn(r){return 0!=(4&r.flags)}function Rn(r){return r.componentOffset>-1}function Si(r){return 1==(1&r.flags)}function vi(r){return!!r.template}function di(r){return 0!=(512&r[wn])}function bs(r,a){return r.hasOwnProperty(Kn)?r[Kn]:null}let co=null,Y0=!1;function $o(r){const a=co;return co=r,a}const Q0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function jh(r){if(!hl(r)||r.dirty){if(!r.producerMustRecompute(r)&&!md(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Z0(r){r.dirty=!0,function gd(r){if(void 0===r.liveConsumerNode)return;const a=Y0;Y0=!0;try{for(const c of r.liveConsumerNode)c.dirty||Z0(c)}finally{Y0=a}}(r),r.consumerMarkedDirty?.(r)}function pd(r){return r&&(r.nextProducerIndex=0),$o(r)}function Ia(r,a){if($o(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(hl(r))for(let c=r.nextProducerIndex;c<r.producerNode.length;c++)e2(r.producerNode[c],r.producerIndexOfThis[c]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function md(r){ic(r);for(let a=0;a<r.producerNode.length;a++){const c=r.producerNode[a],u=r.producerLastReadVersion[a];if(u!==c.version||(jh(c),u!==c.version))return!0}return!1}function Hh(r){if(ic(r),hl(r))for(let a=0;a<r.producerNode.length;a++)e2(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function e2(r,a){if(function Kf(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),ic(r),1===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)e2(r.producerNode[u],r.producerIndexOfThis[u]);const c=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[c],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[c],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const u=r.liveConsumerIndexOfThis[a],h=r.liveConsumerNode[a];ic(h),h.producerIndexOfThis[u]=a}}function hl(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function ic(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Xf=null;function n1(r){const a=$o(null);try{return r()}finally{$o(a)}}const vd=()=>{},Kh=(()=>({...Q0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:vd}))();class o1{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function t2(){return Br}function Br(r){return r.type.prototype.ngOnChanges&&(r.setInput=n2),wd}function wd(){const r=o2(this),a=r?.current;if(a){const c=r.previous;if(c===xe)r.previous=a;else for(let u in a)c[u]=a[u];r.current=null,this.ngOnChanges(a)}}function n2(r,a,c,u){const h=this.declaredInputs[c],g=o2(r)||function eo(r,a){return r[Js]=a}(r,{previous:xe,current:null}),w=g.current||(g.current={}),_=g.previous,C=_[h];w[h]=new o1(C&&C.currentValue,a,_===xe),r[u]=a}t2.ngInherit=!0;const Js="__ngSimpleChanges__";function o2(r){return r[Js]||null}const as=function(r,a,c){};function wi(r){for(;Array.isArray(r);)r=r[ni];return r}function rc(r,a){return wi(a[r])}function yo(r,a){return wi(a[r.index])}function Aa(r,a){return r.data[a]}function Es(r,a){return r[a]}function Go(r,a){const c=a[r];return st(c)?c:c[ni]}function Zs(r,a){return null==a?null:r[a]}function xl(r){r[rs]=0}function xd(r){1024&r[wn]||(r[wn]|=1024,Yh(r,1))}function Xh(r){1024&r[wn]&&(r[wn]&=-1025,Yh(r,-1))}function Yh(r,a){let c=r[mi];if(null===c)return;c[os]+=a;let u=c;for(c=c[mi];null!==c&&(1===a&&1===u[os]||-1===a&&0===u[os]);)c[os]+=a,u=c,c=c[mi]}const bn={lFrame:Td(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Cl(){return bn.bindingsEnabled}function ka(){return null!==bn.skipHydrationRootTNode}function at(){return bn.lFrame.lView}function Yn(){return bn.lFrame.tView}function Is(r){return bn.lFrame.contextLView=r,r[Mi]}function Ed(r){return bn.lFrame.contextLView=null,r}function _o(){let r=bl();for(;null!==r&&64===r.type;)r=r.parent;return r}function bl(){return bn.lFrame.currentTNode}function As(r,a){const c=bn.lFrame;c.currentTNode=r,c.isParent=a}function Id(){return bn.lFrame.isParent}function Ad(){bn.lFrame.isParent=!1}function tr(){const r=bn.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function cs(){return bn.lFrame.bindingIndex}function Da(){return bn.lFrame.bindingIndex++}function Vr(r){const a=bn.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,c}function El(r,a){const c=bn.lFrame;c.bindingIndex=c.bindingRootIndex=r,ea(a)}function ea(r){bn.lFrame.currentDirectiveIndex=r}function n3(){return bn.lFrame.currentQueryIndex}function Dd(r){bn.lFrame.currentQueryIndex=r}function Jf(r){const a=r[St];return 2===a.type?a.declTNode:1===a.type?r[Zi]:null}function u2(r,a,c){if(c&mt.SkipSelf){let h=a,g=r;for(;!(h=h.parent,null!==h||c&mt.Host||(h=Jf(g),null===h||(g=g[Er],10&h.type))););if(null===h)return!1;a=h,r=g}const u=bn.lFrame=Ko();return u.currentTNode=a,u.lView=r,!0}function to(r){const a=Ko(),c=r[St];bn.lFrame=a,a.currentTNode=c.firstChild,a.lView=r,a.tView=c,a.contextLView=r,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ko(){const r=bn.lFrame,a=null===r?null:r.child;return null===a?Td(r):a}function Td(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function hi(){const r=bn.lFrame;return bn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Dt=hi;function Di(){const r=hi();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function xo(){return bn.lFrame.selectedIndex}function Ta(r){bn.lFrame.selectedIndex=r}function fi(){const r=bn.lFrame;return Aa(r.tView,r.selectedIndex)}let Dl=!0;function ls(){return Dl}function us(r){Dl=r}function Tl(r,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const g=r.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:_,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:O}=g;w&&(r.contentHooks??=[]).push(-c,w),_&&((r.contentHooks??=[]).push(c,_),(r.contentCheckHooks??=[]).push(c,_)),C&&(r.viewHooks??=[]).push(-c,C),I&&((r.viewHooks??=[]).push(c,I),(r.viewCheckHooks??=[]).push(c,I)),null!=O&&(r.destroyHooks??=[]).push(c,O)}}function Ir(r,a,c){Od(r,a,3,c)}function sc(r,a,c,u){(3&r[wn])===c&&Od(r,a,c,u)}function Ol(r,a){let c=r[wn];(3&c)===a&&(c&=8191,c+=1,r[wn]=c)}function Od(r,a,c,u){const g=u??-1,w=a.length-1;let _=0;for(let C=void 0!==u?65535&r[rs]:0;C<w;C++)if("number"==typeof a[C+1]){if(_=a[C],null!=u&&_>=u)break}else a[C]<0&&(r[rs]+=65536),(_<g||-1==g)&&(a1(r,c,a,C),r[rs]=(4294901760&r[rs])+C+2),C++}function ta(r,a){as(4,r,a);const c=$o(null);try{a.call(r)}finally{$o(c),as(5,r,a)}}function a1(r,a,c,u){const h=c[u]<0,g=c[u+1],_=r[h?-c[u]:c[u]];h?r[wn]>>13<r[rs]>>16&&(3&r[wn])===a&&(r[wn]+=8192,ta(_,g)):ta(_,g)}const ac=-1;class jr{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function lc(r){return r!==ac}function Ai(r){return 32767&r}function Ci(r,a){let c=function Hn(r){return r>>16}(r),u=a;for(;c>0;)u=u[Er],c--;return u}let Ss=!0;function ki(r){const a=Ss;return Ss=r,a}const u1=255,d1=5;let r3=0;const Mo={};function Vi(r,a){const c=Pd(r,a);if(-1!==c)return c;const u=a[St];u.firstCreatePass&&(r.injectorIndex=a.length,qi(u.data,r),qi(a,null),qi(u.blueprint,null));const h=Pa(r,a),g=r.injectorIndex;if(lc(h)){const w=Ai(h),_=Ci(h,a),C=_[St].data;for(let I=0;I<8;I++)a[g+I]=_[w+I]|C[w+I]}return a[g+8]=h,g}function qi(r,a){r.push(0,0,0,0,0,0,0,0,a)}function Pd(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function Pa(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let c=0,u=null,h=a;for(;null!==h;){if(u=Rl(h),null===u)return ac;if(c++,h=h[Er],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return ac}function h1(r,a,c){!function Oa(r,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Jn)&&(u=c[Jn]),null==u&&(u=c[Jn]=r3++);const h=u&u1;a.data[r+(h>>d1)]|=1<<h}(r,a,c)}function g2(r,a,c){if(c&mt.Optional||void 0!==r)return r;Q()}function Ra(r,a,c,u){if(c&mt.Optional&&void 0===u&&(u=null),!(c&(mt.Self|mt.Host))){const h=r[Po],g=zt(void 0);try{return h?h.get(a,u,c&mt.Optional):Ii(a,u,c&mt.Optional)}finally{zt(g)}}return g2(u,0,c)}function Pl(r,a,c,u=mt.Default,h){if(null!==r){if(2048&a[wn]&&!(u&mt.Self)){const w=function Bd(r,a,c,u,h){let g=r,w=a;for(;null!==g&&null!==w&&2048&w[wn]&&!(512&w[wn]);){const _=Rd(g,w,c,u|mt.Self,Mo);if(_!==Mo)return _;let C=g.parent;if(!C){const I=w[al];if(I){const O=I.get(c,Mo,u);if(O!==Mo)return O}C=Rl(w),w=w[Er]}g=C}return h}(r,a,c,u,Mo);if(w!==Mo)return w}const g=Rd(r,a,c,u,Mo);if(g!==Mo)return g}return Ra(a,c,u,h)}function Rd(r,a,c,u,h){const g=function uc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(Jn)?r[Jn]:void 0;return"number"==typeof a?a>=0?a&u1:oa:a}(c);if("function"==typeof g){if(!u2(a,r,u))return u&mt.Host?g2(h,0,u):Ra(a,c,u,h);try{let w;if(w=g(u),null!=w||u&mt.Optional)return w;Q()}finally{Dt()}}else if("number"==typeof g){let w=null,_=Pd(r,a),C=ac,I=u&mt.Host?a[zi][Zi]:null;for((-1===_||u&mt.SkipSelf)&&(C=-1===_?Pa(r,a):a[_+8],C!==ac&&Nd(u,!1)?(w=a[St],_=Ai(C),a=Ci(C,a)):_=-1);-1!==_;){const O=a[St];if(Ld(g,_,O.data)){const Y=An(_,a,c,w,u,I);if(Y!==Mo)return Y}C=a[_+8],C!==ac&&Nd(u,a[St].data[_+8]===I)&&Ld(g,_,a)?(w=O,_=Ai(C),a=Ci(C,a)):_=-1}}return h}function An(r,a,c,u,h,g){const w=a[St],_=w.data[r+8],O=ia(_,w,c,null==u?Rn(_)&&Ss:u!=w&&0!=(3&_.type),h&mt.Host&&g===_);return null!==O?La(a,w,O,_):Mo}function ia(r,a,c,u,h){const g=r.providerIndexes,w=a.data,_=1048575&g,C=r.directiveStart,O=g>>20,Me=h?_+O:r.directiveEnd;for(let Oe=u?_:_+O;Oe<Me;Oe++){const et=w[Oe];if(Oe<C&&c===et||Oe>=C&&et.type===c)return Oe}if(h){const Oe=w[C];if(Oe&&vi(Oe)&&Oe.type===c)return C}return null}function La(r,a,c,u){let h=r[c];const g=a.data;if(function ks(r){return r instanceof jr}(h)){const w=h;w.resolving&&function V(r,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${r}`:"";throw new Z(-200,`Circular dependency in DI detected for ${r}${c}`)}(function Ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():oe(r)}(g[c]));const _=ki(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?zt(w.injectImpl):null;u2(r,u,mt.Default);try{h=r[c]=w.factory(void 0,g,r,u),a.firstCreatePass&&c>=u.directiveStart&&function no(r,a,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(u){const w=Br(a);(c.preOrderHooks??=[]).push(r,w),(c.preOrderCheckHooks??=[]).push(r,w)}h&&(c.preOrderHooks??=[]).push(0-r,h),g&&((c.preOrderHooks??=[]).push(r,g),(c.preOrderCheckHooks??=[]).push(r,g))}(c,g[c],a)}finally{null!==I&&zt(I),ki(_),w.resolving=!1,Dt()}}return h}function Ld(r,a,c){return!!(c[a+(r>>d1)]&1<<r)}function Nd(r,a){return!(r&mt.Self||r&mt.Host&&a)}class No{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Pl(this._tNode,this._lView,a,On(u),c)}}function oa(){return new No(_o(),at())}function Fd(r){return Ki(()=>{const a=r.prototype.constructor,c=a[Kn]||dc(a),u=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==u;){const g=h[Kn]||dc(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function dc(r){return pe(r)?()=>{const a=dc(ye(r));return a&&a()}:bs(r)}function Rl(r){const a=r[St],c=a.type;return 2===c?a.declTNode:1===c?r[Zi]:null}function Ll(r){return function s3(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const c=r.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const g=c[h];if(Ho(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(_o(),r)}const za="__parameters__";function Qn(r,a,c){return Ki(()=>{const u=function Ts(r){return function(...c){if(r){const u=r(...c);for(const h in u)this[h]=u[h]}}}(a);function h(...g){if(this instanceof h)return u.apply(this,g),this;const w=new h(...g);return _.annotation=w,_;function _(C,I,O){const Y=C.hasOwnProperty(za)?C[za]:Object.defineProperty(C,za,{value:[]})[za];for(;Y.length<=O;)Y.push(null);return(Y[O]=Y[O]||[]).push(w),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}function ra(r,a){r.forEach(c=>Array.isArray(c)?ra(c,a):a(c))}function Ud(r,a,c){a>=r.length?r.push(c):r.splice(a,0,c)}function Fl(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function Os(r,a){const c=[];for(let u=0;u<r;u++)c.push(a);return c}function hr(r,a,c){let u=sa(r,a);return u>=0?r[1|u]=c:(u=~u,function l3(r,a,c,u){let h=r.length;if(h==a)r.push(c,u);else if(1===h)r.push(u,r[0]),r[0]=c;else{for(h--,r.push(r[h-1],r[h]);h>a;)r[h]=r[h-2],h--;r[a]=c,r[a+1]=u}}(r,u,a,c)),u}function Bl(r,a){const c=sa(r,a);if(c>=0)return r[1|c]}function sa(r,a){return function v2(r,a,c){let u=0,h=r.length>>c;for(;h!==u;){const g=u+(h-u>>1),w=r[g<<c];if(a===w)return g<<c;w>a?h=g:u=g+1}return~(h<<c)}(r,a,1)}const m1=_i(Qn("Optional"),8),Ba=_i(Qn("SkipSelf"),4);function y(r){return 128==(128&r.flags)}var m=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(m||{});const x=/^>|^->|<!--|-->|--!>|<!-$/g,k=/(<|>)/g,P="\u200b$1\u200b";const qe=new Map;let bt=0;const x1="__ngContext__";function bo(r,a){st(a)?(r[x1]=a[Ms],function mn(r){qe.set(r[Ms],r)}(a)):r[x1]=a}let S2;function Ur(r,a){return S2(r,a)}function $a(r){const a=r[mi];return vt(a)?a[mi]:a}function sg(r){return D2(r[zr])}function y3(r){return D2(r[Oo])}function D2(r){for(;null!==r&&!vt(r);)r=r[Oo];return r}function Ul(r,a,c,u,h){if(null!=u){let g,w=!1;vt(u)?g=u:st(u)&&(w=!0,u=u[ni]);const _=wi(u);0===r&&null!==c?null==h?ug(a,c,_):I1(a,c,_,h||null,!0):1===r&&null!==c?I1(a,c,_,h||null,!0):2===r?function e4(r,a,c){const u=Zd(r,a);u&&function Dv(r,a,c,u){r.removeChild(a,c,u)}(r,u,a,c)}(a,_,w):3===r&&a.destroyNode(_),null!=g&&function Ov(r,a,c,u,h){const g=c[wo];g!==wi(c)&&Ul(a,r,u,g,h);for(let _=he;_<c.length;_++){const C=c[_];N2(C[St],C,r,a,u,g)}}(a,r,g,c,h)}}function b1(r,a){return r.createComment(function _e(r){return r.replace(x,a=>a.replace(k,P))}(a))}function Qd(r,a,c){return r.createElement(a,c)}function ag(r,a){const c=r[j],u=c.indexOf(a);Xh(a),c.splice(u,1)}function Jd(r,a){if(r.length<=he)return;const c=he+a,u=r[c];if(u){const h=u[Ks];null!==h&&h!==r&&ag(h,u),a>0&&(r[c-1][Oo]=u[Oo]);const g=Fl(r,he+a);!function Ev(r,a){N2(r,a,a[yn],2,null,null),a[ni]=null,a[Zi]=null}(u[St],u);const w=g[so];null!==w&&w.detachView(g[St]),u[mi]=null,u[Oo]=null,u[wn]&=-129}return u}function _3(r,a){if(!(256&a[wn])){const c=a[yn];a[Ws]&&Hh(a[Ws]),a[ao]&&Hh(a[ao]),c.destroyNode&&N2(r,a,c,3,null,null),function Iv(r){let a=r[zr];if(!a)return cg(r[St],r);for(;a;){let c=null;if(st(a))c=a[zr];else{const u=a[he];u&&(c=u)}if(!c){for(;a&&!a[Oo]&&a!==r;)st(a)&&cg(a[St],a),a=a[mi];null===a&&(a=r),st(a)&&cg(a[St],a),c=a&&a[Oo]}a=c}}(a)}}function cg(r,a){if(!(256&a[wn])){a[wn]&=-129,a[wn]|=256,function lg(r,a){let c;if(null!=r&&null!=(c=r.destroyHooks))for(let u=0;u<c.length;u+=2){const h=a[c[u]];if(!(h instanceof jr)){const g=c[u+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const _=h[g[w]],C=g[w+1];as(4,_,C);try{C.call(_)}finally{as(5,_,C)}}else{as(4,h,g);try{g.call(h)}finally{as(5,h,g)}}}}}(r,a),function Sv(r,a){const c=r.cleanup,u=a[er];if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const w=c[g+3];w>=0?u[w]():u[-w].unsubscribe(),g+=2}else c[g].call(u[c[g+1]]);null!==u&&(a[er]=null);const h=a[Fr];if(null!==h){a[Fr]=null;for(let g=0;g<h.length;g++)(0,h[g])()}}(r,a),1===a[St].type&&a[yn].destroy();const c=a[Ks];if(null!==c&&vt(a[mi])){c!==a[mi]&&ag(c,a);const u=a[so];null!==u&&u.detachView(r)}!function Li(r){qe.delete(r[Ms])}(a)}}function $l(r,a,c){return function E1(r,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[ni];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=r.data[u.directiveStart+h];if(g===oo.None||g===oo.Emulated)return null}return yo(u,c)}}(r,a.parent,c)}function I1(r,a,c,u,h){r.insertBefore(a,c,u,h)}function ug(r,a,c){r.appendChild(a,c)}function dg(r,a,c,u,h){null!==u?I1(r,a,c,u,h):ug(r,a,c)}function Zd(r,a){return r.parentNode(a)}function hg(r,a,c){return x3(r,a,c)}let M3,vg,n4,x3=function fg(r,a,c){return 40&r.type?yo(r,c):null};function R2(r,a,c,u){const h=$l(r,u,a),g=a[yn],_=hg(u.parent||a[Zi],u,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)dg(g,h,c[C],_,!1);else dg(g,h,c,_,!1);void 0!==M3&&M3(g,u,a,c,h)}function ua(r,a){if(null!==a){const c=a.type;if(3&c)return yo(a,r);if(4&c)return b3(-1,r[a.index]);if(8&c){const u=a.child;if(null!==u)return ua(r,u);{const h=r[a.index];return vt(h)?b3(-1,h):wi(h)}}if(32&c)return Ur(a,r)()||wi(r[a.index]);{const u=C3(r,a);return null!==u?Array.isArray(u)?u[0]:ua($a(r[zi]),u):ua(r,a.next)}}return null}function C3(r,a){return null!==a?r[zi][Zi].projection[a.projection]:null}function b3(r,a){const c=he+r+1;if(c<a.length){const u=a[c],h=u[St].firstChild;if(null!==h)return ua(u,h)}return a[wo]}function L2(r,a,c,u,h,g,w){for(;null!=c;){const _=u[c.index],C=c.type;if(w&&0===a&&(_&&bo(wi(_),u),c.flags|=2),32!=(32&c.flags))if(8&C)L2(r,a,c.child,u,h,g,!1),Ul(a,r,h,_,g);else if(32&C){const I=Ur(c,u);let O;for(;O=I();)Ul(a,r,h,O,g);Ul(a,r,h,_,g)}else 16&C?I3(r,a,u,c,h,g):Ul(a,r,h,_,g);c=w?c.projectionNext:c.next}}function N2(r,a,c,u,h,g){L2(c,u,r.firstChild,a,h,g,!1)}function I3(r,a,c,u,h,g){const w=c[zi],C=w[Zi].projection[u.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Ul(a,r,h,C[I],g);else{let I=C;const O=w[mi];y(u)&&(I.flags|=128),L2(r,a,I,O,h,g,!0)}}function pg(r,a,c){""===c?r.removeAttribute(a,"class"):r.setAttribute(a,"class",c)}function z2(r,a,c){const{mergedAttrs:u,classes:h,styles:g}=c;null!==u&&jo(r,a,u),null!==h&&pg(r,a,h),null!==g&&function Rv(r,a,c){r.setAttribute(a,"style",c)}(r,a,g)}function wg(r){vg=r}function xg(r){return function k3(){if(void 0===n4&&(n4=null,Rt.trustedTypes))try{n4=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return n4}()?.createScriptURL(r)||r}class Mg{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pe})`}}function bc(r){return r instanceof Mg?r.changingThisBreaksApplicationSecurity:r}function Wl(r,a){const c=function i4(r){return r instanceof Mg&&r.getTypeName()||null}(r);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Pe})`)}return c===a}const F2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var V2=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(V2||{});function j2(r){const a=H2();return a?a.sanitize(V2.URL,r)||"":Wl(r,"URL")?bc(r):function r4(r){return(r=String(r)).match(F2)?r:"unsafe:"+r}(oe(r))}function Tg(r){const a=H2();if(a)return xg(a.sanitize(V2.RESOURCE_URL,r)||"");if(Wl(r,"ResourceURL"))return xg(bc(r));throw new Z(904,!1)}function Yv(r,a,c){return function Xv(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?Tg:j2}(a,c)(r)}function H2(){const r=at();return r&&r[Nr].sanitizer}const s4=new rn("ENVIRONMENT_INITIALIZER"),L3=new rn("INJECTOR",-1),Pg=new rn("INJECTOR_DEF_TYPES");class N3{get(a,c=en){if(c===en){const u=new Error(`NullInjectorError: No provider for ${se(a)}!`);throw u.name="NullInjectorError",u}return c}}function a4(r){return{\u0275providers:r}}function Qv(...r){return{\u0275providers:Rg(0,r),\u0275fromNgModule:!0}}function Rg(r,...a){const c=[],u=new Set;let h;const g=w=>{c.push(w)};return ra(a,w=>{const _=w;c4(_,g,[],u)&&(h||=[],h.push(_))}),void 0!==h&&Lg(h,g),c}function Lg(r,a){for(let c=0;c<r.length;c++){const{ngModule:u,providers:h}=r[c];l4(h,g=>{a(g,u)})}}function c4(r,a,c,u){if(!(r=ye(r)))return!1;let h=null,g=gt(r);const w=!g&&Vt(r);if(g||w){if(w&&!w.standalone)return!1;h=r}else{const C=r.ngModule;if(g=gt(C),!g)return!1;h=C}const _=u.has(h);if(w){if(_)return!1;if(u.add(h),w.dependencies){const C="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const I of C)c4(I,a,c,u)}}else{if(!g)return!1;{if(null!=g.imports&&!_){let I;u.add(h);try{ra(g.imports,O=>{c4(O,a,c,u)&&(I||=[],I.push(O))})}finally{}void 0!==I&&Lg(I,a)}if(!_){const I=bs(h)||(()=>new h);a({provide:h,useFactory:I,deps:Ne},h),a({provide:Pg,useValue:h,multi:!0},h),a({provide:s4,useValue:()=>Ft(h),multi:!0},h)}const C=g.providers;if(null!=C&&!_){const I=r;l4(C,O=>{a(O,I)})}}}return h!==r&&void 0!==r.providers}function l4(r,a){for(let c of r)J(c)&&(c=c.\u0275providers),Array.isArray(c)?l4(c,a):a(c)}const Jv=B({provide:String,useValue:B});function Ng(r){return null!==r&&"object"==typeof r&&Jv in r}function ql(r){return"function"==typeof r}const zg=new rn("Set Injector scope."),k1={},u4={};let pr;function z3(){return void 0===pr&&(pr=new N3),pr}class da{}class Xl extends da{get destroyed(){return this._destroyed}constructor(a,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d4(a,w=>this.processProvider(w)),this.records.set(L3,nr(void 0,this)),h.has("environment")&&this.records.set(da,nr(void 0,this));const g=this.records.get(zg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Pg.multi,Ne,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=_t(this),u=zt(void 0);try{return a()}finally{_t(c),zt(u)}}get(a,c=en,u=mt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(oi))return a[oi](this);u=On(u);const g=_t(this),w=zt(void 0);try{if(!(u&mt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function i9(r){return"function"==typeof r||"object"==typeof r&&r instanceof rn}(a)&&Kt(a);C=I&&this.injectableDefInScope(I)?nr(F3(a),k1):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(u&mt.Self?z3():this.parent).get(a,c=u&mt.Optional&&c===en?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[ue]=_[ue]||[]).unshift(se(a)),g)throw _;return function Rr(r,a,c,u){const h=r[ue];throw a[ne]&&h.unshift(a[ne]),r.message=function ts(r,a,c,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let h=se(a);if(Array.isArray(a))h=a.map(se).join(" -> ");else if("object"==typeof a){let g=[];for(let w in a)if(a.hasOwnProperty(w)){let _=a[w];g.push(w+":"+("string"==typeof _?JSON.stringify(_):se(_)))}h=`{${g.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${r.replace(R,"\n  ")}`}("\n"+r.message,h,c,u),r.ngTokenPath=h,r[ue]=null,r}(_,a,"R3InjectorError",this.source)}throw _}finally{zt(w),_t(g)}}resolveInjectorInitializers(){const a=_t(this),c=zt(void 0);try{const h=this.get(s4.multi,Ne,mt.Self);for(const g of h)g()}finally{_t(a),zt(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(se(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(a){let c=ql(a=ye(a))?a:ye(a&&a.provide);const u=function Fg(r){return Ng(r)?nr(void 0,r.useValue):nr(U2(r),k1)}(a);if(ql(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=nr(void 0,k1,!0),h.factory=()=>yi(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===k1&&(c.value=u4,c.value=c.factory()),"object"==typeof c.value&&c.value&&function n9(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ye(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function F3(r){const a=Kt(r),c=null!==a?a.factory:bs(r);if(null!==c)return c;if(r instanceof rn)throw new Z(204,!1);if(r instanceof Function)return function t9(r){const a=r.length;if(a>0)throw Os(a,"?"),new Z(204,!1);const c=function Re(r){return r&&(r[At]||r[on])||null}(r);return null!==c?()=>c.factory(r):()=>new r}(r);throw new Z(204,!1)}function U2(r,a,c){let u;if(ql(r)){const h=ye(r);return bs(h)||F3(h)}if(Ng(r))u=()=>ye(r.useValue);else if(function e9(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...yi(r.deps||[]));else if(function Zv(r){return!(!r||!r.useExisting)}(r))u=()=>Ft(ye(r.useExisting));else{const h=ye(r&&(r.useClass||r.provide));if(!function ME(r){return!!r.deps}(r))return bs(h)||F3(h);u=()=>new h(...yi(r.deps))}return u}function nr(r,a,c=!1){return{factory:r,value:a,multi:c?[]:void 0}}function d4(r,a){for(const c of r)Array.isArray(c)?d4(c,a):c&&J(c)?d4(c.\u0275providers,a):a(c)}const B3=new rn("AppId",{providedIn:"root",factory:()=>Bg}),Bg="ng",Vg=new rn("Platform Initializer"),S1=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V3=new rn("CSP nonce",{providedIn:"root",factory:()=>function A1(){if(void 0!==vg)return vg;if(typeof document<"u")return document;throw new Z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let r9=(r,a,c)=>null;function Kg(r,a,c=!1){return r9(r,a,c)}class Wg{}class qg{}class h9{resolveComponentFactory(a){throw function Xg(r){const a=Error(`No component factory found for ${se(r)}.`);return a.ngComponent=r,a}(a)}}let p4=(()=>{class r{static{this.NULL=new h9}}return r})();function Ac(){return ps(_o(),at())}function ps(r,a){return new W2(yo(r,a))}let W2=(()=>{class r{constructor(c){this.nativeElement=c}static{this.__NG_ELEMENT_ID__=Ac}}return r})();function kE(r){return r instanceof W2?r.nativeElement:r}class X3{}let f9=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function SE(){const r=at(),c=Go(_o().index,r);return(st(c)?c:r)[yn]}()}}return r})(),DE=(()=>{class r{static{this.\u0275prov=Nt({token:r,providedIn:"root",factory:()=>null})}}return r})();class g9{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const p9=new g9("16.2.12"),Yg={};function Q3(r,a=null,c=null,u){const h=kc(r,a,c,u);return h.resolveInjectorInitializers(),h}function kc(r,a=null,c=null,u,h=new Set){const g=[c||Ne,Qv(r)];return u=u||("object"==typeof r?void 0:se(r)),new Xl(g,a||z3(),u||null,h)}let Ni=(()=>{class r{static{this.THROW_IF_NOT_FOUND=en}static{this.NULL=new N3}static create(c,u){if(Array.isArray(c))return Q3({name:""},u,c,"");{const h=c.name??"";return Q3({name:h},c.parent,c.providers,h)}}static{this.\u0275prov=Nt({token:r,providedIn:"any",factory:()=>Ft(L3)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function J3(r){return r.ngOriginalError}class Sc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&J3(a);for(;c&&J3(c);)c=J3(c);return c||null}}function ho(r){return a=>{setTimeout(r,void 0,a)}}const Xo=class e5 extends E.B{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let h=a,g=c||(()=>null),w=u;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),g=C.error?.bind(C),w=C.complete?.bind(C)}this.__isAsync&&(g=ho(g),h&&(h=ho(h)),w&&(w=ho(w)));const _=super.subscribe({next:h,error:g,complete:w});return a instanceof s.yU&&a.add(_),_}};function t5(...r){}class Eo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ir(){const r="function"==typeof Rt.requestAnimationFrame;let a=Rt[r?"requestAnimationFrame":"setTimeout"],c=Rt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function o5(r){const a=()=>{!function i5(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Rt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,y4(r),r.isCheckStableRunning=!0,w4(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),y4(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,g,w,_)=>{if(function s5(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(_))return c.invokeTask(h,g,w,_);try{return e6(r),c.invokeTask(h,g,w,_)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&a(),q2(r)}},onInvoke:(c,u,h,g,w,_,C)=>{try{return e6(r),c.invoke(h,g,w,_,C)}finally{r.shouldCoalesceRunChangeDetection&&a(),q2(r)}},onHasTask:(c,u,h,g)=>{c.hasTask(h,g),u===h&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,y4(r),w4(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,u,h,g)=>(c.handleError(h,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Z(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,a,n5,t5,t5);try{return g.runTask(w,c,u)}finally{g.cancelTask(w)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const n5={};function w4(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function y4(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function e6(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function q2(r){r._nesting--,w4(r)}class r5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,h){return a.apply(c,u)}}const t6=new rn("",{providedIn:"root",factory:n6});function n6(){const r=Ct(Eo);let a=!0;const c=new z.c(h=>{a=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{h.next(a),h.complete()})}),u=new z.c(h=>{let g;r.runOutsideAngular(()=>{g=r.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const w=r.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),a&&(a=!1,r.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),w.unsubscribe()}});return(0,ae.h)(c,u.pipe((0,q.u)()))}function ha(r){return r instanceof Function?r():r}let e0=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Nt({token:r,providedIn:"root",factory:()=>new r})}}return r})();function t0(r){for(;r;){r[wn]|=64;const a=$a(r);if(di(r)&&!a)return r;r=a}return null}const or=new rn("",{providedIn:"root",factory:()=>!1});let c6=null;function b9(r,a){return r[a]??A9()}function E9(r,a){const c=A9();c.producerNode?.length&&(r[a]=c6,c.lView=r,c6=I9())}const LE={...Q0,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{t0(r.lView)},lView:null};function I9(){return Object.create(LE)}function A9(){return c6??=I9(),c6}const Fn={};function l6(r){k9(Yn(),at(),xo()+r,!1)}function k9(r,a,c,u){if(!u)if(3==(3&a[wn])){const g=r.preOrderCheckHooks;null!==g&&Ir(a,g,c)}else{const g=r.preOrderHooks;null!==g&&sc(a,g,0,c)}Ta(c)}function Y2(r,a=mt.Default){const c=at();return null===c?Ft(r,a):Pl(_o(),c,ye(r),a)}function S9(){throw new Error("invalid")}function O1(r,a,c,u,h,g,w,_,C,I,O){const Y=a.blueprint.slice();return Y[ni]=h,Y[wn]=140|u,(null!==I||r&&2048&r[wn])&&(Y[wn]|=2048),xl(Y),Y[mi]=Y[Er]=r,Y[Mi]=c,Y[Nr]=w||r&&r[Nr],Y[yn]=_||r&&r[yn],Y[Po]=C||r&&r[Po]||null,Y[Zi]=g,Y[Ms]=function Wt(){return bt++}(),Y[Wi]=O,Y[al]=I,Y[zi]=2==a.type?r[zi]:Y,Y}function Ls(r,a,c,u,h){let g=r.data[a];if(null===g)g=function P1(r,a,c,u,h){const g=bl(),w=Id(),C=r.data[a]=function eu(r,a,c,u,h,g){let w=a?a.injectorIndex:-1,_=0;return ka()&&(_|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,c,a,u,h);return null===r.firstChild&&(r.firstChild=C),null!==g&&(w?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(r,a,c,u,h),function kd(){return bn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=u,g.attrs=h;const w=function Sa(){const r=bn.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return As(g,!0),g}function R1(r,a,c,u){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(u),r.blueprint.push(u),r.data.push(null);return h}function h5(r,a,c,u,h){const g=b9(a,Ws),w=xo(),_=2&u;try{Ta(-1),_&&a.length>Un&&k9(r,a,Un,!1),as(_?2:0,h);const I=_?g:null,O=pd(I);try{null!==I&&(I.dirty=!1),c(u,h)}finally{Ia(I,O)}}finally{_&&null===a[Ws]&&E9(a,Ws),Ta(w),as(_?3:1,h)}}function J2(r,a,c){if(nn(a)){const u=$o(null);try{const g=a.directiveEnd;for(let w=a.directiveStart;w<g;w++){const _=r.data[w];_.contentQueries&&_.contentQueries(1,c[w],w)}}finally{$o(u)}}}function u6(r,a,c){Cl()&&(function O9(r,a,c,u){const h=c.directiveStart,g=c.directiveEnd;Rn(c)&&function v6(r,a,c){const u=yo(a,r),h=d6(c);let w=16;c.signals?w=4096:c.onPush&&(w=64);const _=Pc(r,O1(r,h,null,w,u,a,null,r[Nr].rendererFactory.createRenderer(u,c),null,null,null));r[a.index]=_}(a,c,r.data[h+c.componentOffset]),r.firstCreatePass||Vi(c,a),bo(u,a);const w=c.initialInputs;for(let _=h;_<g;_++){const C=r.data[_],I=La(a,r,_,c);bo(I,a),null!==w&&N9(0,_-h,I,C,0,w),vi(C)&&(Go(c.index,a)[Mi]=La(a,r,_,c))}}(r,a,c,yo(c,a)),64==(64&c.flags)&&P9(r,a,c))}function n0(r,a,c=yo){const u=a.localNames;if(null!==u){let h=a.index+1;for(let g=0;g<u.length;g+=2){const w=u[g+1],_=-1===w?c(a,r):r[w];r[h++]=_}}}function d6(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=C4(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function C4(r,a,c,u,h,g,w,_,C,I,O){const Y=Un+u,Me=Y+h,Oe=function b4(r,a){const c=[];for(let u=0;u<a;u++)c.push(u<r?null:Fn);return c}(Y,Me),et="function"==typeof I?I():I;return Oe[St]={type:r,blueprint:Oe,template:c,queries:null,viewQuery:_,declTNode:a,data:Oe.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:C,consts:et,incompleteFirstPass:!1,ssrId:O}}let D9=r=>null;function tu(r,a,c,u){for(let h in r)if(r.hasOwnProperty(h)){c=null===c?{}:c;const g=r[h];null===u?o0(c,a,h,g):u.hasOwnProperty(h)&&o0(c,a,u[h],g)}return c}function o0(r,a,c,u){r.hasOwnProperty(c)?r[c].push(a,u):r[c]=[a,u]}function f6(r,a,c,u){if(Cl()){const h=null===u?null:{"":-1},g=function p6(r,a){const c=r.directiveRegistry;let u=null,h=null;if(c)for(let g=0;g<c.length;g++){const w=c[g];if(Lr(a,w.selectors,!1))if(u||(u=[]),vi(w))if(null!==w.findHostDirectiveDefs){const _=[];h=h||new Map,w.findHostDirectiveDefs(w,_,h),u.unshift(..._,w),p5(r,a,_.length)}else u.unshift(w),p5(r,a,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,u,h),u.push(w)}return null===u?null:[u,h]}(r,c);let w,_;null===g?w=_=null:[w,_]=g,null!==w&&g6(r,a,c,w,h,_),h&&function BE(r,a,c){if(a){const u=r.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new Z(-301,!1);u.push(a[h],g)}}}(c,u,h)}c.mergedAttrs=zn(c.mergedAttrs,c.attrs)}function g6(r,a,c,u,h,g){for(let I=0;I<u.length;I++)h1(Vi(c,a),r,u[I].type);!function L9(r,a,c){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+c,r.providerIndexes=a}(c,r.data.length,u.length);for(let I=0;I<u.length;I++){const O=u[I];O.providersResolver&&O.providersResolver(O)}let w=!1,_=!1,C=R1(r,a,u.length,null);for(let I=0;I<u.length;I++){const O=u[I];c.mergedAttrs=zn(c.mergedAttrs,O.hostAttrs),m5(r,c,a,C,O),m6(C,O,h),null!==O.contentQueries&&(c.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=64);const Y=O.type.prototype;!w&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((r.preOrderHooks??=[]).push(c.index),w=!0),!_&&(Y.ngOnChanges||Y.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(c.index),_=!0),C++}!function E4(r,a,c){const h=a.directiveEnd,g=r.data,w=a.attrs,_=[];let C=null,I=null;for(let O=a.directiveStart;O<h;O++){const Y=g[O],Me=c?c.get(Y):null,et=Me?Me.outputs:null;C=tu(Y.inputs,O,C,Me?Me.inputs:null),I=tu(Y.outputs,O,I,et);const pt=null===C||null===w||ui(a)?null:w6(C,O,w);_.push(pt)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=_,a.inputs=C,a.outputs=I}(r,c,g)}function P9(r,a,c){const u=c.directiveStart,h=c.directiveEnd,g=c.index,w=function Il(){return bn.lFrame.currentDirectiveIndex}();try{Ta(g);for(let _=u;_<h;_++){const C=r.data[_],I=a[_];ea(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&R9(C,I)}}finally{Ta(-1),ea(w)}}function R9(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function p5(r,a,c){a.componentOffset=c,(r.components??=[]).push(a.index)}function m6(r,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=r;vi(a)&&(c[""]=r)}}function m5(r,a,c,u,h){r.data[u]=h;const g=h.factory||(h.factory=bs(h.type)),w=new jr(g,vi(h),Y2);r.blueprint[u]=w,c[u]=w,function T9(r,a,c,u,h){const g=h.hostBindings;if(g){let w=r.hostBindingOpCodes;null===w&&(w=r.hostBindingOpCodes=[]);const _=~a.index;(function g5(r){let a=r.length;for(;a>0;){const c=r[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=_&&w.push(_),w.push(c,u,g)}}(r,a,u,R1(r,c,h.hostVars,Fn),h)}function fa(r,a,c,u,h,g){const w=yo(r,a);!function v5(r,a,c,u,h,g,w){if(null==g)r.removeAttribute(a,h,c);else{const _=null==w?oe(g):w(g,u||"",h);r.setAttribute(a,h,_,c)}}(a[yn],w,g,r.value,c,u,h)}function N9(r,a,c,u,h,g){const w=g[a];if(null!==w)for(let _=0;_<w.length;)r0(u,c,w[_++],w[_++],w[_++])}function r0(r,a,c,u,h){const g=$o(null);try{const w=r.inputTransforms;null!==w&&w.hasOwnProperty(u)&&(h=w[u].call(a,h)),null!==r.setInput?r.setInput(a,h,c,u):a[u]=h}finally{$o(g)}}function w6(r,a,c){let u=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(r.hasOwnProperty(g)){null===u&&(u=[]);const w=r[g];for(let _=0;_<w.length;_+=2)if(w[_]===a){u.push(g,w[_+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function y6(r,a,c,u){return[r,!0,!1,a,null,0,u,c,null,null,null]}function _6(r,a){const c=r.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const g=c[u+1];if(-1!==g){const w=r.data[g];Dd(c[u]),w.contentQueries(2,a[g],g)}}}function Pc(r,a){return r[zr]?r[Ro][Oo]=a:r[zr]=a,r[Ro]=a,a}function w5(r,a,c){Dd(0);const u=$o(null);try{a(r,c)}finally{$o(u)}}function x6(r){return r[er]||(r[er]=[])}function z9(r){return r.cleanup||(r.cleanup=[])}function B9(r,a){const c=r[Po],u=c?c.get(Sc,null):null;u&&u.handleError(a)}function y5(r,a,c,u,h){for(let g=0;g<c.length;){const w=c[g++],_=c[g++];r0(r.data[w],a[w],u,_,h)}}function Wa(r,a,c){const u=rc(a,r);!function C1(r,a,c){r.setValue(a,c)}(r[yn],u,c)}function _5(r,a){const c=Go(a,r),u=c[St];!function V9(r,a){for(let c=a.length;c<r.blueprint.length;c++)a.push(r.blueprint[c])}(u,c);const h=c[ni];null!==h&&null===c[Wi]&&(c[Wi]=Kg(h,c[Po])),k4(u,c,c[Mi])}function k4(r,a,c){to(a);try{const u=r.viewQuery;null!==u&&w5(1,u,c);const h=r.template;null!==h&&h5(r,a,h,1,c),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&_6(r,a),r.staticViewQueries&&w5(2,r.viewQuery,c);const g=r.components;null!==g&&function M6(r,a){for(let c=0;c<a.length;c++)_5(r,a[c])}(a,g)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{a[wn]&=-5,Di()}}let s0=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(c,u,h){const g=typeof Zone>"u"?null:Zone.current,w=function Gh(r,a,c){const u=Object.create(Kh);c&&(u.consumerAllowSignalWrites=!0),u.fn=r,u.schedule=a;const h=w=>{u.cleanupFn=w};return u.ref={notify:()=>Z0(u),run:()=>{if(u.dirty=!1,u.hasRun&&!md(u))return;u.hasRun=!0;const w=pd(u);try{u.cleanupFn(),u.cleanupFn=vd,u.fn(h)}finally{Ia(u,w)}},cleanup:()=>u.cleanupFn()},u.ref}(c,I=>{this.all.has(I)&&this.queue.set(I,g)},h);let _;this.all.add(w),w.notify();const C=()=>{w.cleanup(),_?.(),this.all.delete(w),this.queue.delete(w)};return _=u?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Nt({token:r,providedIn:"root",factory:()=>new r})}}return r})();function nu(r,a,c){let u=c?r.styles:null,h=c?r.classes:null,g=0;if(null!==a)for(let w=0;w<a.length;w++){const _=a[w];"number"==typeof _?g=_:1==g?h=ce(h,_):2==g&&(u=ce(u,_+": "+a[++w]+";"))}c?r.styles=u:r.stylesWithoutHost=u,c?r.classes=h:r.classesWithoutHost=h}function iu(r,a,c,u,h=!1){for(;null!==c;){const g=a[c.index];null!==g&&u.push(wi(g)),vt(g)&&H9(g,u);const w=c.type;if(8&w)iu(r,a,c.child,u);else if(32&w){const _=Ur(c,a);let C;for(;C=_();)u.push(C)}else if(16&w){const _=C3(a,c);if(Array.isArray(_))u.push(..._);else{const C=$a(a[zi]);iu(C[St],C,_,u,!0)}}c=h?c.projectionNext:c.next}return u}function H9(r,a){for(let c=he;c<r.length;c++){const u=r[c],h=u[St].firstChild;null!==h&&iu(u[St],u,h,a)}r[wo]!==r[ni]&&a.push(r[wo])}function ou(r,a,c,u=!0){const h=a[Nr],g=h.rendererFactory,w=h.afterRenderEventManager;g.begin?.(),w?.begin();try{M5(r,a,r.template,c)}catch(C){throw u&&B9(a,C),C}finally{g.end?.(),h.effectManager?.flush(),w?.end()}}function M5(r,a,c,u){const h=a[wn];if(256!=(256&h)){a[Nr].effectManager?.flush(),to(a);try{xl(a),function t3(r){return bn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==c&&h5(r,a,c,2,u);const w=3==(3&h);if(w){const I=r.preOrderCheckHooks;null!==I&&Ir(a,I,null)}else{const I=r.preOrderHooks;null!==I&&sc(a,I,0,null),Ol(a,0)}if(function b6(r){for(let a=sg(r);null!==a;a=y3(a)){if(!a[Qc])continue;const c=a[j];for(let u=0;u<c.length;u++){xd(c[u])}}}(a),C6(a,2),null!==r.contentQueries&&_6(r,a),w){const I=r.contentCheckHooks;null!==I&&Ir(a,I)}else{const I=r.contentHooks;null!==I&&sc(a,I,1),Ol(a,1)}!function Q2(r,a){const c=r.hostBindingOpCodes;if(null===c)return;const u=b9(a,ao);try{for(let h=0;h<c.length;h++){const g=c[h];if(g<0)Ta(~g);else{const w=g,_=c[++h],C=c[++h];El(_,w),u.dirty=!1;const I=pd(u);try{C(2,a[w])}finally{Ia(u,I)}}}}finally{null===a[ao]&&E9(a,ao),Ta(-1)}}(r,a);const _=r.components;null!==_&&C5(a,_,0);const C=r.viewQuery;if(null!==C&&w5(2,C,u),w){const I=r.viewCheckHooks;null!==I&&Ir(a,I)}else{const I=r.viewHooks;null!==I&&sc(a,I,2),Ol(a,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[wn]&=-73,Xh(a)}finally{Di()}}}function C6(r,a){for(let c=sg(r);null!==c;c=y3(c))for(let u=he;u<c.length;u++)E6(c[u],a)}function U9(r,a,c){E6(Go(a,r),c)}function E6(r,a){if(!function _d(r){return 128==(128&r[wn])}(r))return;const c=r[St],u=r[wn];if(80&u&&0===a||1024&u||2===a)M5(c,r,c.template,r[Mi]);else if(r[os]>0){C6(r,1);const h=c.components;null!==h&&C5(r,h,1)}}function C5(r,a,c){for(let u=0;u<a.length;u++)U9(r,a[u],c)}class Ns{get rootNodes(){const a=this._lView,c=a[St];return iu(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mi]}set context(a){this._lView[Mi]=a}get destroyed(){return 256==(256&this._lView[wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[mi];if(vt(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(Jd(a,u),Fl(c,u))}this._attachedToViewContainer=!1}_3(this._lView[St],this._lView)}onDestroy(a){!function Md(r,a){if(256==(256&r[wn]))throw new Z(911,!1);null===r[Fr]&&(r[Fr]=[]),r[Fr].push(a)}(this._lView,a)}markForCheck(){t0(this._cdRefInjectingView||this._lView)}detach(){this._lView[wn]&=-129}reattach(){this._lView[wn]|=128}detectChanges(){ou(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O2(r,a){N2(r,a,a[yn],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=a}}class $9 extends Ns{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;ou(a[St],a,a[Mi],!1)}checkNoChanges(){}get context(){return null}}class S4 extends p4{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Vt(a);return new ru(c,this.ngModule)}}function b5(r){const a=[];for(let c in r)r.hasOwnProperty(c)&&a.push({propName:r[c],templateName:c});return a}class E5{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=On(u);const h=this.injector.get(a,Yg,u);return h!==Yg||c===Yg?h:this.parentInjector.get(a,c,u)}}class ru extends qg{get inputs(){const a=this.componentDef,c=a.inputTransforms,u=b5(a.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return b5(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ve(r){return r.map(N).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,h){let g=(h=h||this.ngModule)instanceof da?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new E5(a,g):a,_=w.get(X3,null);if(null===_)throw new Z(407,!1);const Y={rendererFactory:_,sanitizer:w.get(DE,null),effectManager:w.get(s0,null),afterRenderEventManager:w.get(e0,null)},Me=_.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",et=u?function Z2(r,a,c,u){const g=u.get(or,!1)||c===oo.ShadowDom,w=r.selectRootElement(a,g);return function NE(r){D9(r)}(w),w}(Me,u,this.componentDef.encapsulation,w):Qd(Me,Oe,function I6(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Oe)),hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let dt=null;null!==et&&(dt=Kg(et,w,!0));const Ln=C4(0,null,null,1,0,null,null,null,null,null,null),Gn=O1(null,Ln,null,hn,null,null,Y,Me,w,null,dt);let Ei,qr;to(Gn);try{const Uc=this.componentDef;let Su,Im=null;Uc.findHostDirectiveDefs?(Su=[],Im=new Map,Uc.findHostDirectiveDefs(Uc,Su,Im),Su.push(Uc)):Su=[Uc];const zk=function G9(r,a){const c=r[St],u=Un;return r[u]=a,Ls(c,u,2,"#host",null)}(Gn,et),Fk=function I5(r,a,c,u,h,g,w){const _=h[St];!function K9(r,a,c,u){for(const h of r)a.mergedAttrs=zn(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(nu(a,a.mergedAttrs,!0),null!==c&&z2(u,c,a))}(u,r,a,w);let C=null;null!==a&&(C=Kg(a,h[Po]));const I=g.rendererFactory.createRenderer(a,c);let O=16;c.signals?O=4096:c.onPush&&(O=64);const Y=O1(h,d6(c),null,O,h[r.index],r,g,I,null,null,C);return _.firstCreatePass&&p5(_,r,u.length-1),Pc(h,Y),h[r.index]=Y}(zk,et,Uc,Su,Gn,Y,Me);qr=Aa(Ln,Un),et&&function W9(r,a,c,u){if(u)jo(r,c,["ng-version",p9.full]);else{const{attrs:h,classes:g}=function ge(r){const a=[],c=[];let u=1,h=2;for(;u<r.length;){let g=r[u];if("string"==typeof g)2===h?""!==g&&a.push(g,r[++u]):8===h&&c.push(g);else{if(!Bi(h))break;h=g}u++}return{attrs:a,classes:c}}(a.selectors[0]);h&&jo(r,c,h),g&&g.length>0&&pg(r,c,g.join(" "))}}(Me,Uc,et,u),void 0!==c&&function q9(r,a,c){const u=r.projection=[];for(let h=0;h<a.length;h++){const g=c[h];u.push(null!=g?Array.from(g):null)}}(qr,this.ngContentSelectors,c),Ei=function A6(r,a,c,u,h,g){const w=_o(),_=h[St],C=yo(w,h);g6(_,h,w,c,null,u);for(let O=0;O<c.length;O++)bo(La(h,_,w.directiveStart+O,w),h);P9(_,h,w),C&&bo(C,h);const I=La(h,_,w.directiveStart+w.componentOffset,w);if(r[Mi]=h[Mi]=I,null!==g)for(const O of g)O(I,a);return J2(_,w,r),I}(Fk,Uc,Su,Im,Gn,[A5]),k4(Ln,Gn,null)}finally{Di()}return new a0(this.componentType,Ei,ps(qr,Gn),Gn,qr)}}class a0 extends Wg{constructor(a,c,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new $9(h),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const g=this._rootLView;y5(g[St],g,h,a,c),this.previousInputValues.set(a,c),t0(Go(this._tNode.index,g))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function A5(){const r=_o();Tl(at()[St],r)}function S5(r){let a=function k5(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),c=!0;const u=[r];for(;a;){let h;if(vi(r))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Z(903,!1);h=a.\u0275dir}if(h){if(c){u.push(h);const w=r;w.inputs=D4(r.inputs),w.inputTransforms=D4(r.inputTransforms),w.declaredInputs=D4(r.declaredInputs),w.outputs=D4(r.outputs);const _=h.hostBindings;_&&N1(r,_);const C=h.viewQuery,I=h.contentQueries;if(C&&D5(r,C),I&&T5(r,I),F(r.inputs,h.inputs),F(r.declaredInputs,h.declaredInputs),F(r.outputs,h.outputs),null!==h.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),F(w.inputTransforms,h.inputTransforms)),vi(h)&&h.data.animation){const O=r.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const _=g[w];_&&_.ngInherit&&_(r),_===S5&&(c=!1)}}a=Object.getPrototypeOf(a)}!function k6(r){let a=0,c=null;for(let u=r.length-1;u>=0;u--){const h=r[u];h.hostVars=a+=h.hostVars,h.hostAttrs=zn(h.hostAttrs,c=zn(c,h.hostAttrs))}}(u)}function D4(r){return r===xe?{}:r===Ne?[]:r}function D5(r,a){const c=r.viewQuery;r.viewQuery=c?(u,h)=>{a(u,h),c(u,h)}:a}function T5(r,a){const c=r.contentQueries;r.contentQueries=c?(u,h,g)=>{a(u,h,g),c(u,h,g)}:a}function N1(r,a){const c=r.hostBindings;r.hostBindings=c?(u,h)=>{a(u,h),c(u,h)}:a}function O6(r){const a=r.inputConfig,c={};for(const u in a)if(a.hasOwnProperty(u)){const h=a[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}r.inputTransforms=c}function su(r){return!!P6(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function P6(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function qa(r,a,c){return r[a]=c}function mr(r,a,c){return!Object.is(r[a],c)&&(r[a]=c,!0)}function Rc(r,a,c,u){const h=mr(r,a,c);return mr(r,a+1,u)||h}function z5(r,a,c,u){const h=at();return mr(h,Da(),a)&&(Yn(),fa(fi(),h,r,a,c,u)),z5}function lu(r,a,c,u,h,g,w,_){const I=function au(r,a,c,u,h){const g=Rc(r,a,c,u);return mr(r,a+2,h)||g}(r,cs(),c,h,w);return Vr(3),I?a+oe(c)+u+oe(h)+g+oe(w)+_:Fn}function V6(r,a,c,u,h,g,w,_){const C=at(),I=Yn(),O=r+Un,Y=I.firstCreatePass?function gw(r,a,c,u,h,g,w,_,C){const I=a.consts,O=Ls(a,r,4,w||null,Zs(I,_));f6(a,c,O,Zs(I,C)),Tl(a,O);const Y=O.tView=C4(2,O,u,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I,null);return null!==a.queries&&(a.queries.template(a,O),Y.queries=a.queries.embeddedTView(O)),O}(O,I,C,a,c,u,h,g,w):I.data[O];As(Y,!1);const Me=j6(I,C,Y,r);ls()&&R2(I,C,Me,Y),bo(Me,C),Pc(C,C[O]=y6(Me,C,Me,Y)),Si(Y)&&u6(I,C,Y),null!=w&&n0(C,Y,_)}let j6=function H6(r,a,c,u){return us(!0),a[yn].createComment("")};function fu(r,a,c){const u=at();return mr(u,Da(),a)&&function $r(r,a,c,u,h,g,w,_){const C=yo(a,c);let O,I=a.inputs;!_&&null!=I&&(O=I[u])?(y5(r,c,O,u,h),Rn(a)&&function h6(r,a){const c=Go(a,r);16&c[wn]||(c[wn]|=64)}(c,a.index)):3&a.type&&(u=function I4(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),h=null!=w?w(h,a.value||"",u):h,g.setProperty(C,u,h))}(Yn(),fi(),u,r,a,u[yn],c,!1),fu}function U6(r,a,c,u,h){const w=h?"class":"style";y5(r,c,a.inputs[w],w,u)}function gu(r,a,c,u){const h=at(),g=Yn(),w=Un+r,_=h[yn],C=g.firstCreatePass?function vw(r,a,c,u,h,g){const w=a.consts,C=Ls(a,r,2,u,Zs(w,h));return f6(a,c,C,Zs(w,g)),null!==C.attrs&&nu(C,C.attrs,!1),null!==C.mergedAttrs&&nu(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(w,g,h,a,c,u):g.data[w],I=q5(g,h,C,_,a,r);h[w]=I;const O=Si(C);return As(C,!0),z2(_,I,C),32!=(32&C.flags)&&ls()&&R2(g,h,I,C),0===function Ml(){return bn.lFrame.elementDepthCount}()&&bo(I,h),function Qh(){bn.lFrame.elementDepthCount++}(),O&&(u6(g,h,C),J2(g,C,h)),null!==u&&n0(h,C),gu}function R4(){let r=_o();Id()?Ad():(r=r.parent,As(r,!1));const a=r;(function Jh(r){return bn.skipHydrationRootTNode===r})(a)&&function e3(){bn.skipHydrationRootTNode=null}(),function bd(){bn.lFrame.elementDepthCount--}();const c=Yn();return c.firstCreatePass&&(Tl(c,r),nn(r)&&c.queries.elementEnd(r)),null!=a.classesWithoutHost&&function ds(r){return 0!=(8&r.flags)}(a)&&U6(c,a,at(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function l1(r){return 0!=(16&r.flags)}(a)&&U6(c,a,at(),a.stylesWithoutHost,!1),R4}function $6(r,a,c,u){return gu(r,a,c,u),R4(),$6}let q5=(r,a,c,u,h,g)=>(us(!0),Qd(u,h,function Sl(){return bn.lFrame.currentNamespace}()));function pu(r,a,c){const u=at(),h=Yn(),g=r+Un,w=h.firstCreatePass?function X5(r,a,c,u,h){const g=a.consts,w=Zs(g,u),_=Ls(a,r,8,"ng-container",w);return null!==w&&nu(_,w,!0),f6(a,c,_,Zs(g,h)),null!==a.queries&&a.queries.elementStart(a,_),_}(g,h,u,a,c):h.data[g];As(w,!0);const _=Y5(h,u,w,r);return u[g]=_,ls()&&R2(h,u,_,w),bo(_,u),Si(w)&&(u6(h,u,w),J2(h,w,u)),null!=c&&n0(u,w),pu}function mu(){let r=_o();const a=Yn();return Id()?Ad():(r=r.parent,As(r,!1)),a.firstCreatePass&&(Tl(a,r),nn(r)&&a.queries.elementEnd(r)),mu}function G6(r,a,c){return pu(r,a,c),mu(),G6}let Y5=(r,a,c,u)=>(us(!0),b1(a[yn],""));function K6(){return at()}function Lc(r){return!!r&&"function"==typeof r.then}function _w(r){return!!r&&"function"==typeof r.subscribe}function Q5(r,a,c,u){const h=at(),g=Yn(),w=_o();return function It(r,a,c,u,h,g,w){const _=Si(u),I=r.firstCreatePass&&z9(r),O=a[Mi],Y=x6(a);let Me=!0;if(3&u.type||w){const pt=yo(u,a),Ut=w?w(pt):pt,hn=Y.length,dt=w?Gn=>w(wi(Gn[u.index])):u.index;let Ln=null;if(!w&&_&&(Ln=function xw(r,a,c,u){const h=r.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===c&&h[g+1]===u){const _=a[er],C=h[g+2];return _.length>C?_[C]:null}"string"==typeof w&&(g+=2)}return null}(r,a,h,u.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=g,Ln.__ngLastListenerFn__=g,Me=!1;else{g=J5(u,a,O,g,!1);const Gn=c.listen(Ut,h,g);Y.push(g,Gn),I&&I.push(h,dt,hn,hn+1)}}else g=J5(u,a,O,g,!1);const Oe=u.outputs;let et;if(Me&&null!==Oe&&(et=Oe[h])){const pt=et.length;if(pt)for(let Ut=0;Ut<pt;Ut+=2){const Ei=a[et[Ut]][et[Ut+1]].subscribe(g),qr=Y.length;Y.push(g,Ei),I&&I.push(h,u.index,qr,-(qr+1))}}}(g,h,h[yn],w,r,a,u),Q5}function N4(r,a,c,u){try{return as(6,a,c),!1!==c(u)}catch(h){return B9(r,h),!1}finally{as(7,a,c)}}function J5(r,a,c,u,h){return function g(w){if(w===Function)return u;t0(r.componentOffset>-1?Go(r.index,a):a);let C=N4(a,c,u,w),I=g.__ngNextListenerFn__;for(;I;)C=N4(a,c,I,w)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&w.preventDefault(),C}}function Mw(r=1){return function i3(r){return(bn.lFrame.contextLView=function d2(r,a){for(;r>0;)a=a[Er],r--;return a}(r,bn.lFrame.contextLView))[Mi]}(r)}function GE(r,a){let c=null;const u=function br(r){const a=r.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(r);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===u?Lr(r,g,!0):xt(u,g))return h}else c=h}return c}function Cw(r){const a=at()[zi][Zi];if(!a.projection){const u=a.projection=Os(r?r.length:1,null),h=u.slice();let g=a.child;for(;null!==g;){const w=r?GE(g,r):0;null!==w&&(h[w]?h[w].projectionNext=g:u[w]=g,h[w]=g),g=g.next}}}function vu(r,a=0,c){const u=at(),h=Yn(),g=Ls(h,Un+r,16,null,c||null);null===g.projection&&(g.projection=a),Ad(),(!u[Wi]||ka())&&32!=(32&g.flags)&&function E3(r,a,c){I3(a[yn],0,a,c,$l(r,c,a),hg(c.parent||a[Zi],c,a))}(h,u,g)}function zc(r,a){return r<<17|a<<2}function Fc(r){return r>>17&32767}function B4(r){return 2|r}function Bc(r){return(131068&r)>>2}function Q6(r,a){return-131069&r|a<<2}function J6(r){return 1|r}function np(r,a,c,u,h){const g=r[c+1],w=null===a;let _=u?Fc(g):Bc(g),C=!1;for(;0!==_&&(!1===C||w);){const O=r[_+1];kw(r[_],a)&&(C=!0,r[_+1]=u?J6(O):B4(O)),_=u?Fc(O):Bc(O)}C&&(r[c+1]=u?B4(g):J6(g))}function kw(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&sa(r,a)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ip(r){return r.substring(Io.key,Io.keyEnd)}function Z6(r,a){const c=Io.textEnd;return c===a?-1:(a=Io.keyEnd=function Ow(r,a,c){for(;a<c&&r.charCodeAt(a)>32;)a++;return a}(r,Io.key=a,c),U1(r,a,c))}function U1(r,a,c){for(;a<c&&r.charCodeAt(a)<=32;)a++;return a}function n8(r,a){return function Bs(r,a,c,u){const h=at(),g=Yn(),w=Vr(2);g.firstUpdatePass&&lp(g,r,w,u),a!==Fn&&mr(h,w,a)&&dp(g,g.data[xo()],h,h[yn],r,h[w+1]=function WE(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=se(bc(r)))),r}(a,c),u,w)}(r,a,null,!0),n8}function ap(r){!function Vs(r,a,c,u){const h=Yn(),g=Vr(2);h.firstUpdatePass&&lp(h,null,g,u);const w=at();if(c!==Fn&&mr(w,g,c)){const _=h.data[xo()];if(jw(_,u)&&!cp(h,g)){let C=u?_.classesWithoutHost:_.stylesWithoutHost;null!==C&&(c=ce(C,c||"")),U6(h,_,w,c,u)}else!function Vw(r,a,c,u,h,g,w,_){h===Fn&&(h=Ne);let C=0,I=0,O=0<h.length?h[0]:null,Y=0<g.length?g[0]:null;for(;null!==O||null!==Y;){const Me=C<h.length?h[C+1]:void 0,Oe=I<g.length?g[I+1]:void 0;let pt,et=null;O===Y?(C+=2,I+=2,Me!==Oe&&(et=Y,pt=Oe)):null===Y||null!==O&&O<Y?(C+=2,et=O):(I+=2,et=Y,pt=Oe),null!==et&&dp(r,a,c,u,et,pt,w,_),O=C<h.length?h[C]:null,Y=I<g.length?g[I]:null}}(h,_,w,w[yn],w[g+1],w[g+1]=function g0(r,a,c){if(null==c||""===c)return Ne;const u=[],h=bc(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)r(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&r(u,g,h[g]);else"string"==typeof h&&a(u,h);return u}(r,a,c),u,g)}}(i8,pa,r,!0)}function pa(r,a){for(let c=function Dw(r){return function j4(r){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=r.length}(r),Z6(r,U1(r,0,Io.textEnd))}(a);c>=0;c=Z6(a,c))hr(r,ip(a),!0)}function cp(r,a){return a>=r.expandoStartIndex}function lp(r,a,c,u){const h=r.data;if(null===h[c+1]){const g=h[xo()],w=cp(r,c);jw(g,u)&&null===a&&!w&&(a=!1),a=function Nw(r,a,c,u){const h=function Al(r){const a=bn.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let g=u?a.residualClasses:a.residualStyles;if(null===h)0===(u?a.classBindings:a.styleBindings)&&(c=Ja(c=H4(null,r,a,c,u),a.attrs,u),g=null);else{const w=a.directiveStylingLast;if(-1===w||r[w]!==h)if(c=H4(h,r,a,c,u),null===g){let C=function zw(r,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Bc(u))return r[Fc(u)]}(r,a,u);void 0!==C&&Array.isArray(C)&&(C=H4(null,r,a,C[1],u),C=Ja(C,a.attrs,u),function Fw(r,a,c,u){r[Fc(c?a.classBindings:a.styleBindings)]=u}(r,a,u,C))}else g=function Bw(r,a,c){let u;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)u=Ja(u,r[g].hostAttrs,c);return Ja(u,a.attrs,c)}(r,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,u),function V4(r,a,c,u,h,g){let w=g?a.classBindings:a.styleBindings,_=Fc(w),C=Bc(w);r[u]=c;let O,I=!1;if(Array.isArray(c)?(O=c[1],(null===O||sa(c,O)>0)&&(I=!0)):O=c,h)if(0!==C){const Me=Fc(r[_+1]);r[u+1]=zc(Me,_),0!==Me&&(r[Me+1]=Q6(r[Me+1],u)),r[_+1]=function Ew(r,a){return 131071&r|a<<17}(r[_+1],u)}else r[u+1]=zc(_,0),0!==_&&(r[_+1]=Q6(r[_+1],u)),_=u;else r[u+1]=zc(C,0),0===_?_=u:r[C+1]=Q6(r[C+1],u),C=u;I&&(r[u+1]=B4(r[u+1])),np(r,O,u,!0),np(r,O,u,!1),function Aw(r,a,c,u,h){const g=h?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof a&&sa(g,a)>=0&&(c[u+1]=J6(c[u+1]))}(a,O,r,u,g),w=zc(_,C),g?a.classBindings=w:a.styleBindings=w}(h,g,a,c,w,u)}}function H4(r,a,c,u,h){let g=null;const w=c.directiveEnd;let _=c.directiveStylingLast;for(-1===_?_=c.directiveStart:_++;_<w&&(g=a[_],u=Ja(u,g.hostAttrs,h),g!==r);)_++;return null!==r&&(c.directiveStylingLast=_),u}function Ja(r,a,c){const u=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const w=a[g];"number"==typeof w?h=w:h===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),hr(r,w,!!c||a[++g]))}return void 0===r?null:r}function i8(r,a,c){const u=String(a);""!==u&&!u.includes(" ")&&hr(r,u,c)}function dp(r,a,c,u,h,g,w,_){if(!(3&a.type))return;const C=r.data,I=C[_+1],O=function Iw(r){return 1==(1&r)}(I)?p0(C,a,c,h,Bc(I),w):void 0;o8(O)||(o8(g)||function bw(r){return 2==(2&r)}(I)&&(g=p0(C,null,c,h,_,w)),function Pv(r,a,c,u,h){if(a)h?r.addClass(c,u):r.removeClass(c,u);else{let g=-1===u.indexOf("-")?void 0:m.DashCase;null==h?r.removeStyle(c,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=m.Important),r.setStyle(c,u,h,g))}}(u,w,rc(xo(),c),h,g))}function p0(r,a,c,u,h,g){const w=null===a;let _;for(;h>0;){const C=r[h],I=Array.isArray(C),O=I?C[1]:C,Y=null===O;let Me=c[h+1];Me===Fn&&(Me=Y?Ne:void 0);let Oe=Y?Bl(Me,u):O===u?Me:void 0;if(I&&!o8(Oe)&&(Oe=Bl(C,u)),o8(Oe)&&(_=Oe,w))return _;const et=r[h+1];h=w?Fc(et):Bc(et)}if(null!==a){let C=g?a.residualClasses:a.residualStyles;null!=C&&(_=Bl(C,u))}return _}function o8(r){return void 0!==r}function jw(r,a){return 0!=(r.flags&(a?8:16))}function Hw(r,a=""){const c=at(),u=Yn(),h=r+Un,g=u.firstCreatePass?Ls(u,h,1,a,null):u.data[h],w=Uw(u,c,g,a,r);c[h]=w,ls()&&R2(u,c,w,g),As(g,!1)}let Uw=(r,a,c,u,h)=>(us(!0),function Yd(r,a){return r.createText(a)}(a[yn],u));function hp(r){return Vc("",r,""),hp}function Vc(r,a,c){const u=at(),h=function Xa(r,a,c,u){return mr(r,Da(),c)?a+oe(c)+u:Fn}(u,r,a,c);return h!==Fn&&Wa(u,xo(),h),Vc}function fp(r,a,c,u,h){const g=at(),w=function cu(r,a,c,u,h,g){const _=Rc(r,cs(),c,h);return Vr(2),_?a+oe(c)+u+oe(h)+g:Fn}(g,r,a,c,u,h);return w!==Fn&&Wa(g,xo(),w),fp}function r8(r,a,c,u,h,g,w){const _=at(),C=lu(_,r,a,c,u,h,g,w);return C!==Fn&&Wa(_,xo(),C),r8}const vr=void 0;var m0=["en",[["a","p"],["AM","PM"],vr],[["AM","PM"],vr,vr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vr,"{1} 'at' {0}",vr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function G1(r){const c=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Za={};function sy(r,a,c){"string"!=typeof a&&(c=a,a=r[v0.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),Za[a]=r,c&&(Za[a][v0.ExtraData]=c)}function u8(r){const a=function ay(r){return r.toLowerCase().replace(/_/g,"-")}(r);let c=Mp(a);if(c)return c;const u=a.split("-")[0];if(c=Mp(u),c)return c;if("en"===u)return m0;throw new Z(701,!1)}function ms(r){return u8(r)[v0.PluralCase]}function Mp(r){return r in Za||(Za[r]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[r]),Za[r]}var v0=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(v0||{});const w0="en-US";let y0=w0;function Wp(r,a,c,u,h){if(r=ye(r),Array.isArray(r))for(let g=0;g<r.length;g++)Wp(r[g],a,c,u,h);else{const g=Yn(),w=at(),_=_o();let C=ql(r)?r:ye(r.provide);const I=U2(r),O=1048575&_.providerIndexes,Y=_.directiveStart,Me=_.providerIndexes>>20;if(ql(r)||!r.multi){const Oe=new jr(I,h,Y2),et=qp(C,a,h?O:O+Me,Y);-1===et?(h1(Vi(_,w),g,C),m8(g,r,a.length),a.push(C),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),c.push(Oe),w.push(Oe)):(c[et]=Oe,w[et]=Oe)}else{const Oe=qp(C,a,O+Me,Y),et=qp(C,a,O,O+Me),Ut=et>=0&&c[et];if(h&&!Ut||!h&&!(Oe>=0&&c[Oe])){h1(Vi(_,w),g,C);const hn=function dI(r,a,c,u,h){const g=new jr(r,c,Y2);return g.multi=[],g.index=a,g.componentProviders=0,Ty(g,h,u&&!c),g}(h?Oy:uI,c.length,h,u,I);!h&&Ut&&(c[et].providerFactory=hn),m8(g,r,a.length,0),a.push(C),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),c.push(hn),w.push(hn)}else m8(g,r,Oe>-1?Oe:et,Ty(c[h?et:Oe],I,!h&&u));!h&&u&&Ut&&c[et].componentProviders++}}}function m8(r,a,c,u){const h=ql(a),g=function xE(r){return!!r.useClass}(a);if(h||g){const C=(g?ye(a.useClass):a).prototype.ngOnDestroy;if(C){const I=r.destroyHooks||(r.destroyHooks=[]);if(!h&&a.multi){const O=I.indexOf(c);-1===O?I.push(c,[u,C]):I[O+1].push(u,C)}else I.push(c,C)}}}function Ty(r,a,c){return c&&r.componentProviders++,r.multi.push(a)-1}function qp(r,a,c,u){for(let h=c;h<u;h++)if(a[h]===r)return h;return-1}function uI(r,a,c,u){return Xp(this.multi,[])}function Oy(r,a,c,u){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,_=La(c,c[St],this.providerFactory.index,u);g=_.slice(0,w),Xp(h,g);for(let C=w;C<_.length;C++)g.push(_[C])}else g=[],Xp(h,g);return g}function Xp(r,a){for(let c=0;c<r.length;c++)a.push((0,r[c])());return a}function Py(r,a=[]){return c=>{c.providersResolver=(u,h)=>function lI(r,a,c){const u=Yn();if(u.firstCreatePass){const h=vi(r);Wp(c,u.data,u.blueprint,h,!0),Wp(a,u.data,u.blueprint,h,!1)}}(u,h?h(r):r,a)}}class C0{}class Ry{}function hI(r,a){return new Yp(r,a??null,[])}class Yp extends C0{constructor(a,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S4(this);const h=In(a);this._bootstrapComponents=ha(h.bootstrap),this._r3Injector=kc(a,c,[{provide:C0,useValue:this},{provide:p4,useValue:this.componentFactoryResolver},...u],se(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Qp extends Ry{constructor(a){super(),this.moduleType=a}create(a){return new Yp(this.moduleType,a,[])}}class Jp extends C0{constructor(a){super(),this.componentFactoryResolver=new S4(this),this.instance=null;const c=new Xl([...a.providers,{provide:C0,useValue:this},{provide:p4,useValue:this.componentFactoryResolver}],a.parent||z3(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ly(r,a,c=null){return new Jp({providers:r,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let gI=(()=>{class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=Rg(0,c.type),h=u.length>0?Ly([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Nt({token:r,providedIn:"environment",factory:()=>new r(Ft(da))})}}return r})();function Ny(r){r.getStandaloneInjector=a=>a.get(gI).getOrCreateStandaloneInjector(r)}function Uy(r,a,c){const u=tr()+r,h=at();return h[u]===Fn?qa(h,u,c?a.call(c):a()):function T4(r,a){return r[a]}(h,u)}function $y(r,a,c,u){return Gy(at(),tr(),r,a,c,u)}function q4(r,a){const c=r[a];return c===Fn?void 0:c}function Gy(r,a,c,u,h,g){const w=a+c;return mr(r,w,h)?qa(r,w+1,g?u.call(g,h):u(h)):q4(r,w+1)}function qy(r,a,c,u,h,g,w,_,C){const I=a+c;return function zs(r,a,c,u,h,g){const w=Rc(r,a,c,u);return Rc(r,a+2,h,g)||w}(r,I,h,g,w,_)?qa(r,I+4,C?u.call(C,h,g,w,_):u(h,g,w,_)):q4(r,I+4)}function Yy(r,a){const c=Yn();let u;const h=r+Un;c.firstCreatePass?(u=function TI(r,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(r===u.name)return u}}(a,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const g=u.factory||(u.factory=bs(u.type)),_=zt(Y2);try{const C=ki(!1),I=g();return ki(C),function pw(r,a,c,u){c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),a[c]=u}(c,at(),h,I),I}finally{zt(_)}}function Qy(r,a,c){const u=r+Un,h=at(),g=Es(h,u);return X4(h,u)?Gy(h,tr(),a,g.transform,c,g):g.transform(c)}function Jy(r,a,c,u){const h=r+Un,g=at(),w=Es(g,h);return X4(g,h)?function Ky(r,a,c,u,h,g,w){const _=a+c;return Rc(r,_,h,g)?qa(r,_+2,w?u.call(w,h,g):u(h,g)):q4(r,_+2)}(g,tr(),a,w.transform,c,u,w):w.transform(c,u)}function e_(r,a,c,u,h,g){const w=r+Un,_=at(),C=Es(_,w);return X4(_,w)?qy(_,tr(),a,C.transform,c,u,h,g,C):C.transform(c,u,h,g)}function X4(r,a){return r[St].data[a].pure}function RI(){return this._results[Symbol.iterator]()}class Zp{get changes(){return this._changes||(this._changes=new Xo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Zp.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=RI)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const h=function dr(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Hd(r,a,c){if(r.length!==a.length)return!1;for(let u=0;u<r.length;u++){let h=r[u],g=a[u];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function NI(r,a,c,u=!0){const h=a[St];if(function Av(r,a,c,u){const h=he+u,g=c.length;u>0&&(c[h-1][Oo]=a),u<g-he?(a[Oo]=c[h],Ud(c,he+u,a)):(c.push(a),a[Oo]=null),a[mi]=c;const w=a[Ks];null!==w&&c!==w&&function kv(r,a){const c=r[j];a[zi]!==a[mi][mi][zi]&&(r[Qc]=!0),null===c?r[j]=[a]:c.push(a)}(w,a);const _=a[so];null!==_&&_.insertView(r),a[wn]|=128}(h,a,r,c),u){const g=b3(c,r),w=a[yn],_=Zd(w,r[wo]);null!==_&&function T2(r,a,c,u,h,g){u[ni]=h,u[Zi]=a,N2(r,u,c,1,h,g)}(h,r[Zi],w,a,_,g)}}let Y4=(()=>{class r{static{this.__NG_ELEMENT_ID__=BI}}return r})();const zI=Y4,FI=class extends zI{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,u){const h=function LI(r,a,c,u){const h=a.tView,_=O1(r,h,c,4096&r[wn]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);_[Ks]=r[a.index];const I=r[so];return null!==I&&(_[so]=I.createEmbeddedView(h)),k4(h,_,c),_}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:u});return new Ns(h)}};function BI(){return w8(_o(),at())}function w8(r,a){return 4&r.type?new FI(a,r,ps(r,a)):null}let _8=(()=>{class r{static{this.__NG_ELEMENT_ID__=r_}}return r})();function r_(){return c_(_o(),at())}const GI=_8,s_=class extends GI{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const a=Pa(this._hostTNode,this._hostLView);if(lc(a)){const c=Ci(a,this._hostLView),u=Ai(a);return new No(c[St].data[u+8],c)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=a_(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-he}createEmbeddedView(a,c,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const _=a.createEmbeddedViewImpl(c||{},g,null);return this.insertImpl(_,h,false),_}createComponent(a,c,u,h,g){const w=a&&!function hs(r){return"function"==typeof r}(a);let _;if(w)_=c;else{const pt=c||{};_=pt.index,u=pt.injector,h=pt.projectableNodes,g=pt.environmentInjector||pt.ngModuleRef}const C=w?a:new ru(Vt(a)),I=u||this.parentInjector;if(!g&&null==C.ngModule){const Ut=(w?I:this.parentInjector).get(da,null);Ut&&(g=Ut)}Vt(C.componentType??{});const Oe=C.create(I,h,null,g);return this.insertImpl(Oe.hostView,_,false),Oe}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,u){const h=a._lView;if(function _l(r){return vt(r[mi])}(h)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const I=h[mi],O=new s_(I,I[Zi],I[mi]);O.detach(O.indexOf(a))}}const w=this._adjustIndex(c),_=this._lContainer;return NI(_,h,w,!u),a.attachToViewContainerRef(),Ud(x8(_),w,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=a_(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=Jd(this._lContainer,c);u&&(Fl(x8(this._lContainer),c),_3(u[St],u))}detach(a){const c=this._adjustIndex(a,-1),u=Jd(this._lContainer,c);return u&&null!=Fl(x8(this._lContainer),c)?new Ns(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function a_(r){return r[8]}function x8(r){return r[8]||(r[8]=[])}function c_(r,a){let c;const u=a[r.index];return vt(u)?c=u:(c=y6(u,a,null,r),a[r.index]=c,Pc(a,c)),l_(c,a,r,u),new s_(c,r,a)}let l_=function u_(r,a,c,u){if(r[wo])return;let h;h=8&c.type?wi(u):function KI(r,a){const c=r[yn],u=c.createComment(""),h=yo(a,r);return I1(c,Zd(c,h),u,function Tv(r,a){return r.nextSibling(a)}(c,h),!1),u}(a,c),r[wo]=h};class em{constructor(a){this.queryList=a,this.matches=null}clone(){return new em(this.queryList)}setDirty(){this.queryList.setDirty()}}class tm{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<u;g++){const w=c.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new tm(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==y_(a,c).matches&&this.queries[c].setDirty()}}class d_{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class nm{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,g=this.getByIndex(u).embeddedTView(a,h);g&&(g.indexInDeclarationView=u,null!==c?c.push(g):c=[g])}return null!==c?new nm(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class im{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new im(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(a,c,XI(c,g)),this.matchTNodeWithReadOption(a,c,ia(c,a,g,!1,!1))}else u===Y4?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ia(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===W2||h===_8||h===Y4&&4&c.type)this.addMatch(c.index,-2);else{const g=ia(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function XI(r,a){const c=r.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function QI(r,a,c,u){return-1===c?function YI(r,a){return 11&r.type?ps(r,a):4&r.type?w8(r,a):null}(a,r):-2===c?function JI(r,a,c){return c===W2?ps(a,r):c===Y4?w8(a,r):c===_8?c_(a,r):void 0}(r,a,u):La(r,r[St],c,a)}function h_(r,a,c,u){const h=a[so].queries[u];if(null===h.matches){const g=r.data,w=c.matches,_=[];for(let C=0;C<w.length;C+=2){const I=w[C];_.push(I<0?null:QI(a,g[I],w[C+1],c.metadata.read))}h.matches=_}return h.matches}function om(r,a,c,u){const h=r.queries.getByIndex(c),g=h.matches;if(null!==g){const w=h_(r,a,h,c);for(let _=0;_<g.length;_+=2){const C=g[_];if(C>0)u.push(w[_/2]);else{const I=g[_+1],O=a[-C];for(let Y=he;Y<O.length;Y++){const Me=O[Y];Me[Ks]===Me[mi]&&om(Me[St],Me,I,u)}if(null!==O[j]){const Y=O[j];for(let Me=0;Me<Y.length;Me++){const Oe=Y[Me];om(Oe[St],Oe,I,u)}}}}}return u}function f_(r){const a=at(),c=Yn(),u=n3();Dd(u+1);const h=y_(c,u);if(r.dirty&&function yl(r){return 4==(4&r[wn])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const g=h.crossesNgTemplate?om(c,a,u,[]):h_(c,a,h,u);r.reset(g,kE),r.notifyOnChanges()}return!0}return!1}function g_(r,a,c){const u=Yn();u.firstCreatePass&&(w_(u,new d_(r,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),v_(u,at(),a)}function p_(r,a,c,u){const h=Yn();if(h.firstCreatePass){const g=_o();w_(h,new d_(a,c,u),g.index),function eA(r,a){const c=r.contentQueries||(r.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(r.queries.length-1,a)}(h,r),2==(2&c)&&(h.staticContentQueries=!0)}v_(h,at(),c)}function m_(){return function ZI(r,a){return r[so].queries[a].queryList}(at(),n3())}function v_(r,a,c){const u=new Zp(4==(4&c));(function L1(r,a,c,u){const h=x6(a);h.push(c),r.firstCreatePass&&z9(r).push(u,h.length-1)})(r,a,u,u.destroy),null===a[so]&&(a[so]=new tm),a[so].queries.push(new em(u))}function w_(r,a,c){null===r.queries&&(r.queries=new nm),r.queries.track(new im(a,c))}function y_(r,a){return r.queries.getByIndex(a)}function rm(r){return!!In(r)}const N_=new rn("Application Initializer");let um=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=Ct(N_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const g=h();if(Lc(g))c.push(g);else if(_w(g)){const w=new Promise((_,C)=>{g.subscribe({complete:_,error:C})});c.push(w)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),z_=(()=>{class r{log(c){console.log(c)}warn(c){console.warn(c)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const C8=new rn("LocaleId",{providedIn:"root",factory:()=>Ct(C8,mt.Optional|mt.SkipSelf)||function MA(){return typeof $localize<"u"&&$localize.locale||w0}()}),CA=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let F_=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae.t(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class EA{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let IA=(()=>{class r{compileModuleSync(c){return new Qp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),g=ha(In(c).declarations).reduce((w,_)=>{const C=Vt(_);return C&&w.push(new ru(C)),w},[]);return new EA(u,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const H_=new rn(""),U_=new rn("");let gm,WA=(()=>{class r{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gm||(function qA(r){gm=r}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}static{this.\u0275fac=function(u){return new(u||r)(Ft(Eo),Ft(fm),Ft(U_))}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac})}}return r})(),fm=(()=>{class r{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return gm?.findTestabilityInTree(this,c,u)??null}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})(),K1=null;const $_=new rn("AllowMultipleToken"),pm=new rn("PlatformDestroyListeners"),mm=new rn("appBootstrapListener");class QA{constructor(a,c){this.name=a,this.token=c}}function W_(r,a,c=[]){const u=`Platform: ${a}`,h=new rn(u);return(g=[])=>{let w=vm();if(!w||w.injector.get($_,!1)){const _=[...c,...g,{provide:h,useValue:!0}];r?r(_):function JA(r){if(K1&&!K1.get($_,!1))throw new Z(400,!1);(function G_(){!function oc(r){Xf=r}(()=>{throw new Z(600,!1)})})(),K1=r;const a=r.get(X_);(function K_(r){r.get(Vg,null)?.forEach(c=>c())})(r)}(function q_(r=[],a){return Ni.create({name:a,providers:[{provide:zg,useValue:"platform"},{provide:pm,useValue:new Set([()=>K1=null])},...r]})}(_,u))}return function ek(r){const a=vm();if(!a)throw new Z(401,!1);return a}()}}function vm(){return K1?.get(X_)??null}let X_=(()=>{class r{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function tk(r="zone.js",a){return"noop"===r?new r5:"zone.js"===r?new Eo(a):r}(u?.ngZone,function Y_(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const g=function fI(r,a,c){return new Yp(r,a,c)}(c.moduleType,this.injector,function tx(r){return[{provide:Eo,useFactory:r},{provide:s4,multi:!0,useFactory:()=>{const a=Ct(ik,{optional:!0});return()=>a.initialize()}},{provide:ex,useFactory:nk},{provide:t6,useFactory:n6}]}(()=>h)),w=g.injector.get(Sc,null);return h.runOutsideAngular(()=>{const _=h.onError.subscribe({next:C=>{w.handleError(C)}});g.onDestroy(()=>{I8(this._modules,g),_.unsubscribe()})}),function Q_(r,a,c){try{const u=c();return Lc(u)?u.catch(h=>{throw a.runOutsideAngular(()=>r.handleError(h)),h}):u}catch(u){throw a.runOutsideAngular(()=>r.handleError(u)),u}}(w,h,()=>{const _=g.injector.get(um);return _.runInitializers(),_.donePromise.then(()=>(function vs(r){Ze(r,"Expected localeId to be defined"),"string"==typeof r&&(y0=r.toLowerCase().replace(/_/g,"-"))}(g.injector.get(C8,w0)||w0),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,u=[]){const h=J_({},u);return function XA(r,a,c){const u=new Qp(c);return Promise.resolve(u)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const u=c.injector.get(ku);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Z(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(pm,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||r)(Ft(Ni))}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function J_(r,a){return Array.isArray(a)?a.reduce(J_,r):{...r,...a}}let ku=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct(ex),this.zoneIsStable=Ct(t6),this.componentTypes=[],this.components=[],this.isStable=Ct(F_).hasPendingTasks.pipe((0,be.n)(c=>c?(0,ke.of)(!1):this.zoneIsStable),(0,we.F)(),(0,q.u)()),this._injector=Ct(da)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof qg;if(!this._injector.get(um).done)throw!h&&Zn(c),new Z(405,!1);let w;w=h?c:this._injector.get(p4).resolveComponentFactory(c),this.componentTypes.push(w.componentType);const _=function YA(r){return r.isBoundToModule}(w)?void 0:this._injector.get(C0),I=w.create(Ni.NULL,[],u||w.selector,_),O=I.location.nativeElement,Y=I.injector.get(H_,null);return Y?.registerApplication(O),I.onDestroy(()=>{this.detachView(I.hostView),I8(this.components,I),Y?.unregisterApplication(O)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;I8(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(mm,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>I8(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Z(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function I8(r,a){const c=r.indexOf(a);c>-1&&r.splice(c,1)}const ex=new rn("",{providedIn:"root",factory:()=>Ct(Sc).handleError.bind(void 0)});function nk(){const r=Ct(Eo),a=Ct(Sc);return c=>r.runOutsideAngular(()=>a.handleError(c))}let ik=(()=>{class r{constructor(){this.zone=Ct(Eo),this.applicationRef=Ct(ku)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function rk(){return!1}let sk=(()=>{class r{static{this.__NG_ELEMENT_ID__=ak}}return r})();function ak(r){return function ck(r,a,c){if(Rn(r)&&!c){const u=Go(r.index,a);return new Ns(u,u)}return 47&r.type?new Ns(a[zi],a):null}(_o(),at(),16==(16&r))}class sx{constructor(){}supports(a){return su(a)}create(a){return new fk(a)}}const hk=(r,a)=>a;class fk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||hk}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,h=0,g=null;for(;c||u;){const w=!u||c&&c.currentIndex<cx(u,h,g)?c:u,_=cx(w,h,g),C=w.currentIndex;if(w===u)h--,u=u._nextRemoved;else if(c=c._next,null==w.previousIndex)h++;else{g||(g=[]);const I=_-h,O=C-h;if(I!=O){for(let Me=0;Me<I;Me++){const Oe=Me<g.length?g[Me]:g[Me]=0,et=Oe+Me;O<=et&&et<I&&(g[Me]=Oe+1)}g[w.previousIndex]=O-I}}_!==C&&a(w,_,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!su(a))throw new Z(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,w,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let _=0;_<this.length;_++)g=a[_],w=this._trackByFn(_,g),null!==c&&Object.is(c.trackById,w)?(u&&(c=this._verifyReinsertion(c,g,w,_)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,w,_),u=!0),c=c._next}else h=0,function L5(r,a){if(Array.isArray(r))for(let c=0;c<r.length;c++)a(r[c]);else{const c=r[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,_=>{w=this._trackByFn(h,_),null!==c&&Object.is(c.trackById,w)?(u&&(c=this._verifyReinsertion(c,_,w,h)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,w,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new gk(c,u),g,h),a}_verifyReinsertion(a,c,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new ax),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ax),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class gk{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class ax{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new pk,this.map.set(c,u)),u.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cx(r,a,c){const u=r.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+a+h}class Mm{constructor(){}supports(a){return a instanceof Map||P6(a)}create(){return new mk}}class mk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||P6(a)))throw new Z(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const u=new vk(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class vk{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lx(){return new Cm([new sx])}let Cm=(()=>{class r{static{this.\u0275prov=Nt({token:r,providedIn:"root",factory:lx})}constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new r(c)}static extend(c){return{provide:r,useFactory:u=>r.create(c,u||lx()),deps:[[r,new Ba,new m1]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Z(901,!1)}}return r})();function ux(){return new bm([new Mm])}let bm=(()=>{class r{static{this.\u0275prov=Nt({token:r,providedIn:"root",factory:ux})}constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new r(c)}static extend(c){return{provide:r,useFactory:u=>r.create(c,u||ux()),deps:[[r,new Ba,new m1]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Z(901,!1)}}return r})();const xk=W_(null,"core",[]);let Mk=(()=>{class r{constructor(c){}static{this.\u0275fac=function(u){return new(u||r)(Ft(ku))}}static{this.\u0275mod=lt({type:r})}static{this.\u0275inj=qt({})}}return r})();function Pk(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Lk(r,a){const c=Vt(r),u=a.elementInjector||z3();return new ru(c).create(u,a.projectableNodes,a.hostElement,a.environmentInjector)}function Nk(r){const a=Vt(r);if(!a)return null;const c=new ru(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},9746:(Mt,Le,A)=>{"use strict";A.d(Le,{$s:()=>cn,Fi:()=>Tt,TT:()=>qn,W0:()=>Nn,WV:()=>ot,do:()=>Ji,iG:()=>Pi});var E=A(467),s=A(1631),z=A(5398),ae=A(1401),Ae=A(8779);A(5557);const q="analytics",be="firebase_id",we="origin",B=6e4,F="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",se="https://www.googletagmanager.com/gtag/js",ce=new z.Vy("@firebase/analytics");function ie(R){return Promise.all(R.map(de=>de.catch(ne=>ne)))}function J(){return(J=(0,E.A)(function*(R,de,ne,ze,tt,_t){const tn=ze[tt];try{if(tn)yield de[tn];else{const Tn=(yield ie(ne)).find(Ct=>Ct.measurementId===tt);Tn&&(yield de[Tn.appId])}}catch(Ft){ce.error(Ft)}R("config",tt,_t)})).apply(this,arguments)}function Pe(){return(Pe=(0,E.A)(function*(R,de,ne,ze,tt){try{let _t=[];if(tt&&tt.send_to){let tn=tt.send_to;Array.isArray(tn)||(tn=[tn]);const Ft=yield ie(ne);for(const Tn of tn){const Ct=Ft.find(yi=>yi.measurementId===Tn),On=Ct&&de[Ct.appId];if(!On){_t=[];break}_t.push(On)}}0===_t.length&&(_t=Object.values(de)),yield Promise.all(_t),R("event",ze,tt||{})}catch(_t){ce.error(_t)}})).apply(this,arguments)}const V=new ae.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),D=30,K=new class Q{constructor(de={},ne=1e3){this.throttleMetadata=de,this.intervalMillis=ne}getThrottleMetadata(de){return this.throttleMetadata[de]}setThrottleMetadata(de,ne){this.throttleMetadata[de]=ne}deleteThrottleMetadata(de){delete this.throttleMetadata[de]}};function $(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function je(){return(je=(0,E.A)(function*(R){var de;const{appId:ne,apiKey:ze}=R,tt={method:"GET",headers:$(ze)},_t=F.replace("{app-id}",ne),tn=yield fetch(_t,tt);if(200!==tn.status&&304!==tn.status){let Ft="";try{const Tn=yield tn.json();null!==(de=Tn.error)&&void 0!==de&&de.message&&(Ft=Tn.error.message)}catch{}throw V.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:Ft})}return tn.json()})).apply(this,arguments)}function ct(){return(ct=(0,E.A)(function*(R,de=K,ne){const{appId:ze,apiKey:tt,measurementId:_t}=R.options;if(!ze)throw V.create("no-app-id");if(!tt){if(_t)return{measurementId:_t,appId:ze};throw V.create("no-api-key")}const tn=de.getThrottleMetadata(ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new me;return setTimeout((0,E.A)(function*(){Ft.abort()}),void 0!==ne?ne:B),Be({appId:ze,apiKey:tt,measurementId:_t},tn,Ft,de)})).apply(this,arguments)}function Be(R,de,ne){return W.apply(this,arguments)}function W(){return W=(0,E.A)(function*(R,{throttleEndTimeMillis:de,backoffCount:ne},ze,tt=K){var _t,tn;const{appId:Ft,measurementId:Tn}=R;try{yield function G(R,de){return new Promise((ne,ze)=>{const tt=Math.max(de-Date.now(),0),_t=setTimeout(ne,tt);R.addEventListener(()=>{clearTimeout(_t),ze(V.create("fetch-throttle",{throttleEndTimeMillis:de}))})})}(ze,de)}catch(Ct){if(Tn)return ce.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tn} provided in the "measurementId" field in the local Firebase config. [${null===(_t=Ct)||void 0===_t?void 0:_t.message}]`),{appId:Ft,measurementId:Tn};throw Ct}try{const Ct=yield function re(R){return je.apply(this,arguments)}(R);return tt.deleteThrottleMetadata(Ft),Ct}catch(Ct){const On=Ct;if(!function X(R){if(!(R instanceof ae.g&&R.customData))return!1;const de=Number(R.customData.httpStatus);return 429===de||500===de||503===de||504===de}(On)){if(tt.deleteThrottleMetadata(Ft),Tn)return ce.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tn} provided in the "measurementId" field in the local Firebase config. [${On?.message}]`),{appId:Ft,measurementId:Tn};throw Ct}const yi=503===Number(null===(tn=On?.customData)||void 0===tn?void 0:tn.httpStatus)?(0,ae.p9)(ne,tt.intervalMillis,D):(0,ae.p9)(ne,tt.intervalMillis),_i={throttleEndTimeMillis:Date.now()+yi,backoffCount:ne+1};return tt.setThrottleMetadata(Ft,_i),ce.debug(`Calling attemptFetch again in ${yi} millis`),Be(R,_i,ze,tt)}}),W.apply(this,arguments)}class me{constructor(){this.listeners=[]}addEventListener(de){this.listeners.push(de)}abort(){this.listeners.forEach(de=>de())}}let Fe,Ye;function Ze(){return(Ze=(0,E.A)(function*(R,de,ne,ze,tt){if(tt&&tt.global)R("event",ne,ze);else{const _t=yield de;R("event",ne,Object.assign(Object.assign({},ze),{send_to:_t}))}})).apply(this,arguments)}function nt(){return(nt=(0,E.A)(function*(R,de,ne,ze){if(ze&&ze.global)return R("set",{screen_name:ne}),Promise.resolve();R("config",yield de,{update:!0,screen_name:ne})})).apply(this,arguments)}function Zt(){return(Zt=(0,E.A)(function*(R,de,ne,ze){if(ze&&ze.global)return R("set",{user_id:ne}),Promise.resolve();R("config",yield de,{update:!0,user_id:ne})})).apply(this,arguments)}function pn(){return(pn=(0,E.A)(function*(R,de,ne,ze){if(ze&&ze.global){const tt={};for(const _t of Object.keys(ne))tt[`user_properties.${_t}`]=ne[_t];return R("set",tt),Promise.resolve()}R("config",yield de,{update:!0,user_properties:ne})})).apply(this,arguments)}function Kt(){return(Kt=(0,E.A)(function*(R,de){const ne=yield R;window[`ga-disable-${ne}`]=!de})).apply(this,arguments)}function At(){return(At=(0,E.A)(function*(){var R;if(!(0,ae.zW)())return ce.warn(V.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eX)()}catch(de){return ce.warn(V.create("indexeddb-unavailable",{errorInfo:null===(R=de)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function on(){return on=(0,E.A)(function*(R,de,ne,ze,tt,_t,tn){var Ft;const Tn=function Je(R){return ct.apply(this,arguments)}(R);Tn.then(Ri=>{ne[Ri.measurementId]=Ri.appId,R.options.measurementId&&Ri.measurementId!==R.options.measurementId&&ce.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Ri.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ri=>ce.error(Ri)),de.push(Tn);const Ct=function gt(){return At.apply(this,arguments)}().then(Ri=>{if(Ri)return ze.getId()}),[On,yi]=yield Promise.all([Tn,Ct]);(function oe(R){const de=window.document.getElementsByTagName("script");for(const ne of Object.values(de))if(ne.src&&ne.src.includes(se)&&ne.src.includes(R))return ne;return null})(_t)||function Ie(R,de){const ne=document.createElement("script");ne.src=`${se}?l=${R}&id=${de}`,ne.async=!0,document.head.appendChild(ne)}(_t,On.measurementId),Ye&&(tt("consent","default",Ye),function De(R){Ye=R}(void 0)),tt("js",new Date);const _i=null!==(Ft=tn?.config)&&void 0!==Ft?Ft:{};return _i[we]="firebase",_i.update=!0,null!=yi&&(_i[be]=yi),tt("config",On.measurementId,_i),Fe&&(tt("set",Fe),function Re(R){Fe=R}(void 0)),On.measurementId}),on.apply(this,arguments)}class vn{constructor(de){this.app=de}_delete(){return delete mt[this.app.options.appId],Promise.resolve()}}let mt={},xn=[];const Jt={};let ti,Rt,zt="dataLayer",Ii="gtag",gn=!1;function Nn(R){if(gn)throw V.create("already-initialized");R.dataLayerName&&(zt=R.dataLayerName),R.gtagName&&(Ii=R.gtagName)}function En(R,de,ne){!function rn(){const R=[];if((0,ae.sr)()&&R.push("This is a browser extension environment."),(0,ae.dM)()||R.push("Cookies are not available."),R.length>0){const de=R.map((ze,tt)=>`(${tt+1}) ${ze}`).join(" "),ne=V.create("invalid-analytics-context",{errorInfo:de});ce.warn(ne.message)}}();const ze=R.options.appId;if(!ze)throw V.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw V.create("no-api-key");ce.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mt[ze])throw V.create("already-exists",{id:ze});if(!gn){!function ye(R){let de=[];Array.isArray(window[R])?de=window[R]:window[R]=de}(zt);const{wrappedGtag:_t,gtagCore:tn}=function Ee(R,de,ne,ze,tt){let _t=function(...tn){window[ze].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(_t=window[tt]),window[tt]=function Z(R,de,ne,ze){function _t(){return _t=(0,E.A)(function*(tn,Ft,Tn){try{"event"===tn?yield function fe(R,de,ne,ze,tt){return Pe.apply(this,arguments)}(R,de,ne,Ft,Tn):"config"===tn?yield function pe(R,de,ne,ze,tt,_t){return J.apply(this,arguments)}(R,de,ne,ze,Ft,Tn):"consent"===tn?R("consent","update",Tn):R("set",Ft)}catch(Ct){ce.error(Ct)}}),_t.apply(this,arguments)}return function tt(tn,Ft,Tn){return _t.apply(this,arguments)}}(_t,R,de,ne),{gtagCore:_t,wrappedGtag:window[tt]}}(mt,xn,Jt,zt,Ii);Rt=_t,ti=tn,gn=!0}return mt[ze]=function _n(R,de,ne,ze,tt,_t,tn){return on.apply(this,arguments)}(R,xn,Jt,de,ti,zt,ne),new vn(R)}function qn(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,E.A)(function*(){if((0,ae.sr)()||!(0,ae.dM)()||!(0,ae.zW)())return!1;try{return yield(0,ae.eX)()}catch{return!1}})).apply(this,arguments)}function Pi(R,de,ne){R=(0,ae.Ku)(R),function He(R,de,ne,ze){return nt.apply(this,arguments)}(Rt,mt[R.app.options.appId],de,ne).catch(ze=>ce.error(ze))}function Ji(R,de,ne){R=(0,ae.Ku)(R),function Et(R,de,ne,ze){return Zt.apply(this,arguments)}(Rt,mt[R.app.options.appId],de,ne).catch(ze=>ce.error(ze))}function Tt(R,de,ne){R=(0,ae.Ku)(R),function Nt(R,de,ne,ze){return pn.apply(this,arguments)}(Rt,mt[R.app.options.appId],de,ne).catch(ze=>ce.error(ze))}function ot(R,de){R=(0,ae.Ku)(R),function qt(R,de){return Kt.apply(this,arguments)}(mt[R.app.options.appId],de).catch(ne=>ce.error(ne))}function cn(R,de,ne,ze){R=(0,ae.Ku)(R),function Te(R,de,ne,ze,tt){return Ze.apply(this,arguments)}(Rt,mt[R.app.options.appId],de,ne,ze).catch(tt=>ce.error(tt))}const Mn="@firebase/analytics";!function te(){(0,s._registerComponent)(new Ae.uA(q,(de,{options:ne})=>En(de.getProvider("app").getImmediate(),de.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,s._registerComponent)(new Ae.uA("analytics-internal",function R(de){try{const ne=de.getProvider(q).getImmediate();return{logEvent:(ze,tt,_t)=>cn(ne,ze,tt,_t)}}catch(ne){throw V.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,s.registerVersion)(Mn,"0.8.4"),(0,s.registerVersion)(Mn,"0.8.4","esm2017")}()},9574:(Mt,Le,A)=>{"use strict";A.d(Le,{A:()=>Ie});var E=A(1401),s=A(8779),z=A(1631),ae=A(5398);class Ae{constructor(pe,J){this._delegate=pe,this.firebase=J,(0,z._addComponent)(pe,new s.uA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(pe,J=z._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(pe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(fe=Pe.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:J})}_removeServiceInstance(pe,J=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(J)}_addComponent(pe){(0,z._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,z._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new E.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function we(){const ye=function be(ye){const pe={},J={__esModule:!0,initializeApp:function Z(V,D={}){const U=z.initializeApp(V,D);if((0,E.gR)(pe,U.name))return pe[U.name];const Q=new ye(U,J);return pe[U.name]=Q,Q},app:Pe,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function oe(V){const D=V.name,U=D.replace("-compat","");if(z._registerComponent(V)&&"PUBLIC"===V.type){const Q=(K=Pe())=>{if("function"!=typeof K[U])throw q.create("invalid-app-argument",{appName:D});return K[U]()};void 0!==V.serviceProps&&(0,E.zw)(Q,V.serviceProps),J[U]=Q,ye.prototype[U]=function(...K){return this._getService.bind(this,D).apply(this,V.multipleInstances?K:[])}}return"PUBLIC"===V.type?J[U]:null},removeApp:function fe(V){delete pe[V]},useAsService:function Ce(V,D){return"serverAuth"===D?null:D},modularAPIs:z}};function Pe(V){if(!(0,E.gR)(pe,V=V||z._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:V});return pe[V]}return J.default=J,Object.defineProperty(J,"apps",{get:function Ee(){return Object.keys(pe).map(V=>pe[V])}}),Pe.App=ye,J}(Ae);return ye.INTERNAL=Object.assign(Object.assign({},ye.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function pe(J){(0,E.zw)(ye,J)},createSubscribe:E.tD,ErrorFactory:E.FA,deepExtend:E.zw}),ye}(),F=new ae.Vy("@firebase/app-compat");if((0,E.Bd)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ye=self.firebase.SDK_VERSION;ye&&ye.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=B;!function ie(ye){(0,z.registerVersion)("@firebase/app-compat","0.1.39",ye)}()},1631:(Mt,Le,A)=>{"use strict";A.r(Le),A.d(Le,{FirebaseError:()=>ae.g,SDK_VERSION:()=>qt,_DEFAULT_ENTRY_NAME:()=>W,_addComponent:()=>Fe,_addOrOverwriteComponent:()=>Te,_apps:()=>X,_clearComponents:()=>Et,_components:()=>me,_getProvider:()=>He,_registerComponent:()=>Ze,_removeServiceInstance:()=>nt,deleteApp:()=>Re,getApp:()=>Ye,getApps:()=>De,initializeApp:()=>Kt,onLog:()=>_n,registerVersion:()=>At,setLogLevel:()=>on});var E=A(467),s=A(8779),z=A(5398),ae=A(1401),Ae=A(4653);class ke{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function q(Tt){const ot=Tt.getComponent();return"VERSION"===ot?.type}(kt)){const cn=kt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(kt=>kt).join(" ")}}const be="@firebase/app",B=new z.Vy("@firebase/app"),W="[DEFAULT]",G={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},X=new Map,me=new Map;function Fe(Tt,ot){try{Tt.container.addComponent(ot)}catch(kt){B.debug(`Component ${ot.name} failed to register with FirebaseApp ${Tt.name}`,kt)}}function Te(Tt,ot){Tt.container.addOrOverwriteComponent(ot)}function Ze(Tt){const ot=Tt.name;if(me.has(ot))return B.debug(`There were multiple attempts to register component ${ot}.`),!1;me.set(ot,Tt);for(const kt of X.values())Fe(kt,Tt);return!0}function He(Tt,ot){const kt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),Tt.container.getProvider(ot)}function nt(Tt,ot,kt=W){He(Tt,ot).clearInstance(kt)}function Et(){me.clear()}const Nt=new ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(ot,kt,cn){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new s.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw Nt.create("app-deleted",{appName:this._name})}}const qt="9.14.0";function Kt(Tt,ot={}){let kt=Tt;"object"!=typeof ot&&(ot={name:ot});const cn=Object.assign({name:W,automaticDataCollectionEnabled:!1},ot),en=cn.name;if("string"!=typeof en||!en)throw Nt.create("bad-app-name",{appName:String(en)});if(kt||(kt=(0,ae.T9)()),!kt)throw Nt.create("no-options");const Mn=X.get(en);if(Mn){if((0,ae.bD)(kt,Mn.options)&&(0,ae.bD)(cn,Mn.config))return Mn;throw Nt.create("duplicate-app",{appName:en})}const ue=new s.h1(en);for(const R of me.values())ue.addComponent(R);const te=new pn(kt,cn,ue);return X.set(en,te),te}function Ye(Tt=W){const ot=X.get(Tt);if(!ot&&Tt===W)return Kt();if(!ot)throw Nt.create("no-app",{appName:Tt});return ot}function De(){return Array.from(X.values())}function Re(Tt){return gt.apply(this,arguments)}function gt(){return(gt=(0,E.A)(function*(Tt){const ot=Tt.name;X.has(ot)&&(X.delete(ot),yield Promise.all(Tt.container.getProviders().map(kt=>kt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function At(Tt,ot,kt){var cn;let en=null!==(cn=G[Tt])&&void 0!==cn?cn:Tt;kt&&(en+=`-${kt}`);const Mn=en.match(/\s|\//),ue=ot.match(/\s|\//);if(Mn||ue){const te=[`Unable to register library "${en}" with version "${ot}":`];return Mn&&te.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Mn&&ue&&te.push("and"),ue&&te.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void B.warn(te.join(" "))}Ze(new s.uA(`${en}-version`,()=>({library:en,version:ot}),"VERSION"))}function _n(Tt,ot){if(null!==Tt&&"function"!=typeof Tt)throw Nt.create("invalid-log-argument");(0,z.Ey)(Tt,ot)}function on(Tt){(0,z.He)(Tt)}const vn="firebase-heartbeat-database",mt=1,xn="firebase-heartbeat-store";let Jt=null;function zt(){return Jt||(Jt=(0,Ae.P2)(vn,mt,{upgrade:(Tt,ot)=>{0===ot&&Tt.createObjectStore(xn)}}).catch(Tt=>{throw Nt.create("idb-open",{originalErrorMessage:Tt.message})})),Jt}function ti(){return(ti=(0,E.A)(function*(Tt){var ot;try{return(yield zt()).transaction(xn).objectStore(xn).get(Nn(Tt))}catch(kt){if(kt instanceof ae.g)B.warn(kt.message);else{const cn=Nt.create("idb-get",{originalErrorMessage:null===(ot=kt)||void 0===ot?void 0:ot.message});B.warn(cn.message)}}})).apply(this,arguments)}function Rt(Tt,ot){return gn.apply(this,arguments)}function gn(){return(gn=(0,E.A)(function*(Tt,ot){var kt;try{const en=(yield zt()).transaction(xn,"readwrite");return yield en.objectStore(xn).put(ot,Nn(Tt)),en.done}catch(cn){if(cn instanceof ae.g)B.warn(cn.message);else{const en=Nt.create("idb-set",{originalErrorMessage:null===(kt=cn)||void 0===kt?void 0:kt.message});B.warn(en.message)}}})).apply(this,arguments)}function Nn(Tt){return`${Tt.name}!${Tt.options.appId}`}class Wn{constructor(ot){this.container=ot,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new Gi(kt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var ot=this;return(0,E.A)(function*(){const cn=ot.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=un();if(null===ot._heartbeatsCache&&(ot._heartbeatsCache=yield ot._heartbeatsCachePromise),ot._heartbeatsCache.lastSentHeartbeatDate!==en&&!ot._heartbeatsCache.heartbeats.some(Mn=>Mn.date===en))return ot._heartbeatsCache.heartbeats.push({date:en,agent:cn}),ot._heartbeatsCache.heartbeats=ot._heartbeatsCache.heartbeats.filter(Mn=>{const ue=new Date(Mn.date).valueOf();return Date.now()-ue<=2592e6}),ot._storage.overwrite(ot._heartbeatsCache)})()}getHeartbeatsHeader(){var ot=this;return(0,E.A)(function*(){if(null===ot._heartbeatsCache&&(yield ot._heartbeatsCachePromise),null===ot._heartbeatsCache||0===ot._heartbeatsCache.heartbeats.length)return"";const kt=un(),{heartbeatsToSend:cn,unsentEntries:en}=function qn(Tt,ot=1024){const kt=[];let cn=Tt.slice();for(const en of Tt){const Mn=kt.find(ue=>ue.agent===en.agent);if(Mn){if(Mn.dates.push(en.date),Pi(kt)>ot){Mn.dates.pop();break}}else if(kt.push({agent:en.agent,dates:[en.date]}),Pi(kt)>ot){kt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:kt,unsentEntries:cn}}(ot._heartbeatsCache.heartbeats),Mn=(0,ae.Uj)(JSON.stringify({version:2,heartbeats:cn}));return ot._heartbeatsCache.lastSentHeartbeatDate=kt,en.length>0?(ot._heartbeatsCache.heartbeats=en,yield ot._storage.overwrite(ot._heartbeatsCache)):(ot._heartbeatsCache.heartbeats=[],ot._storage.overwrite(ot._heartbeatsCache)),Mn})()}}function un(){return(new Date).toISOString().substring(0,10)}class Gi{constructor(ot){this.app=ot,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.A)(function*(){return!!(0,ae.zW)()&&(0,ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ot=this;return(0,E.A)(function*(){return(yield ot._canUseIndexedDBPromise)&&(yield function Ii(Tt){return ti.apply(this,arguments)}(ot.app))||{heartbeats:[]}})()}overwrite(ot){var kt=this;return(0,E.A)(function*(){var cn;if(yield kt._canUseIndexedDBPromise){const Mn=yield kt.read();return Rt(kt.app,{lastSentHeartbeatDate:null!==(cn=ot.lastSentHeartbeatDate)&&void 0!==cn?cn:Mn.lastSentHeartbeatDate,heartbeats:ot.heartbeats})}})()}add(ot){var kt=this;return(0,E.A)(function*(){var cn;if(yield kt._canUseIndexedDBPromise){const Mn=yield kt.read();return Rt(kt.app,{lastSentHeartbeatDate:null!==(cn=ot.lastSentHeartbeatDate)&&void 0!==cn?cn:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...ot.heartbeats]})}})()}}function Pi(Tt){return(0,ae.Uj)(JSON.stringify({version:2,heartbeats:Tt})).length}!function Ji(Tt){Ze(new s.uA("platform-logger",ot=>new ke(ot),"PRIVATE")),Ze(new s.uA("heartbeat",ot=>new Wn(ot),"PRIVATE")),At(be,"0.8.4",Tt),At(be,"0.8.4","esm2017"),At("fire-js","")}("")},8779:(Mt,Le,A)=>{"use strict";A.d(Le,{h1:()=>be,uA:()=>z});var E=A(467),s=A(1401);class z{constructor(B,F,se){this.name=B,this.instanceFactory=F,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ae="[DEFAULT]";class Ae{constructor(B,F){this.name=B,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const F=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(F)){const se=new s.cY;if(this.instancesDeferred.set(F,se),this.isInitialized(F)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:F});ce&&se.resolve(ce)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(B){var F;const se=this.normalizeInstanceIdentifier(B?.identifier),ce=null!==(F=B?.optional)&&void 0!==F&&F;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ie){if(ce)return null;throw ie}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function q(we){return"EAGER"===we.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[F,se]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(F);try{const ie=this.getOrInitializeService({instanceIdentifier:ce});se.resolve(ie)}catch{}}}}clearInstance(B=ae){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,E.A)(function*(){const F=Array.from(B.instances.values());yield Promise.all([...F.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...F.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ae){return this.instances.has(B)}getOptions(B=ae){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:F={}}=B,se=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:se,options:F});for(const[ie,Ie]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ie)&&Ie.resolve(ce);return ce}onInit(B,F){var se;const ce=this.normalizeInstanceIdentifier(F),ie=null!==(se=this.onInitCallbacks.get(ce))&&void 0!==se?se:new Set;ie.add(B),this.onInitCallbacks.set(ce,ie);const Ie=this.instances.get(ce);return Ie&&B(Ie,ce),()=>{ie.delete(B)}}invokeOnInitCallbacks(B,F){const se=this.onInitCallbacks.get(F);if(se)for(const ce of se)try{ce(B,F)}catch{}}getOrInitializeService({instanceIdentifier:B,options:F={}}){let se=this.instances.get(B);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(we=B,we===ae?void 0:we),options:F}),this.instances.set(B,se),this.instancesOptions.set(B,F),this.invokeOnInitCallbacks(se,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,se)}catch{}var we;return se||null}normalizeInstanceIdentifier(B=ae){return this.component?this.component.multipleInstances?B:ae:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const F=this.getProvider(B.name);if(F.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);F.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const F=new Ae(B,this);return this.providers.set(B,F),F}getProviders(){return Array.from(this.providers.values())}}},5557:(Mt,Le,A)=>{"use strict";var E=A(467),s=A(1631),z=A(8779),ae=A(1401),Ae=A(4653);const ke="@firebase/installations",q="0.5.16",be=1e4,we=`w:${q}`,B="FIS_v2",F="https://firebaseinstallations.googleapis.com/v1",se=36e5,ye=new ae.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(xe){return xe instanceof ae.g&&xe.code.includes("request-failed")}function J({projectId:xe}){return`${F}/projects/${xe}/installations`}function fe(xe){return{token:xe.token,requestStatus:2,expiresIn:D(xe.expiresIn),creationTime:Date.now()}}function Pe(xe,Ne){return Z.apply(this,arguments)}function Z(){return(Z=(0,E.A)(function*(xe,Ne){const Qt=(yield Ne.json()).error;return ye.create("request-failed",{requestName:xe,serverCode:Qt.code,serverMessage:Qt.message,serverStatus:Qt.status})})).apply(this,arguments)}function Ee({apiKey:xe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":xe})}function Ce(xe){return V.apply(this,arguments)}function V(){return(V=(0,E.A)(function*(xe){const Ne=yield xe();return Ne.status>=500&&Ne.status<600?xe():Ne})).apply(this,arguments)}function D(xe){return Number(xe.replace("s","000"))}function K(){return(K=(0,E.A)(function*({appConfig:xe,heartbeatServiceProvider:Ne},{fid:rt}){const Qt=J(xe),ei=Ee(xe),Bn=Ne.getImmediate({optional:!0});if(Bn){const xi=yield Bn.getHeartbeatsHeader();xi&&ei.append("x-firebase-client",xi)}const Jn={method:"POST",headers:ei,body:JSON.stringify({fid:rt,authVersion:B,appId:xe.appId,sdkVersion:we})},oi=yield Ce(()=>fetch(Qt,Jn));if(oi.ok){const xi=yield oi.json();return{fid:xi.fid||rt,registrationStatus:2,refreshToken:xi.refreshToken,authToken:fe(xi.authToken)}}throw yield Pe("Create Installation",oi)})).apply(this,arguments)}function $(xe){return new Promise(Ne=>{setTimeout(Ne,xe)})}const je=/^[cdef][\w-]{21}$/,Je="";function ct(){try{const xe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(xe),xe[0]=112+xe[0]%16;const rt=function Be(xe){return function re(xe){return btoa(String.fromCharCode(...xe)).replace(/\+/g,"-").replace(/\//g,"_")}(xe).substr(0,22)}(xe);return je.test(rt)?rt:Je}catch{return Je}}function W(xe){return`${xe.appName}!${xe.appId}`}const G=new Map;function X(xe,Ne){const rt=W(xe);Te(rt,Ne),function Ze(xe,Ne){const rt=function nt(){return!He&&"BroadcastChannel"in self&&(He=new BroadcastChannel("[Firebase] FID Change"),He.onmessage=xe=>{Te(xe.data.key,xe.data.fid)}),He}();rt&&rt.postMessage({key:xe,fid:Ne}),function Et(){0===G.size&&He&&(He.close(),He=null)}()}(rt,Ne)}function Te(xe,Ne){const rt=G.get(xe);if(rt)for(const Qt of rt)Qt(Ne)}let He=null;const Zt="firebase-installations-database",Nt=1,pn="firebase-installations-store";let qt=null;function Kt(){return qt||(qt=(0,Ae.P2)(Zt,Nt,{upgrade:(xe,Ne)=>{0===Ne&&xe.createObjectStore(pn)}})),qt}function Ye(xe,Ne){return De.apply(this,arguments)}function De(){return(De=(0,E.A)(function*(xe,Ne){const rt=W(xe),ei=(yield Kt()).transaction(pn,"readwrite"),Bn=ei.objectStore(pn),Kn=yield Bn.get(rt);return yield Bn.put(Ne,rt),yield ei.done,(!Kn||Kn.fid!==Ne.fid)&&X(xe,Ne.fid),Ne})).apply(this,arguments)}function Re(xe){return gt.apply(this,arguments)}function gt(){return(gt=(0,E.A)(function*(xe){const Ne=W(xe),Qt=(yield Kt()).transaction(pn,"readwrite");yield Qt.objectStore(pn).delete(Ne),yield Qt.done})).apply(this,arguments)}function At(xe,Ne){return _n.apply(this,arguments)}function _n(){return(_n=(0,E.A)(function*(xe,Ne){const rt=W(xe),ei=(yield Kt()).transaction(pn,"readwrite"),Bn=ei.objectStore(pn),Kn=yield Bn.get(rt),Jn=Ne(Kn);return void 0===Jn?yield Bn.delete(rt):yield Bn.put(Jn,rt),yield ei.done,Jn&&(!Kn||Kn.fid!==Jn.fid)&&X(xe,Jn.fid),Jn})).apply(this,arguments)}function on(xe){return vn.apply(this,arguments)}function vn(){return vn=(0,E.A)(function*(xe){let Ne;const rt=yield At(xe.appConfig,Qt=>{const ei=function mt(xe){return gn(xe||{fid:ct(),registrationStatus:0})}(Qt),Bn=function xn(xe,Ne){if(0===Ne.registrationStatus){if(!navigator.onLine)return{installationEntry:Ne,registrationPromise:Promise.reject(ye.create("app-offline"))};const rt={fid:Ne.fid,registrationStatus:1,registrationTime:Date.now()},Qt=function Jt(xe,Ne){return zt.apply(this,arguments)}(xe,rt);return{installationEntry:rt,registrationPromise:Qt}}return 1===Ne.registrationStatus?{installationEntry:Ne,registrationPromise:Ii(xe)}:{installationEntry:Ne}}(xe,ei);return Ne=Bn.registrationPromise,Bn.installationEntry});return rt.fid===Je?{installationEntry:yield Ne}:{installationEntry:rt,registrationPromise:Ne}}),vn.apply(this,arguments)}function zt(){return zt=(0,E.A)(function*(xe,Ne){try{const rt=yield function Q(xe,Ne){return K.apply(this,arguments)}(xe,Ne);return Ye(xe.appConfig,rt)}catch(rt){throw pe(rt)&&409===rt.customData.serverCode?yield Re(xe.appConfig):yield Ye(xe.appConfig,{fid:Ne.fid,registrationStatus:0}),rt}}),zt.apply(this,arguments)}function Ii(xe){return ti.apply(this,arguments)}function ti(){return(ti=(0,E.A)(function*(xe){let Ne=yield Rt(xe.appConfig);for(;1===Ne.registrationStatus;)yield $(100),Ne=yield Rt(xe.appConfig);if(0===Ne.registrationStatus){const{installationEntry:rt,registrationPromise:Qt}=yield on(xe);return Qt||rt}return Ne})).apply(this,arguments)}function Rt(xe){return At(xe,Ne=>{if(!Ne)throw ye.create("installation-not-found");return gn(Ne)})}function gn(xe){return function Nn(xe){return 1===xe.registrationStatus&&xe.registrationTime+be<Date.now()}(xe)?{fid:xe.fid,registrationStatus:0}:xe}function En(){return(En=(0,E.A)(function*({appConfig:xe,heartbeatServiceProvider:Ne},rt){const Qt=function Wn(xe,{fid:Ne}){return`${J(xe)}/${Ne}/authTokens:generate`}(xe,rt),ei=function oe(xe,{refreshToken:Ne}){const rt=Ee(xe);return rt.append("Authorization",function U(xe){return`${B} ${xe}`}(Ne)),rt}(xe,rt),Bn=Ne.getImmediate({optional:!0});if(Bn){const xi=yield Bn.getHeartbeatsHeader();xi&&ei.append("x-firebase-client",xi)}const Jn={method:"POST",headers:ei,body:JSON.stringify({installation:{sdkVersion:we,appId:xe.appId}})},oi=yield Ce(()=>fetch(Qt,Jn));if(oi.ok)return fe(yield oi.json());throw yield Pe("Generate Auth Token",oi)})).apply(this,arguments)}function un(xe){return qn.apply(this,arguments)}function qn(){return qn=(0,E.A)(function*(xe,Ne=!1){let rt;const Qt=yield At(xe.appConfig,Bn=>{if(!kt(Bn))throw ye.create("not-registered");const Kn=Bn.authToken;if(!Ne&&function cn(xe){return 2===xe.requestStatus&&!function en(xe){const Ne=Date.now();return Ne<xe.creationTime||xe.creationTime+xe.expiresIn<Ne+se}(xe)}(Kn))return Bn;if(1===Kn.requestStatus)return rt=function Gi(xe,Ne){return Pi.apply(this,arguments)}(xe,Ne),Bn;{if(!navigator.onLine)throw ye.create("app-offline");const Jn=function Mn(xe){const Ne={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},xe),{authToken:Ne})}(Bn);return rt=function Tt(xe,Ne){return ot.apply(this,arguments)}(xe,Jn),Jn}});return rt?yield rt:Qt.authToken}),qn.apply(this,arguments)}function Pi(){return(Pi=(0,E.A)(function*(xe,Ne){let rt=yield Ji(xe.appConfig);for(;1===rt.authToken.requestStatus;)yield $(100),rt=yield Ji(xe.appConfig);const Qt=rt.authToken;return 0===Qt.requestStatus?un(xe,Ne):Qt})).apply(this,arguments)}function Ji(xe){return At(xe,Ne=>{if(!kt(Ne))throw ye.create("not-registered");return function ue(xe){return 1===xe.requestStatus&&xe.requestTime+be<Date.now()}(Ne.authToken)?Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}}):Ne})}function ot(){return ot=(0,E.A)(function*(xe,Ne){try{const rt=yield function rn(xe,Ne){return En.apply(this,arguments)}(xe,Ne),Qt=Object.assign(Object.assign({},Ne),{authToken:rt});return yield Ye(xe.appConfig,Qt),rt}catch(rt){if(!pe(rt)||401!==rt.customData.serverCode&&404!==rt.customData.serverCode){const Qt=Object.assign(Object.assign({},Ne),{authToken:{requestStatus:0}});yield Ye(xe.appConfig,Qt)}else yield Re(xe.appConfig);throw rt}}),ot.apply(this,arguments)}function kt(xe){return void 0!==xe&&2===xe.registrationStatus}function R(){return(R=(0,E.A)(function*(xe){const Ne=xe,{installationEntry:rt,registrationPromise:Qt}=yield on(Ne);return Qt?Qt.catch(console.error):un(Ne).catch(console.error),rt.fid})).apply(this,arguments)}function ne(){return ne=(0,E.A)(function*(xe,Ne=!1){const rt=xe;return yield function ze(xe){return tt.apply(this,arguments)}(rt),(yield un(rt,Ne)).token}),ne.apply(this,arguments)}function tt(){return(tt=(0,E.A)(function*(xe){const{registrationPromise:Ne}=yield on(xe);Ne&&(yield Ne)})).apply(this,arguments)}function Ri(xe){return ye.create("missing-app-config-values",{valueName:xe})}const Rr="installations",Ki=xe=>{const Ne=xe.getProvider("app").getImmediate(),rt=function _i(xe){if(!xe||!xe.options)throw Ri("App Configuration");if(!xe.name)throw Ri("App Name");const Ne=["projectId","apiKey","appId"];for(const rt of Ne)if(!xe.options[rt])throw Ri(rt);return{appName:xe.name,projectId:xe.options.projectId,apiKey:xe.options.apiKey,appId:xe.options.appId}}(Ne);return{app:Ne,appConfig:rt,heartbeatServiceProvider:(0,s._getProvider)(Ne,"heartbeat"),_delete:()=>Promise.resolve()}},Vo=xe=>{const Ne=xe.getProvider("app").getImmediate(),rt=(0,s._getProvider)(Ne,Rr).getImmediate();return{getId:()=>function te(xe){return R.apply(this,arguments)}(rt),getToken:ei=>function de(xe){return ne.apply(this,arguments)}(rt,ei)}};(function oo(){(0,s._registerComponent)(new z.uA(Rr,Ki,"PUBLIC")),(0,s._registerComponent)(new z.uA("installations-internal",Vo,"PRIVATE"))})(),(0,s.registerVersion)(ke,q),(0,s.registerVersion)(ke,q,"esm2017")},5398:(Mt,Le,A)=>{"use strict";A.d(Le,{$b:()=>s,Ey:()=>we,He:()=>be,Vy:()=>q});const E=[];var s=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(s||{});const z={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},ae=s.INFO,Ae={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},ke=(B,F,...se)=>{if(F<B.logLevel)return;const ce=(new Date).toISOString(),ie=Ae[F];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[ie](`[${ce}]  ${B.name}:`,...se)};class q{constructor(F){this.name=F,this._logLevel=ae,this._logHandler=ke,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in s))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?z[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...F),this._logHandler(this,s.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...F),this._logHandler(this,s.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,s.INFO,...F),this._logHandler(this,s.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,s.WARN,...F),this._logHandler(this,s.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...F),this._logHandler(this,s.ERROR,...F)}}function be(B){E.forEach(F=>{F.setLogLevel(B)})}function we(B,F){for(const se of E){let ce=null;F&&F.level&&(ce=z[F.level]),se.userLogHandler=null===B?null:(ie,Ie,...ye)=>{const pe=ye.map(J=>{if(null==J)return null;if("string"==typeof J)return J;if("number"==typeof J||"boolean"==typeof J)return J.toString();if(J instanceof Error)return J.message;try{return JSON.stringify(J)}catch{return null}}).filter(J=>J).join(" ");Ie>=(ce??ie.logLevel)&&B({level:s[Ie].toLowerCase(),message:pe,args:ye,type:ie.name})}}}},4653:(Mt,Le,A)=>{"use strict";A.d(Le,{MR:()=>Z,P2:()=>Pe});var E=A(467);const s=(D,U)=>U.some(Q=>D instanceof Q);let z,ae;const q=new WeakMap,be=new WeakMap,we=new WeakMap,B=new WeakMap,F=new WeakMap;let ie={get(D,U,Q){if(D instanceof IDBTransaction){if("done"===U)return be.get(D);if("objectStoreNames"===U)return D.objectStoreNames||we.get(D);if("store"===U)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return J(D[U])},set:(D,U,Q)=>(D[U]=Q,!0),has:(D,U)=>D instanceof IDBTransaction&&("done"===U||"store"===U)||U in D};function pe(D){return"function"==typeof D?function ye(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...U){return D.apply(fe(this),U),J(q.get(this))}:function(...U){return J(D.apply(fe(this),U))}:function(U,...Q){const K=D.call(fe(this),U,...Q);return we.set(K,U.sort?U.sort():[U]),J(K)}}(D):(D instanceof IDBTransaction&&function ce(D){if(be.has(D))return;const U=new Promise((Q,K)=>{const $=()=>{D.removeEventListener("complete",re),D.removeEventListener("error",je),D.removeEventListener("abort",je)},re=()=>{Q(),$()},je=()=>{K(D.error||new DOMException("AbortError","AbortError")),$()};D.addEventListener("complete",re),D.addEventListener("error",je),D.addEventListener("abort",je)});be.set(D,U)}(D),s(D,function Ae(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,ie):D)}function J(D){if(D instanceof IDBRequest)return function se(D){const U=new Promise((Q,K)=>{const $=()=>{D.removeEventListener("success",re),D.removeEventListener("error",je)},re=()=>{Q(J(D.result)),$()},je=()=>{K(D.error),$()};D.addEventListener("success",re),D.addEventListener("error",je)});return U.then(Q=>{Q instanceof IDBCursor&&q.set(Q,D)}).catch(()=>{}),F.set(U,D),U}(D);if(B.has(D))return B.get(D);const U=pe(D);return U!==D&&(B.set(D,U),F.set(U,D)),U}const fe=D=>F.get(D);function Pe(D,U,{blocked:Q,upgrade:K,blocking:$,terminated:re}={}){const je=indexedDB.open(D,U),Je=J(je);return K&&je.addEventListener("upgradeneeded",ct=>{K(J(je.result),ct.oldVersion,ct.newVersion,J(je.transaction))}),Q&&je.addEventListener("blocked",()=>Q()),Je.then(ct=>{re&&ct.addEventListener("close",()=>re()),$&&ct.addEventListener("versionchange",()=>$())}).catch(()=>{}),Je}function Z(D,{blocked:U}={}){const Q=indexedDB.deleteDatabase(D);return U&&Q.addEventListener("blocked",()=>U()),J(Q).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],Ce=new Map;function V(D,U){if(!(D instanceof IDBDatabase)||U in D||"string"!=typeof U)return;if(Ce.get(U))return Ce.get(U);const Q=U.replace(/FromIndex$/,""),K=U!==Q,$=oe.includes(Q);if(!(Q in(K?IDBIndex:IDBObjectStore).prototype)||!$&&!Ee.includes(Q))return;const re=function(){var je=(0,E.A)(function*(Je,...ct){const Be=this.transaction(Je,$?"readwrite":"readonly");let W=Be.store;return K&&(W=W.index(ct.shift())),(yield Promise.all([W[Q](...ct),$&&Be.done]))[0]});return function(ct){return je.apply(this,arguments)}}();return Ce.set(U,re),re}!function Ie(D){ie=D(ie)}(D=>({...D,get:(U,Q,K)=>V(U,Q)||D.get(U,Q,K),has:(U,Q)=>!!V(U,Q)||D.has(U,Q)}))},467:(Mt,Le,A)=>{"use strict";function E(z,ae,Ae,ke,q,be,we){try{var B=z[be](we),F=B.value}catch(se){return void Ae(se)}B.done?ae(F):Promise.resolve(F).then(ke,q)}function s(z){return function(){var ae=this,Ae=arguments;return new Promise(function(ke,q){var be=z.apply(ae,Ae);function we(F){E(be,ke,q,we,B,"next",F)}function B(F){E(be,ke,q,we,B,"throw",F)}we(void 0)})}}A.d(Le,{A:()=>s})},1635:(Mt,Le,A)=>{"use strict";function ae(W,G){var X={};for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&G.indexOf(me)<0&&(X[me]=W[me]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(me=Object.getOwnPropertySymbols(W);Fe<me.length;Fe++)G.indexOf(me[Fe])<0&&Object.prototype.propertyIsEnumerable.call(W,me[Fe])&&(X[me[Fe]]=W[me[Fe]])}return X}function Ae(W,G,X,me){var Ze,Fe=arguments.length,Te=Fe<3?G:null===me?me=Object.getOwnPropertyDescriptor(G,X):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(W,G,X,me);else for(var He=W.length-1;He>=0;He--)(Ze=W[He])&&(Te=(Fe<3?Ze(Te):Fe>3?Ze(G,X,Te):Ze(G,X))||Te);return Fe>3&&Te&&Object.defineProperty(G,X,Te),Te}function se(W,G,X,me){return new(X||(X=Promise))(function(Te,Ze){function He(Zt){try{Et(me.next(Zt))}catch(Nt){Ze(Nt)}}function nt(Zt){try{Et(me.throw(Zt))}catch(Nt){Ze(Nt)}}function Et(Zt){Zt.done?Te(Zt.value):function Fe(Te){return Te instanceof X?Te:new X(function(Ze){Ze(Te)})}(Zt.value).then(He,nt)}Et((me=me.apply(W,G||[])).next())})}function Z(W){return this instanceof Z?(this.v=W,this):new Z(W)}function Ee(W,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,me=X.apply(W,G||[]),Te=[];return Fe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),He("next"),He("throw"),He("return",function Ze(qt){return function(Kt){return Promise.resolve(Kt).then(qt,Nt)}}),Fe[Symbol.asyncIterator]=function(){return this},Fe;function He(qt,Kt){me[qt]&&(Fe[qt]=function(Ye){return new Promise(function(De,Re){Te.push([qt,Ye,De,Re])>1||nt(qt,Ye)})},Kt&&(Fe[qt]=Kt(Fe[qt])))}function nt(qt,Kt){try{!function Et(qt){qt.value instanceof Z?Promise.resolve(qt.value.v).then(Zt,Nt):pn(Te[0][2],qt)}(me[qt](Kt))}catch(Ye){pn(Te[0][3],Ye)}}function Zt(qt){nt("next",qt)}function Nt(qt){nt("throw",qt)}function pn(qt,Kt){qt(Kt),Te.shift(),Te.length&&nt(Te[0][0],Te[0][1])}}function Ce(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,G=W[Symbol.asyncIterator];return G?G.call(W):(W=function ye(W){var G="function"==typeof Symbol&&Symbol.iterator,X=G&&W[G],me=0;if(X)return X.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&me>=W.length&&(W=void 0),{value:W&&W[me++],done:!W}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),X={},me("next"),me("throw"),me("return"),X[Symbol.asyncIterator]=function(){return this},X);function me(Te){X[Te]=W[Te]&&function(Ze){return new Promise(function(He,nt){!function Fe(Te,Ze,He,nt){Promise.resolve(nt).then(function(Et){Te({value:Et,done:He})},Ze)}(He,nt,(Ze=W[Te](Ze)).done,Ze.value)})}}}A.d(Le,{AQ:()=>Ee,Cg:()=>Ae,N3:()=>Z,Tt:()=>ae,sH:()=>se,xN:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{Mt(Mt.s=4089)}]);