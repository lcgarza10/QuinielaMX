(self.webpackChunkliga_mx_predictions=self.webpackChunkliga_mx_predictions||[]).push([[8792],{4783:(At,je,k)=>{"use strict";k.d(je,{BM:()=>ce,Gt:()=>Ie,XU:()=>q,bf:()=>se,e7:()=>ye,iB:()=>B,rx:()=>Se,uP:()=>Me});var s=k(7705),Y=k(7935),L=k(9653);At=k.hmd(At);const ue=["ngOnDestroy"],Ie=(ee,me,Ue,X={})=>new Proxy(ee,{get:(_e,J)=>Ue.runOutsideAngular(()=>{var Ae;if(ee[J])return!(null===(Ae=X?.spy)||void 0===Ae)&&Ae.get&&X.spy.get(J,ee[J]),ee[J];if(ue.indexOf(J)>-1)return()=>{};const V=me.toPromise().then(j=>{const N=j&&j[J];return"function"==typeof N?N.bind(j):N&&N.then?N.then(oe=>Ue.run(()=>oe)):Ue.run(()=>N)});return new Proxy(()=>{},{get:(j,N)=>V[N],apply:(j,N,oe)=>V.then(Q=>{var U;const le=Q&&Q(...oe);return!(null===(U=X?.spy)||void 0===U)&&U.apply&&X.spy.apply(J,oe,le),le})})})}),ye=(ee,me)=>{me.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(X=>{Object.defineProperty(ee.prototype,X,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,X))})})};class q{constructor(me){return me}}const Se=new s.nKC("angularfire2.app.options"),Me=new s.nKC("angularfire2.app.name");function B(ee,me,Ue){const _e="object"==typeof Ue&&Ue||{};_e.name=_e.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const Ae=Y.A.apps.filter(V=>V&&V.name===_e.name)[0]||me.runOutsideAngular(()=>Y.A.initializeApp(ee,_e));try{JSON.stringify(ee)!==JSON.stringify(Ae.options)&&F("error",`${Ae.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new q(Ae)}const F=(ee,...me)=>{(0,s.naY)()&&typeof console<"u"&&console[ee](...me)},te={provide:q,useFactory:B,deps:[Se,s.SKi,[new s.Xx1,Me]]};let se=(()=>{class ee{constructor(Ue){Y.A.registerVersion("angularfire",L.xv.full,"core"),Y.A.registerVersion("angularfire",L.xv.full,"app-compat"),Y.A.registerVersion("angular",s.xvI.full,Ue.toString())}static initializeApp(Ue,X){return{ngModule:ee,providers:[{provide:Se,useValue:Ue},{provide:Me,useValue:X}]}}}return ee.\u0275fac=function(Ue){return new(Ue||ee)(s.KVO(s.Agw))},ee.\u0275mod=s.$C({type:ee}),ee.\u0275inj=s.G2t({providers:[te]}),ee})();function ce(ee,me,Ue,X,_e){const[,J,Ae]=globalThis.\u0275AngularfireInstanceCache.find(V=>V[0]===ee)||[];if(J)return function we(ee,me){try{return ee.toString()===me.toString()}catch{return ee===me}}(_e,Ae)||(fe("error",`${me} was already initialized on the ${Ue} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:_e,was:Ae})),J;{const V=X();return globalThis.\u0275AngularfireInstanceCache.push([ee,V,_e]),V}}const Ee=!!At.hot,fe=(ee,...me)=>{(0,s.naY)()&&typeof console<"u"&&console[ee](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9653:(At,je,k)=>{"use strict";k.d(je,{xv:()=>_s,U0:()=>Ai,u0:()=>m2,CA:()=>Jo,lR:()=>Wa,iy:()=>xs});var s=k(7705),Y=k(2214),L=k(467),ue=k(7852),Ie=k(1076),ye=k(1362),q=k(8041);k(1001);const Me="@firebase/remote-config",B="0.4.4",ce=new Ie.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xt{constructor(R,ae,Ke,ht){this.client=R,this.storage=ae,this.storageCache=Ke,this.logger=ht}isCachedDataFresh(R,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ke=Date.now()-ae,ht=Ke<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${ht}.`),ht}fetch(R){var ae=this;return(0,L.A)(function*(){const[Ke,ht]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(ht&&ae.isCachedDataFresh(R.cacheMaxAgeMillis,Ke))return ht;R.eTag=ht&&ht.eTag;const _t=yield ae.client.fetch(R),Xt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&Xt.push(ae.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(Xt),_t})()}}function Ge(O=navigator){return O.languages&&O.languages[0]||O.language}class K{constructor(R,ae,Ke,ht,_t,Xt){this.firebaseInstallations=R,this.sdkVersion=ae,this.namespace=Ke,this.projectId=ht,this.apiKey=_t,this.appId=Xt}fetch(R){var ae=this;return(0,L.A)(function*(){const[Ke,ht]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,pi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},ti={sdk_version:ae.sdkVersion,app_instance_id:Ke,app_instance_id_token:ht,app_id:ae.appId,language_code:Ge()},Mi={method:"POST",headers:pi,body:JSON.stringify(ti)},Kn=fetch(Xt,Mi),bn=new Promise((Er,$r)=>{R.signal.addEventListener(()=>{const p1=new Error("The operation was aborted.");p1.name="AbortError",$r(p1)})});let cr;try{yield Promise.race([Kn,bn]),cr=yield Kn}catch(Er){let $r="fetch-client-network";throw"AbortError"===Er?.name&&($r="fetch-timeout"),ce.create($r,{originalErrorMessage:Er?.message})}let Bs=cr.status;const Ui=cr.headers.get("ETag")||void 0;let Vs,Zi;if(200===cr.status){let Er;try{Er=yield cr.json()}catch($r){throw ce.create("fetch-client-parse",{originalErrorMessage:$r?.message})}Vs=Er.entries,Zi=Er.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?Bs=500:"NO_CHANGE"===Zi?Bs=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(Vs={}),304!==Bs&&200!==Bs)throw ce.create("fetch-status",{httpStatus:Bs});return{status:Bs,eTag:Ui,config:Vs}})()}}class ve{constructor(R,ae){this.client=R,this.storage=ae}fetch(R){var ae=this;return(0,L.A)(function*(){const Ke=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(R,Ke)})()}attemptFetch(R,{throttleEndTimeMillis:ae,backoffCount:Ke}){var ht=this;return(0,L.A)(function*(){yield function H(O,R){return new Promise((ae,Ke)=>{const ht=Math.max(R-Date.now(),0),_t=setTimeout(ae,ht);O.addEventListener(()=>{clearTimeout(_t),Ke(ce.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,ae);try{const _t=yield ht.client.fetch(R);return yield ht.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function W(O){if(!(O instanceof Ie.g&&O.customData))return!1;const R=Number(O.customData.httpStatus);return 429===R||500===R||503===R||504===R}(_t))throw _t;const Xt={throttleEndTimeMillis:Date.now()+(0,Ie.p9)(Ke),backoffCount:Ke+1};return yield ht.storage.setThrottleMetadata(Xt),ht.attemptFetch(R,Xt)}})()}}class rt{constructor(R,ae,Ke,ht,_t){this.app=R,this._client=ae,this._storageCache=Ke,this._storage=ht,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function et(O,R){const ae=O.target.error||void 0;return ce.create(R,{originalErrorMessage:ae&&ae?.message})}const ft="app_namespace_store";class $n{constructor(R,ae,Ke,ht=function on(){return new Promise((O,R)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Ke=>{R(et(Ke,"storage-open"))},ae.onsuccess=Ke=>{O(Ke.target.result)},ae.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(ae){R(ce.create("storage-open",{originalErrorMessage:ae?.message}))}})}()){this.appId=R,this.appName=ae,this.namespace=Ke,this.openDbPromise=ht}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var ae=this;return(0,L.A)(function*(){const Ke=yield ae.openDbPromise;return new Promise((ht,_t)=>{const pi=Ke.transaction([ft],"readonly").objectStore(ft),ti=ae.createCompositeKey(R);try{const Mi=pi.get(ti);Mi.onerror=Kn=>{_t(et(Kn,"storage-get"))},Mi.onsuccess=Kn=>{const bn=Kn.target.result;ht(bn?bn.value:void 0)}}catch(Mi){_t(ce.create("storage-get",{originalErrorMessage:Mi?.message}))}})})()}set(R,ae){var Ke=this;return(0,L.A)(function*(){const ht=yield Ke.openDbPromise;return new Promise((_t,Xt)=>{const ti=ht.transaction([ft],"readwrite").objectStore(ft),Mi=Ke.createCompositeKey(R);try{const Kn=ti.put({compositeKey:Mi,value:ae});Kn.onerror=bn=>{Xt(et(bn,"storage-set"))},Kn.onsuccess=()=>{_t()}}catch(Kn){Xt(ce.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete(R){var ae=this;return(0,L.A)(function*(){const Ke=yield ae.openDbPromise;return new Promise((ht,_t)=>{const pi=Ke.transaction([ft],"readwrite").objectStore(ft),ti=ae.createCompositeKey(R);try{const Mi=pi.delete(ti);Mi.onerror=Kn=>{_t(et(Kn,"storage-delete"))},Mi.onsuccess=()=>{ht()}}catch(Mi){_t(ce.create("storage-delete",{originalErrorMessage:Mi?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class sn{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,L.A)(function*(){const ae=R.storage.getLastFetchStatus(),Ke=R.storage.getLastSuccessfulFetchTimestampMillis(),ht=R.storage.getActiveConfig(),_t=yield ae;_t&&(R.lastFetchStatus=_t);const Xt=yield Ke;Xt&&(R.lastSuccessfulFetchTimestampMillis=Xt);const pi=yield ht;pi&&(R.activeConfig=pi)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Fe(){return Et.apply(this,arguments)}function Et(){return(Et=(0,L.A)(function*(){if(!(0,Ie.zW)())return!1;try{return yield(0,Ie.eX)()}catch{return!1}})).apply(this,arguments)}!function ln(){(0,ue._registerComponent)(new ye.uA("remote-config",function O(R,{instanceIdentifier:ae}){const Ke=R.getProvider("app").getImmediate(),ht=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ce.create("registration-window");if(!(0,Ie.zW)())throw ce.create("indexed-db-unavailable");const{projectId:_t,apiKey:Xt,appId:pi}=Ke.options;if(!_t)throw ce.create("registration-project-id");if(!Xt)throw ce.create("registration-api-key");if(!pi)throw ce.create("registration-app-id");const ti=new $n(pi,Ke.name,ae=ae||"firebase"),Mi=new sn(ti),Kn=new q.Vy(Me);Kn.logLevel=q.$b.ERROR;const bn=new K(ht,ue.SDK_VERSION,ae,_t,Xt,pi),cr=new ve(bn,ti),Bs=new xt(cr,ti,Mi,Kn),Ui=new rt(Ke,Bs,Mi,ti,Kn);return function Ae(O){const R=(0,Ie.Ku)(O);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Ui),Ui},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Me,B),(0,ue.registerVersion)(Me,B,"esm2017")}();const en=(O,R)=>R.some(ae=>O instanceof ae);let vn,fn;const Ut=new WeakMap,$t=new WeakMap,Fn=new WeakMap,kn=new WeakMap,Jn=new WeakMap;let oi={get(O,R,ae){if(O instanceof IDBTransaction){if("done"===R)return $t.get(O);if("objectStoreNames"===R)return O.objectStoreNames||Fn.get(O);if("store"===R)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Vn(O[R])},set:(O,R,ae)=>(O[R]=ae,!0),has:(O,R)=>O instanceof IDBTransaction&&("done"===R||"store"===R)||R in O};function an(O){return"function"==typeof O?function qn(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wt(){return fn||(fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...R){return O.apply(Yn(this),R),Vn(Ut.get(this))}:function(...R){return Vn(O.apply(Yn(this),R))}:function(R,...ae){const Ke=O.call(Yn(this),R,...ae);return Fn.set(Ke,R.sort?R.sort():[R]),Vn(Ke)}}(O):(O instanceof IDBTransaction&&function xn(O){if($t.has(O))return;const R=new Promise((ae,Ke)=>{const ht=()=>{O.removeEventListener("complete",_t),O.removeEventListener("error",Xt),O.removeEventListener("abort",Xt)},_t=()=>{ae(),ht()},Xt=()=>{Ke(O.error||new DOMException("AbortError","AbortError")),ht()};O.addEventListener("complete",_t),O.addEventListener("error",Xt),O.addEventListener("abort",Xt)});$t.set(O,R)}(O),en(O,function zn(){return vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,oi):O)}function Vn(O){if(O instanceof IDBRequest)return function gn(O){const R=new Promise((ae,Ke)=>{const ht=()=>{O.removeEventListener("success",_t),O.removeEventListener("error",Xt)},_t=()=>{ae(Vn(O.result)),ht()},Xt=()=>{Ke(O.error),ht()};O.addEventListener("success",_t),O.addEventListener("error",Xt)});return R.then(ae=>{ae instanceof IDBCursor&&Ut.set(ae,O)}).catch(()=>{}),Jn.set(R,O),R}(O);if(kn.has(O))return kn.get(O);const R=an(O);return R!==O&&(kn.set(O,R),Jn.set(R,O)),R}const Yn=O=>Jn.get(O);function po(O,R,{blocked:ae,upgrade:Ke,blocking:ht,terminated:_t}={}){const Xt=indexedDB.open(O,R),pi=Vn(Xt);return Ke&&Xt.addEventListener("upgradeneeded",ti=>{Ke(Vn(Xt.result),ti.oldVersion,ti.newVersion,Vn(Xt.transaction))}),ae&&Xt.addEventListener("blocked",()=>ae()),pi.then(ti=>{_t&&ti.addEventListener("close",()=>_t()),ht&&ti.addEventListener("versionchange",()=>ht())}).catch(()=>{}),pi}function Ni(O,{blocked:R}={}){const ae=indexedDB.deleteDatabase(O);return R&&ae.addEventListener("blocked",()=>R()),Vn(ae).then(()=>{})}const mo=["get","getKey","getAll","getAllKeys","count"],Ji=["put","add","delete","clear"],ri=new Map;function Zn(O,R){if(!(O instanceof IDBDatabase)||R in O||"string"!=typeof R)return;if(ri.get(R))return ri.get(R);const ae=R.replace(/FromIndex$/,""),Ke=R!==ae,ht=Ji.includes(ae);if(!(ae in(Ke?IDBIndex:IDBObjectStore).prototype)||!ht&&!mo.includes(ae))return;const _t=function(){var Xt=(0,L.A)(function*(pi,...ti){const Mi=this.transaction(pi,ht?"readwrite":"readonly");let Kn=Mi.store;return Ke&&(Kn=Kn.index(ti.shift())),(yield Promise.all([Kn[ae](...ti),ht&&Mi.done]))[0]});return function(ti){return Xt.apply(this,arguments)}}();return ri.set(R,_t),_t}!function Tt(O){oi=O(oi)}(O=>({...O,get:(R,ae,Ke)=>Zn(R,ae)||O.get(R,ae,Ke),has:(R,ae)=>!!Zn(R,ae)||O.has(R,ae)}));const Co="/firebase-messaging-sw.js",Qn="/firebase-cloud-messaging-push-scope",ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hi="https://fcmregistrations.googleapis.com/v1",de="google.c.a.c_id",ne="google.c.a.c_l",xe="google.c.a.ts";var kt=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(kt||{});function zt(O){const R=new Uint8Array(O);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function De(O){const ae=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ke=atob(ae),ht=new Uint8Array(Ke.length);for(let _t=0;_t<Ke.length;++_t)ht[_t]=Ke.charCodeAt(_t);return ht}const Ye="fcm_token_details_db",st=5,it="fcm_token_object_Store";function qt(){return qt=(0,L.A)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(Ye))return null;let R=null;return(yield po(Ye,st,{upgrade:(Ke=(0,L.A)(function*(ht,_t,Xt,pi){var ti;if(_t<2||!ht.objectStoreNames.contains(it))return;const Mi=pi.objectStore(it),Kn=yield Mi.index("fcmSenderId").get(O);if(yield Mi.clear(),Kn)if(2===_t){const bn=Kn;if(!bn.auth||!bn.p256dh||!bn.endpoint)return;R={token:bn.fcmToken,createTime:null!==(ti=bn.createTime)&&void 0!==ti?ti:Date.now(),subscriptionOptions:{auth:bn.auth,p256dh:bn.p256dh,endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:"string"==typeof bn.vapidKey?bn.vapidKey:zt(bn.vapidKey)}}}else if(3===_t){const bn=Kn;R={token:bn.fcmToken,createTime:bn.createTime,subscriptionOptions:{auth:zt(bn.auth),p256dh:zt(bn.p256dh),endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:zt(bn.vapidKey)}}}else if(4===_t){const bn=Kn;R={token:bn.fcmToken,createTime:bn.createTime,subscriptionOptions:{auth:zt(bn.auth),p256dh:zt(bn.p256dh),endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:zt(bn.vapidKey)}}}}),function(_t,Xt,pi,ti){return Ke.apply(this,arguments)})})).close(),yield Ni(Ye),yield Ni("fcm_vapid_details_db"),yield Ni("undefined"),function dn(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:R}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var Ke}),qt.apply(this,arguments)}const Sn="firebase-messaging-database",In=1,Ve="firebase-messaging-store";let Pe=null;function at(){return Pe||(Pe=po(Sn,In,{upgrade:(O,R)=>{0===R&&O.createObjectStore(Ve)}})),Pe}function Ft(O){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,L.A)(function*(O){const R=bi(O),Ke=yield(yield at()).transaction(Ve).objectStore(Ve).get(R);if(Ke)return Ke;{const ht=yield function lt(O){return qt.apply(this,arguments)}(O.appConfig.senderId);if(ht)return yield St(O,ht),ht}}),Qt.apply(this,arguments)}function St(O,R){return yn.apply(this,arguments)}function yn(){return(yn=(0,L.A)(function*(O,R){const ae=bi(O),ht=(yield at()).transaction(Ve,"readwrite");return yield ht.objectStore(Ve).put(R,ae),yield ht.done,R})).apply(this,arguments)}function ei(){return(ei=(0,L.A)(function*(O){const R=bi(O),Ke=(yield at()).transaction(Ve,"readwrite");yield Ke.objectStore(Ve).delete(R),yield Ke.done})).apply(this,arguments)}function bi({appConfig:O}){return O.appId}const ni=new Ie.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zi(O,R){return So.apply(this,arguments)}function So(){return(So=(0,L.A)(function*(O,R){const ae=yield ii(O),Ke=Mr(R),ht={method:"POST",headers:ae,body:JSON.stringify(Ke)};let _t;try{_t=yield(yield fetch(Br(O.appConfig),ht)).json()}catch(Xt){throw ni.create("token-subscribe-failed",{errorInfo:Xt?.toString()})}if(_t.error)throw ni.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw ni.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Di(){return(Di=(0,L.A)(function*(O,R){const ae=yield ii(O),Ke=Mr(R.subscriptionOptions),ht={method:"PATCH",headers:ae,body:JSON.stringify(Ke)};let _t;try{_t=yield(yield fetch(`${Br(O.appConfig)}/${R.token}`,ht)).json()}catch(Xt){throw ni.create("token-update-failed",{errorInfo:Xt?.toString()})}if(_t.error)throw ni.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw ni.create("token-update-no-token");return _t.token})).apply(this,arguments)}function li(O,R){return _n.apply(this,arguments)}function _n(){return(_n=(0,L.A)(function*(O,R){const Ke={method:"DELETE",headers:yield ii(O)};try{const _t=yield(yield fetch(`${Br(O.appConfig)}/${R}`,Ke)).json();if(_t.error)throw ni.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(ht){throw ni.create("token-unsubscribe-failed",{errorInfo:ht?.toString()})}})).apply(this,arguments)}function Br({projectId:O}){return`${Hi}/projects/${O}/registrations`}function ii(O){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.A)(function*({appConfig:O,installations:R}){const ae=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function Mr({p256dh:O,auth:R,endpoint:ae,vapidKey:Ke}){const ht={web:{endpoint:ae,auth:R,p256dh:O}};return Ke!==ao&&(ht.web.applicationPubKey=Ke),ht}const Zr=6048e5;function Ei(){return Ei=(0,L.A)(function*(O){const R=yield function A(O,R){return P.apply(this,arguments)}(O.swRegistration,O.vapidKey),ae={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:R.endpoint,auth:zt(R.getKey("auth")),p256dh:zt(R.getKey("p256dh"))},Ke=yield Ft(O.firebaseDependencies);if(Ke){if(function Z(O,R){return R.vapidKey===O.vapidKey&&R.endpoint===O.endpoint&&R.auth===O.auth&&R.p256dh===O.p256dh}(Ke.subscriptionOptions,ae))return Date.now()>=Ke.createTime+Zr?function ie(O,R){return Te.apply(this,arguments)}(O,{token:Ke.token,createTime:Date.now(),subscriptionOptions:ae}):Ke.token;try{yield li(O.firebaseDependencies,Ke.token)}catch(ht){console.warn(ht)}return $(O.firebaseDependencies,ae)}return $(O.firebaseDependencies,ae)}),Ei.apply(this,arguments)}function qo(){return qo=(0,L.A)(function*(O){const R=yield Ft(O.firebaseDependencies);R&&(yield li(O.firebaseDependencies,R.token),yield function wi(O){return ei.apply(this,arguments)}(O.firebaseDependencies));const ae=yield O.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()}),qo.apply(this,arguments)}function Te(){return Te=(0,L.A)(function*(O,R){try{const ae=yield function Wo(O,R){return Di.apply(this,arguments)}(O.firebaseDependencies,R),Ke=Object.assign(Object.assign({},R),{token:ae,createTime:Date.now()});return yield St(O.firebaseDependencies,Ke),ae}catch(ae){throw yield function es(O){return qo.apply(this,arguments)}(O),ae}}),Te.apply(this,arguments)}function $(O,R){return $e.apply(this,arguments)}function $e(){return($e=(0,L.A)(function*(O,R){const Ke={token:yield zi(O,R),createTime:Date.now(),subscriptionOptions:R};return yield St(O,Ke),Ke.token})).apply(this,arguments)}function P(){return(P=(0,L.A)(function*(O,R){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De(R)})})).apply(this,arguments)}function he(O){const R={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function He(O,R){if(!R.notification)return;O.notification={};const ae=R.notification.title;ae&&(O.notification.title=ae);const Ke=R.notification.body;Ke&&(O.notification.body=Ke);const ht=R.notification.image;ht&&(O.notification.image=ht);const _t=R.notification.icon;_t&&(O.notification.icon=_t)}(R,O),function Le(O,R){R.data&&(O.data=R.data)}(R,O),function ut(O,R){var ae,Ke,ht,_t,Xt;if(!(R.fcmOptions||null!==(ae=R.notification)&&void 0!==ae&&ae.click_action))return;O.fcmOptions={};const pi=null!==(ht=null===(Ke=R.fcmOptions)||void 0===Ke?void 0:Ke.link)&&void 0!==ht?ht:null===(_t=R.notification)||void 0===_t?void 0:_t.click_action;pi&&(O.fcmOptions.link=pi);const ti=null===(Xt=R.fcmOptions)||void 0===Xt?void 0:Xt.analytics_label;ti&&(O.fcmOptions.analyticsLabel=ti)}(R,O),R}function yt(O,R){const ae=[];for(let Ke=0;Ke<O.length;Ke++)ae.push(O.charAt(Ke)),Ke<R.length&&ae.push(R.charAt(Ke));return ae.join("")}function Ct(O){return ni.create("missing-app-config-values",{valueName:O})}yt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gt{constructor(R,ae,Ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ht=function gt(O){if(!O||!O.options)throw Ct("App Configuration Object");if(!O.name)throw Ct("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=O;for(const Ke of R)if(!ae[Ke])throw Ct(Ke);return{appName:O.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:ht,installations:ae,analyticsProvider:Ke}}_delete(){return Promise.resolve()}}function Vt(){return(Vt=(0,L.A)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Co,{scope:Qn}),O.swRegistration.update().catch(()=>{})}catch(R){throw ni.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function Tn(){return(Tn=(0,L.A)(function*(O,R){if(!R&&!O.swRegistration&&(yield function tn(O){return Vt.apply(this,arguments)}(O)),R||!O.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");O.swRegistration=R}})).apply(this,arguments)}function On(){return(On=(0,L.A)(function*(O,R){R?O.vapidKey=R:O.vapidKey||(O.vapidKey=ao)})).apply(this,arguments)}function co(){return co=(0,L.A)(function*(O,R){if(!navigator)throw ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ni.create("permission-blocked");return yield function gi(O,R){return On.apply(this,arguments)}(O,R?.vapidKey),yield function Ln(O,R){return Tn.apply(this,arguments)}(O,R?.serviceWorkerRegistration),function ar(O){return Ei.apply(this,arguments)}(O)}),co.apply(this,arguments)}function Yo(){return(Yo=(0,L.A)(function*(O,R,ae){const Ke=function ts(O){switch(O){case kt.NOTIFICATION_CLICKED:return"notification_open";case kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(Ke,{message_id:ae[de],message_name:ae[ne],message_time:ae[xe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ot(){return Ot=(0,L.A)(function*(O,R){const ae=R.data;if(!ae.isFirebaseMessaging)return;O.onMessageHandler&&ae.messageType===kt.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(he(ae)):O.onMessageHandler.next(he(ae)));const Ke=ae.data;(function ct(O){return"object"==typeof O&&!!O&&de in O})(Ke)&&"1"===Ke["google.c.a.e"]&&(yield function Xo(O,R,ae){return Yo.apply(this,arguments)}(O,ae.messageType,Ke))}),Ot.apply(this,arguments)}const Dn="@firebase/messaging",Qo=O=>{const R=new Gt(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Fi(O,R){return Ot.apply(this,arguments)}(R,ae)),R},ra=O=>{const R=O.getProvider("messaging").getImmediate();return{getToken:Ke=>function zs(O,R){return co.apply(this,arguments)}(R,Ke)}};function Vr(){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,L.A)(function*(){try{yield(0,Ie.eX)()}catch{return!1}return typeof window<"u"&&(0,Ie.zW)()&&(0,Ie.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Do(){(0,ue._registerComponent)(new ye.uA("messaging",Qo,"PUBLIC")),(0,ue._registerComponent)(new ye.uA("messaging-internal",ra,"PRIVATE")),(0,ue.registerVersion)(Dn,"0.12.4"),(0,ue.registerVersion)(Dn,"0.12.4","esm2017")}();var Ho=k(531),To=k(6780),ml=k(9687);const ns=new class Ur extends ml.q{}(class Hr extends To.R{constructor(R,ae){super(R,ae),this.scheduler=R,this.work=ae}schedule(R,ae=0){return ae>0?super.schedule(R,ae):(this.delay=ae,this.state=R,this.scheduler.flush(this),this)}execute(R,ae){return ae>0||this.closed?super.execute(R,ae):this._execute(R,ae)}requestAsyncId(R,ae,Ke=0){return null!=Ke&&Ke>0||null==Ke&&this.delay>0?super.requestAsyncId(R,ae,Ke):(R.flush(this),0)}});var is=k(3236),Gn=k(8141),f1=k(6745),kc=k(941);const _s=new s.RxE("7.6.1"),Uo="__angularfire_symbol__analyticsIsSupportedValue",bo="__angularfire_symbol__analyticsIsSupported",os="__angularfire_symbol__remoteConfigIsSupportedValue",Fs="__angularfire_symbol__remoteConfigIsSupported",Wi="__angularfire_symbol__messagingIsSupportedValue",Sc="__angularfire_symbol__messagingIsSupported";globalThis[bo]||(globalThis[bo]=(0,Ho.TT)().then(O=>globalThis[Uo]=O).catch(()=>globalThis[Uo]=!1)),globalThis[Sc]||(globalThis[Sc]=Vr().then(O=>globalThis[Wi]=O).catch(()=>globalThis[Wi]=!1)),globalThis[Fs]||(globalThis[Fs]=Fe().then(O=>globalThis[os]=O).catch(()=>globalThis[os]=!1));const xs={async:()=>globalThis[bo],sync:()=>{const O=globalThis[Uo];if(void 0===O)throw new Error((O=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${O} in the constructor, first ensure that ${O} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${O})\`.`)("Analytics"));return O}};function Wa(O,R,ae){if(R){if(1===R.length)return R[0];const _t=R.filter(Xt=>Xt.app===ae);if(1===_t.length)return _t[0]}return ae.container.getProvider(O).getImmediate({optional:!0})}const Jo=(O,R)=>{const ae=R?[R]:(0,Y.Dk)(),Ke=[];return ae.forEach(ht=>{ht.container.getProvider(O).instances.forEach(Xt=>{Ke.includes(Xt)||Ke.push(Xt)})}),Ke};function br(){}class Dc{constructor(R,ae=ns){this.zone=R,this.delegate=ae}now(){return this.delegate.now()}schedule(R,ae,Ke){const ht=this.zone;return this.delegate.schedule(function(Xt){ht.runGuarded(()=>{R.apply(this,[Xt])})},ae,Ke)}}class p2{constructor(R){this.zone=R,this.task=null}call(R,ae){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br)),ae.pipe((0,Gn.M)({next:Ke,complete:Ke,error:Ke})).subscribe(R).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m2=(()=>{class O{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Dc(Zone.current)),this.insideAngular=ae.run(()=>new Dc(Zone.current,is.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(ae){return new(ae||O)(s.KVO(s.SKi))},O.\u0275prov=s.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Ms(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Ai(O){return Ms(),function Ad(O){return function(ae){return(ae=ae.lift(new p2(O.ngZone))).pipe((0,f1._)(O.outsideAngular),(0,kc.Q)(O.insideAngular))}}(Ms())(O)}},2844:(At,je,k)=>{"use strict";k.d(je,{O:()=>s});var s=function(Y){return Y.NOT_REQUIRED="NOT_REQUIRED",Y.OBTAINED="OBTAINED",Y.REQUIRED="REQUIRED",Y.UNKNOWN="UNKNOWN",Y}(s||{})},5083:(At,je,k)=>{"use strict";k.d(je,{E_:()=>fe,F3:()=>ce});var s=k(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Se=function(Q){return Q.Unimplemented="UNIMPLEMENTED",Q.Unavailable="UNAVAILABLE",Q}(Se||{});class Me extends Error{constructor(U,le,Qe){super(U),this.message=U,this.code=le,this.data=Qe}}const F=Q=>{var U,le,Qe,ot,xt;const Ge=Q.CapacitorCustomPlatform||null,K=Q.Capacitor||{},H=K.Plugins=K.Plugins||{},W=Q.CapacitorPlatforms,ke=(null===(U=W?.currentPlatform)||void 0===U?void 0:U.getPlatform)||(()=>null!==Ge?Ge.name:(Q=>{var U,le;return Q?.androidBridge?"android":null!==(le=null===(U=Q?.webkit)||void 0===U?void 0:U.messageHandlers)&&void 0!==le&&le.bridge?"ios":"web"})(Q)),rt=(null===(le=W?.currentPlatform)||void 0===le?void 0:le.isNativePlatform)||(()=>"web"!==ke()),ft=(null===(Qe=W?.currentPlatform)||void 0===Qe?void 0:Qe.isPluginAvailable)||(Ne=>{const Fe=sn.get(Ne);return!(!Fe?.platforms.has(ke())&&!rn(Ne))}),rn=(null===(ot=W?.currentPlatform)||void 0===ot?void 0:ot.getPluginHeader)||(Ne=>{var Fe;return null===(Fe=K.PluginHeaders)||void 0===Fe?void 0:Fe.find(Et=>Et.name===Ne)}),sn=new Map,Xe=(null===(xt=W?.currentPlatform)||void 0===xt?void 0:xt.registerPlugin)||((Ne,Fe={})=>{const Et=sn.get(Ne);if(Et)return console.warn(`Capacitor plugin "${Ne}" already registered. Cannot register plugins twice.`),Et.proxy;const en=ke(),vn=rn(Ne);let fn;const zn=function(){var gn=(0,s.A)(function*(){return!fn&&en in Fe?fn=fn="function"==typeof Fe[en]?yield Fe[en]():Fe[en]:null!==Ge&&!fn&&"web"in Fe&&(fn=fn="function"==typeof Fe.web?yield Fe.web():Fe.web),fn});return function(){return gn.apply(this,arguments)}}(),Ut=gn=>{let xn;const oi=(...Tt)=>{const qn=zn().then(an=>{const Vn=((gn,xn)=>{var oi,Tt;if(!vn){if(gn)return null===(Tt=gn[xn])||void 0===Tt?void 0:Tt.bind(gn);throw new Me(`"${Ne}" plugin is not implemented on ${en}`,Se.Unimplemented)}{const qn=vn?.methods.find(an=>xn===an.name);if(qn)return"promise"===qn.rtype?an=>K.nativePromise(Ne,xn.toString(),an):(an,Vn)=>K.nativeCallback(Ne,xn.toString(),an,Vn);if(gn)return null===(oi=gn[xn])||void 0===oi?void 0:oi.bind(gn)}})(an,gn);if(Vn){const Yn=Vn(...Tt);return xn=Yn?.remove,Yn}throw new Me(`"${Ne}.${gn}()" is not implemented on ${en}`,Se.Unimplemented)});return"addListener"===gn&&(qn.remove=(0,s.A)(function*(){return xn()})),qn};return oi.toString=()=>`${gn.toString()}() { [capacitor code] }`,Object.defineProperty(oi,"name",{value:gn,writable:!1,configurable:!1}),oi},$t=Ut("addListener"),Fn=Ut("removeListener"),kn=(gn,xn)=>{const oi=$t({eventName:gn},xn),Tt=function(){var an=(0,s.A)(function*(){const Vn=yield oi;Fn({eventName:gn,callbackId:Vn},xn)});return function(){return an.apply(this,arguments)}}(),qn=new Promise(an=>oi.then(()=>an({remove:Tt})));return qn.remove=(0,s.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Tt()}),qn},Jn=new Proxy({},{get(gn,xn){switch(xn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return vn?kn:$t;case"removeListener":return Fn;default:return Ut(xn)}}});return H[Ne]=Jn,sn.set(Ne,{name:Ne,proxy:Jn,platforms:new Set([...Object.keys(Fe),...vn?[en]:[]])}),Jn});return K.convertFileSrc||(K.convertFileSrc=Ne=>Ne),K.getPlatform=ke,K.handleError=Ne=>Q.console.error(Ne),K.isNativePlatform=rt,K.isPluginAvailable=ft,K.pluginMethodNoop=(Ne,Fe,Et)=>Promise.reject(`${Et} does not have an implementation of "${Fe}".`),K.registerPlugin=Xe,K.Exception=Me,K.DEBUG=!!K.DEBUG,K.isLoggingEnabled=!!K.isLoggingEnabled,K.platform=K.getPlatform(),K.isNative=K.isNativePlatform(),K},se=(Q=>Q.Capacitor=F(Q))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ce=se.registerPlugin;class fe{constructor(U){this.listeners={},this.windowListeners={},U&&(console.warn(`Capacitor WebPlugin "${U.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=U)}addListener(U,le){var Qe=this;this.listeners[U]||(this.listeners[U]=[]),this.listeners[U].push(le);const xt=this.windowListeners[U];xt&&!xt.registered&&this.addWindowListener(xt);const Ge=function(){var H=(0,s.A)(function*(){return Qe.removeListener(U,le)});return function(){return H.apply(this,arguments)}}(),K=Promise.resolve({remove:Ge});return Object.defineProperty(K,"remove",{value:(H=(0,s.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ge()}),function(){return H.apply(this,arguments)})}),K;var H}removeAllListeners(){var U=this;return(0,s.A)(function*(){U.listeners={};for(const le in U.windowListeners)U.removeWindowListener(U.windowListeners[le]);U.windowListeners={}})()}notifyListeners(U,le){const Qe=this.listeners[U];Qe&&Qe.forEach(ot=>ot(le))}hasListeners(U){return!!this.listeners[U].length}registerWindowListener(U,le){this.windowListeners[le]={registered:!1,windowEventName:U,pluginEventName:le,handler:Qe=>{this.notifyListeners(le,Qe)}}}unimplemented(U="not implemented"){return new se.Exception(U,Se.Unimplemented)}unavailable(U="not available"){return new se.Exception(U,Se.Unavailable)}removeListener(U,le){var Qe=this;return(0,s.A)(function*(){const ot=Qe.listeners[U];if(!ot)return;const xt=ot.indexOf(le);Qe.listeners[U].splice(xt,1),Qe.listeners[U].length||Qe.removeWindowListener(Qe.windowListeners[U])})()}addWindowListener(U){window.addEventListener(U.windowEventName,U.handler),U.registered=!0}removeWindowListener(U){U&&(window.removeEventListener(U.windowEventName,U.handler),U.registered=!1)}}const me=Q=>encodeURIComponent(Q).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ue=Q=>Q.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X extends fe{getCookies(){return(0,s.A)(function*(){const U=document.cookie,le={};return U.split(";").forEach(Qe=>{if(Qe.length<=0)return;let[ot,xt]=Qe.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ot=Ue(ot).trim(),xt=Ue(xt).trim(),le[ot]=xt}),le})()}setCookie(U){return(0,s.A)(function*(){try{const le=me(U.key),Qe=me(U.value),ot=`; expires=${(U.expires||"").replace("expires=","")}`,xt=(U.path||"/").replace("path=",""),Ge=null!=U.url&&U.url.length>0?`domain=${U.url}`:"";document.cookie=`${le}=${Qe||""}${ot}; path=${xt}; ${Ge};`}catch(le){return Promise.reject(le)}})()}deleteCookie(U){return(0,s.A)(function*(){try{document.cookie=`${U.key}=; Max-Age=0`}catch(le){return Promise.reject(le)}})()}clearCookies(){return(0,s.A)(function*(){try{const U=document.cookie.split(";")||[];for(const le of U)document.cookie=le.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(U){return Promise.reject(U)}})()}clearAllCookies(){var U=this;return(0,s.A)(function*(){try{yield U.clearCookies()}catch(le){return Promise.reject(le)}})()}}ce("CapacitorCookies",{web:()=>new X});const J=function(){var Q=(0,s.A)(function*(U){return new Promise((le,Qe)=>{const ot=new FileReader;ot.onload=()=>{const xt=ot.result;le(xt.indexOf(",")>=0?xt.split(",")[1]:xt)},ot.onerror=xt=>Qe(xt),ot.readAsDataURL(U)})});return function(le){return Q.apply(this,arguments)}}();class N extends fe{request(U){return(0,s.A)(function*(){const le=((Q,U={})=>{const le=Object.assign({method:Q.method||"GET",headers:Q.headers},U),ot=((Q={})=>{const U=Object.keys(Q);return Object.keys(Q).map(ot=>ot.toLocaleLowerCase()).reduce((ot,xt,Ge)=>(ot[xt]=Q[U[Ge]],ot),{})})(Q.headers)["content-type"]||"";if("string"==typeof Q.data)le.body=Q.data;else if(ot.includes("application/x-www-form-urlencoded")){const xt=new URLSearchParams;for(const[Ge,K]of Object.entries(Q.data||{}))xt.set(Ge,K);le.body=xt.toString()}else if(ot.includes("multipart/form-data")||Q.data instanceof FormData){const xt=new FormData;if(Q.data instanceof FormData)Q.data.forEach((K,H)=>{xt.append(H,K)});else for(const K of Object.keys(Q.data))xt.append(K,Q.data[K]);le.body=xt;const Ge=new Headers(le.headers);Ge.delete("content-type"),le.headers=Ge}else(ot.includes("application/json")||"object"==typeof Q.data)&&(le.body=JSON.stringify(Q.data));return le})(U,U.webFetchExtra),Qe=((Q,U=!0)=>Q?Object.entries(Q).reduce((Qe,ot)=>{const[xt,Ge]=ot;let K,H;return Array.isArray(Ge)?(H="",Ge.forEach(W=>{K=U?encodeURIComponent(W):W,H+=`${xt}=${K}&`}),H.slice(0,-1)):(K=U?encodeURIComponent(Ge):Ge,H=`${xt}=${K}`),`${Qe}&${H}`},"").substr(1):null)(U.params,U.shouldEncodeUrlParams),ot=Qe?`${U.url}?${Qe}`:U.url,xt=yield fetch(ot,le),Ge=xt.headers.get("content-type")||"";let H,W,{responseType:K="text"}=xt.ok?U:{};switch(Ge.includes("application/json")&&(K="json"),K){case"arraybuffer":case"blob":W=yield xt.blob(),H=yield J(W);break;case"json":H=yield xt.json();break;default:H=yield xt.text()}const ve={};return xt.headers.forEach((ke,be)=>{ve[be]=ke}),{data:H,headers:ve,status:xt.status,url:xt.url}})()}get(U){var le=this;return(0,s.A)(function*(){return le.request(Object.assign(Object.assign({},U),{method:"GET"}))})()}post(U){var le=this;return(0,s.A)(function*(){return le.request(Object.assign(Object.assign({},U),{method:"POST"}))})()}put(U){var le=this;return(0,s.A)(function*(){return le.request(Object.assign(Object.assign({},U),{method:"PUT"}))})()}patch(U){var le=this;return(0,s.A)(function*(){return le.request(Object.assign(Object.assign({},U),{method:"PATCH"}))})()}delete(U){var le=this;return(0,s.A)(function*(){return le.request(Object.assign(Object.assign({},U),{method:"DELETE"}))})()}}ce("CapacitorHttp",{web:()=>new N})},1076:(At,je,k)=>{"use strict";k.d(je,{Am:()=>zn,Bd:()=>oe,FA:()=>be,Fy:()=>Ae,I9:()=>wt,Im:()=>Fe,K3:()=>ye,Ku:()=>Hi,Ll:()=>N,T9:()=>X,Uj:()=>Me,XA:()=>_e,ZQ:()=>V,bD:()=>en,cY:()=>J,dM:()=>W,eX:()=>H,g:()=>ke,gR:()=>Xe,hp:()=>Ut,jZ:()=>j,lT:()=>Qe,lV:()=>U,nr:()=>Ge,p9:()=>Co,sr:()=>Q,tD:()=>Fn,u:()=>B,zW:()=>K,zw:()=>te});const ue=function(de){const ne=[];let xe=0;for(let tt=0;tt<de.length;tt++){let Oe=de.charCodeAt(tt);Oe<128?ne[xe++]=Oe:Oe<2048?(ne[xe++]=Oe>>6|192,ne[xe++]=63&Oe|128):55296==(64512&Oe)&&tt+1<de.length&&56320==(64512&de.charCodeAt(tt+1))?(Oe=65536+((1023&Oe)<<10)+(1023&de.charCodeAt(++tt)),ne[xe++]=Oe>>18|240,ne[xe++]=Oe>>12&63|128,ne[xe++]=Oe>>6&63|128,ne[xe++]=63&Oe|128):(ne[xe++]=Oe>>12|224,ne[xe++]=Oe>>6&63|128,ne[xe++]=63&Oe|128)}return ne},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,ne){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let Oe=0;Oe<de.length;Oe+=3){const kt=de[Oe],zt=Oe+1<de.length,De=zt?de[Oe+1]:0,Ye=Oe+2<de.length,st=Ye?de[Oe+2]:0;let qt=(15&De)<<2|st>>6,dn=63&st;Ye||(dn=64,zt||(qt=64)),tt.push(xe[kt>>2],xe[(3&kt)<<4|De>>4],xe[qt],xe[dn])}return tt.join("")},encodeString(de,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(de):this.encodeByteArray(ue(de),ne)},decodeString(de,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(de):function(de){const ne=[];let xe=0,tt=0;for(;xe<de.length;){const Oe=de[xe++];if(Oe<128)ne[tt++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const kt=de[xe++];ne[tt++]=String.fromCharCode((31&Oe)<<6|63&kt)}else if(Oe>239&&Oe<365){const Ye=((7&Oe)<<18|(63&de[xe++])<<12|(63&de[xe++])<<6|63&de[xe++])-65536;ne[tt++]=String.fromCharCode(55296+(Ye>>10)),ne[tt++]=String.fromCharCode(56320+(1023&Ye))}else{const kt=de[xe++],zt=de[xe++];ne[tt++]=String.fromCharCode((15&Oe)<<12|(63&kt)<<6|63&zt)}}return ne.join("")}(this.decodeStringToByteArray(de,ne))},decodeStringToByteArray(de,ne){this.init_();const xe=ne?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let Oe=0;Oe<de.length;){const kt=xe[de.charAt(Oe++)],De=Oe<de.length?xe[de.charAt(Oe)]:0;++Oe;const st=Oe<de.length?xe[de.charAt(Oe)]:64;++Oe;const lt=Oe<de.length?xe[de.charAt(Oe)]:64;if(++Oe,null==kt||null==De||null==st||null==lt)throw new q;tt.push(kt<<2|De>>4),64!==st&&(tt.push(De<<4&240|st>>2),64!==lt&&tt.push(st<<6&192|lt))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(de){return function(de){const ne=ue(de);return ye.encodeByteArray(ne,!0)}(de).replace(/\./g,"")},B=function(de){try{return ye.decodeString(de,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function te(de,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return ne}for(const xe in ne)!ne.hasOwnProperty(xe)||!se(xe)||(de[xe]=te(de[xe],ne[xe]));return de}function se(de){return"__proto__"!==de}const ee=()=>{try{return function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=de&&B(de[1]);return ne&&JSON.parse(ne)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},X=()=>{var de;return null===(de=ee())||void 0===de?void 0:de.config},_e=de=>{var ne;return null===(ne=ee())||void 0===ne?void 0:ne[`_${de}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,xe)=>{this.resolve=ne,this.reject=xe})}wrapCallback(ne){return(xe,tt)=>{xe?this.reject(xe):this.resolve(tt),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(xe):ne(xe,tt))}}}function Ae(de,ne){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tt=ne||"demo-project",Oe=de.iat||0,kt=de.sub||de.user_id;if(!kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const zt=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:kt,user_id:kt,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(zt)),""].join(".")}function V(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function j(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())}function N(){var de;const ne=null===(de=ee())||void 0===de?void 0:de.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function oe(){return"object"==typeof self&&self.self===self}function Q(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function U(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const de=V();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Ge(){return!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((de,ne)=>{try{let xe=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(tt);Oe.onsuccess=()=>{Oe.result.close(),xe||self.indexedDB.deleteDatabase(tt),de(!0)},Oe.onupgradeneeded=()=>{xe=!1},Oe.onerror=()=>{var kt;ne((null===(kt=Oe.error)||void 0===kt?void 0:kt.message)||"")}}catch(xe){ne(xe)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(ne,xe,tt){super(xe),this.code=ne,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(ne,xe,tt){this.service=ne,this.serviceName=xe,this.errors=tt}create(ne,...xe){const tt=xe[0]||{},Oe=`${this.service}/${ne}`,kt=this.errors[ne],zt=kt?function rt(de,ne){return de.replace(et,(xe,tt)=>{const Oe=ne[tt];return null!=Oe?String(Oe):`<${tt}?>`})}(kt,tt):"Error";return new ke(Oe,`${this.serviceName}: ${zt} (${Oe}).`,tt)}}const et=/\{\$([^}]+)}/g;function Xe(de,ne){return Object.prototype.hasOwnProperty.call(de,ne)}function Fe(de){for(const ne in de)if(Object.prototype.hasOwnProperty.call(de,ne))return!1;return!0}function en(de,ne){if(de===ne)return!0;const xe=Object.keys(de),tt=Object.keys(ne);for(const Oe of xe){if(!tt.includes(Oe))return!1;const kt=de[Oe],zt=ne[Oe];if(vn(kt)&&vn(zt)){if(!en(kt,zt))return!1}else if(kt!==zt)return!1}for(const Oe of tt)if(!xe.includes(Oe))return!1;return!0}function vn(de){return null!==de&&"object"==typeof de}function zn(de){const ne=[];for(const[xe,tt]of Object.entries(de))Array.isArray(tt)?tt.forEach(Oe=>{ne.push(encodeURIComponent(xe)+"="+encodeURIComponent(Oe))}):ne.push(encodeURIComponent(xe)+"="+encodeURIComponent(tt));return ne.length?"&"+ne.join("&"):""}function wt(de){const ne={};return de.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[Oe,kt]=tt.split("=");ne[decodeURIComponent(Oe)]=decodeURIComponent(kt)}}),ne}function Ut(de){const ne=de.indexOf("?");if(!ne)return"";const xe=de.indexOf("#",ne);return de.substring(ne,xe>0?xe:void 0)}function Fn(de,ne){const xe=new kn(de,ne);return xe.subscribe.bind(xe)}class kn{constructor(ne,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{ne(this)}).catch(tt=>{this.error(tt)})}next(ne){this.forEachObserver(xe=>{xe.next(ne)})}error(ne){this.forEachObserver(xe=>{xe.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,xe,tt){let Oe;if(void 0===ne&&void 0===xe&&void 0===tt)throw new Error("Missing Observer.");Oe=function gn(de,ne){if("object"!=typeof de||null===de)return!1;for(const xe of ne)if(xe in de&&"function"==typeof de[xe])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:xe,complete:tt},void 0===Oe.next&&(Oe.next=xn),void 0===Oe.error&&(Oe.error=xn),void 0===Oe.complete&&(Oe.complete=xn);const kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),kt}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,ne)}sendOne(ne,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{xe(this.observers[ne])}catch(tt){typeof console<"u"&&console.error&&console.error(tt)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const mo=1e3,Ji=2,ri=144e5,Zn=.5;function Co(de,ne=mo,xe=Ji){const tt=ne*Math.pow(xe,de),Oe=Math.round(Zn*tt*(Math.random()-.5)*2);return Math.min(ri,tt+Oe)}function Hi(de){return de&&de._delegate?de._delegate:de}},1656:(At,je,k)=>{"use strict";k.d(je,{c:()=>L,r:()=>F});const L=(V,j)=>{V.componentOnReady?V.componentOnReady().then(N=>j(N)):F(()=>j(V))},F=V=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(V):"function"==typeof requestAnimationFrame?requestAnimationFrame(V):setTimeout(V)},6031:(At,je,k)=>{"use strict";k.d(je,{L:()=>s,a:()=>Y,b:()=>L,c:()=>ue,d:()=>Ie,g:()=>V});const s="ionViewWillEnter",Y="ionViewDidEnter",L="ionViewWillLeave",ue="ionViewDidLeave",Ie="ionViewWillUnload",V=j=>j.classList.contains("ion-page")?j:j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||j},3503:(At,je,k)=>{"use strict";k.d(je,{c:()=>Ee});var s=k(8476),Y=k(5638);let L;const Ie=fe=>fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=fe=>(void 0===L&&(L=void 0===fe.style.animationName&&void 0!==fe.style.webkitAnimationName?"-webkit-":""),L),q=(fe,ee,me)=>{const Ue=ee.startsWith("animation")?ye(fe):"";fe.style.setProperty(Ue+ee,me)},Se=(fe,ee)=>{const me=ee.startsWith("animation")?ye(fe):"";fe.style.removeProperty(me+ee)},F=[],we=(fe=[],ee)=>{if(void 0!==ee){const me=Array.isArray(ee)?ee:[ee];return[...fe,...me]}return fe},Ee=fe=>{let ee,me,Ue,X,_e,J,oe,K,H,W,ve,et,ft,Ae=[],V=[],j=[],N=!1,Q={},U=[],le=[],Qe={},ot=0,xt=!1,Ge=!1,ke=!0,be=!1,rt=!0,Pt=!1;const rn=fe,on=[],$n=[],sn=[],ln=[],Xe=[],Ne=[],Fe=[],Et=[],en=[],vn=[],fn=[],zn="function"==typeof AnimationEffect||void 0!==s.w&&"function"==typeof s.w.AnimationEffect,wt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&zn,$t=()=>fn,xn=($,$e)=>{const A=$e.findIndex(P=>P.c===$);A>-1&&$e.splice(A,1)},Tt=($,$e)=>(($e?.oneTimeCallback?$n:on).push({c:$,o:$e}),ft),an=()=>{if(wt)fn.forEach($=>{$.cancel()}),fn.length=0;else{const $=ln.slice();(0,Y.r)(()=>{$.forEach($e=>{Se($e,"animation-name"),Se($e,"animation-duration"),Se($e,"animation-timing-function"),Se($e,"animation-iteration-count"),Se($e,"animation-delay"),Se($e,"animation-play-state"),Se($e,"animation-fill-mode"),Se($e,"animation-direction")})})}},Vn=()=>{Ne.forEach($=>{$?.parentNode&&$.parentNode.removeChild($)}),Ne.length=0},ne=()=>void 0!==_e?_e:oe?oe.getFill():"both",xe=()=>void 0!==H?H:void 0!==J?J:oe?oe.getDirection():"normal",tt=()=>xt?"linear":void 0!==Ue?Ue:oe?oe.getEasing():"linear",Oe=()=>Ge?0:void 0!==W?W:void 0!==me?me:oe?oe.getDuration():0,kt=()=>void 0!==X?X:oe?oe.getIterations():1,zt=()=>void 0!==ve?ve:void 0!==ee?ee:oe?oe.getDelay():0,St=()=>{0!==ot&&(ot--,0===ot&&((()=>{ii(),en.forEach(Z=>Z()),vn.forEach(Z=>Z());const $=ke?1:0,$e=U,A=le,P=Qe;ln.forEach(Z=>{const he=Z.classList;$e.forEach(He=>he.add(He)),A.forEach(He=>he.remove(He));for(const He in P)P.hasOwnProperty(He)&&q(Z,He,P[He])}),W=void 0,H=void 0,ve=void 0,on.forEach(Z=>Z.c($,ft)),$n.forEach(Z=>Z.c($,ft)),$n.length=0,rt=!0,ke&&(be=!0),ke=!0})(),oe&&oe.animationFinish()))},yn=($=!0)=>{Vn();const $e=(fe=>(fe.forEach(ee=>{for(const me in ee)if(ee.hasOwnProperty(me)){const Ue=ee[me];if("easing"===me)ee["animation-timing-function"]=Ue,delete ee[me];else{const X=Ie(me);X!==me&&(ee[X]=Ue,delete ee[me])}}}),fe))(Ae);ln.forEach(A=>{if($e.length>0){const P=((fe=[])=>fe.map(ee=>{const me=ee.offset,Ue=[];for(const X in ee)ee.hasOwnProperty(X)&&"offset"!==X&&Ue.push(`${X}: ${ee[X]};`);return`${100*me}% { ${Ue.join(" ")} }`}).join(" "))($e);et=void 0!==fe?fe:(fe=>{let ee=F.indexOf(fe);return ee<0&&(ee=F.push(fe)-1),`ion-animation-${ee}`})(P);const Z=((fe,ee,me)=>{var Ue;const X=(fe=>{const ee=void 0!==fe.getRootNode?fe.getRootNode():fe;return ee.head||ee})(me),_e=ye(me),J=X.querySelector("#"+fe);if(J)return J;const Ae=(null!==(Ue=me.ownerDocument)&&void 0!==Ue?Ue:document).createElement("style");return Ae.id=fe,Ae.textContent=`@${_e}keyframes ${fe} { ${ee} } @${_e}keyframes ${fe}-alt { ${ee} }`,X.appendChild(Ae),Ae})(et,P,A);Ne.push(Z),q(A,"animation-duration",`${Oe()}ms`),q(A,"animation-timing-function",tt()),q(A,"animation-delay",`${zt()}ms`),q(A,"animation-fill-mode",ne()),q(A,"animation-direction",xe());const he=kt()===1/0?"infinite":kt().toString();q(A,"animation-iteration-count",he),q(A,"animation-play-state","paused"),$&&q(A,"animation-name",`${Z.id}-alt`),(0,Y.r)(()=>{q(A,"animation-name",Z.id||null)})}})},ei=($=!0)=>{(()=>{Fe.forEach(P=>P()),Et.forEach(P=>P());const $=V,$e=j,A=Q;ln.forEach(P=>{const Z=P.classList;$.forEach(he=>Z.add(he)),$e.forEach(he=>Z.remove(he));for(const he in A)A.hasOwnProperty(he)&&q(P,he,A[he])})})(),Ae.length>0&&(wt?(ln.forEach($=>{const $e=$.animate(Ae,{id:rn,delay:zt(),duration:Oe(),easing:tt(),iterations:kt(),fill:ne(),direction:xe()});$e.pause(),fn.push($e)}),fn.length>0&&(fn[0].onfinish=()=>{St()})):yn($)),N=!0},bi=$=>{if($=Math.min(Math.max($,0),.9999),wt)fn.forEach($e=>{$e.currentTime=$e.effect.getComputedTiming().delay+Oe()*$,$e.pause()});else{const $e=`-${Oe()*$}ms`;ln.forEach(A=>{Ae.length>0&&(q(A,"animation-delay",$e),q(A,"animation-play-state","paused"))})}},si=$=>{fn.forEach($e=>{$e.effect.updateTiming({delay:zt(),duration:Oe(),easing:tt(),iterations:kt(),fill:ne(),direction:xe()})}),void 0!==$&&bi($)},ni=($=!0,$e)=>{(0,Y.r)(()=>{ln.forEach(A=>{q(A,"animation-name",et||null),q(A,"animation-duration",`${Oe()}ms`),q(A,"animation-timing-function",tt()),q(A,"animation-delay",void 0!==$e?`-${$e*Oe()}ms`:`${zt()}ms`),q(A,"animation-fill-mode",ne()||null),q(A,"animation-direction",xe()||null);const P=kt()===1/0?"infinite":kt().toString();q(A,"animation-iteration-count",P),$&&q(A,"animation-name",`${et}-alt`),(0,Y.r)(()=>{q(A,"animation-name",et||null)})})})},zi=($=!1,$e=!0,A)=>($&&Xe.forEach(P=>{P.update($,$e,A)}),wt?si(A):ni($e,A),ft),li=()=>{N&&(wt?fn.forEach($=>{$.pause()}):ln.forEach($=>{q($,"animation-play-state","paused")}),Pt=!0)},Br=()=>{K=void 0,St()},ii=()=>{K&&clearTimeout(K)},Ei=$=>new Promise($e=>{$?.sync&&(Ge=!0,Tt(()=>Ge=!1,{oneTimeCallback:!0})),N||ei(),be&&(wt?(bi(0),si()):ni(),be=!1),rt&&(ot=Xe.length+1,rt=!1);const A=()=>{xn(P,$n),$e()},P=()=>{xn(A,sn),$e()};Tt(P,{oneTimeCallback:!0}),(($,$e)=>{sn.push({c:$,o:{oneTimeCallback:!0}})})(A),Xe.forEach(Z=>{Z.play()}),wt?(fn.forEach($=>{$.play()}),(0===Ae.length||0===ln.length)&&St()):(()=>{if(ii(),(0,Y.r)(()=>{ln.forEach($=>{Ae.length>0&&q($,"animation-play-state","running")})}),0===Ae.length||0===ln.length)St();else{const $=zt()||0,$e=Oe()||0,A=kt()||1;isFinite(A)&&(K=setTimeout(Br,$+$e*A+100)),((fe,ee)=>{let me;const Ue={passive:!0},_e=J=>{fe===J.target&&(me&&me(),ii(),(0,Y.r)(()=>{ln.forEach($=>{Se($,"animation-duration"),Se($,"animation-delay"),Se($,"animation-play-state")}),(0,Y.r)(St)}))};fe&&(fe.addEventListener("webkitAnimationEnd",_e,Ue),fe.addEventListener("animationend",_e,Ue),me=()=>{fe.removeEventListener("webkitAnimationEnd",_e,Ue),fe.removeEventListener("animationend",_e,Ue)})})(ln[0])}})(),Pt=!1}),qo=($,$e)=>{const A=Ae[0];return void 0===A||void 0!==A.offset&&0!==A.offset?Ae=[{offset:0,[$]:$e},...Ae]:A[$]=$e,ft};return ft={parentAnimation:oe,elements:ln,childAnimations:Xe,id:rn,animationFinish:St,from:qo,to:($,$e)=>{const A=Ae[Ae.length-1];return void 0===A||void 0!==A.offset&&1!==A.offset?Ae=[...Ae,{offset:1,[$]:$e}]:A[$]=$e,ft},fromTo:($,$e,A)=>qo($,$e).to($,A),parent:$=>(oe=$,ft),play:Ei,pause:()=>(Xe.forEach($=>{$.pause()}),li(),ft),stop:()=>{Xe.forEach($=>{$.stop()}),N&&(an(),N=!1),xt=!1,Ge=!1,rt=!0,H=void 0,W=void 0,ve=void 0,ot=0,be=!1,ke=!0,Pt=!1,sn.forEach($=>$.c(0,ft)),sn.length=0},destroy:$=>(Xe.forEach($e=>{$e.destroy($)}),($=>{an(),$&&Vn()})($),ln.length=0,Xe.length=0,Ae.length=0,on.length=0,$n.length=0,N=!1,rt=!0,ft),keyframes:$=>{const $e=Ae!==$;return Ae=$,$e&&($=>{wt?$t().forEach($e=>{const A=$e.effect;if(A.setKeyframes)A.setKeyframes($);else{const P=new KeyframeEffect(A.target,$,A.getTiming());$e.effect=P}}):yn()})(Ae),ft},addAnimation:$=>{if(null!=$)if(Array.isArray($))for(const $e of $)$e.parent(ft),Xe.push($e);else $.parent(ft),Xe.push($);return ft},addElement:$=>{if(null!=$)if(1===$.nodeType)ln.push($);else if($.length>=0)for(let $e=0;$e<$.length;$e++)ln.push($[$e]);else console.error("Invalid addElement value");return ft},update:zi,fill:$=>(_e=$,zi(!0),ft),direction:$=>(J=$,zi(!0),ft),iterations:$=>(X=$,zi(!0),ft),duration:$=>(!wt&&0===$&&($=1),me=$,zi(!0),ft),easing:$=>(Ue=$,zi(!0),ft),delay:$=>(ee=$,zi(!0),ft),getWebAnimations:$t,getKeyframes:()=>Ae,getFill:ne,getDirection:xe,getDelay:zt,getIterations:kt,getEasing:tt,getDuration:Oe,afterAddRead:$=>(en.push($),ft),afterAddWrite:$=>(vn.push($),ft),afterClearStyles:($=[])=>{for(const $e of $)Qe[$e]="";return ft},afterStyles:($={})=>(Qe=$,ft),afterRemoveClass:$=>(le=we(le,$),ft),afterAddClass:$=>(U=we(U,$),ft),beforeAddRead:$=>(Fe.push($),ft),beforeAddWrite:$=>(Et.push($),ft),beforeClearStyles:($=[])=>{for(const $e of $)Q[$e]="";return ft},beforeStyles:($={})=>(Q=$,ft),beforeRemoveClass:$=>(j=we(j,$),ft),beforeAddClass:$=>(V=we(V,$),ft),onFinish:Tt,isRunning:()=>0!==ot&&!Pt,progressStart:($=!1,$e)=>(Xe.forEach(A=>{A.progressStart($,$e)}),li(),xt=$,N||ei(),zi(!1,!0,$e),ft),progressStep:$=>(Xe.forEach($e=>{$e.progressStep($)}),bi($),ft),progressEnd:($,$e,A)=>(xt=!1,Xe.forEach(P=>{P.progressEnd($,$e,A)}),void 0!==A&&(W=A),be=!1,ke=!0,0===$?(H="reverse"===xe()?"normal":"reverse","reverse"===H&&(ke=!1),wt?(zi(),bi(1-$e)):(ve=(1-$e)*Oe()*-1,zi(!1,!1))):1===$&&(wt?(zi(),bi($e)):(ve=$e*Oe()*-1,zi(!1,!1))),void 0!==$&&!oe&&Ei(),ft)}}},464:(At,je,k)=>{"use strict";k.d(je,{E:()=>B,a:()=>s,s:()=>Se});const s=F=>{try{if(F instanceof q)return F.value;if(!ue()||"string"!=typeof F||""===F)return F;if(F.includes("onload="))return"";const te=document.createDocumentFragment(),se=document.createElement("div");te.appendChild(se),se.innerHTML=F,ye.forEach(fe=>{const ee=te.querySelectorAll(fe);for(let me=ee.length-1;me>=0;me--){const Ue=ee[me];Ue.parentNode?Ue.parentNode.removeChild(Ue):te.removeChild(Ue);const X=L(Ue);for(let _e=0;_e<X.length;_e++)Y(X[_e])}});const ce=L(te);for(let fe=0;fe<ce.length;fe++)Y(ce[fe]);const we=document.createElement("div");we.appendChild(te);const Ee=we.querySelector("div");return null!==Ee?Ee.innerHTML:we.innerHTML}catch(te){return console.error(te),""}},Y=F=>{if(F.nodeType&&1!==F.nodeType)return;if(typeof NamedNodeMap<"u"&&!(F.attributes instanceof NamedNodeMap))return void F.remove();for(let se=F.attributes.length-1;se>=0;se--){const ce=F.attributes.item(se),we=ce.name;if(!Ie.includes(we.toLowerCase())){F.removeAttribute(we);continue}const Ee=ce.value,fe=F[we];(null!=Ee&&Ee.toLowerCase().includes("javascript:")||null!=fe&&fe.toLowerCase().includes("javascript:"))&&F.removeAttribute(we)}const te=L(F);for(let se=0;se<te.length;se++)Y(te[se])},L=F=>null!=F.children?F.children:F.childNodes,ue=()=>{var F;const te=window,se=null===(F=te?.Ionic)||void 0===F?void 0:F.config;return!se||(se.get?se.get("sanitizerEnabled",!0):!0===se.sanitizerEnabled||void 0===se.sanitizerEnabled)},Ie=["class","id","href","src","name","slot"],ye=["script","style","iframe","meta","link","object","embed"];class q{constructor(te){this.value=te}}const Se=F=>{const te=window,se=te.Ionic;if(!se||!se.config||"Object"===se.config.constructor.name)return te.Ionic=te.Ionic||{},te.Ionic.config=Object.assign(Object.assign({},te.Ionic.config),F),te.Ionic.config},B=!1},5938:(At,je,k)=>{"use strict";k.d(je,{C:()=>Ie,a:()=>L,d:()=>ue});var s=k(467),Y=k(5638);const L=function(){var ye=(0,s.A)(function*(q,Se,Me,B,F,te){var se;if(q)return q.attachViewToDom(Se,Me,F,B);if(!(te||"string"==typeof Me||Me instanceof HTMLElement))throw new Error("framework delegate is missing");const ce="string"==typeof Me?null===(se=Se.ownerDocument)||void 0===se?void 0:se.createElement(Me):Me;return B&&B.forEach(we=>ce.classList.add(we)),F&&Object.assign(ce,F),Se.appendChild(ce),yield new Promise(we=>(0,Y.c)(ce,we)),ce});return function(Se,Me,B,F,te,se){return ye.apply(this,arguments)}}(),ue=(ye,q)=>{if(q){if(ye)return ye.removeViewFromDom(q.parentElement,q);q.remove()}return Promise.resolve()},Ie=()=>{let ye,q;return{attachViewToDom:function(){var B=(0,s.A)(function*(F,te,se={},ce=[]){var we,Ee;let fe;if(ye=F,te){const me="string"==typeof te?null===(we=ye.ownerDocument)||void 0===we?void 0:we.createElement(te):te;ce.forEach(Ue=>me.classList.add(Ue)),Object.assign(me,se),ye.appendChild(me),fe=me,yield new Promise(Ue=>(0,Y.c)(me,Ue))}else if(ye.children.length>0&&("ION-MODAL"===ye.tagName||"ION-POPOVER"===ye.tagName)&&!(fe=ye.children[0]).classList.contains("ion-delegate-host")){const Ue=null===(Ee=ye.ownerDocument)||void 0===Ee?void 0:Ee.createElement("div");Ue.classList.add("ion-delegate-host"),ce.forEach(X=>Ue.classList.add(X)),Ue.append(...ye.children),ye.appendChild(Ue),fe=Ue}const ee=document.querySelector("ion-app")||document.body;return q=document.createComment("ionic teleport"),ye.parentNode.insertBefore(q,ye),ee.appendChild(ye),fe??ye});return function(te,se){return B.apply(this,arguments)}}(),removeViewFromDom:()=>(ye&&q&&(q.parentNode.insertBefore(ye,q),q.remove()),Promise.resolve())}}},8221:(At,je,k)=>{"use strict";k.d(je,{G:()=>Ie});class Y{constructor(q,Se,Me,B,F){this.id=Se,this.name=Me,this.disableScroll=F,this.priority=1e6*B+Se,this.ctrl=q}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const q=this.ctrl.capture(this.name,this.id,this.priority);return q&&this.disableScroll&&this.ctrl.disableScroll(this.id),q}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(q,Se,Me,B){this.id=Se,this.disable=Me,this.disableScroll=B,this.ctrl=q}block(){if(this.ctrl){if(this.disable)for(const q of this.disable)this.ctrl.disableGesture(q,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const q of this.disable)this.ctrl.enableGesture(q,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ue="backdrop-no-scroll",Ie=new class s{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(q){var Se;return new Y(this,this.newID(),q.name,null!==(Se=q.priority)&&void 0!==Se?Se:0,!!q.disableScroll)}createBlocker(q={}){return new L(this,this.newID(),q.disable,!!q.disableScroll)}start(q,Se,Me){return this.canStart(q)?(this.requestedStart.set(Se,Me),!0):(this.requestedStart.delete(Se),!1)}capture(q,Se,Me){if(!this.start(q,Se,Me))return!1;const B=this.requestedStart;let F=-1e4;if(B.forEach(te=>{F=Math.max(F,te)}),F===Me){this.capturedId=Se,B.clear();const te=new CustomEvent("ionGestureCaptured",{detail:{gestureName:q}});return document.dispatchEvent(te),!0}return B.delete(Se),!1}release(q){this.requestedStart.delete(q),this.capturedId===q&&(this.capturedId=void 0)}disableGesture(q,Se){let Me=this.disabledGestures.get(q);void 0===Me&&(Me=new Set,this.disabledGestures.set(q,Me)),Me.add(Se)}enableGesture(q,Se){const Me=this.disabledGestures.get(q);void 0!==Me&&Me.delete(Se)}disableScroll(q){this.disabledScroll.add(q),1===this.disabledScroll.size&&document.body.classList.add(ue)}enableScroll(q){this.disabledScroll.delete(q),0===this.disabledScroll.size&&document.body.classList.remove(ue)}canStart(q){return!(void 0!==this.capturedId||this.isDisabled(q))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(q){const Se=this.disabledGestures.get(q);return!!(Se&&Se.size>0)}newID(){return this.gestureId++,this.gestureId}}},3113:(At,je,k)=>{"use strict";k.r(je),k.d(je,{MENU_BACK_BUTTON_PRIORITY:()=>Me,OVERLAY_BACK_BUTTON_PRIORITY:()=>Se,blockHardwareBackButton:()=>ye,shouldUseCloseWatcher:()=>Ie,startHardwareBackButton:()=>q});var s=k(467),Y=k(8476),L=k(611);k(4363);const Ie=()=>L.c.get("experimentalCloseWatcher",!1)&&void 0!==Y.w&&"CloseWatcher"in Y.w,ye=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const B=document;let F=!1;const te=()=>{if(F)return;let se=0,ce=[];const we=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ee,me){ce.push({priority:ee,handler:me,id:se++})}}});B.dispatchEvent(we);const Ee=function(){var ee=(0,s.A)(function*(me){try{if(me?.handler){const Ue=me.handler(fe);null!=Ue&&(yield Ue)}}catch(Ue){console.error(Ue)}});return function(Ue){return ee.apply(this,arguments)}}(),fe=()=>{if(ce.length>0){let ee={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(me=>{me.priority>=ee.priority&&(ee=me)}),F=!0,ce=ce.filter(me=>me.id!==ee.id),Ee(ee).then(()=>F=!1)}};fe()};if(Ie()){let se;const ce=()=>{se?.destroy(),se=new Y.w.CloseWatcher,se.onclose=()=>{te(),ce()}};ce()}else B.addEventListener("backbutton",te)},Se=100,Me=99},5638:(At,je,k)=>{"use strict";k.d(je,{a:()=>Se,b:()=>Me,c:()=>L,d:()=>Ee,e:()=>we,f:()=>ce,g:()=>B,h:()=>se,i:()=>q,j:()=>_e,k:()=>Ie,l:()=>fe,m:()=>ue,n:()=>te,o:()=>ee,p:()=>X,q:()=>J,r:()=>F,s:()=>Ae,t:()=>s,u:()=>me,v:()=>Ue});const s=(V,j=0)=>new Promise(N=>{Y(V,j,N)}),Y=(V,j=0,N)=>{let oe,Q;const U={passive:!0},Qe=()=>{oe&&oe()},ot=xt=>{(void 0===xt||V===xt.target)&&(Qe(),N(xt))};return V&&(V.addEventListener("webkitTransitionEnd",ot,U),V.addEventListener("transitionend",ot,U),Q=setTimeout(ot,j+500),oe=()=>{void 0!==Q&&(clearTimeout(Q),Q=void 0),V.removeEventListener("webkitTransitionEnd",ot,U),V.removeEventListener("transitionend",ot,U)}),Qe},L=(V,j)=>{V.componentOnReady?V.componentOnReady().then(N=>j(N)):F(()=>j(V))},ue=V=>void 0!==V.componentOnReady,Ie=(V,j=[])=>{const N={};return j.forEach(oe=>{V.hasAttribute(oe)&&(null!==V.getAttribute(oe)&&(N[oe]=V.getAttribute(oe)),V.removeAttribute(oe))}),N},ye=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],q=(V,j)=>{let N=ye;return j&&j.length>0&&(N=N.filter(oe=>!j.includes(oe))),Ie(V,N)},Se=(V,j,N,oe)=>{var Q;if(typeof window<"u"){const U=window,le=null===(Q=U?.Ionic)||void 0===Q?void 0:Q.config;if(le){const Qe=le.get("_ael");if(Qe)return Qe(V,j,N,oe);if(le._ael)return le._ael(V,j,N,oe)}}return V.addEventListener(j,N,oe)},Me=(V,j,N,oe)=>{var Q;if(typeof window<"u"){const U=window,le=null===(Q=U?.Ionic)||void 0===Q?void 0:Q.config;if(le){const Qe=le.get("_rel");if(Qe)return Qe(V,j,N,oe);if(le._rel)return le._rel(V,j,N,oe)}}return V.removeEventListener(j,N,oe)},B=(V,j=V)=>V.shadowRoot||j,F=V=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(V):"function"==typeof requestAnimationFrame?requestAnimationFrame(V):setTimeout(V),te=V=>!!V.shadowRoot&&!!V.attachShadow,se=V=>{const j=V.closest("ion-item");return j?j.querySelector("ion-label"):null},ce=V=>{if(V.focus(),V.classList.contains("ion-focusable")){const j=V.closest("ion-app");j&&j.setFocus([V])}},we=(V,j)=>{let N;const oe=V.getAttribute("aria-labelledby"),Q=V.id;let U=null!==oe&&""!==oe.trim()?oe:j+"-lbl",le=null!==oe&&""!==oe.trim()?document.getElementById(oe):se(V);return le?(null===oe&&(le.id=U),N=le.textContent,le.setAttribute("aria-hidden","true")):""!==Q.trim()&&(le=document.querySelector(`label[for="${Q}"]`),le&&(""!==le.id?U=le.id:le.id=U=`${Q}-lbl`,N=le.textContent)),{label:le,labelId:U,labelText:N}},Ee=(V,j,N,oe,Q)=>{if(V||te(j)){let U=j.querySelector("input.aux-input");U||(U=j.ownerDocument.createElement("input"),U.type="hidden",U.classList.add("aux-input"),j.appendChild(U)),U.disabled=Q,U.name=N,U.value=oe||""}},fe=(V,j,N)=>Math.max(V,Math.min(j,N)),ee=(V,j)=>{if(!V){const N="ASSERT: "+j;throw console.error(N),new Error(N)}},me=V=>V.timeStamp||Date.now(),Ue=V=>{if(V){const j=V.changedTouches;if(j&&j.length>0){const N=j[0];return{x:N.clientX,y:N.clientY}}if(void 0!==V.pageX)return{x:V.pageX,y:V.pageY}}return{x:0,y:0}},X=V=>{const j="rtl"===document.dir;switch(V){case"start":return j;case"end":return!j;default:throw new Error(`"${V}" is not a valid value for [side]. Use "start" or "end" instead.`)}},_e=(V,j)=>{const N=V._original||V;return{_original:V,emit:J(N.emit.bind(N),j)}},J=(V,j=0)=>{let N;return(...oe)=>{clearTimeout(N),N=setTimeout(V,j,...oe)}},Ae=(V,j)=>{if(V??(V={}),j??(j={}),V===j)return!0;const N=Object.keys(V);if(N.length!==Object.keys(j).length)return!1;for(const oe of N)if(!(oe in j)||V[oe]!==j[oe])return!1;return!0}},405:(At,je,k)=>{"use strict";k.r(je),k.d(je,{GESTURE_CONTROLLER:()=>s.G,createGesture:()=>Me});var s=k(8221);const Y=(se,ce,we,Ee)=>{const fe=L(se)?{capture:!!Ee.capture,passive:!!Ee.passive}:!!Ee.capture;let ee,me;return se.__zone_symbol__addEventListener?(ee="__zone_symbol__addEventListener",me="__zone_symbol__removeEventListener"):(ee="addEventListener",me="removeEventListener"),se[ee](ce,we,fe),()=>{se[me](ce,we,fe)}},L=se=>{if(void 0===ue)try{const ce=Object.defineProperty({},"passive",{get:()=>{ue=!0}});se.addEventListener("optsTest",()=>{},ce)}catch{ue=!1}return!!ue};let ue;const q=se=>se instanceof Document?se:se.ownerDocument,Me=se=>{let ce=!1,we=!1,Ee=!0,fe=!1;const ee=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},se),me=ee.canStart,Ue=ee.onWillStart,X=ee.onStart,_e=ee.onEnd,J=ee.notCaptured,Ae=ee.onMove,V=ee.threshold,j=ee.passive,N=ee.blurOnStart,oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Q=((se,ce,we)=>{const Ee=we*(Math.PI/180),fe="x"===se,ee=Math.cos(Ee),me=ce*ce;let Ue=0,X=0,_e=!1,J=0;return{start(Ae,V){Ue=Ae,X=V,J=0,_e=!0},detect(Ae,V){if(!_e)return!1;const j=Ae-Ue,N=V-X,oe=j*j+N*N;if(oe<me)return!1;const Q=Math.sqrt(oe),U=(fe?j:N)/Q;return J=U>ee?1:U<-ee?-1:0,_e=!1,!0},isGesture:()=>0!==J,getDirection:()=>J}})(ee.direction,ee.threshold,ee.maxAngle),U=s.G.createGesture({name:se.gestureName,priority:se.gesturePriority,disableScroll:se.disableScroll}),ot=()=>{ce&&(fe=!1,Ae&&Ae(oe))},xt=()=>!!U.capture()&&(ce=!0,Ee=!1,oe.startX=oe.currentX,oe.startY=oe.currentY,oe.startTime=oe.currentTime,Ue?Ue(oe).then(K):K(),!0),K=()=>{N&&(()=>{if(typeof document<"u"){const be=document.activeElement;be?.blur&&be.blur()}})(),X&&X(oe),Ee=!0},H=()=>{ce=!1,we=!1,fe=!1,Ee=!0,U.release()},W=be=>{const rt=ce,et=Ee;if(H(),et){if(B(oe,be),rt)return void(_e&&_e(oe));J&&J(oe)}},ve=((se,ce,we,Ee,fe)=>{let ee,me,Ue,X,_e,J,Ae,V=0;const j=Ge=>{V=Date.now()+2e3,ce(Ge)&&(!me&&we&&(me=Y(se,"touchmove",we,fe)),Ue||(Ue=Y(Ge.target,"touchend",oe,fe)),X||(X=Y(Ge.target,"touchcancel",oe,fe)))},N=Ge=>{V>Date.now()||ce(Ge)&&(!J&&we&&(J=Y(q(se),"mousemove",we,fe)),Ae||(Ae=Y(q(se),"mouseup",Q,fe)))},oe=Ge=>{U(),Ee&&Ee(Ge)},Q=Ge=>{le(),Ee&&Ee(Ge)},U=()=>{me&&me(),Ue&&Ue(),X&&X(),me=Ue=X=void 0},le=()=>{J&&J(),Ae&&Ae(),J=Ae=void 0},Qe=()=>{U(),le()},ot=(Ge=!0)=>{Ge?(ee||(ee=Y(se,"touchstart",j,fe)),_e||(_e=Y(se,"mousedown",N,fe))):(ee&&ee(),_e&&_e(),ee=_e=void 0,Qe())};return{enable:ot,stop:Qe,destroy:()=>{ot(!1),Ee=we=ce=void 0}}})(ee.el,be=>{const rt=te(be);return!(we||!Ee||(F(be,oe),oe.startX=oe.currentX,oe.startY=oe.currentY,oe.startTime=oe.currentTime=rt,oe.velocityX=oe.velocityY=oe.deltaX=oe.deltaY=0,oe.event=be,me&&!1===me(oe))||(U.release(),!U.start()))&&(we=!0,0===V?xt():(Q.start(oe.startX,oe.startY),!0))},be=>{ce?!fe&&Ee&&(fe=!0,B(oe,be),requestAnimationFrame(ot)):(B(oe,be),Q.detect(oe.currentX,oe.currentY)&&(!Q.isGesture()||!xt())&&ke())},W,{capture:!1,passive:j}),ke=()=>{H(),ve.stop(),J&&J(oe)};return{enable(be=!0){be||(ce&&W(void 0),H()),ve.enable(be)},destroy(){U.destroy(),ve.destroy()}}},B=(se,ce)=>{if(!ce)return;const we=se.currentX,Ee=se.currentY,fe=se.currentTime;F(ce,se);const ee=se.currentX,me=se.currentY,X=(se.currentTime=te(ce))-fe;if(X>0&&X<100){const J=(me-Ee)/X;se.velocityX=(ee-we)/X*.7+.3*se.velocityX,se.velocityY=.7*J+.3*se.velocityY}se.deltaX=ee-se.startX,se.deltaY=me-se.startY,se.event=ce},F=(se,ce)=>{let we=0,Ee=0;if(se){const fe=se.changedTouches;if(fe&&fe.length>0){const ee=fe[0];we=ee.clientX,Ee=ee.clientY}else void 0!==se.pageX&&(we=se.pageX,Ee=se.pageY)}ce.currentX=we,ce.currentY=Ee},te=se=>se.timeStamp||Date.now()},5384:(At,je,k)=>{"use strict";k.d(je,{m:()=>se});var s=k(467),Y=k(8476),L=k(3113),ue=k(4929),Ie=k(5638),ye=k(611),q=k(3503);const Se=ce=>(0,q.c)().duration(ce?400:300),Me=ce=>{let we,Ee;const fe=ce.width+8,ee=(0,q.c)(),me=(0,q.c)();ce.isEndSide?(we=fe+"px",Ee="0px"):(we=-fe+"px",Ee="0px"),ee.addElement(ce.menuInnerEl).fromTo("transform",`translateX(${we})`,`translateX(${Ee})`);const X="ios"===(0,ye.b)(ce),_e=X?.2:.25;return me.addElement(ce.backdropEl).fromTo("opacity",.01,_e),Se(X).addAnimation([ee,me])},B=ce=>{let we,Ee;const fe=(0,ye.b)(ce),ee=ce.width;ce.isEndSide?(we=-ee+"px",Ee=ee+"px"):(we=ee+"px",Ee=-ee+"px");const me=(0,q.c)().addElement(ce.menuInnerEl).fromTo("transform",`translateX(${Ee})`,"translateX(0px)"),Ue=(0,q.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${we})`),X=(0,q.c)().addElement(ce.backdropEl).fromTo("opacity",.01,.32);return Se("ios"===fe).addAnimation([me,Ue,X])},F=ce=>{const we=(0,ye.b)(ce),Ee=ce.width*(ce.isEndSide?-1:1)+"px",fe=(0,q.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ee})`);return Se("ios"===we).addAnimation(fe)},se=(()=>{const ce=new Map,we=[],Ee=function(){var H=(0,s.A)(function*(W){const ve=yield J(W,!0);return!!ve&&ve.open()});return function(ve){return H.apply(this,arguments)}}(),fe=function(){var H=(0,s.A)(function*(W){const ve=yield void 0!==W?J(W,!0):Ae();return void 0!==ve&&ve.close()});return function(ve){return H.apply(this,arguments)}}(),ee=function(){var H=(0,s.A)(function*(W){const ve=yield J(W,!0);return!!ve&&ve.toggle()});return function(ve){return H.apply(this,arguments)}}(),me=function(){var H=(0,s.A)(function*(W,ve){const ke=yield J(ve);return ke&&(ke.disabled=!W),ke});return function(ve,ke){return H.apply(this,arguments)}}(),Ue=function(){var H=(0,s.A)(function*(W,ve){const ke=yield J(ve);return ke&&(ke.swipeGesture=W),ke});return function(ve,ke){return H.apply(this,arguments)}}(),X=function(){var H=(0,s.A)(function*(W){if(null!=W){const ve=yield J(W);return void 0!==ve&&ve.isOpen()}return void 0!==(yield Ae())});return function(ve){return H.apply(this,arguments)}}(),_e=function(){var H=(0,s.A)(function*(W){const ve=yield J(W);return!!ve&&!ve.disabled});return function(ve){return H.apply(this,arguments)}}(),J=function(){var H=(0,s.A)(function*(W,ve=!1){if(yield K(),"start"===W||"end"===W){const be=we.filter(et=>et.side===W&&!et.disabled);if(be.length>=1)return be.length>1&&ve&&(0,ue.p)(`menuController queried for a menu on the "${W}" side, but ${be.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,be.map(et=>et.el)),be[0].el;const rt=we.filter(et=>et.side===W);if(rt.length>=1)return rt.length>1&&ve&&(0,ue.p)(`menuController queried for a menu on the "${W}" side, but ${rt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,rt.map(et=>et.el)),rt[0].el}else if(null!=W)return Ge(be=>be.menuId===W);return Ge(be=>!be.disabled)||(we.length>0?we[0].el:void 0)});return function(ve){return H.apply(this,arguments)}}(),Ae=function(){var H=(0,s.A)(function*(){return yield K(),Qe()});return function(){return H.apply(this,arguments)}}(),V=function(){var H=(0,s.A)(function*(){return yield K(),ot()});return function(){return H.apply(this,arguments)}}(),j=function(){var H=(0,s.A)(function*(){return yield K(),xt()});return function(){return H.apply(this,arguments)}}(),N=(H,W)=>{ce.set(H,W)},U=function(){var H=(0,s.A)(function*(W,ve,ke){if(xt())return!1;if(ve){const be=yield Ae();be&&W.el!==be&&(yield be.setOpen(!1,!1))}return W._setOpen(ve,ke)});return function(ve,ke,be){return H.apply(this,arguments)}}(),Qe=()=>Ge(H=>H._isOpen),ot=()=>we.map(H=>H.el),xt=()=>we.some(H=>H.isAnimating),Ge=H=>{const W=we.find(H);if(void 0!==W)return W.el},K=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(H=>new Promise(W=>(0,Ie.c)(H,W))));return N("reveal",F),N("push",B),N("overlay",Me),null==Y.d||Y.d.addEventListener("ionBackButton",H=>{const W=Qe();W&&H.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>W.close())}),{registerAnimation:N,get:J,getMenus:V,getOpen:Ae,isEnabled:_e,swipeGesture:Ue,isAnimating:j,isOpen:X,enable:me,toggle:ee,close:fe,open:Ee,_getOpenSync:Qe,_createAnimation:(H,W)=>{const ve=ce.get(H);if(!ve)throw new Error("animation not registered");return ve(W)},_register:H=>{we.indexOf(H)<0&&we.push(H)},_unregister:H=>{const W=we.indexOf(H);W>-1&&we.splice(W,1)},_setOpen:U}})()},4929:(At,je,k)=>{"use strict";k.d(je,{a:()=>Y,b:()=>L,p:()=>s});const s=(ue,...Ie)=>console.warn(`[Ionic Warning]: ${ue}`,...Ie),Y=(ue,...Ie)=>console.error(`[Ionic Error]: ${ue}`,...Ie),L=(ue,...Ie)=>console.error(`<${ue.tagName.toLowerCase()}> must be used inside ${Ie.join(" or ")}.`)},4363:(At,je,k)=>{"use strict";k.d(je,{B:()=>te,H:()=>xt,a:()=>Br,b:()=>In,c:()=>et,d:()=>on,e:()=>$,f:()=>rn,g:()=>ft,h:()=>Qe,i:()=>xe,j:()=>se,r:()=>wi,w:()=>$e});var s=k(467);let ue,Ie,ye,q=!1,Se=!1,Me=!1,B=!1,F=!1;const te={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},se=A=>{const P=new URL(A,_n.$resourcesUrl$);return P.origin!==Di.location.origin?P.href:P.pathname},Ue="s-id",X="sty-id",Ae="slot-fb{display:contents}slot-fb[hidden]{display:none}",V="http://www.w3.org/1999/xlink",j={},U=A=>"object"==(A=typeof A)||"function"===A;function le(A){var P,Z,he;return null!==(he=null===(Z=null===(P=A.head)||void 0===P?void 0:P.querySelector('meta[name="csp-nonce"]'))||void 0===Z?void 0:Z.getAttribute("content"))&&void 0!==he?he:void 0}const Qe=(A,P,...Z)=>{let he=null,He=null,Le=null,ut=!1,ct=!1;const yt=[],gt=Gt=>{for(let tn=0;tn<Gt.length;tn++)he=Gt[tn],Array.isArray(he)?gt(he):null!=he&&"boolean"!=typeof he&&((ut="function"!=typeof A&&!U(he))&&(he=String(he)),ut&&ct?yt[yt.length-1].$text$+=he:yt.push(ut?ot(null,he):he),ct=ut)};if(gt(Z),P){P.key&&(He=P.key),P.name&&(Le=P.name);{const Gt=P.className||P.class;Gt&&(P.class="object"!=typeof Gt?Gt:Object.keys(Gt).filter(tn=>Gt[tn]).join(" "))}}if("function"==typeof A)return A(null===P?{}:P,yt,K);const Ct=ot(A,null);return Ct.$attrs$=P,yt.length>0&&(Ct.$children$=yt),Ct.$key$=He,Ct.$name$=Le,Ct},ot=(A,P)=>({$flags$:0,$tag$:A,$text$:P,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),xt={},K={forEach:(A,P)=>A.map(H).forEach(P),map:(A,P)=>A.map(H).map(P).map(W)},H=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),W=A=>{if("function"==typeof A.vtag){const Z=Object.assign({},A.vattrs);return A.vkey&&(Z.key=A.vkey),A.vname&&(Z.name=A.vname),Qe(A.vtag,Z,...A.vchildren||[])}const P=ot(A.vtag,A.vtext);return P.$attrs$=A.vattrs,P.$children$=A.vchildren,P.$key$=A.vkey,P.$name$=A.vname,P},ke=(A,P,Z,he,He,Le,ut)=>{let ct,yt,gt,Ct;if(1===Le.nodeType){for(ct=Le.getAttribute("c-id"),ct&&(yt=ct.split("."),(yt[0]===ut||"0"===yt[0])&&(gt={$flags$:0,$hostId$:yt[0],$nodeId$:yt[1],$depth$:yt[2],$index$:yt[3],$tag$:Le.tagName.toLowerCase(),$elm$:Le,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},P.push(gt),Le.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[gt.$index$]=gt,A=gt,he&&"0"===gt.$depth$&&(he[gt.$index$]=gt.$elm$))),Ct=Le.childNodes.length-1;Ct>=0;Ct--)ke(A,P,Z,he,He,Le.childNodes[Ct],ut);if(Le.shadowRoot)for(Ct=Le.shadowRoot.childNodes.length-1;Ct>=0;Ct--)ke(A,P,Z,he,He,Le.shadowRoot.childNodes[Ct],ut)}else if(8===Le.nodeType)yt=Le.nodeValue.split("."),(yt[1]===ut||"0"===yt[1])&&(ct=yt[0],gt={$flags$:0,$hostId$:yt[1],$nodeId$:yt[2],$depth$:yt[3],$index$:yt[4],$elm$:Le,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ct?(gt.$elm$=Le.nextSibling,gt.$elm$&&3===gt.$elm$.nodeType&&(gt.$text$=gt.$elm$.textContent,P.push(gt),Le.remove(),A.$children$||(A.$children$=[]),A.$children$[gt.$index$]=gt,he&&"0"===gt.$depth$&&(he[gt.$index$]=gt.$elm$))):gt.$hostId$===ut&&("s"===ct?(gt.$tag$="slot",Le["s-sn"]=yt[5]?gt.$name$=yt[5]:"",Le["s-sr"]=!0,he&&(gt.$elm$=li.createElement(gt.$tag$),gt.$name$&&gt.$elm$.setAttribute("name",gt.$name$),Le.parentNode.insertBefore(gt.$elm$,Le),Le.remove(),"0"===gt.$depth$&&(he[gt.$index$]=gt.$elm$)),Z.push(gt),A.$children$||(A.$children$=[]),A.$children$[gt.$index$]=gt):"r"===ct&&(he?Le.remove():(He["s-cr"]=Le,Le["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const Gt=ot(null,Le.textContent);Gt.$elm$=Le,Gt.$index$="0",A.$children$=[Gt]}},be=(A,P)=>{if(1===A.nodeType){let Z=0;for(;Z<A.childNodes.length;Z++)be(A.childNodes[Z],P);if(A.shadowRoot)for(Z=0;Z<A.shadowRoot.childNodes.length;Z++)be(A.shadowRoot.childNodes[Z],P)}else if(8===A.nodeType){const Z=A.nodeValue.split(".");"o"===Z[0]&&(P.set(Z[1]+"."+Z[2],A),A.nodeValue="",A["s-en"]=Z[3])}},et=A=>Wo.push(A),ft=A=>yn(A).$modeName$,rn=A=>yn(A).$hostElement$,on=(A,P,Z)=>{const he=rn(A);return{emit:He=>$n(he,P,{bubbles:!!(4&Z),composed:!!(2&Z),cancelable:!!(1&Z),detail:He})}},$n=(A,P,Z)=>{const he=_n.ce(P,Z);return A.dispatchEvent(he),he},sn=new WeakMap,ln=(A,P,Z)=>{let he=So.get(A);Zr&&Z?(he=he||new CSSStyleSheet,"string"==typeof he?he=P:he.replaceSync(P)):he=P,So.set(A,he)},Xe=(A,P,Z)=>{var he;const He=Fe(P,Z),Le=So.get(He);if(A=11===A.nodeType?A:li,Le)if("string"==typeof Le){let ct,ut=sn.get(A=A.head||A);if(ut||sn.set(A,ut=new Set),!ut.has(He)){if(A.host&&(ct=A.querySelector(`[${X}="${He}"]`)))ct.innerHTML=Le;else{ct=li.createElement("style"),ct.innerHTML=Le;const yt=null!==(he=_n.$nonce$)&&void 0!==he?he:le(li);null!=yt&&ct.setAttribute("nonce",yt),A.insertBefore(ct,A.querySelector("link"))}4&P.$flags$&&(ct.innerHTML+=Ae),ut&&ut.add(He)}}else A.adoptedStyleSheets.includes(Le)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,Le]);return He},Fe=(A,P)=>"sc-"+(P&&32&A.$flags$?A.$tagName$+"-"+P:A.$tagName$),Et=A=>A.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),en=(A,P,Z,he,He,Le)=>{if(Z!==he){let ut=bi(A,P),ct=P.toLowerCase();if("class"===P){const yt=A.classList,gt=fn(Z),Ct=fn(he);yt.remove(...gt.filter(Gt=>Gt&&!Ct.includes(Gt))),yt.add(...Ct.filter(Gt=>Gt&&!gt.includes(Gt)))}else if("style"===P){for(const yt in Z)(!he||null==he[yt])&&(yt.includes("-")?A.style.removeProperty(yt):A.style[yt]="");for(const yt in he)(!Z||he[yt]!==Z[yt])&&(yt.includes("-")?A.style.setProperty(yt,he[yt]):A.style[yt]=he[yt])}else if("key"!==P)if("ref"===P)he&&he(A);else if(ut||"o"!==P[0]||"n"!==P[1]){const yt=U(he);if((ut||yt&&null!==he)&&!He)try{if(A.tagName.includes("-"))A[P]=he;else{const Ct=he??"";"list"===P?ut=!1:(null==Z||A[P]!=Ct)&&(A[P]=Ct)}}catch{}let gt=!1;ct!==(ct=ct.replace(/^xlink\:?/,""))&&(P=ct,gt=!0),null==he||!1===he?(!1!==he||""===A.getAttribute(P))&&(gt?A.removeAttributeNS(V,P):A.removeAttribute(P)):(!ut||4&Le||He)&&!yt&&(he=!0===he?"":he,gt?A.setAttributeNS(V,P,he):A.setAttribute(P,he))}else if(P="-"===P[2]?P.slice(3):bi(Di,ct)?ct.slice(2):ct[2]+P.slice(3),Z||he){const yt=P.endsWith(zn);P=P.replace(wt,""),Z&&_n.rel(A,P,Z,yt),he&&_n.ael(A,P,he,yt)}}},vn=/\s/,fn=A=>A?A.split(vn):[],zn="Capture",wt=new RegExp(zn+"$"),Ut=(A,P,Z,he)=>{const He=11===P.$elm$.nodeType&&P.$elm$.host?P.$elm$.host:P.$elm$,Le=A&&A.$attrs$||j,ut=P.$attrs$||j;for(he of $t(Object.keys(Le)))he in ut||en(He,he,Le[he],void 0,Z,P.$flags$);for(he of $t(Object.keys(ut)))en(He,he,Le[he],ut[he],Z,P.$flags$)};function $t(A){return A.includes("ref")?[...A.filter(P=>"ref"!==P),"ref"]:A}const Fn=(A,P,Z,he)=>{var He;const Le=P.$children$[Z];let ct,yt,gt,ut=0;if(q||(Me=!0,"slot"===Le.$tag$&&(ue&&he.classList.add(ue+"-s"),Le.$flags$|=Le.$children$?2:1)),null!==Le.$text$)ct=Le.$elm$=li.createTextNode(Le.$text$);else if(1&Le.$flags$)ct=Le.$elm$=li.createTextNode("");else{if(B||(B="svg"===Le.$tag$),ct=Le.$elm$=li.createElementNS(B?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Le.$flags$?"slot-fb":Le.$tag$),B&&"foreignObject"===Le.$tag$&&(B=!1),Ut(null,Le,B),(A=>null!=A)(ue)&&ct["s-si"]!==ue&&ct.classList.add(ct["s-si"]=ue),Le.$children$)for(ut=0;ut<Le.$children$.length;++ut)yt=Fn(A,Le,ut,ct),yt&&ct.appendChild(yt);"svg"===Le.$tag$?B=!1:"foreignObject"===ct.tagName&&(B=!0)}return ct["s-hn"]=ye,3&Le.$flags$&&(ct["s-sr"]=!0,ct["s-cr"]=Ie,ct["s-sn"]=Le.$name$||"",ct["s-rf"]=null===(He=Le.$attrs$)||void 0===He?void 0:He.ref,gt=A&&A.$children$&&A.$children$[Z],gt&&gt.$tag$===Le.$tag$&&A.$elm$&&kn(A.$elm$,!1)),ct},kn=(A,P)=>{_n.$flags$|=1;const Z=Array.from(A.childNodes);for(let he=Z.length-1;he>=0;he--){const He=Z[he];He["s-hn"]!==ye&&He["s-ol"]&&(qn(He).insertBefore(He,Tt(He)),He["s-ol"].remove(),He["s-ol"]=void 0,He["s-sh"]=void 0,Me=!0),P&&kn(He,P)}_n.$flags$&=-2},Jn=(A,P,Z,he,He,Le)=>{let ct,ut=A["s-cr"]&&A["s-cr"].parentNode||A;for(ut.shadowRoot&&ut.tagName===ye&&(ut=ut.shadowRoot);He<=Le;++He)he[He]&&(ct=Fn(null,Z,He,A),ct&&(he[He].$elm$=ct,ut.insertBefore(ct,Tt(P))))},gn=(A,P,Z)=>{for(let he=P;he<=Z;++he){const He=A[he];if(He){const Le=He.$elm$;mo(He),Le&&(Se=!0,Le["s-ol"]?Le["s-ol"].remove():kn(Le,!0),Le.remove())}}},oi=(A,P,Z=!1)=>A.$tag$===P.$tag$&&("slot"===A.$tag$?A.$name$===P.$name$:!!Z||A.$key$===P.$key$),Tt=A=>A&&A["s-ol"]||A,qn=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,an=(A,P,Z=!1)=>{const he=P.$elm$=A.$elm$,He=A.$children$,Le=P.$children$,ut=P.$tag$,ct=P.$text$;let yt;null===ct?(B="svg"===ut||"foreignObject"!==ut&&B,"slot"===ut&&!q||Ut(A,P,B),null!==He&&null!==Le?((A,P,Z,he,He=!1)=>{let Tn,gi,Le=0,ut=0,ct=0,yt=0,gt=P.length-1,Ct=P[0],Gt=P[gt],tn=he.length-1,Vt=he[0],Ln=he[tn];for(;Le<=gt&&ut<=tn;)if(null==Ct)Ct=P[++Le];else if(null==Gt)Gt=P[--gt];else if(null==Vt)Vt=he[++ut];else if(null==Ln)Ln=he[--tn];else if(oi(Ct,Vt,He))an(Ct,Vt,He),Ct=P[++Le],Vt=he[++ut];else if(oi(Gt,Ln,He))an(Gt,Ln,He),Gt=P[--gt],Ln=he[--tn];else if(oi(Ct,Ln,He))("slot"===Ct.$tag$||"slot"===Ln.$tag$)&&kn(Ct.$elm$.parentNode,!1),an(Ct,Ln,He),A.insertBefore(Ct.$elm$,Gt.$elm$.nextSibling),Ct=P[++Le],Ln=he[--tn];else if(oi(Gt,Vt,He))("slot"===Ct.$tag$||"slot"===Ln.$tag$)&&kn(Gt.$elm$.parentNode,!1),an(Gt,Vt,He),A.insertBefore(Gt.$elm$,Ct.$elm$),Gt=P[--gt],Vt=he[++ut];else{for(ct=-1,yt=Le;yt<=gt;++yt)if(P[yt]&&null!==P[yt].$key$&&P[yt].$key$===Vt.$key$){ct=yt;break}ct>=0?(gi=P[ct],gi.$tag$!==Vt.$tag$?Tn=Fn(P&&P[ut],Z,ct,A):(an(gi,Vt,He),P[ct]=void 0,Tn=gi.$elm$),Vt=he[++ut]):(Tn=Fn(P&&P[ut],Z,ut,A),Vt=he[++ut]),Tn&&qn(Ct.$elm$).insertBefore(Tn,Tt(Ct.$elm$))}Le>gt?Jn(A,null==he[tn+1]?null:he[tn+1].$elm$,Z,he,ut,tn):ut>tn&&gn(P,Le,gt)})(he,He,P,Le,Z):null!==Le?(null!==A.$text$&&(he.textContent=""),Jn(he,null,P,Le,0,Le.length-1)):null!==He&&gn(He,0,He.length-1),B&&"svg"===ut&&(B=!1)):(yt=he["s-cr"])?yt.parentNode.textContent=ct:A.$text$!==ct&&(he.data=ct)},Vn=A=>{const P=A.childNodes;for(const Z of P)if(1===Z.nodeType){if(Z["s-sr"]){const he=Z["s-sn"];Z.hidden=!1;for(const He of P)if(He!==Z)if(He["s-hn"]!==Z["s-hn"]||""!==he){if(1===He.nodeType&&(he===He.getAttribute("slot")||he===He["s-sn"])){Z.hidden=!0;break}}else if(1===He.nodeType||3===He.nodeType&&""!==He.textContent.trim()){Z.hidden=!0;break}}Vn(Z)}},Yn=[],po=A=>{let P,Z,he;for(const He of A.childNodes){if(He["s-sr"]&&(P=He["s-cr"])&&P.parentNode){Z=P.parentNode.childNodes;const Le=He["s-sn"];for(he=Z.length-1;he>=0;he--)if(P=Z[he],!P["s-cn"]&&!P["s-nr"]&&P["s-hn"]!==He["s-hn"])if(Ni(P,Le)){let ut=Yn.find(ct=>ct.$nodeToRelocate$===P);Se=!0,P["s-sn"]=P["s-sn"]||Le,ut?(ut.$nodeToRelocate$["s-sh"]=He["s-hn"],ut.$slotRefNode$=He):(P["s-sh"]=He["s-hn"],Yn.push({$slotRefNode$:He,$nodeToRelocate$:P})),P["s-sr"]&&Yn.map(ct=>{Ni(ct.$nodeToRelocate$,P["s-sn"])&&(ut=Yn.find(yt=>yt.$nodeToRelocate$===P),ut&&!ct.$slotRefNode$&&(ct.$slotRefNode$=ut.$slotRefNode$))})}else Yn.some(ut=>ut.$nodeToRelocate$===P)||Yn.push({$nodeToRelocate$:P})}1===He.nodeType&&po(He)}},Ni=(A,P)=>1===A.nodeType?null===A.getAttribute("slot")&&""===P||A.getAttribute("slot")===P:A["s-sn"]===P||""===P,mo=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(mo)},ri=(A,P)=>{P&&!A.$onRenderResolve$&&P["s-p"]&&P["s-p"].push(new Promise(Z=>A.$onRenderResolve$=Z))},Zn=(A,P)=>{if(A.$flags$|=16,!(4&A.$flags$))return ri(A,A.$ancestorComponent$),$e(()=>Co(A,P));A.$flags$|=512},Co=(A,P)=>{const he=A.$lazyInstance$;let He;return P&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([Le,ut])=>Oe(he,Le,ut)),A.$queuedListeners$=void 0),He=Oe(he,"componentWillLoad")),He=Qn(He,()=>Oe(he,"componentWillRender")),Qn(He,()=>Hi(A,he,P))},Qn=(A,P)=>ao(A)?A.then(P):P(),ao=A=>A instanceof Promise||A&&A.then&&"function"==typeof A.then,Hi=function(){var A=(0,s.A)(function*(P,Z,he){var He;const Le=P.$hostElement$,ct=Le["s-rc"];he&&(A=>{const P=A.$cmpMeta$,Z=A.$hostElement$,he=P.$flags$,Le=Xe(Z.shadowRoot?Z.shadowRoot:Z.getRootNode(),P,A.$modeName$);10&he&&(Z["s-sc"]=Le,Z.classList.add(Le+"-h"),2&he&&Z.classList.add(Le+"-s"))})(P);de(P,Z,Le,he),ct&&(ct.map(gt=>gt()),Le["s-rc"]=void 0);{const gt=null!==(He=Le["s-p"])&&void 0!==He?He:[],Ct=()=>ne(P);0===gt.length?Ct():(Promise.all(gt).then(Ct),P.$flags$|=4,gt.length=0)}});return function(Z,he,He){return A.apply(this,arguments)}}(),de=(A,P,Z,he)=>{try{P=P.render&&P.render(),A.$flags$&=-17,A.$flags$|=2,((A,P,Z=!1)=>{var he,He,Le,ut;const ct=A.$hostElement$,yt=A.$cmpMeta$,gt=A.$vnode$||ot(null,null),Ct=(A=>A&&A.$tag$===xt)(P)?P:Qe(null,null,P);if(ye=ct.tagName,yt.$attrsToReflect$&&(Ct.$attrs$=Ct.$attrs$||{},yt.$attrsToReflect$.map(([Gt,tn])=>Ct.$attrs$[tn]=ct[Gt])),Z&&Ct.$attrs$)for(const Gt of Object.keys(Ct.$attrs$))ct.hasAttribute(Gt)&&!["key","ref","style","class"].includes(Gt)&&(Ct.$attrs$[Gt]=ct[Gt]);if(Ct.$tag$=null,Ct.$flags$|=4,A.$vnode$=Ct,Ct.$elm$=gt.$elm$=ct.shadowRoot||ct,ue=ct["s-sc"],q=0!=(1&yt.$flags$),Ie=ct["s-cr"],Se=!1,an(gt,Ct,Z),_n.$flags$|=1,Me){po(Ct.$elm$);for(const Gt of Yn){const tn=Gt.$nodeToRelocate$;if(!tn["s-ol"]){const Vt=li.createTextNode("");Vt["s-nr"]=tn,tn.parentNode.insertBefore(tn["s-ol"]=Vt,tn)}}for(const Gt of Yn){const tn=Gt.$nodeToRelocate$,Vt=Gt.$slotRefNode$;if(Vt){const Ln=Vt.parentNode;let Tn=Vt.nextSibling;{let gi=null===(he=tn["s-ol"])||void 0===he?void 0:he.previousSibling;for(;gi;){let On=null!==(He=gi["s-nr"])&&void 0!==He?He:null;if(On&&On["s-sn"]===tn["s-sn"]&&Ln===On.parentNode){for(On=On.nextSibling;On===tn||On?.["s-sr"];)On=On?.nextSibling;if(!On||!On["s-nr"]){Tn=On;break}}gi=gi.previousSibling}}(!Tn&&Ln!==tn.parentNode||tn.nextSibling!==Tn)&&tn!==Tn&&(!tn["s-hn"]&&tn["s-ol"]&&(tn["s-hn"]=tn["s-ol"].parentNode.nodeName),Ln.insertBefore(tn,Tn),1===tn.nodeType&&(tn.hidden=null!==(Le=tn["s-ih"])&&void 0!==Le&&Le)),tn&&"function"==typeof Vt["s-rf"]&&Vt["s-rf"](tn)}else 1===tn.nodeType&&(Z&&(tn["s-ih"]=null!==(ut=tn.hidden)&&void 0!==ut&&ut),tn.hidden=!0)}}Se&&Vn(Ct.$elm$),_n.$flags$&=-2,Yn.length=0,Ie=void 0})(A,P,he)}catch(He){si(He,A.$hostElement$)}return null},ne=A=>{const Z=A.$hostElement$,He=A.$lazyInstance$,Le=A.$ancestorComponent$;Oe(He,"componentDidRender"),64&A.$flags$?Oe(He,"componentDidUpdate"):(A.$flags$|=64,kt(Z),Oe(He,"componentDidLoad"),A.$onReadyResolve$(Z),Le||tt()),A.$onInstanceResolve$(Z),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&Te(()=>Zn(A,!1)),A.$flags$&=-517},xe=A=>{{const P=yn(A),Z=P.$hostElement$.isConnected;return Z&&2==(18&P.$flags$)&&Zn(P,!1),Z}},tt=A=>{kt(li.documentElement),Te(()=>$n(Di,"appload",{detail:{namespace:"ionic"}}))},Oe=(A,P,Z)=>{if(A&&A[P])try{return A[P](Z)}catch(he){si(he)}},kt=A=>A.classList.add("hydrated"),Ye=(A,P,Z)=>{var he;const He=A.prototype;if(P.$members$){A.watchers&&(P.$watchers$=A.watchers);const Le=Object.entries(P.$members$);if(Le.map(([ut,[ct]])=>{31&ct||2&Z&&32&ct?Object.defineProperty(He,ut,{get(){return((A,P)=>yn(this).$instanceValues$.get(P))(0,ut)},set(yt){((A,P,Z,he)=>{const He=yn(A),Le=He.$hostElement$,ut=He.$instanceValues$.get(P),ct=He.$flags$,yt=He.$lazyInstance$;Z=((A,P)=>null==A||U(A)?A:4&P?"false"!==A&&(""===A||!!A):2&P?parseFloat(A):1&P?String(A):A)(Z,he.$members$[P][0]);const gt=Number.isNaN(ut)&&Number.isNaN(Z);if((!(8&ct)||void 0===ut)&&Z!==ut&&!gt&&(He.$instanceValues$.set(P,Z),yt)){if(he.$watchers$&&128&ct){const Gt=he.$watchers$[P];Gt&&Gt.map(tn=>{try{yt[tn](Z,ut,P)}catch(Vt){si(Vt,Le)}})}2==(18&ct)&&Zn(He,!1)}})(this,ut,yt,P)},configurable:!0,enumerable:!0}):1&Z&&64&ct&&Object.defineProperty(He,ut,{value(...yt){var gt;const Ct=yn(this);return null===(gt=Ct?.$onInstancePromise$)||void 0===gt?void 0:gt.then(()=>{var Gt;return null===(Gt=Ct.$lazyInstance$)||void 0===Gt?void 0:Gt[ut](...yt)})}})}),1&Z){const ut=new Map;He.attributeChangedCallback=function(ct,yt,gt){_n.jmp(()=>{var Ct;const Gt=ut.get(ct);if(this.hasOwnProperty(Gt))gt=this[Gt],delete this[Gt];else{if(He.hasOwnProperty(Gt)&&"number"==typeof this[Gt]&&this[Gt]==gt)return;if(null==Gt){const tn=yn(this),Vt=tn?.$flags$;if(Vt&&!(8&Vt)&&128&Vt&&gt!==yt){const Ln=tn.$lazyInstance$,Tn=null===(Ct=P.$watchers$)||void 0===Ct?void 0:Ct[ct];Tn?.forEach(gi=>{null!=Ln[gi]&&Ln[gi].call(Ln,gt,yt,ct)})}return}}this[Gt]=(null!==gt||"boolean"!=typeof this[Gt])&&gt})},A.observedAttributes=Array.from(new Set([...Object.keys(null!==(he=P.$watchers$)&&void 0!==he?he:{}),...Le.filter(([ct,yt])=>15&yt[0]).map(([ct,yt])=>{var gt;const Ct=yt[1]||ct;return ut.set(Ct,ct),512&yt[0]&&(null===(gt=P.$attrsToReflect$)||void 0===gt||gt.push([ct,Ct])),Ct})]))}}return A},st=function(){var A=(0,s.A)(function*(P,Z,he,He){let Le;if(!(32&Z.$flags$)){if(Z.$flags$|=32,he.$lazyBundleId$){if(Le=zi(he),Le.then){const Ct=()=>{};Le=yield Le,Ct()}Le.isProxied||(he.$watchers$=Le.watchers,Ye(Le,he,2),Le.isProxied=!0);const gt=()=>{};Z.$flags$|=8;try{new Le(Z)}catch(Ct){si(Ct)}Z.$flags$&=-9,Z.$flags$|=128,gt(),it(Z.$lazyInstance$)}else Le=P.constructor,customElements.whenDefined(he.$tagName$).then(()=>Z.$flags$|=128);if(Le.style){let gt=Le.style;"string"!=typeof gt&&(gt=gt[Z.$modeName$=(A=>Wo.map(P=>P(A)).find(P=>!!P))(P)]);const Ct=Fe(he,Z.$modeName$);if(!So.has(Ct)){const Gt=()=>{};ln(Ct,gt,!!(1&he.$flags$)),Gt()}}}const ut=Z.$ancestorComponent$,ct=()=>Zn(Z,!0);ut&&ut["s-rc"]?ut["s-rc"].push(ct):ct()});return function(Z,he,He,Le){return A.apply(this,arguments)}}(),it=A=>{Oe(A,"connectedCallback")},qt=A=>{const P=A["s-cr"]=li.createComment("");P["s-cn"]=!0,A.insertBefore(P,A.firstChild)},dn=A=>{Oe(A,"disconnectedCallback")},Sn=function(){var A=(0,s.A)(function*(P){if(!(1&_n.$flags$)){const Z=yn(P);Z.$rmListeners$&&(Z.$rmListeners$.map(he=>he()),Z.$rmListeners$=void 0),Z?.$lazyInstance$?dn(Z.$lazyInstance$):Z?.$onReadyPromise$&&Z.$onReadyPromise$.then(()=>dn(Z.$lazyInstance$))}});return function(Z){return A.apply(this,arguments)}}(),In=(A,P={})=>{var Z;const He=[],Le=P.exclude||[],ut=Di.customElements,ct=li.head,yt=ct.querySelector("meta[charset]"),gt=li.createElement("style"),Ct=[],Gt=li.querySelectorAll(`[${X}]`);let tn,Vt=!0,Ln=0;for(Object.assign(_n,P),_n.$resourcesUrl$=new URL(P.resourcesUrl||"./",li.baseURI).href,_n.$flags$|=2;Ln<Gt.length;Ln++)ln(Gt[Ln].getAttribute(X),Et(Gt[Ln].innerHTML),!0);let Tn=!1;if(A.map(gi=>{gi[1].map(On=>{var zs;const co={$flags$:On[0],$tagName$:On[1],$members$:On[2],$listeners$:On[3]};4&co.$flags$&&(Tn=!0),co.$members$=On[2],co.$listeners$=On[3],co.$attrsToReflect$=[],co.$watchers$=null!==(zs=On[4])&&void 0!==zs?zs:{};const Xo=co.$tagName$,Yo=class extends HTMLElement{constructor(ts){super(ts),ei(ts=this,co),1&co.$flags$&&ts.attachShadow({mode:"open",delegatesFocus:!!(16&co.$flags$)})}connectedCallback(){tn&&(clearTimeout(tn),tn=null),Vt?Ct.push(this):_n.jmp(()=>(A=>{if(!(1&_n.$flags$)){const P=yn(A),Z=P.$cmpMeta$,he=()=>{};if(1&P.$flags$)Ve(A,P,Z.$listeners$),P?.$lazyInstance$?it(P.$lazyInstance$):P?.$onReadyPromise$&&P.$onReadyPromise$.then(()=>it(P.$lazyInstance$));else{let He;if(P.$flags$|=1,He=A.getAttribute(Ue),He){if(1&Z.$flags$){const Le=Xe(A.shadowRoot,Z,A.getAttribute("s-mode"));A.classList.remove(Le+"-h",Le+"-s")}((A,P,Z,he)=>{const Le=A.shadowRoot,ut=[],yt=Le?[]:null,gt=he.$vnode$=ot(P,null);_n.$orgLocNodes$||be(li.body,_n.$orgLocNodes$=new Map),A[Ue]=Z,A.removeAttribute(Ue),ke(gt,ut,[],yt,A,A,Z),ut.map(Ct=>{const Gt=Ct.$hostId$+"."+Ct.$nodeId$,tn=_n.$orgLocNodes$.get(Gt),Vt=Ct.$elm$;tn&&ii&&""===tn["s-en"]&&tn.parentNode.insertBefore(Vt,tn.nextSibling),Le||(Vt["s-hn"]=P,tn&&(Vt["s-ol"]=tn,Vt["s-ol"]["s-nr"]=Vt)),_n.$orgLocNodes$.delete(Gt)}),Le&&yt.map(Ct=>{Ct&&Le.appendChild(Ct)})})(A,Z.$tagName$,He,P)}He||12&Z.$flags$&&qt(A);{let Le=A;for(;Le=Le.parentNode||Le.host;)if(1===Le.nodeType&&Le.hasAttribute("s-id")&&Le["s-p"]||Le["s-p"]){ri(P,P.$ancestorComponent$=Le);break}}Z.$members$&&Object.entries(Z.$members$).map(([Le,[ut]])=>{if(31&ut&&A.hasOwnProperty(Le)){const ct=A[Le];delete A[Le],A[Le]=ct}}),st(A,P,Z)}he()}})(this))}disconnectedCallback(){_n.jmp(()=>Sn(this))}componentOnReady(){return yn(this).$onReadyPromise$}};co.$lazyBundleId$=gi[0],!Le.includes(Xo)&&!ut.get(Xo)&&(He.push(Xo),ut.define(Xo,Ye(Yo,co,1)))})}),He.length>0&&(Tn&&(gt.textContent+=Ae),gt.textContent+=He+"{visibility:hidden}.hydrated{visibility:inherit}",gt.innerHTML.length)){gt.setAttribute("data-styles","");const gi=null!==(Z=_n.$nonce$)&&void 0!==Z?Z:le(li);null!=gi&&gt.setAttribute("nonce",gi),ct.insertBefore(gt,yt?yt.nextSibling:ct.firstChild)}Vt=!1,Ct.length?Ct.map(gi=>gi.connectedCallback()):_n.jmp(()=>tn=setTimeout(tt,30))},Ve=(A,P,Z,he)=>{Z&&Z.map(([He,Le,ut])=>{const ct=at(A,He),yt=Pe(P,ut),gt=Ft(He);_n.ael(ct,Le,yt,gt),(P.$rmListeners$=P.$rmListeners$||[]).push(()=>_n.rel(ct,Le,yt,gt))})},Pe=(A,P)=>Z=>{try{256&A.$flags$?A.$lazyInstance$[P](Z):(A.$queuedListeners$=A.$queuedListeners$||[]).push([P,Z])}catch(he){si(he)}},at=(A,P)=>4&P?li:8&P?Di:16&P?li.body:A,Ft=A=>yi?{passive:0!=(1&A),capture:0!=(2&A)}:0!=(2&A),St=new WeakMap,yn=A=>St.get(A),wi=(A,P)=>St.set(P.$lazyInstance$=A,P),ei=(A,P)=>{const Z={$flags$:0,$hostElement$:A,$cmpMeta$:P,$instanceValues$:new Map};return Z.$onInstancePromise$=new Promise(he=>Z.$onInstanceResolve$=he),Z.$onReadyPromise$=new Promise(he=>Z.$onReadyResolve$=he),A["s-p"]=[],A["s-rc"]=[],Ve(A,Z,P.$listeners$),St.set(A,Z)},bi=(A,P)=>P in A,si=(A,P)=>(0,console.error)(A,P),ni=new Map,zi=(A,P,Z)=>{const he=A.$tagName$.replace(/-/g,"_"),He=A.$lazyBundleId$,Le=ni.get(He);return Le?Le[he]:k(8996)(`./${He}.entry.js`).then(ut=>(ni.set(He,ut),ut[he]),si)},So=new Map,Wo=[],Di=typeof window<"u"?window:{},li=Di.document||{head:{}},_n={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,P,Z,he)=>A.addEventListener(P,Z,he),rel:(A,P,Z,he)=>A.removeEventListener(P,Z,he),ce:(A,P)=>new CustomEvent(A,P)},Br=A=>{Object.assign(_n,A)},ii=!0,yi=(()=>{let A=!1;try{li.addEventListener("e",null,Object.defineProperty({},"passive",{get(){A=!0}}))}catch{}return A})(),Zr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ar=[],Ei=[],es=(A,P)=>Z=>{A.push(Z),F||(F=!0,P&&4&_n.$flags$?Te(ie):_n.raf(ie))},qo=A=>{for(let P=0;P<A.length;P++)try{A[P](performance.now())}catch(Z){si(Z)}A.length=0},ie=()=>{qo(ar),qo(Ei),(F=ar.length>0)&&_n.raf(ie)},Te=A=>Promise.resolve(void 0).then(A),$=es(ar,!1),$e=es(Ei,!0)},8476:(At,je,k)=>{"use strict";k.d(je,{d:()=>Y,w:()=>s});const s=typeof window<"u"?window:void 0,Y=typeof document<"u"?document:void 0},7555:(At,je,k)=>{"use strict";k.d(je,{b:()=>ye,c:()=>q,d:()=>Se,e:()=>V,g:()=>oe,l:()=>J,s:()=>j,t:()=>F,w:()=>Ae});var s=k(467),Y=k(4363),L=k(5638);const ye="ionViewWillLeave",q="ionViewDidLeave",Se="ionViewWillUnload",F=Q=>new Promise((U,le)=>{(0,Y.w)(()=>{te(Q),se(Q).then(Qe=>{Qe.animation&&Qe.animation.destroy(),ce(Q),U(Qe)},Qe=>{ce(Q),le(Qe)})})}),te=Q=>{const U=Q.enteringEl,le=Q.leavingEl;N(U,le,Q.direction),Q.showGoBack?U.classList.add("can-go-back"):U.classList.remove("can-go-back"),j(U,!1),U.style.setProperty("pointer-events","none"),le&&(j(le,!1),le.style.setProperty("pointer-events","none"))},se=function(){var Q=(0,s.A)(function*(U){const le=yield we(U);return le&&Y.B.isBrowser?Ee(le,U):fe(U)});return function(le){return Q.apply(this,arguments)}}(),ce=Q=>{const U=Q.enteringEl,le=Q.leavingEl;U.classList.remove("ion-page-invisible"),U.style.removeProperty("pointer-events"),void 0!==le&&(le.classList.remove("ion-page-invisible"),le.style.removeProperty("pointer-events"))},we=function(){var Q=(0,s.A)(function*(U){return U.leavingEl&&U.animated&&0!==U.duration?U.animationBuilder?U.animationBuilder:"ios"===U.mode?(yield Promise.resolve().then(k.bind(k,4569))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,2942))).mdTransitionAnimation:void 0});return function(le){return Q.apply(this,arguments)}}(),Ee=function(){var Q=(0,s.A)(function*(U,le){yield ee(le,!0);const Qe=U(le.baseEl,le);X(le.enteringEl,le.leavingEl);const ot=yield Ue(Qe,le);return le.progressCallback&&le.progressCallback(void 0),ot&&_e(le.enteringEl,le.leavingEl),{hasCompleted:ot,animation:Qe}});return function(le,Qe){return Q.apply(this,arguments)}}(),fe=function(){var Q=(0,s.A)(function*(U){const le=U.enteringEl,Qe=U.leavingEl;return yield ee(U,!1),X(le,Qe),_e(le,Qe),{hasCompleted:!0}});return function(le){return Q.apply(this,arguments)}}(),ee=function(){var Q=(0,s.A)(function*(U,le){(void 0!==U.deepWait?U.deepWait:le)&&(yield Promise.all([V(U.enteringEl),V(U.leavingEl)])),yield me(U.viewIsReady,U.enteringEl)});return function(le,Qe){return Q.apply(this,arguments)}}(),me=function(){var Q=(0,s.A)(function*(U,le){U&&(yield U(le))});return function(le,Qe){return Q.apply(this,arguments)}}(),Ue=(Q,U)=>{const le=U.progressCallback,Qe=new Promise(ot=>{Q.onFinish(xt=>ot(1===xt))});return le?(Q.progressStart(!0),le(Q)):Q.play(),Qe},X=(Q,U)=>{J(U,ye),J(Q,"ionViewWillEnter")},_e=(Q,U)=>{J(Q,"ionViewDidEnter"),J(U,q)},J=(Q,U)=>{if(Q){const le=new CustomEvent(U,{bubbles:!1,cancelable:!1});Q.dispatchEvent(le)}},Ae=()=>new Promise(Q=>(0,L.r)(()=>(0,L.r)(()=>Q()))),V=function(){var Q=(0,s.A)(function*(U){const le=U;if(le){if(null!=le.componentOnReady){if(null!=(yield le.componentOnReady()))return}else if(null!=le.__registerHost)return void(yield new Promise(ot=>(0,L.r)(ot)));yield Promise.all(Array.from(le.children).map(V))}});return function(le){return Q.apply(this,arguments)}}(),j=(Q,U)=>{U?(Q.setAttribute("aria-hidden","true"),Q.classList.add("ion-page-hidden")):(Q.hidden=!1,Q.removeAttribute("aria-hidden"),Q.classList.remove("ion-page-hidden"))},N=(Q,U,le)=>{void 0!==Q&&(Q.style.zIndex="back"===le?"99":"101"),void 0!==U&&(U.style.zIndex="100")},oe=Q=>Q.classList.contains("ion-page")?Q:Q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Q},611:(At,je,k)=>{"use strict";k.d(je,{a:()=>F,b:()=>ot,c:()=>L,i:()=>xt});var s=k(4363);class Y{constructor(){this.m=new Map}reset(K){this.m=new Map(Object.entries(K))}get(K,H){const W=this.m.get(K);return void 0!==W?W:H}getBoolean(K,H=!1){const W=this.m.get(K);return void 0===W?H:"string"==typeof W?"true"===W:!!W}getNumber(K,H){const W=parseFloat(this.m.get(K));return isNaN(W)?void 0!==H?H:NaN:W}set(K,H){this.m.set(K,H)}}const L=new Y,Me="ionic-persist-config",F=(Ge,K)=>("string"==typeof Ge&&(K=Ge,Ge=void 0),(Ge=>te(Ge))(Ge).includes(K)),te=(Ge=window)=>{if(typeof Ge>"u")return[];Ge.Ionic=Ge.Ionic||{};let K=Ge.Ionic.platforms;return null==K&&(K=Ge.Ionic.platforms=se(Ge),K.forEach(H=>Ge.document.documentElement.classList.add(`plt-${H}`))),K},se=Ge=>{const K=L.get("platform");return Object.keys(le).filter(H=>{const W=K?.[H];return"function"==typeof W?W(Ge):le[H](Ge)})},we=Ge=>!!(Q(Ge,/iPad/i)||Q(Ge,/Macintosh/i)&&_e(Ge)),ee=Ge=>Q(Ge,/android|sink/i),_e=Ge=>U(Ge,"(any-pointer:coarse)"),Ae=Ge=>V(Ge)||j(Ge),V=Ge=>!!(Ge.cordova||Ge.phonegap||Ge.PhoneGap),j=Ge=>{const K=Ge.Capacitor;return!!K?.isNative},Q=(Ge,K)=>K.test(Ge.navigator.userAgent),U=(Ge,K)=>{var H;return null===(H=Ge.matchMedia)||void 0===H?void 0:H.call(Ge,K).matches},le={ipad:we,iphone:Ge=>Q(Ge,/iPhone/i),ios:Ge=>Q(Ge,/iPhone|iPod/i)||we(Ge),android:ee,phablet:Ge=>{const K=Ge.innerWidth,H=Ge.innerHeight,W=Math.min(K,H),ve=Math.max(K,H);return W>390&&W<520&&ve>620&&ve<800},tablet:Ge=>{const K=Ge.innerWidth,H=Ge.innerHeight,W=Math.min(K,H),ve=Math.max(K,H);return we(Ge)||(Ge=>ee(Ge)&&!Q(Ge,/mobile/i))(Ge)||W>460&&W<820&&ve>780&&ve<1400},cordova:V,capacitor:j,electron:Ge=>Q(Ge,/electron/i),pwa:Ge=>{var K;return!!(null!==(K=Ge.matchMedia)&&void 0!==K&&K.call(Ge,"(display-mode: standalone)").matches||Ge.navigator.standalone)},mobile:_e,mobileweb:Ge=>_e(Ge)&&!Ae(Ge),desktop:Ge=>!_e(Ge),hybrid:Ae};let Qe;const ot=Ge=>Ge&&(0,s.g)(Ge)||Qe,xt=(Ge={})=>{if(typeof window>"u")return;const K=window.document,H=window,W=H.Ionic=H.Ionic||{},ve={};Ge._ael&&(ve.ael=Ge._ael),Ge._rel&&(ve.rel=Ge._rel),Ge._ce&&(ve.ce=Ge._ce),(0,s.a)(ve);const ke=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ge=>{try{const K=Ge.sessionStorage.getItem(Me);return null!==K?JSON.parse(K):{}}catch{return{}}})(H)),{persistConfig:!1}),W.config),(Ge=>{const K={};return Ge.location.search.slice(1).split("&").map(H=>H.split("=")).map(([H,W])=>[decodeURIComponent(H),decodeURIComponent(W)]).filter(([H])=>((Ge,K)=>Ge.substr(0,K.length)===K)(H,"ionic:")).map(([H,W])=>[H.slice(6),W]).forEach(([H,W])=>{K[H]=W}),K})(H)),Ge);L.reset(ke),L.getBoolean("persistConfig")&&((Ge,K)=>{try{Ge.sessionStorage.setItem(Me,JSON.stringify(K))}catch{return}})(H,ke),te(H),W.config=L,W.mode=Qe=L.get("mode",K.documentElement.getAttribute("mode")||(F(H,"ios")?"ios":"md")),L.set("mode",Qe),K.documentElement.setAttribute("mode",Qe),K.documentElement.classList.add(Qe),L.getBoolean("_testing")&&L.set("animated",!1);const be=et=>{var ft;return null===(ft=et.tagName)||void 0===ft?void 0:ft.startsWith("ION-")},rt=et=>["ios","md"].includes(et);(0,s.c)(et=>{for(;et;){const ft=et.mode||et.getAttribute("mode");if(ft){if(rt(ft))return ft;be(et)&&console.warn('Invalid ionic mode: "'+ft+'", expected: "ios" or "md"')}et=et.parentElement}return Qe})}},4569:(At,je,k)=>{"use strict";k.r(je),k.d(je,{iosTransitionAnimation:()=>se,shadow:()=>q});var s=k(3503),Y=k(7555);k(8476),k(4363);const ye=we=>document.querySelector(`${we}.ion-cloned-element`),q=we=>we.shadowRoot||we,Se=we=>{const Ee="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs"),fe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ee){const ee=Ee.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ee?ee.querySelector(fe):null}return we.querySelector(fe)},Me=(we,Ee)=>{const fe="ION-TABS"===we.tagName?we:we.querySelector("ion-tabs");let ee=[];if(null!=fe){const me=fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=me&&(ee=me.querySelectorAll("ion-buttons"))}else ee=we.querySelectorAll("ion-buttons");for(const me of ee){const Ue=me.closest("ion-header"),X=Ue&&!Ue.classList.contains("header-collapse-condense-inactive"),_e=me.querySelector("ion-back-button"),J=me.classList.contains("buttons-collapse");if(null!==_e&&("start"===me.slot||""===me.slot)&&(J&&X&&Ee||!J))return _e}return null},F=(we,Ee,fe,ee,me,Ue,X,_e,J)=>{var Ae,V;const j=Ee?`calc(100% - ${me.right+4}px)`:me.left-4+"px",N=Ee?"right":"left",oe=Ee?"left":"right",Q=Ee?"right":"left",U=(null===(Ae=Ue.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(V=_e.textContent)||void 0===V?void 0:V.trim()),Qe=(J.height-ce)/X.height,ot=U?`scale(${J.width/X.width}, ${Qe})`:`scale(${Qe})`,xt="scale(1)",K=q(ee).querySelector("ion-icon").getBoundingClientRect(),H=Ee?K.width/2-(K.right-me.right)+"px":me.left-K.width/2+"px",W=Ee?`-${window.innerWidth-me.right}px`:`${me.left}px`,ve=`${J.top}px`,ke=`${me.top}px`,et=fe?[{offset:0,transform:`translate3d(${W}, ${ke}, 0)`},{offset:1,transform:`translate3d(${H}, ${ve}, 0)`}]:[{offset:0,transform:`translate3d(${H}, ${ve}, 0)`},{offset:1,transform:`translate3d(${W}, ${ke}, 0)`}],rn=fe?[{offset:0,opacity:1,transform:xt},{offset:1,opacity:0,transform:ot}]:[{offset:0,opacity:0,transform:ot},{offset:1,opacity:1,transform:xt}],sn=fe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ln=(0,s.c)(),Xe=(0,s.c)(),Ne=(0,s.c)(),Fe=ye("ion-back-button"),Et=q(Fe).querySelector(".button-text"),en=q(Fe).querySelector("ion-icon");Fe.text=ee.text,Fe.mode=ee.mode,Fe.icon=ee.icon,Fe.color=ee.color,Fe.disabled=ee.disabled,Fe.style.setProperty("display","block"),Fe.style.setProperty("position","fixed"),Xe.addElement(en),ln.addElement(Et),Ne.addElement(Fe),Ne.beforeStyles({position:"absolute",top:"0px",[Q]:"0px"}).keyframes(et),ln.beforeStyles({"transform-origin":`${N} top`}).beforeAddWrite(()=>{ee.style.setProperty("display","none"),Fe.style.setProperty(N,j)}).afterAddWrite(()=>{ee.style.setProperty("display",""),Fe.style.setProperty("display","none"),Fe.style.removeProperty(N)}).keyframes(rn),Xe.beforeStyles({"transform-origin":`${oe} center`}).keyframes(sn),we.addAnimation([ln,Xe,Ne])},te=(we,Ee,fe,ee,me,Ue,X,_e)=>{var J,Ae;const V=Ee?"right":"left",j=Ee?`calc(100% - ${me.right}px)`:`${me.left}px`,oe=`${me.top}px`,U=Ee?`-${window.innerWidth-_e.right-8}px`:_e.x-8+"px",Qe=_e.y-2+"px",ot=(null===(J=X.textContent)||void 0===J?void 0:J.trim())===(null===(Ae=ee.textContent)||void 0===Ae?void 0:Ae.trim()),Ge=_e.height/(Ue.height-ce),K="scale(1)",H=ot?`scale(${_e.width/Ue.width}, ${Ge})`:`scale(${Ge})`,ke=fe?[{offset:0,opacity:0,transform:`translate3d(${U}, ${Qe}, 0) ${H}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${oe}, 0) ${K}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${oe}, 0) ${K}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${U}, ${Qe}, 0) ${H}`}],be=ye("ion-title"),rt=(0,s.c)();be.innerText=ee.innerText,be.size=ee.size,be.color=ee.color,rt.addElement(be),rt.beforeStyles({"transform-origin":`${V} top`,height:`${me.height}px`,display:"",position:"relative",[V]:j}).beforeAddWrite(()=>{ee.style.setProperty("opacity","0")}).afterAddWrite(()=>{ee.style.setProperty("opacity",""),be.style.setProperty("display","none")}).keyframes(ke),we.addAnimation(rt)},se=(we,Ee)=>{var fe;try{const ee="cubic-bezier(0.32,0.72,0,1)",me="opacity",Ue="transform",X="0%",J="rtl"===we.ownerDocument.dir,Ae=J?"-99.5%":"99.5%",V=J?"33%":"-33%",j=Ee.enteringEl,N=Ee.leavingEl,oe="back"===Ee.direction,Q=j.querySelector(":scope > ion-content"),U=j.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),le=j.querySelectorAll(":scope > ion-header > ion-toolbar"),Qe=(0,s.c)(),ot=(0,s.c)();if(Qe.addElement(j).duration((null!==(fe=Ee.duration)&&void 0!==fe?fe:0)||540).easing(Ee.easing||ee).fill("both").beforeRemoveClass("ion-page-invisible"),N&&null!=we){const H=(0,s.c)();H.addElement(we),Qe.addAnimation(H)}if(Q||0!==le.length||0!==U.length?(ot.addElement(Q),ot.addElement(U)):ot.addElement(j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(ot),oe?ot.beforeClearStyles([me]).fromTo("transform",`translateX(${V})`,`translateX(${X})`).fromTo(me,.8,1):ot.beforeClearStyles([me]).fromTo("transform",`translateX(${Ae})`,`translateX(${X})`),Q){const H=q(Q).querySelector(".transition-effect");if(H){const W=H.querySelector(".transition-cover"),ve=H.querySelector(".transition-shadow"),ke=(0,s.c)(),be=(0,s.c)(),rt=(0,s.c)();ke.addElement(H).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),be.addElement(W).beforeClearStyles([me]).fromTo(me,0,.1),rt.addElement(ve).beforeClearStyles([me]).fromTo(me,.03,.7),ke.addAnimation([be,rt]),ot.addAnimation([ke])}}const xt=j.querySelector("ion-header.header-collapse-condense"),{forward:Ge,backward:K}=((we,Ee,fe,ee,me)=>{const Ue=Me(ee,fe),X=Se(me),_e=Se(ee),J=Me(me,fe),Ae=null!==Ue&&null!==X&&!fe,V=null!==_e&&null!==J&&fe;if(Ae){const j=X.getBoundingClientRect(),N=Ue.getBoundingClientRect(),oe=q(Ue).querySelector(".button-text"),Q=oe.getBoundingClientRect(),le=q(X).querySelector(".toolbar-title").getBoundingClientRect();te(we,Ee,fe,X,j,le,oe,Q),F(we,Ee,fe,Ue,N,oe,Q,X,le)}else if(V){const j=_e.getBoundingClientRect(),N=J.getBoundingClientRect(),oe=q(J).querySelector(".button-text"),Q=oe.getBoundingClientRect(),le=q(_e).querySelector(".toolbar-title").getBoundingClientRect();te(we,Ee,fe,_e,j,le,oe,Q),F(we,Ee,fe,J,N,oe,Q,_e,le)}return{forward:Ae,backward:V}})(Qe,J,oe,j,N);if(le.forEach(H=>{const W=(0,s.c)();W.addElement(H),Qe.addAnimation(W);const ve=(0,s.c)();ve.addElement(H.querySelector("ion-title"));const ke=(0,s.c)(),be=Array.from(H.querySelectorAll("ion-buttons,[menuToggle]")),rt=H.closest("ion-header"),et=rt?.classList.contains("header-collapse-condense-inactive");let ft;ft=be.filter(oe?sn=>{const ln=sn.classList.contains("buttons-collapse");return ln&&!et||!ln}:sn=>!sn.classList.contains("buttons-collapse")),ke.addElement(ft);const Pt=(0,s.c)();Pt.addElement(H.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const rn=(0,s.c)();rn.addElement(q(H).querySelector(".toolbar-background"));const on=(0,s.c)(),$n=H.querySelector("ion-back-button");if($n&&on.addElement($n),W.addAnimation([ve,ke,Pt,rn,on]),ke.fromTo(me,.01,1),Pt.fromTo(me,.01,1),oe)et||ve.fromTo("transform",`translateX(${V})`,`translateX(${X})`).fromTo(me,.01,1),Pt.fromTo("transform",`translateX(${V})`,`translateX(${X})`),on.fromTo(me,.01,1);else if(xt||ve.fromTo("transform",`translateX(${Ae})`,`translateX(${X})`).fromTo(me,.01,1),Pt.fromTo("transform",`translateX(${Ae})`,`translateX(${X})`),rn.beforeClearStyles([me,"transform"]),rt?.translucent?rn.fromTo("transform",J?"translateX(-100%)":"translateX(100%)","translateX(0px)"):rn.fromTo(me,.01,"var(--opacity)"),Ge||on.fromTo(me,.01,1),$n&&!Ge){const ln=(0,s.c)();ln.addElement(q($n).querySelector(".button-text")).fromTo("transform",J?"translateX(-100px)":"translateX(100px)","translateX(0px)"),W.addAnimation(ln)}}),N){const H=(0,s.c)(),W=N.querySelector(":scope > ion-content"),ve=N.querySelectorAll(":scope > ion-header > ion-toolbar"),ke=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(W||0!==ve.length||0!==ke.length?(H.addElement(W),H.addElement(ke)):H.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Qe.addAnimation(H),oe){H.beforeClearStyles([me]).fromTo("transform",`translateX(${X})`,J?"translateX(-100%)":"translateX(100%)");const be=(0,Y.g)(N);Qe.afterAddWrite(()=>{"normal"===Qe.getDirection()&&be.style.setProperty("display","none")})}else H.fromTo("transform",`translateX(${X})`,`translateX(${V})`).fromTo(me,1,.8);if(W){const be=q(W).querySelector(".transition-effect");if(be){const rt=be.querySelector(".transition-cover"),et=be.querySelector(".transition-shadow"),ft=(0,s.c)(),Pt=(0,s.c)(),rn=(0,s.c)();ft.addElement(be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pt.addElement(rt).beforeClearStyles([me]).fromTo(me,.1,0),rn.addElement(et).beforeClearStyles([me]).fromTo(me,.7,.03),ft.addAnimation([Pt,rn]),H.addAnimation([ft])}}ve.forEach(be=>{const rt=(0,s.c)();rt.addElement(be);const et=(0,s.c)();et.addElement(be.querySelector("ion-title"));const ft=(0,s.c)(),Pt=be.querySelectorAll("ion-buttons,[menuToggle]"),rn=be.closest("ion-header"),on=rn?.classList.contains("header-collapse-condense-inactive"),$n=Array.from(Pt).filter(Et=>{const en=Et.classList.contains("buttons-collapse");return en&&!on||!en});ft.addElement($n);const sn=(0,s.c)(),ln=be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ln.length>0&&sn.addElement(ln);const Xe=(0,s.c)();Xe.addElement(q(be).querySelector(".toolbar-background"));const Ne=(0,s.c)(),Fe=be.querySelector("ion-back-button");if(Fe&&Ne.addElement(Fe),rt.addAnimation([et,ft,sn,Ne,Xe]),Qe.addAnimation(rt),Ne.fromTo(me,.99,0),ft.fromTo(me,.99,0),sn.fromTo(me,.99,0),oe){if(on||et.fromTo("transform",`translateX(${X})`,J?"translateX(-100%)":"translateX(100%)").fromTo(me,.99,0),sn.fromTo("transform",`translateX(${X})`,J?"translateX(-100%)":"translateX(100%)"),Xe.beforeClearStyles([me,"transform"]),rn?.translucent?Xe.fromTo("transform","translateX(0px)",J?"translateX(-100%)":"translateX(100%)"):Xe.fromTo(me,"var(--opacity)",0),Fe&&!K){const en=(0,s.c)();en.addElement(q(Fe).querySelector(".button-text")).fromTo("transform",`translateX(${X})`,`translateX(${(J?-124:124)+"px"})`),rt.addAnimation(en)}}else on||et.fromTo("transform",`translateX(${X})`,`translateX(${V})`).fromTo(me,.99,0).afterClearStyles([Ue,me]),sn.fromTo("transform",`translateX(${X})`,`translateX(${V})`).afterClearStyles([Ue,me]),Ne.afterClearStyles([me]),et.afterClearStyles([me]),ft.afterClearStyles([me])})}return Qe}catch(ee){throw ee}},ce=10},2942:(At,je,k)=>{"use strict";k.r(je),k.d(je,{mdTransitionAnimation:()=>Ie});var s=k(3503),Y=k(7555);k(8476),k(4363);const Ie=(ye,q)=>{var Se,Me,B;const F="40px",se="back"===q.direction,we=q.leavingEl,Ee=(0,Y.g)(q.enteringEl),fe=Ee.querySelector("ion-toolbar"),ee=(0,s.c)();if(ee.addElement(Ee).fill("both").beforeRemoveClass("ion-page-invisible"),se?ee.duration((null!==(Se=q.duration)&&void 0!==Se?Se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ee.duration((null!==(Me=q.duration)&&void 0!==Me?Me:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${F})`,"translateY(0px)").fromTo("opacity",.01,1),fe){const me=(0,s.c)();me.addElement(fe),ee.addAnimation(me)}if(we&&se){ee.duration((null!==(B=q.duration)&&void 0!==B?B:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const me=(0,s.c)();me.addElement((0,Y.g)(we)).onFinish(Ue=>{1===Ue&&me.elements.length>0&&me.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${F})`).fromTo("opacity",1,0),ee.addAnimation(me)}return ee}},5516:(At,je,k)=>{"use strict";k.d(je,{B:()=>ft,G:()=>Pt,O:()=>rn,a:()=>te,b:()=>se,c:()=>fe,d:()=>on,e:()=>$n,f:()=>xt,g:()=>K,h:()=>ve,i:()=>be,j:()=>me,k:()=>Ue,l:()=>ce,m:()=>we,n:()=>Ae,o:()=>Qe,s:()=>et,t:()=>ee});var s=k(467),Y=k(8476),L=k(3113),ue=k(611),Ie=k(5938),ye=k(5638),q=k(4929);let Se=0,Me=0;const B=new WeakMap,F=Xe=>({create:Ne=>X(Xe,Ne),dismiss:(Ne,Fe,Et)=>Q(document,Ne,Fe,Xe,Et),getTop:()=>(0,s.A)(function*(){return Qe(document,Xe)})()}),te=F("ion-alert"),se=F("ion-action-sheet"),ce=F("ion-loading"),we=F("ion-modal"),fe=F("ion-popover"),ee=F("ion-toast"),me=Xe=>{typeof document<"u"&&oe(document);const Ne=Se++;Xe.overlayIndex=Ne},Ue=Xe=>(Xe.hasAttribute("id")||(Xe.id="ion-overlay-"+ ++Me),Xe.id),X=(Xe,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Xe).then(()=>{const Fe=document.createElement(Xe);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},Ne),{hasController:!0})),H(document).appendChild(Fe),new Promise(Et=>(0,ye.c)(Fe,Et))}):Promise.resolve(),_e='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ae=(Xe,Ne)=>{const Fe=Xe.querySelector(_e);j(Fe,Ne)},V=(Xe,Ne)=>{const Fe=Array.from(Xe.querySelectorAll(_e));j(Fe.length>0?Fe[Fe.length-1]:null,Ne)},j=(Xe,Ne)=>{let Fe=Xe;const Et=Xe?.shadowRoot;Et&&(Fe=Et.querySelector(_e)||Xe),Fe?(0,ye.f)(Fe):Ne.focus()},oe=Xe=>{0===Se&&(Se=1,Xe.addEventListener("focus",Ne=>{((Xe,Ne)=>{const Fe=Qe(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Et=Xe.target;Fe&&Et&&!Fe.classList.contains("ion-disable-focus-trap")&&(Fe.shadowRoot?(()=>{if(Fe.contains(Et))Fe.lastFocus=Et;else if("ION-TOAST"===Et.tagName)j(Fe.lastFocus,Fe);else{const fn=Fe.lastFocus;Ae(Fe,Fe),fn===Ne.activeElement&&V(Fe,Fe),Fe.lastFocus=Ne.activeElement}})():(()=>{if(Fe===Et)Fe.lastFocus=void 0;else if("ION-TOAST"===Et.tagName)j(Fe.lastFocus,Fe);else{const fn=(0,ye.g)(Fe);if(!fn.contains(Et))return;const zn=fn.querySelector(".ion-overlay-wrapper");if(!zn)return;if(zn.contains(Et)||Et===fn.querySelector("ion-backdrop"))Fe.lastFocus=Et;else{const wt=Fe.lastFocus;Ae(zn,Fe),wt===Ne.activeElement&&V(zn,Fe),Fe.lastFocus=Ne.activeElement}}})())})(Ne,Xe)},!0),Xe.addEventListener("ionBackButton",Ne=>{const Fe=Qe(Xe);Fe?.backdropDismiss&&Ne.detail.register(L.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Fe.dismiss(void 0,ft)})}),(0,L.shouldUseCloseWatcher)()||Xe.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const Fe=Qe(Xe);Fe?.backdropDismiss&&Fe.dismiss(void 0,ft)}}))},Q=(Xe,Ne,Fe,Et,en)=>{const vn=Qe(Xe,Et,en);return vn?vn.dismiss(Ne,Fe):Promise.reject("overlay does not exist")},le=(Xe,Ne)=>((Xe,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Xe.querySelectorAll(Ne)).filter(Fe=>Fe.overlayIndex>0)))(Xe,Ne).filter(Fe=>!(Xe=>Xe.classList.contains("overlay-hidden"))(Fe)),Qe=(Xe,Ne,Fe)=>{const Et=le(Xe,Ne);return void 0===Fe?Et[Et.length-1]:Et.find(en=>en.id===Fe)},ot=(Xe=!1)=>{const Fe=H(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(Xe?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},xt=function(){var Xe=(0,s.A)(function*(Ne,Fe,Et,en,vn){var fn,zn;if(Ne.presented)return;ot(!0),sn(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(fn=Ne.willPresentShorthand)||void 0===fn||fn.emit();const wt=(0,ue.b)(Ne),Ut=Ne.enterAnimation?Ne.enterAnimation:ue.c.get(Fe,"ios"===wt?Et:en);(yield W(Ne,Ut,Ne.el,vn))&&(Ne.didPresent.emit(),null===(zn=Ne.didPresentShorthand)||void 0===zn||zn.emit()),"ION-TOAST"!==Ne.el.tagName&&Ge(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(Fe,Et,en,vn,fn){return Xe.apply(this,arguments)}}(),Ge=function(){var Xe=(0,s.A)(function*(Ne){let Fe=document.activeElement;if(!Fe)return;const Et=Fe?.shadowRoot;Et&&(Fe=Et.querySelector(_e)||Fe),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Fe.focus()});return function(Fe){return Xe.apply(this,arguments)}}(),K=function(){var Xe=(0,s.A)(function*(Ne,Fe,Et,en,vn,fn,zn){var wt,Ut;if(!Ne.presented)return!1;void 0!==Y.d&&1===le(Y.d).length&&ot(!1),Ne.presented=!1;try{Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:Fe,role:Et}),null===(wt=Ne.willDismissShorthand)||void 0===wt||wt.emit({data:Fe,role:Et});const $t=(0,ue.b)(Ne),Fn=Ne.leaveAnimation?Ne.leaveAnimation:ue.c.get(en,"ios"===$t?vn:fn);Et!==Pt&&(yield W(Ne,Fn,Ne.el,zn)),Ne.didDismiss.emit({data:Fe,role:Et}),null===(Ut=Ne.didDismissShorthand)||void 0===Ut||Ut.emit({data:Fe,role:Et}),(B.get(Ne)||[]).forEach(Jn=>Jn.destroy()),B.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch($t){console.error($t)}return Ne.el.remove(),ln(),!0});return function(Fe,Et,en,vn,fn,zn,wt){return Xe.apply(this,arguments)}}(),H=Xe=>Xe.querySelector("ion-app")||Xe.body,W=function(){var Xe=(0,s.A)(function*(Ne,Fe,Et,en){Et.classList.remove("overlay-hidden");const fn=Fe(Ne.el,en);(!Ne.animated||!ue.c.getBoolean("animated",!0))&&fn.duration(0),Ne.keyboardClose&&fn.beforeAddWrite(()=>{const wt=Et.ownerDocument.activeElement;wt?.matches("input,ion-input, ion-textarea")&&wt.blur()});const zn=B.get(Ne)||[];return B.set(Ne,[...zn,fn]),yield fn.play(),!0});return function(Fe,Et,en,vn){return Xe.apply(this,arguments)}}(),ve=(Xe,Ne)=>{let Fe;const Et=new Promise(en=>Fe=en);return ke(Xe,Ne,en=>{Fe(en.detail)}),Et},ke=(Xe,Ne,Fe)=>{const Et=en=>{(0,ye.b)(Xe,Ne,Et),Fe(en)};(0,ye.a)(Xe,Ne,Et)},be=Xe=>"cancel"===Xe||Xe===ft,rt=Xe=>Xe(),et=(Xe,Ne)=>{if("function"==typeof Xe)return ue.c.get("_zoneGate",rt)(()=>{try{return Xe(Ne)}catch(Et){throw Et}})},ft="backdrop",Pt="gesture",rn=39,on=Xe=>{let Fe,Ne=!1;const Et=(0,Ie.C)(),en=(zn=!1)=>{if(Fe&&!zn)return{delegate:Fe,inline:Ne};const{el:wt,hasController:Ut,delegate:$t}=Xe;return Ne=null!==wt.parentNode&&!Ut,Fe=Ne?$t||Et:$t,{inline:Ne,delegate:Fe}};return{attachViewToDom:function(){var zn=(0,s.A)(function*(wt){const{delegate:Ut}=en(!0);if(Ut)return yield Ut.attachViewToDom(Xe.el,wt);const{hasController:$t}=Xe;if($t&&void 0!==wt)throw new Error("framework delegate is missing");return null});return function(Ut){return zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:zn}=en();zn&&void 0!==Xe.el&&zn.removeViewFromDom(Xe.el.parentElement,Xe.el)}}},$n=()=>{let Xe;const Ne=()=>{Xe&&(Xe(),Xe=void 0)};return{addClickListener:(Et,en)=>{Ne();const vn=void 0!==en?document.getElementById(en):null;vn?Xe=((zn,wt)=>{const Ut=()=>{wt.present()};return zn.addEventListener("click",Ut),()=>{zn.removeEventListener("click",Ut)}})(vn,Et):(0,q.p)(`A trigger element with the ID "${en}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Et)},removeClickListener:Ne}},sn=Xe=>{var Ne;if(void 0===Y.d)return;const Fe=le(Y.d);for(let Et=Fe.length-1;Et>=0;Et--){const en=Fe[Et],vn=null!==(Ne=Fe[Et+1])&&void 0!==Ne?Ne:Xe;(vn.hasAttribute("aria-hidden")||"ION-TOAST"!==vn.tagName)&&en.setAttribute("aria-hidden","true")}},ln=()=>{if(void 0===Y.d)return;const Xe=le(Y.d);for(let Ne=Xe.length-1;Ne>=0;Ne--){const Fe=Xe[Ne];if(Fe.removeAttribute("aria-hidden"),"ION-TOAST"!==Fe.tagName)break}}},4074:(At,je,k)=>{"use strict";var s=k(7705);let Y=null;function L(){return Y}class Ie{}const ye=new s.nKC("DocumentToken");let q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(Me)},providedIn:"platform"})}}return n})();const Se=new s.nKC("Location Initialized");let Me=(()=>{class n extends q{constructor(){super(),this._doc=(0,s.WQX)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function B(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function F(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function te(n){return n&&"?"!==n[0]?"?"+n:n}let se=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(we)},providedIn:"root"})}}return n})();const ce=new s.nKC("appBaseHref");let we=(()=>{class n extends se{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return B(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+te(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const u=this.prepareExternalUrl(o+te(l));this._platformLocation.pushState(e,i,u)}replaceState(e,i,o,l){const u=this.prepareExternalUrl(o+te(l));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q),s.KVO(ce,8))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ee=(()=>{class n extends se{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=B(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let u=this.prepareExternalUrl(o+te(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,o,l){let u=this.prepareExternalUrl(o+te(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(q),s.KVO(ce,8))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})(),fe=(()=>{class n{constructor(e){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function X(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(F(Ue(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+te(i))}normalize(e){return n.stripTrailingSlash(function me(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static{this.normalizeQueryParams=te}static{this.joinWithSlash=B}static{this.stripTrailingSlash=F}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(se))}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return function ee(){return new fe((0,s.KVO)(se))}()},providedIn:"root"})}}return n})();function Ue(n){return n.replace(/\/index.html$/,"")}var V=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(V||{}),j=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(j||{}),N=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(N||{}),oe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(oe||{});function H(n,t){return Xe((0,s.H5H)(n)[s.KH2.DateFormat],t)}function W(n,t){return Xe((0,s.H5H)(n)[s.KH2.TimeFormat],t)}function ve(n,t){return Xe((0,s.H5H)(n)[s.KH2.DateTimeFormat],t)}function ke(n,t){const e=(0,s.H5H)(n),i=e[s.KH2.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[s.KH2.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[s.KH2.NumberSymbols][oe.Group]}return i}function on(n){if(!n[s.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xe(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ne(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const vn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fn={},zn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(wt||{}),Ut=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ut||{}),$t=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}($t||{});function Fn(n,t,e,i){let o=function ne(n){if(tt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,u=1]=n.split("-").map(p=>+p);return kn(o,l-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(vn))return function xe(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,p=Number(n[5]||0)-i,v=Number(n[6]||0),M=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,u,p,v,M),t}(i)}const t=new Date(n);if(!tt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Jn(e,t)||t;let p,u=[];for(;t;){if(p=zn.exec(t),!p){u.push(t);break}{u=u.concat(p.slice(1));const b=u.pop();if(!b)break;t=b}}let v=o.getTimezoneOffset();i&&(v=ao(i,v),o=function de(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function Hi(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ao(t,o)-o))}(o,i,!0));let M="";return u.forEach(b=>{const S=function Qn(n){if(Co[n])return Co[n];let t;switch(n){case"G":case"GG":case"GGG":t=an($t.Eras,j.Abbreviated);break;case"GGGG":t=an($t.Eras,j.Wide);break;case"GGGGG":t=an($t.Eras,j.Narrow);break;case"y":t=Tt(Ut.FullYear,1,0,!1,!0);break;case"yy":t=Tt(Ut.FullYear,2,0,!0,!0);break;case"yyy":t=Tt(Ut.FullYear,3,0,!1,!0);break;case"yyyy":t=Tt(Ut.FullYear,4,0,!1,!0);break;case"Y":t=Zn(1);break;case"YY":t=Zn(2,!0);break;case"YYY":t=Zn(3);break;case"YYYY":t=Zn(4);break;case"M":case"L":t=Tt(Ut.Month,1,1);break;case"MM":case"LL":t=Tt(Ut.Month,2,1);break;case"MMM":t=an($t.Months,j.Abbreviated);break;case"MMMM":t=an($t.Months,j.Wide);break;case"MMMMM":t=an($t.Months,j.Narrow);break;case"LLL":t=an($t.Months,j.Abbreviated,V.Standalone);break;case"LLLL":t=an($t.Months,j.Wide,V.Standalone);break;case"LLLLL":t=an($t.Months,j.Narrow,V.Standalone);break;case"w":t=ri(1);break;case"ww":t=ri(2);break;case"W":t=ri(1,!0);break;case"d":t=Tt(Ut.Date,1);break;case"dd":t=Tt(Ut.Date,2);break;case"c":case"cc":t=Tt(Ut.Day,1);break;case"ccc":t=an($t.Days,j.Abbreviated,V.Standalone);break;case"cccc":t=an($t.Days,j.Wide,V.Standalone);break;case"ccccc":t=an($t.Days,j.Narrow,V.Standalone);break;case"cccccc":t=an($t.Days,j.Short,V.Standalone);break;case"E":case"EE":case"EEE":t=an($t.Days,j.Abbreviated);break;case"EEEE":t=an($t.Days,j.Wide);break;case"EEEEE":t=an($t.Days,j.Narrow);break;case"EEEEEE":t=an($t.Days,j.Short);break;case"a":case"aa":case"aaa":t=an($t.DayPeriods,j.Abbreviated);break;case"aaaa":t=an($t.DayPeriods,j.Wide);break;case"aaaaa":t=an($t.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":t=an($t.DayPeriods,j.Abbreviated,V.Standalone,!0);break;case"bbbb":t=an($t.DayPeriods,j.Wide,V.Standalone,!0);break;case"bbbbb":t=an($t.DayPeriods,j.Narrow,V.Standalone,!0);break;case"B":case"BB":case"BBB":t=an($t.DayPeriods,j.Abbreviated,V.Format,!0);break;case"BBBB":t=an($t.DayPeriods,j.Wide,V.Format,!0);break;case"BBBBB":t=an($t.DayPeriods,j.Narrow,V.Format,!0);break;case"h":t=Tt(Ut.Hours,1,-12);break;case"hh":t=Tt(Ut.Hours,2,-12);break;case"H":t=Tt(Ut.Hours,1);break;case"HH":t=Tt(Ut.Hours,2);break;case"m":t=Tt(Ut.Minutes,1);break;case"mm":t=Tt(Ut.Minutes,2);break;case"s":t=Tt(Ut.Seconds,1);break;case"ss":t=Tt(Ut.Seconds,2);break;case"S":t=Tt(Ut.FractionalSeconds,1);break;case"SS":t=Tt(Ut.FractionalSeconds,2);break;case"SSS":t=Tt(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Yn(wt.Short);break;case"ZZZZZ":t=Yn(wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Yn(wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Yn(wt.Long);break;default:return null}return Co[n]=t,t}(b);M+=S?S(o,e,v):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function kn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Jn(n,t){const e=function U(n){return(0,s.H5H)(n)[s.KH2.LocaleId]}(n);if(fn[e]=fn[e]||{},fn[e][t])return fn[e][t];let i="";switch(t){case"shortDate":i=H(n,N.Short);break;case"mediumDate":i=H(n,N.Medium);break;case"longDate":i=H(n,N.Long);break;case"fullDate":i=H(n,N.Full);break;case"shortTime":i=W(n,N.Short);break;case"mediumTime":i=W(n,N.Medium);break;case"longTime":i=W(n,N.Long);break;case"fullTime":i=W(n,N.Full);break;case"short":const o=Jn(n,"shortTime"),l=Jn(n,"shortDate");i=gn(ve(n,N.Short),[o,l]);break;case"medium":const u=Jn(n,"mediumTime"),p=Jn(n,"mediumDate");i=gn(ve(n,N.Medium),[u,p]);break;case"long":const v=Jn(n,"longTime"),M=Jn(n,"longDate");i=gn(ve(n,N.Long),[v,M]);break;case"full":const b=Jn(n,"fullTime"),S=Jn(n,"fullDate");i=gn(ve(n,N.Full),[b,S])}return i&&(fn[e][t]=i),i}function gn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function xn(n,t,e="-",i,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),l+u}function Tt(n,t,e=0,i=!1,o=!1){return function(l,u){let p=function qn(n,t){switch(n){case Ut.FullYear:return t.getFullYear();case Ut.Month:return t.getMonth();case Ut.Date:return t.getDate();case Ut.Hours:return t.getHours();case Ut.Minutes:return t.getMinutes();case Ut.Seconds:return t.getSeconds();case Ut.FractionalSeconds:return t.getMilliseconds();case Ut.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||p>-e)&&(p+=e),n===Ut.Hours)0===p&&-12===e&&(p=12);else if(n===Ut.FractionalSeconds)return function oi(n,t){return xn(n,3).substring(0,t)}(p,t);const v=ke(u,oe.MinusSign);return xn(p,t,v,i,o)}}function an(n,t,e=V.Format,i=!1){return function(o,l){return function Vn(n,t,e,i,o,l){switch(e){case $t.Months:return function ot(n,t,e){const i=(0,s.H5H)(n),l=Xe([i[s.KH2.MonthsFormat],i[s.KH2.MonthsStandalone]],t);return Xe(l,e)}(t,o,i)[n.getMonth()];case $t.Days:return function Qe(n,t,e){const i=(0,s.H5H)(n),l=Xe([i[s.KH2.DaysFormat],i[s.KH2.DaysStandalone]],t);return Xe(l,e)}(t,o,i)[n.getDay()];case $t.DayPeriods:const u=n.getHours(),p=n.getMinutes();if(l){const M=function $n(n){const t=(0,s.H5H)(n);return on(t),(t[s.KH2.ExtraData][2]||[]).map(i=>"string"==typeof i?Ne(i):[Ne(i[0]),Ne(i[1])])}(t),b=function sn(n,t,e){const i=(0,s.H5H)(n);on(i);const l=Xe([i[s.KH2.ExtraData][0],i[s.KH2.ExtraData][1]],t)||[];return Xe(l,e)||[]}(t,o,i),S=M.findIndex(z=>{if(Array.isArray(z)){const[re,Be]=z,We=u>=re.hours&&p>=re.minutes,Je=u<Be.hours||u===Be.hours&&p<Be.minutes;if(re.hours<Be.hours){if(We&&Je)return!0}else if(We||Je)return!0}else if(z.hours===u&&z.minutes===p)return!0;return!1});if(-1!==S)return b[S]}return function le(n,t,e){const i=(0,s.H5H)(n),l=Xe([i[s.KH2.DayPeriodsFormat],i[s.KH2.DayPeriodsStandalone]],t);return Xe(l,e)}(t,o,i)[u<12?0:1];case $t.Eras:return function xt(n,t){return Xe((0,s.H5H)(n)[s.KH2.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,i)}}function Yn(n){return function(t,e,i){const o=-1*i,l=ke(e,oe.MinusSign),u=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case wt.Short:return(o>=0?"+":"")+xn(u,2,l)+xn(Math.abs(o%60),2,l);case wt.ShortGMT:return"GMT"+(o>=0?"+":"")+xn(u,1,l);case wt.Long:return"GMT"+(o>=0?"+":"")+xn(u,2,l)+":"+xn(Math.abs(o%60),2,l);case wt.Extended:return 0===i?"Z":(o>=0?"+":"")+xn(u,2,l)+":"+xn(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const po=0,Ni=4;function Ji(n){return kn(n.getFullYear(),n.getMonth(),n.getDate()+(Ni-n.getDay()))}function ri(n,t=!1){return function(e,i){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();o=1+Math.floor((u+l)/7)}else{const l=Ji(e),u=function mo(n){const t=kn(n,po,1).getDay();return kn(n,0,1+(t<=Ni?Ni:Ni+7)-t)}(l.getFullYear()),p=l.getTime()-u.getTime();o=1+Math.round(p/6048e5)}return xn(o,n,ke(i,oe.MinusSign))}}function Zn(n,t=!1){return function(e,i){return xn(Ji(e).getFullYear(),n,ke(i,oe.MinusSign),t)}}const Co={};function ao(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function tt(n){return n instanceof Date&&!isNaN(n.valueOf())}function si(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}const ni=/\s+/,zi=[];let So=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this.initialClasses=zi,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ni):zi}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ni):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ni).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s._q3),s.rXU(s.MKu),s.rXU(s.aKT),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class li{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _n=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,u)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new li(o.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,u),Br(p,o)}});for(let o=0,l=i.length;o<l;o++){const p=i.get(o).context;p.index=o,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Br(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Br(n,t){n.context.$implicit=t.item}let yi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.c1b),s.rXU(s.C4Q))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function Zr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.Tbb)(t)}'.`)}function Z(n,t){return new s.wOt(2100,!1)}class he{createSubscription(t,e){return(0,s.O8t)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,s.O8t)(()=>t.unsubscribe())}}class He{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Le=new He,ut=new he;let ct=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.jNT)(e))return Le;if((0,s.zjR)(e))return ut;throw Z()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.gRc,16))}}static{this.\u0275pipe=s.EJ8({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Vt=new s.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Ln=new s.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Tn=(()=>{class n{constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,l){if(null==e||""===e||e!=e)return null;try{return Fn(e,i??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Z()}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.xe9,16),s.rXU(Vt,24),s.rXU(Ln,24))}}static{this.\u0275pipe=s.EJ8({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Vr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();const Ii="browser";function sa(n){return n===Ii}function Ga(n){return"server"===n}let Ho=(()=>{class n{static{this.\u0275prov=(0,s.jDH)({token:n,providedIn:"root",factory:()=>new To((0,s.KVO)(ye),window)})}}return n})();class To{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Hr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ur{}class Rd extends Ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ml extends Rd{static makeCurrent(){!function ue(n){Y||(Y=n)}(new Ml)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function b3(){return w1=w1||document.querySelector("base"),w1?w1.getAttribute("href"):null}();return null==e?null:function wg(n){x2=x2||document.createElement("a"),x2.setAttribute("href",n);const t=x2.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){w1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return si(document.cookie,t)}}let x2,w1=null,Ld=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const Nd=new s.nKC("EventManagerPlugins");let yg=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(l=>l.supports(e)),!i)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Nd),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();class I3{constructor(t){this._doc=t}}const Cl="ng-app-id";let zd=(()=>{class n{constructor(e,i,o,l={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ga(l),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Cl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const l=o.get(e);return l.usage+=i,l.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===e)return o.delete(i),l.removeAttribute(Cl),l;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Cl,this.appId),u}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const l=this.styleRef,u=l.get(i)?.elements;u?u.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ye),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const y1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},js=/%COMP%/g,_g=new s.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function x1(n,t){return t.map(e=>e.replace(js,n))}let mi=(()=>{class n{constructor(e,i,o,l,u,p,v,M=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=u,this.platformId=p,this.ngZone=v,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Ga(p),this.defaultRenderer=new M1(e,u,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===s.gXe.ShadowDom&&(i={...i,encapsulation:s.gXe.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof Ir?o.applyToHost(e):o instanceof ca&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const u=this.doc,p=this.ngZone,v=this.eventManager,M=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(i.encapsulation){case s.gXe.Emulated:l=new Ir(v,M,i,this.appId,b,u,p,S);break;case s.gXe.ShadowDom:return new jd(v,M,e,i,u,p,this.nonce,S);default:l=new ca(v,M,i,b,u,p,S)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(yg),s.KVO(zd),s.KVO(s.sZ2),s.KVO(_g),s.KVO(ye),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();class M1{constructor(t,e,i,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(y1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Vd(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Vd(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new s.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=y1[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=y1[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(s.czy.DashCase|s.czy.Important)?t.style.setProperty(e,i,o&s.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=L().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Vd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jd extends M1{constructor(t,e,i,o,l,u,p,v){super(t,l,u,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=x1(o.id,o.styles);for(const b of M){const S=document.createElement("style");p&&S.setAttribute("nonce",p),S.textContent=b,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ca extends M1{constructor(t,e,i,o,l,u,p,v){super(t,l,u,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=v?x1(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ir extends ca{constructor(t,e,i,o,l,u,p,v){const M=o+"-"+i.id;super(t,e,i,l,u,p,v,M),this.contentAttr=function Cs(n){return"_ngcontent-%COMP%".replace(js,n)}(M),this.hostAttr=function Bd(n){return"_nghost-%COMP%".replace(js,n)}(M)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let bl=(()=>{class n extends I3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ye))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const k3=["alt","control","meta","shift"],la={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ua={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Hd=(()=>{class n extends I3{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let u="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),u="code."),k3.forEach(M=>{const b=i.indexOf(M);b>-1&&(i.splice(b,1),u+=M+".")}),u+=l,0!=i.length||0===l.length)return null;const v={};return v.domEventName=o,v.fullKey=u,v}static matchEventFullKeyCode(e,i){let o=la[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(o=e.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),k3.forEach(u=>{u!==o&&(0,ua[u])(e)&&(l+=u+".")}),l+=o,l===i)}static eventCallback(e,i,o){return l=>{n.matchEventFullKeyCode(l,e)&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ye))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const O3=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:Ii},{provide:s.PLl,useValue:function C2(){Ml.makeCurrent()},multi:!0},{provide:ye,useFactory:function Il(){return(0,s.TL$)(document),document},deps:[]}]),Ud=new s.nKC(""),$d=[{provide:s.e01,useClass:class E3{addToWindow(t){s.JZv.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new s.wOt(5103,!1);return l},s.JZv.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>t.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(i=>{const o=s.JZv.getAllAngularTestabilities();let l=o.length,u=!1;const p=function(v){u=u||v,l--,0==l&&i(u)};o.forEach(v=>{v.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],Tc=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function En(){return new s.zcH},deps:[]},{provide:Nd,useClass:bl,multi:!0,deps:[ye,s.SKi,s.Agw]},{provide:Nd,useClass:Hd,multi:!0,deps:[ye]},mi,zd,yg,{provide:s._9s,useExisting:mi},{provide:Ur,useClass:Ld,deps:[]},[]];let Ya=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.sZ2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ud,12))}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[...Tc,...$d],imports:[Vr,s.Hbi]})}}return n})(),Sl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ye))}}static{this.\u0275prov=s.jDH({token:n,factory:function(i){let o=null;return o=i?new i:function b2(){return new Sl((0,s.KVO)(ye))}(),o},providedIn:"root"})}}return n})();typeof window<"u"&&window;var yo=k(1985),$o=k(8071),ki=k(8455),Lt=k(7673),eo=k(4412);const{isArray:b1}=Array,{getPrototypeOf:Ol,prototype:T2,keys:Zo}=Object;function Es(n){if(1===n.length){const t=n[0];if(b1(t))return{args:t,keys:null};if(function Ci(n){return n&&"object"==typeof n&&Ol(n)===T2}(t)){const e=Zo(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Is=k(3669),Bt=k(6354);const{isArray:z3}=Array;function Pl(n){return(0,Bt.T)(t=>function F3(n,t){return z3(t)?n(...t):n(t)}(n,t))}var ha=k(9326);function Oc(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}var Ti=k(4360),B3=k(5225);function dr(...n){const t=(0,ha.lI)(n),e=(0,ha.ms)(n),{args:i,keys:o}=Es(n);if(0===i.length)return(0,ki.H)([],t);const l=new yo.c(function Rl(n,t,e=Is.D){return i=>{Qa(t,()=>{const{length:o}=n,l=new Array(o);let u=o,p=o;for(let v=0;v<o;v++)Qa(t,()=>{const M=(0,ki.H)(n[v],t);let b=!1;M.subscribe((0,Ti._)(i,S=>{l[v]=S,b||(b=!0,p--),p||i.next(e(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,o?u=>Oc(o,u):Is.D));return e?l.pipe(Pl(e)):l}function Qa(n,t,e){n?(0,B3.N)(e,n,t):t()}const fa=(0,k(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ga=k(6365);function hr(...n){return function V3(){return(0,ga.U)(1)}()((0,ki.H)(n,(0,ha.lI)(n)))}var Ar=k(8750);function Ll(n){return new yo.c(t=>{(0,Ar.Tg)(n()).subscribe(t)})}var qd=k(1203);function ss(n,t){const e=(0,$o.T)(n)?n:()=>n,i=o=>o.error(e());return new yo.c(t?o=>t.schedule(i,0,o):i)}var As=k(983),P2=k(8359),_o=k(9974);function R2(){return(0,_o.N)((n,t)=>{let e=null;n._refCount++;const i=(0,Ti._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class L2 extends yo.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,_o.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new P2.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Ti._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=P2.yU.EMPTY)}return t}refCount(){return R2()(this)}}var Xi=k(1413),Pn=k(5558);function $i(n){return n<=0?()=>As.w:(0,_o.N)((t,e)=>{let i=0;t.subscribe((0,Ti._)(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function Hs(...n){const t=(0,ha.lI)(n);return(0,_o.N)((e,i)=>{(t?hr(n,e,t):hr(n,e)).subscribe(i)})}function Bi(n,t){return(0,_o.N)((e,i)=>{let o=0;e.subscribe((0,Ti._)(i,l=>n.call(t,l,o++)&&i.next(l)))})}var Vi=k(1397);function N2(n){return(0,_o.N)((t,e)=>{let i=!1;t.subscribe((0,Ti._)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function z2(n=Nl){return(0,_o.N)((t,e)=>{let i=!1;t.subscribe((0,Ti._)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function Nl(){return new fa}function pa(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bi((o,l)=>n(o,l,i)):Is.D,$i(1),e?N2(t):z2(()=>new fa))}function Ro(n,t){return(0,$o.T)(t)?(0,Vi.Z)(n,t,1):(0,Vi.Z)(n,1)}var to=k(8141);function uo(n){return(0,_o.N)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,Ti._)(e,void 0,void 0,u=>{l=(0,Ar.Tg)(n(u,uo(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}function Ja(n,t){return(0,_o.N)(function zl(n,t,e,i,o){return(l,u)=>{let p=e,v=t,M=0;l.subscribe((0,Ti._)(u,b=>{const S=M++;v=p?n(v,b,S):(p=!0,b),i&&u.next(v)},o&&(()=>{p&&u.next(v),u.complete()})))}}(n,t,arguments.length>=2,!0))}function Pc(n){return n<=0?()=>As.w:(0,_o.N)((t,e)=>{let i=[];t.subscribe((0,Ti._)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function F2(n){return(0,Bt.T)(()=>n)}function ma(n){return(0,_o.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Bl=k(5343);const An="primary",E1=Symbol("RouteTitle");class Vl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gr(n){return new Vl(n)}function V2(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const u=i[l],p=n[l];if(u.startsWith(":"))o[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function as(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!Za(n[o],t[o]))return!1;return!0}function Za(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function Yd(n){return n.length>0?n[n.length-1]:null}function Oi(n){return function Tl(n){return!!n&&(n instanceof yo.c||(0,$o.T)(n.lift)&&(0,$o.T)(n.subscribe))}(n)?n:(0,s.jNT)(n)?(0,ki.H)(Promise.resolve(n)):(0,Lt.of)(n)}const j3={exact:function H2(n,t,e){if(!ic(n.segments,t.segments)||!cs(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!H2(n.children[i],t.children[i],e))return!1;return!0},subset:ec},j2={exact:function H3(n,t){return as(n,t)},subset:function U2(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Za(n[e],t[e]))},ignored:()=>!0};function jl(n,t,e){return j3[e.paths](n.root,t.root,e.matrixParams)&&j2[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ec(n,t,e){return tc(n,t,t.segments,e)}function tc(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!ic(o,e)||t.hasChildren()||!cs(o,e,i))}if(n.segments.length===e.length){if(!ic(n.segments,e)||!cs(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!ec(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(ic(n.segments,o)&&cs(n.segments,o,i)&&n.children[An])&&tc(n.children[An],t,l,i)}}function cs(n,t,e){return t.every((i,o)=>j2[e](n[o].parameters,i.parameters))}class nc{constructor(t=new di([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return Ag.serialize(this)}}class di{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $2(this)}}class ks{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gr(this.parameters)),this._parameterMap}toString(){return G2(this)}}function ic(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let I1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return new Qd},providedIn:"root"})}}return n})();class Qd{parse(t){const e=new K2(t);return new nc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Hl(t.root,!0)}`,i=function Lc(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${Rc(e)}=${Rc(o)}`).join("&"):`${Rc(e)}=${Rc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function $3(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ag=new Qd;function $2(n){return n.segments.map(t=>G2(t)).join("/")}function Hl(n,t){if(!n.hasChildren())return $2(n);if(t){const e=n.children[An]?Hl(n.children[An],!1):"",i=[];return Object.entries(n.children).forEach(([o,l])=>{o!==An&&i.push(`${o}:${Hl(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function U3(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===An&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==An&&(e=e.concat(t(o,i)))}),e}(n,(i,o)=>o===An?[Hl(n.children[An],!1)]:[`${o}:${Hl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${$2(n)}/${e[0]}`:`${$2(n)}/(${e.join("//")})`}}function Us(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rc(n){return Us(n).replace(/%3B/gi,";")}function Gi(n){return Us(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(n){return decodeURIComponent(n)}function oc(n){return Ul(n.replace(/\+/g,"%20"))}function G2(n){return`${Gi(n.path)}${function fr(n){return Object.keys(n).map(t=>`;${Gi(t)}=${Gi(n[t])}`).join("")}(n.parameters)}`}const G3=/^[^\/()?;#]+/;function va(n){const t=n.match(G3);return t?t[0]:""}const Nc=/^[^\/()?;=#]+/,K3=/^[^=?&#]+/,kg=/^[^&#]+/;class K2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new di([],{}):new di([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[An]=new di(t,e)),i}parseSegment(){const t=va(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(t),new ks(Ul(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function $l(n){const t=n.match(Nc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=va(this.remaining);o&&(i=o,this.capture(i))}t[Ul(e)]=Ul(i)}parseQueryParam(t){const e=function Jd(n){const t=n.match(K3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function kr(n){const t=n.match(kg);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const o=oc(e),l=oc(i);if(t.hasOwnProperty(o)){let u=t[o];Array.isArray(u)||(u=[u],t[o]=u),u.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=va(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new s.wOt(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=An);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[An]:new di([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.wOt(4011,!1)}}function rc(n){return n.segments.length>0?new di([],{[An]:n}):n}function W3(n){const t={};for(const i of Object.keys(n.children)){const l=W3(n.children[i]);if(i===An&&0===l.segments.length&&l.hasChildren())for(const[u,p]of Object.entries(l.children))t[u]=p;else(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function W2(n){if(1===n.numberOfChildren&&n.children[An]){const t=n.children[An];return new di(n.segments.concat(t.segments),t.children)}return n}(new di(n.segments,t))}function sc(n){return n instanceof nc}function wa(n){let t;const o=rc(function e(l){const u={};for(const v of l.children){const M=e(v);u[v.outlet]=M}const p=new di(l.url,u);return l===n&&(t=p),p}(n.root));return t??o}function Zd(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return A1(o,o,o,e,i);const l=function Kl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new e4(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Object.entries(l.outlets).forEach(([v,M])=>{p[v]="string"==typeof M?M.split("/"):M}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===u?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new e4(e,t,i)}(t);if(l.toRoot())return A1(o,o,new di([],{}),e,i);const u=function Wl(n,t,e){if(n.isAbsolute)return new zc(t,!0,0);if(!e)return new zc(t,!1,NaN);if(null===e.parent)return new zc(e,!0,0);const i=Gl(n.commands[0])?0:1;return function q3(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new s.wOt(4005,!1);o=i.segments.length}return new zc(i,!1,o-l)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(l,o,n),p=u.processChildren?ya(u.segmentGroup,u.index,l.commands):Xl(u.segmentGroup,u.index,l.commands);return A1(o,u.segmentGroup,p,e,i)}function Gl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ac(n){return"object"==typeof n&&null!=n&&n.outlets}function A1(n,t,e,i,o){let u,l={};i&&Object.entries(i).forEach(([v,M])=>{l[v]=Array.isArray(M)?M.map(b=>`${b}`):`${M}`}),u=n===t?e:cc(n,t,e);const p=rc(W3(u));return new nc(p,l,o)}function cc(n,t,e){const i={};return Object.entries(n.children).forEach(([o,l])=>{i[o]=l===t?e:cc(l,t,e)}),new di(n.segments,i)}class e4{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Gl(i[0]))throw new s.wOt(4003,!1);const o=i.find(ac);if(o&&o!==Yd(i))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Xl(n,t,e){if(n||(n=new di([],{})),0===n.segments.length&&n.hasChildren())return ya(n,t,e);const i=function t4(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const u=n.segments[o],p=e[i];if(ac(p))break;const v=`${p}`,M=i<e.length-1?e[i+1]:null;if(o>0&&void 0===v)break;if(v&&M&&"object"==typeof M&&void 0===M.outlets){if(!xa(v,M,u))return l;i+=2}else{if(!xa(v,{},u))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new di(n.segments.slice(0,i.pathIndex),{});return l.children[An]=new di(n.segments.slice(i.pathIndex),n.children),ya(l,0,o)}return i.match&&0===o.length?new di(n.segments,{}):i.match&&!n.hasChildren()?q2(n,t,e):i.match?ya(n,0,o):q2(n,t,e)}function ya(n,t,e){if(0===e.length)return new di(n.segments,{});{const i=function ql(n){return ac(n[0])?n[0].outlets:{[An]:n}}(e),o={};if(Object.keys(i).some(l=>l!==An)&&n.children[An]&&1===n.numberOfChildren&&0===n.children[An].segments.length){const l=ya(n.children[An],t,e);return new di(n.segments,l.children)}return Object.entries(i).forEach(([l,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=Xl(n.children[l],t,u))}),Object.entries(n.children).forEach(([l,u])=>{void 0===i[l]&&(o[l]=u)}),new di(n.segments,o)}}function q2(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(ac(l)){const v=X3(l.outlets);return new di(i,v)}if(0===o&&Gl(e[0])){i.push(new ks(n.segments[t].path,_a(e[0]))),o++;continue}const u=ac(l)?l.outlets[An]:`${l}`,p=o<e.length-1?e[o+1]:null;u&&p&&Gl(p)?(i.push(new ks(u,_a(p))),o+=2):(i.push(new ks(u,{})),o++)}return new di(i,{})}function X3(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=q2(new di([],{}),0,i))}),t}function _a(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function xa(n,t,e){return n==e.path&&as(t,e.parameters)}const k1="imperative";class $s{constructor(t,e){this.id=t,this.url=e}}class Ma extends $s{constructor(t,e,i="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ls extends $s{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends $s{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fc extends $s{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=16}}class lc extends $s{constructor(t,e,i,o){super(t,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n4 extends $s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends $s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends $s{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o4 extends $s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends $s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class s4{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tg{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S1{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D1{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q3{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class a4{}class T1{constructor(t){this.url=t}}class J3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ca,this.attachRef=null}}let Ca=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new J3,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class X2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Y2(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Y2(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Q2(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Q2(t,this._root).map(e=>e.value)}}function Y2(n,t){if(n===t.value)return t;for(const e of t.children){const i=Y2(n,e);if(i)return i}return null}function Q2(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Q2(n,e);if(i.length)return i.unshift(t),i}return[]}class gr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class er extends X2{constructor(t,e){super(t),this.snapshot=e,Vc(this,t)}toString(){return this.snapshot.toString()}}function uc(n,t){const e=function J2(n,t){const u=new dc([],{},{},"",{},An,t,null,{});return new Bc("",new gr(u,[]))}(0,t),i=new eo.t([new ks("",{})]),o=new eo.t({}),l=new eo.t({}),u=new eo.t({}),p=new eo.t(""),v=new Lo(i,o,u,p,l,An,t,e.root);return v.snapshot=e.root,new er(new gr(v,[]),e)}class Lo{constructor(t,e,i,o,l,u,p,v){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=l,this.outlet=u,this.component=p,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Bt.T)(M=>M[E1]))??(0,Lt.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.T)(t=>Gr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.T)(t=>Gr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function O1(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function Jl(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class dc{get title(){return this.data?.[E1]}constructor(t,e,i,o,l,u,p,v,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=u,this.component=p,this.routeConfig=v,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bc extends X2{constructor(t,e){super(e),this.url=t,Vc(this,e)}toString(){return Ks(this._root)}}function Vc(n,t){t.value._routerState=n,t.children.forEach(e=>Vc(n,e))}function Ks(n){const t=n.children.length>0?` { ${n.children.map(Ks).join(", ")} } `:"";return`${n.value}${t}`}function Zl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,as(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),as(t.params,e.params)||n.paramsSubject.next(e.params),function Xd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!as(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),as(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Z2(n,t){const e=as(n.params,t.params)&&function Ig(n,t){return ic(n,t)&&n.every((e,i)=>as(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Z2(n.parent,t.parent))}let eu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(Ca),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(P1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=e;const o=this.location,u=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new tu(e,p,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}}return n})();class tu{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Lo?this.route:t===Ca?this.childContexts:this.parent.get(t,e)}}const P1=new s.nKC("");let tr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=dr([i.queryParams,i.params,i.data]).pipe((0,Pn.n)(([l,u,p],v)=>(p={...l,...u,...p},0===v?(0,Lt.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const u=(0,s.HJs)(i.component);if(u)for(const{templateName:p}of u.inputs)e.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function ba(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function Z3(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return ba(n,i,o);return ba(n,i)})}(n,t,e);return new gr(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(p=>ba(n,p)),u}}const i=function Ws(n){return new Lo(new eo.t(n.url),new eo.t(n.params),new eo.t(n.queryParams),new eo.t(n.fragment),new eo.t(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>ba(n,l));return new gr(i,o)}}const ho="ngNavigationCancelingError";function R1(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=sc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=e0(!1,0,t);return o.url=e,o.navigationBehaviorOptions=i,o}function e0(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[ho]=!0,i.cancellationCode=t,e&&(i.url=e),i}function xo(n){return n&&n[ho]}let hc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(i,o){1&i&&s.nrm(0,"router-outlet")},dependencies:[eu],encapsulation:2})}}return n})();function ge(n){const t=n.children&&n.children.map(ge),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==An&&(e.component=hc),e}function Re(n){return n.outlet||An}function It(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ki{constructor(t,e,i,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Zl(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=Gs(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,o[u],i),delete o[u]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const u=i.getContext(o.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Gs(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],o);if(i&&i.outlet){const u=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=Gs(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const o=Gs(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new D1(l.value.snapshot))}),t.children.length&&this.forwardEvent(new S1(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(Zl(o),o===l)if(o.component){const u=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const u=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),Zl(p.route.value),this.activateChildRoutes(t,null,u.children)}else{const p=It(o.snapshot);u.attachRef=null,u.route=o,u.injector=p,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Sr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ea{constructor(t,e){this.component=t,this.route=e}}function ou(n,t,e){const i=n._root;return fc(i,t?t._root:null,e,[i.value])}function Ss(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.LfX)(n)?t.get(n):n:i}function fc(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Gs(t);return n.children.forEach(u=>{(function L1(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const v=function N1(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ic(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ic(n.url,t.url)||!as(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z2(n,t)||!as(n.queryParams,t.queryParams);default:return!Z2(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Sr(i)):(l.data=u.data,l._resolvedData=u._resolvedData),fc(n,t,l.component?p?p.children:null:e,i,o),v&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new Ea(p.outlet.component,u))}else u&&jc(t,p,o),o.canActivateChecks.push(new Sr(i)),fc(n,null,l.component?p?p.children:null:e,i,o)})(u,l[u.value.outlet],e,i.concat([u.value]),o),delete l[u.value.outlet]}),Object.entries(l).forEach(([u,p])=>jc(p,e.getContext(u),o)),o}function jc(n,t,e){const i=Gs(n),o=n.value;Object.entries(i).forEach(([l,u])=>{jc(u,o.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Ea(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function gc(n){return"function"==typeof n}function Lg(n){return n instanceof fa||"EmptyError"===n?.name}const d4=Symbol("INITIAL_VALUE");function Hc(){return(0,Pn.n)(n=>dr(n.map(t=>t.pipe($i(1),Hs(d4)))).pipe((0,Bt.T)(t=>{for(const e of t)if(!0!==e){if(e===d4)return d4;if(!1===e||e instanceof nc)return e}return!0}),Bi(t=>t!==d4),$i(1)))}function o6(n){return(0,qd.F)((0,to.M)(t=>{if(sc(t))throw R1(0,t)}),(0,Bt.T)(t=>!0===t))}class t0{constructor(t){this.segmentGroup=t||null}}class r6{constructor(t){this.urlTree=t}}function pc(n){return ss(new t0(n))}function n0(n){return ss(new r6(n))}class f4{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new s.wOt(4002,!1)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,Lt.of)(i);if(o.numberOfChildren>1||!o.children[An])return ss(new s.wOt(4e3,!1));o=o.children[An]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new nc(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const p=l.substring(1);i[o]=e[p]}else i[o]=l}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let u={};return Object.entries(e.children).forEach(([p,v])=>{u[p]=this.createSegmentGroup(t,v,i,o)}),new di(l,u)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new s.wOt(4001,!1);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}const g4={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a6(n,t,e,i,o){const l=F1(n,t,e);return l.matched?(i=function c4(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Vg(n,t,e,i){const o=t.canMatch;if(!o||0===o.length)return(0,Lt.of)(!0);const l=o.map(u=>{const p=Ss(u,n);return Oi(function u4(n){return n&&gc(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))});return(0,Lt.of)(l).pipe(Hc(),o6())}(i,t,e).pipe((0,Bt.T)(u=>!0===u?l:{...g4}))):(0,Lt.of)(l)}function F1(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...g4}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||V2)(e,n,t);if(!o)return{...g4};const l={};Object.entries(o.posParams??{}).forEach(([p,v])=>{l[p]=v.path});const u=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function Hg(n,t,e,i){return e.length>0&&function o9(n,t,e){return e.some(i=>su(n,t,i)&&Re(i)!==An)}(n,e,i)?{segmentGroup:new di(t,i9(i,new di(e,n.children))),slicedSegments:[]}:0===e.length&&function r9(n,t,e){return e.some(i=>su(n,t,i))}(n,e,i)?{segmentGroup:new di(n.segments,Ug(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new di(n.segments,n.children),slicedSegments:e}}function Ug(n,t,e,i,o){const l={};for(const u of i)if(su(n,e,u)&&!o[Re(u)]){const p=new di([],{});l[Re(u)]=p}return{...o,...l}}function i9(n,t){const e={};e[An]=t;for(const i of n)if(""===i.path&&Re(i)!==An){const o=new di([],{});e[Re(i)]=o}return e}function su(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class o0{constructor(t,e,i,o,l,u,p){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=u,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new f4(this.urlSerializer,this.urlTree)}noMatchError(t){return new s.wOt(4002,!1)}recognize(){const t=Hg(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,An).pipe(uo(e=>{if(e instanceof r6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof t0?this.noMatchError(e):e}),(0,Bt.T)(e=>{const i=new dc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,{}),o=new gr(i,e),l=new Bc("",o),u=function Sg(n,t,e=null,i=null){return Zd(wa(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(l._root),{state:l,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,An).pipe(uo(i=>{throw i instanceof t0?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=O1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,o,!0)}processChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,ki.H)(o).pipe(Ro(l=>{const u=i.children[l],p=function pt(n,t){const e=n.filter(i=>Re(i)===t);return e.push(...n.filter(i=>Re(i)!==t)),e}(e,l);return this.processSegmentGroup(t,p,u,l)}),Ja((l,u)=>(l.push(...u),l)),N2(null),function Fl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bi((o,l)=>n(o,l,i)):Is.D,Pc(1),e?N2(t):z2(()=>new fa))}(),(0,Vi.Z)(l=>{if(null===l)return pc(i);const u=c9(l);return function s9(n){n.sort((t,e)=>t.value.outlet===An?-1:e.value.outlet===An?1:t.value.outlet.localeCompare(e.value.outlet))}(u),(0,Lt.of)(u)}))}processSegment(t,e,i,o,l,u){return(0,ki.H)(e).pipe(Ro(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,o,l,u).pipe(uo(v=>{if(v instanceof t0)return(0,Lt.of)(null);throw v}))),pa(p=>!!p),uo(p=>{if(Lg(p))return function p4(n,t,e){return 0===t.length&&!n.children[e]}(i,o,l)?(0,Lt.of)([]):pc(i);throw p}))}processSegmentAgainstRoute(t,e,i,o,l,u,p){return function $g(n,t,e,i){return!!(Re(n)===i||i!==An&&su(t,e,n))&&("**"===n.path||F1(t,n,e).matched)}(i,o,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,o,i,l,u,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,l,u):pc(o):pc(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,u){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?n0(l):this.applyRedirects.lineralizeSegments(i,l).pipe((0,Vi.Z)(u=>{const p=new di(u,{});return this.processSegment(t,e,p,u,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,u){const{matched:p,consumedSegments:v,remainingSegments:M,positionalParamSegments:b}=F1(e,o,l);if(!p)return pc(e);const S=this.applyRedirects.applyRedirectCommands(v,o.redirectTo,b);return o.redirectTo.startsWith("/")?n0(S):this.applyRedirects.lineralizeSegments(o,S).pipe((0,Vi.Z)(z=>this.processSegment(t,i,e,z.concat(M),u,!1)))}matchSegmentAgainstRoute(t,e,i,o,l,u){let p;if("**"===i.path){const v=o.length>0?Yd(o).parameters:{},M=new dc(o,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m4(i),Re(i),i.component??i._loadedComponent??null,i,Gg(i));p=(0,Lt.of)({snapshot:M,consumedSegments:[],remainingSegments:[]}),e.children={}}else p=a6(e,i,o,t).pipe((0,Bt.T)(({matched:v,consumedSegments:M,remainingSegments:b,parameters:S})=>v?{snapshot:new dc(M,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m4(i),Re(i),i.component??i._loadedComponent??null,i,Gg(i)),consumedSegments:M,remainingSegments:b}:null));return p.pipe((0,Pn.n)(v=>null===v?pc(e):this.getChildConfig(t=i._injector??t,i,o).pipe((0,Pn.n)(({routes:M})=>{const b=i._loadedInjector??t,{snapshot:S,consumedSegments:z,remainingSegments:re}=v,{segmentGroup:Be,slicedSegments:We}=Hg(e,z,re,M);if(0===We.length&&Be.hasChildren())return this.processChildren(b,M,Be).pipe((0,Bt.T)(Rt=>null===Rt?null:[new gr(S,Rt)]));if(0===M.length&&0===We.length)return(0,Lt.of)([new gr(S,[])]);const Je=Re(i)===l;return this.processSegment(b,M,Be,We,Je?An:l,!0).pipe((0,Bt.T)(Rt=>[new gr(S,Rt)]))}))))}getChildConfig(t,e,i){return e.children?(0,Lt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Lt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Bg(n,t,e,i){const o=t.canLoad;if(void 0===o||0===o.length)return(0,Lt.of)(!0);const l=o.map(u=>{const p=Ss(u,n);return Oi(function t6(n){return n&&gc(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))});return(0,Lt.of)(l).pipe(Hc(),o6())}(t,e,i).pipe((0,Vi.Z)(o=>o?this.configLoader.loadChildren(t,e).pipe((0,to.M)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function s6(n){return ss(e0(!1,3))}())):(0,Lt.of)({routes:[],injector:t})}}function a9(n){const t=n.value.routeConfig;return t&&""===t.path}function c9(n){const t=[],e=new Set;for(const i of n){if(!a9(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=c9(i.children);t.push(new gr(i.value,o))}return t.filter(i=>!e.has(i))}function m4(n){return n.data||{}}function Gg(n){return n.resolve||{}}function u6(n){return"string"==typeof n.title||null===n.title}function d6(n){return(0,Pn.n)(t=>{const e=n(t);return e?(0,ki.H)(e).pipe((0,Bt.T)(()=>t)):(0,Lt.of)(t)})}const s0=new s.nKC("ROUTES");let h6=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Lt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Oi(e.loadComponent()).pipe((0,Bt.T)(mc),(0,to.M)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),ma(()=>{this.componentLoaders.delete(e)})),o=new L2(i,()=>new Xi.B).pipe(R2());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Lt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=function l9(n,t,e,i){return Oi(n.loadChildren()).pipe((0,Bt.T)(mc),(0,Vi.Z)(o=>o instanceof s.Co$||Array.isArray(o)?(0,Lt.of)(o):(0,ki.H)(t.compileModuleAsync(o))),(0,Bt.T)(o=>{i&&i(n);let l,u,p=!1;return Array.isArray(o)?(u=o,!0):(l=o.create(e).injector,u=l.get(s0,[],{optional:!0,self:!0}).flat()),{routes:u.map(ge),injector:l}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(ma(()=>{this.childrenLoaders.delete(i)})),u=new L2(l,()=>new Xi.B).pipe(R2());return this.childrenLoaders.set(i,u),u}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mc(n){return function u9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Uc=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xi.B,this.transitionAbortSubject=new Xi.B,this.configLoader=(0,s.WQX)(h6),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(I1),this.rootContexts=(0,s.WQX)(Ca),this.inputBindingEnabled=null!==(0,s.WQX)(P1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new s4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Dg(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new eo.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:k1,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bi(l=>0!==l.id),(0,Bt.T)(l=>({...l,extractedUrl:e.urlHandlingStrategy.extract(l.rawUrl)})),(0,Pn.n)(l=>{this.currentTransition=l;let u=!1,p=!1;return(0,Lt.of)(l).pipe((0,to.M)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pn.n)(v=>{const M=v.currentBrowserUrl.toString(),b=!e.navigated||v.extractedUrl.toString()!==M||M!==v.currentUrlTree.toString();if(!b&&"reload"!==(v.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const z="";return this.events.next(new Fc(v.id,this.urlSerializer.serialize(v.rawUrl),z,0)),v.resolve(null),As.w}if(e.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,Lt.of)(v).pipe((0,Pn.n)(z=>{const re=this.transitions?.getValue();return this.events.next(new Ma(z.id,this.urlSerializer.serialize(z.extractedUrl),z.source,z.restoredState)),re!==this.transitions?.getValue()?As.w:Promise.resolve(z)}),function r0(n,t,e,i,o,l){return(0,Vi.Z)(u=>function c6(n,t,e,i,o,l,u="emptyOnly"){return new o0(n,t,e,i,o,u,l).recognize()}(n,t,e,i,u.extractedUrl,o,l).pipe((0,Bt.T)(({state:p,tree:v})=>({...u,targetSnapshot:p,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,to.M)(z=>{l.targetSnapshot=z.targetSnapshot,l.urlAfterRedirects=z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects};const re=new n4(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(re)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:z,extractedUrl:re,source:Be,restoredState:We,extras:Je}=v,Rt=new Ma(z,this.urlSerializer.serialize(re),Be,We);this.events.next(Rt);const Ht=uc(0,this.rootComponentType).snapshot;return this.currentTransition=l={...v,targetSnapshot:Ht,urlAfterRedirects:re,extras:{...Je,skipLocationChange:!1,replaceUrl:!1}},(0,Lt.of)(l)}{const z="";return this.events.next(new Fc(v.id,this.urlSerializer.serialize(v.extractedUrl),z,1)),v.resolve(null),As.w}}),(0,to.M)(v=>{const M=new Ql(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(M)}),(0,Bt.T)(v=>(this.currentTransition=l={...v,guards:ou(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},l)),function Ng(n,t){return(0,Vi.Z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?(0,Lt.of)({...e,guardsResult:!0}):function z1(n,t,e,i){return(0,ki.H)(n).pipe((0,Vi.Z)(o=>function n9(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Lt.of)(!0);const u=l.map(p=>{const v=It(t)??o,M=Ss(p,v);return Oi(function Pg(n){return n&&gc(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,i):v.runInContext(()=>M(n,t,e,i))).pipe(pa())});return(0,Lt.of)(u).pipe(Hc())}(o.component,o.route,e,t,i)),pa(o=>!0!==o,!0))}(u,i,o,n).pipe((0,Vi.Z)(p=>p&&function l4(n){return"boolean"==typeof n}(p)?function zg(n,t,e,i){return(0,ki.H)(t).pipe(Ro(o=>hr(function t9(n,t){return null!==n&&t&&t(new Tg(n)),(0,Lt.of)(!0)}(o.route.parent,i),function Fg(n,t){return null!==n&&t&&t(new Y3(n)),(0,Lt.of)(!0)}(o.route,i),function h4(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function Ia(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Ll(()=>{const p=u.guards.map(v=>{const M=It(u.node)??e,b=Ss(v,M);return Oi(function n6(n){return n&&gc(n.canActivateChild)}(b)?b.canActivateChild(i,n):M.runInContext(()=>b(i,n))).pipe(pa())});return(0,Lt.of)(p).pipe(Hc())}));return(0,Lt.of)(l).pipe(Hc())}(n,o.path,e),function _E(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Lt.of)(!0);const o=i.map(l=>Ll(()=>{const u=It(t)??e,p=Ss(l,u);return Oi(function ru(n){return n&&gc(n.canActivate)}(p)?p.canActivate(t,n):u.runInContext(()=>p(t,n))).pipe(pa())}));return(0,Lt.of)(o).pipe(Hc())}(n,o.route,e))),pa(o=>!0!==o,!0))}(i,l,n,t):(0,Lt.of)(p)),(0,Bt.T)(p=>({...e,guardsResult:p})))})}(this.environmentInjector,v=>this.events.next(v)),(0,to.M)(v=>{if(l.guardsResult=v.guardsResult,sc(v.guardsResult))throw R1(0,v.guardsResult);const M=new i4(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(M)}),Bi(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),d6(v=>{if(v.guards.canActivateChecks.length)return(0,Lt.of)(v).pipe((0,to.M)(M=>{const b=new o4(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(b)}),(0,Pn.n)(M=>{let b=!1;return(0,Lt.of)(M).pipe(function v4(n,t){return(0,Vi.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Lt.of)(e);let l=0;return(0,ki.H)(o).pipe(Ro(u=>function l6(n,t,e,i){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!u6(o)&&(l[E1]=o.title),function Kg(n,t,e,i){const o=function Wg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Lt.of)({});const l={};return(0,ki.H)(o).pipe((0,Vi.Z)(u=>function qg(n,t,e,i){const o=It(t)??i,l=Ss(n,o);return Oi(l.resolve?l.resolve(t,e):o.runInContext(()=>l(t,e)))}(n[u],t,e,i).pipe(pa(),(0,to.M)(p=>{l[u]=p}))),Pc(1),F2(l),uo(u=>Lg(u)?As.w:ss(u)))}(l,n,t,i).pipe((0,Bt.T)(u=>(n._resolvedData=u,n.data=O1(n,e).resolve,o&&u6(o)&&(n.data[E1]=o.title),null)))}(u.route,i,n,t)),(0,to.M)(()=>l++),Pc(1),(0,Vi.Z)(u=>l===o.length?(0,Lt.of)(e):As.w))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,to.M)({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(M,"",2)}}))}),(0,to.M)(M=>{const b=new r4(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(b)}))}),d6(v=>{const M=b=>{const S=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,to.M)(z=>{b.component=z}),(0,Bt.T)(()=>{})));for(const z of b.children)S.push(...M(z));return S};return dr(M(v.targetSnapshot.root)).pipe(N2(),$i(1))}),d6(()=>this.afterPreactivation()),(0,Bt.T)(v=>{const M=function nu(n,t,e){const i=ba(n,t._root,e?e._root:void 0);return new er(i,t)}(e.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=l={...v,targetRouterState:M},l}),(0,to.M)(()=>{this.events.next(new a4)}),((n,t,e,i)=>(0,Bt.T)(o=>(new Ki(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),$i(1),(0,to.M)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ls(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),e.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),function B2(n){return(0,_o.N)((t,e)=>{(0,Ar.Tg)(n).subscribe((0,Ti._)(e,()=>e.complete(),Bl.l)),!e.closed&&t.subscribe(e)})}(this.transitionAbortSubject.pipe((0,to.M)(v=>{throw v}))),ma(()=>{u||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),uo(v=>{if(p=!0,xo(v))this.events.next(new Yl(l.id,this.urlSerializer.serialize(l.extractedUrl),v.message,v.cancellationCode)),function iu(n){return xo(n)&&sc(n.url)}(v)?this.events.next(new T1(v.url)):l.resolve(!1);else{this.events.next(new lc(l.id,this.urlSerializer.serialize(l.extractedUrl),v,l.targetSnapshot??void 0));try{l.resolve(e.errorHandler(v))}catch(M){l.reject(M)}}return As.w}))}))}cancelNavigationTransition(e,i,o){const l=new Yl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(l),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xg(n){return n!==k1}let d9=(()=>{class n{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===An);return i}getResolvedTitleForRoute(e){return e.data[E1]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(ME)},providedIn:"root"})}}return n})(),ME=(()=>{class n extends d9{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Sl))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),h9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(bE)},providedIn:"root"})}}return n})();class CE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let bE=(()=>{class n extends CE{static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const au=new s.nKC("",{providedIn:"root",factory:()=>({})});let f9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:function(){return(0,s.WQX)(g9)},providedIn:"root"})}}return n})(),g9=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(cu||{});function Yg(n,t){n.events.pipe(Bi(e=>e instanceof ls||e instanceof Yl||e instanceof lc||e instanceof Fc),(0,Bt.T)(e=>e instanceof ls||e instanceof Fc?cu.COMPLETE:e instanceof Yl&&(0===e.code||1===e.code)?cu.REDIRECTING:cu.FAILED),Bi(e=>e!==cu.REDIRECTING),$i(1)).subscribe(()=>{t()})}function f6(n){throw n}function vc(n,t,e){return t.parse("/")}const lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.WQX)(s.H3F),this.isNgZoneEnabled=!1,this._events=new Xi.B,this.options=(0,s.WQX)(au,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.$K3),this.errorHandler=this.options.errorHandler||f6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.WQX)(f9),this.routeReuseStrategy=(0,s.WQX)(h9),this.titleStrategy=(0,s.WQX)(d9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.WQX)(s0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.WQX)(Uc),this.urlSerializer=(0,s.WQX)(I1),this.location=(0,s.WQX)(fe),this.componentInputBindingEnabled=!!(0,s.WQX)(P1,{optional:!0}),this.eventsSubscription=new P2.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uc(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(p9(i)&&this._events.next(i));if(i instanceof Ma)Xg(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Fc)this.rawUrlTree=o.rawUrl;else if(i instanceof n4){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof a4)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Yl)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof T1){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xg(o.source)};this.scheduleNavigation(l,k1,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof lc&&this.restoreHistory(o,!0),i instanceof ls&&(this.navigated=!0),p9(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),k1,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const l={replaceUrl:!0},u=o?.navigationId?o:null;if(o){const v={...o};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,u,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ge),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:u,queryParamsHandling:p,preserveFragment:v}=i,M=v?this.currentUrlTree.fragment:u;let S,b=null;switch(p){case"merge":b={...this.currentUrlTree.queryParams,...l};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=l||null}null!==b&&(b=this.removeEmptyProps(b));try{S=wa(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),S=this.currentUrlTree.root}return Zd(S,e,b,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=sc(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,k1,null,i)}navigate(e,i={skipLocationChange:!1}){return function Jg(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new s.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...lu}:!1===i?{...Qg}:i,sc(e))return jl(this.currentUrlTree,e,o);const l=this.parseUrl(e);return jl(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(e,i,o,l,u){if(this.disposed)return Promise.resolve(!1);let p,v,M;u?(p=u.resolve,v=u.reject,M=u.promise):M=new Promise((S,z)=>{p=S,v=z});const b=this.pendingTasks.add();return Yg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:l,resolve:p,reject:v,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",u)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function p9(n){return!(n instanceof a4||n instanceof T1)}let $c=(()=>{class n{constructor(e,i,o,l,u,p){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=u,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new Xi.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(M=>{M instanceof ls&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,l,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||l||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,l=this.el.nativeElement;null!==i?o.setAttribute(l,e,i):o.removeAttribute(l,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(_i),s.rXU(Lo),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(se))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){1&i&&s.bIt("click",function(u){return o.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&s.BMQ("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.L39],skipLocationChange:["skipLocationChange","skipLocationChange",s.L39],replaceUrl:["replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}}return n})();class w4{}let Zg=(()=>{class n{constructor(e,i,o,l,u){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(e=>e instanceof ls),Ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,s.Ol2)(l.providers,e,`Route: ${l.path}`));const u=l._injector??e,p=l._loadedInjector??u;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(u,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,ki.H)(o).pipe((0,ga.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Lt.of)(null);const l=o.pipe((0,Vi.Z)(u=>null===u?(0,Lt.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,ki.H)([l,u]).pipe((0,ga.U)())}return l})}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(_i),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(w4),s.KVO(h6))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const p6=new s.nKC("");let e5=(()=>{class n{constructor(e,i,o,l,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ls?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fc&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Q3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Q3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){s.QTQ()}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function Aa(n,t){return{\u0275kind:n,\u0275providers:t}}function B1(){const n=(0,s.WQX)(s.zZn);return t=>{const e=n.get(s.o8S);if(t!==e.components[0])return;const i=n.get(_i),o=n.get(i5);1===n.get(m6)&&i.initialNavigation(),n.get(r5,null,s.$GK.Optional)?.setUpPreloading(),n.get(p6,null,s.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const i5=new s.nKC("",{factory:()=>new Xi.B}),m6=new s.nKC("",{providedIn:"root",factory:()=>1}),r5=new s.nKC("");function m9(n){return Aa(0,[{provide:r5,useExisting:Zg},{provide:w4,useExisting:n}])}const a0=new s.nKC("ROUTER_FORROOT_GUARD"),s5=[fe,{provide:I1,useClass:Qd},_i,Ca,{provide:Lo,useFactory:function t5(n){return n.routerState.root},deps:[_i]},h6,[]];function a5(){return new s.NEm("Router",_i)}let x4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[s5,[],{provide:s0,multi:!0,useValue:e},{provide:a0,useFactory:l5,deps:[[_i,new s.Xx1,new s.kdw]]},{provide:au,useValue:i||{}},i?.useHash?{provide:se,useClass:Ee}:{provide:se,useClass:we},{provide:p6,useFactory:()=>{const n=(0,s.WQX)(Ho),t=(0,s.WQX)(s.SKi),e=(0,s.WQX)(au),i=(0,s.WQX)(Uc),o=(0,s.WQX)(I1);return e.scrollOffset&&n.setOffset(e.scrollOffset),new e5(o,i,n,t,e)}},i?.preloadingStrategy?m9(i.preloadingStrategy).\u0275providers:[],{provide:s.NEm,multi:!0,useFactory:a5},i?.initialNavigation?M4(i):[],i?.bindToComponentInputs?Aa(8,[tr,{provide:P1,useExisting:tr}]).\u0275providers:[],[{provide:y9,useFactory:B1},{provide:s.iLQ,multi:!0,useExisting:y9}]]}}static forChild(e){return{ngModule:n,providers:[{provide:s0,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(a0,8))}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();function l5(n){return"guarded"}function M4(n){return["disabled"===n.initialNavigation?Aa(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const t=(0,s.WQX)(_i);return()=>{t.setUpLocationChangeListener()}}},{provide:m6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Aa(2,[{provide:m6,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:t=>{const e=t.get(Se,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(_i),l=t.get(i5);Yg(o,()=>{i(!0)}),t.get(Uc).afterPreactivation=()=>(i(!0),l.closed?(0,Lt.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const y9=new s.nKC("");class l0{}class V1{}class us{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof us?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new us;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof us?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let u=this.headers.get(e);if(!u)return;u=u.filter(p=>-1===l.indexOf(p)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(l=>l.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class C4{encodeKey(t){return h5(t)}encodeValue(t){return h5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const u0=/%(\d[a-f0-9])/gi,_6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function h5(n){return encodeURIComponent(n).replace(u0,(t,e)=>_6[e]??t)}function b4(n){return`${n}`}class Ds{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new C4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ka(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[u,p]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],v=e.get(u)||[];v.push(p),e.set(u,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],o=Array.isArray(i)?i.map(b4):[b4(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ds({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(b4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(b4(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class M9{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function f5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function E4(n){return typeof Blob<"u"&&n instanceof Blob}function x6(n){return typeof FormData<"u"&&n instanceof FormData}class d0{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function C9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new us),this.context||(this.context=new M9),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+u}}else this.params=new Ds,this.urlWithParams=e}serializeBody(){return null===this.body?null:f5(this.body)||E4(this.body)||x6(this.body)||function b9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ds?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x6(this.body)?null:E4(this.body)?this.body.type||null:f5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ds?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,M=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((S,z)=>S.set(z,t.setHeaders[z]),v)),t.setParams&&(M=Object.keys(t.setParams).reduce((S,z)=>S.set(z,t.setParams[z]),M)),new d0(e,i,l,{params:M,headers:v,context:b,reportProgress:p,responseType:o,withCredentials:u})}}var Gc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gc||{});class g5{constructor(t,e=200,i="OK"){this.headers=t.headers||new us,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class p5 extends g5{constructor(t={}){super(t),this.type=Gc.ResponseHeader}clone(t={}){return new p5({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class h0 extends g5{constructor(t={}){super(t),this.type=Gc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new h0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class M6 extends g5{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function m5(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let v5=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof d0)l=e;else{let v,M;v=o.headers instanceof us?o.headers:new us(o.headers),o.params&&(M=o.params instanceof Ds?o.params:new Ds({fromObject:o.params})),l=new d0(e,i,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:M,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const u=(0,Lt.of)(l).pipe(Ro(v=>this.handler.handle(v)));if(e instanceof d0||"events"===o.observe)return u;const p=u.pipe(Bi(v=>v instanceof h0));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Bt.T)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,Bt.T)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,Bt.T)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return p.pipe((0,Bt.T)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ds).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,m5(o,i))}post(e,i,o={}){return this.request("POST",e,m5(o,i))}put(e,i,o={}){return this.request("PUT",e,m5(o,i))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(l0))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function f0(n,t){return t(n)}function k4(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}const b6=new s.nKC(""),j1=new s.nKC(""),hu=new s.nKC("");function RE(){let n=null;return(t,e)=>{null===n&&(n=((0,s.WQX)(b6,{optional:!0})??[]).reduceRight(k4,f0));const i=(0,s.WQX)(s.$K3),o=i.add();return n(t,e).pipe(ma(()=>i.remove(o)))}}let S4=(()=>{class n extends l0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,s.WQX)(s.$K3)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(j1),...this.injector.get(hu,[])]));this.chain=o.reduceRight((l,u)=>function g0(n,t,e){return(i,o)=>e.runInContext(()=>t(i,l=>n(l,o)))}(l,u,this.injector),f0)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(ma(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(V1),s.KVO(s.uvJ))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const T4=/^\)\]\}',?\n/;let C5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new s.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,ki.H)(i.\u0275loadImpl()):(0,Lt.of)(null)).pipe((0,Pn.n)(()=>new yo.c(l=>{const u=i.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((We,Je)=>u.setRequestHeader(We,Je.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const We=e.detectContentTypeHeader();null!==We&&u.setRequestHeader("Content-Type",We)}if(e.responseType){const We=e.responseType.toLowerCase();u.responseType="json"!==We?We:"text"}const p=e.serializeBody();let v=null;const M=()=>{if(null!==v)return v;const We=u.statusText||"OK",Je=new us(u.getAllResponseHeaders()),Rt=function E6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||e.url;return v=new p5({headers:Je,status:u.status,statusText:We,url:Rt}),v},b=()=>{let{headers:We,status:Je,statusText:Rt,url:Ht}=M(),Dt=null;204!==Je&&(Dt=typeof u.response>"u"?u.responseText:u.response),0===Je&&(Je=Dt?200:0);let hn=Je>=200&&Je<300;if("json"===e.responseType&&"string"==typeof Dt){const Cn=Dt;Dt=Dt.replace(T4,"");try{Dt=""!==Dt?JSON.parse(Dt):null}catch(Un){Dt=Cn,hn&&(hn=!1,Dt={error:Un,text:Dt})}}hn?(l.next(new h0({body:Dt,headers:We,status:Je,statusText:Rt,url:Ht||void 0})),l.complete()):l.error(new M6({error:Dt,headers:We,status:Je,statusText:Rt,url:Ht||void 0}))},S=We=>{const{url:Je}=M(),Rt=new M6({error:We,status:u.status||0,statusText:u.statusText||"Unknown Error",url:Je||void 0});l.error(Rt)};let z=!1;const re=We=>{z||(l.next(M()),z=!0);let Je={type:Gc.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(Je.total=We.total),"text"===e.responseType&&u.responseText&&(Je.partialText=u.responseText),l.next(Je)},Be=We=>{let Je={type:Gc.UploadProgress,loaded:We.loaded};We.lengthComputable&&(Je.total=We.total),l.next(Je)};return u.addEventListener("load",b),u.addEventListener("error",S),u.addEventListener("timeout",S),u.addEventListener("abort",S),e.reportProgress&&(u.addEventListener("progress",re),null!==p&&u.upload&&u.upload.addEventListener("progress",Be)),u.send(p),l.next({type:Gc.Sent}),()=>{u.removeEventListener("error",S),u.removeEventListener("abort",S),u.removeEventListener("load",b),u.removeEventListener("timeout",S),e.reportProgress&&(u.removeEventListener("progress",re),null!==p&&u.upload&&u.upload.removeEventListener("progress",Be)),u.readyState!==u.DONE&&u.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ur))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const O4=new s.nKC("XSRF_ENABLED"),fu=new s.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),A6=new s.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class b5{}let E5=(()=>{class n{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=si(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(ye),s.KVO(s.Agw),s.KVO(fu))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();function VE(n,t){const e=n.url.toLowerCase();if(!(0,s.WQX)(O4)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.WQX)(b5).getToken(),o=(0,s.WQX)(A6);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),t(n)}var Ts=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ts||{});function H1(n,t){return{\u0275kind:n,\u0275providers:t}}function p0(...n){const t=[v5,C5,S4,{provide:l0,useExisting:S4},{provide:V1,useExisting:C5},{provide:j1,useValue:VE,multi:!0},{provide:O4,useValue:!0},{provide:b5,useClass:E5}];for(const e of n)t.push(...e.\u0275providers);return(0,s.EmA)(t)}const I5=new s.nKC("LEGACY_INTERCEPTOR_FN");let GE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[p0(H1(Ts.LegacyInterceptors,[{provide:I5,useFactory:RE},{provide:j1,useExisting:I5,multi:!0}]))]})}}return n})();function O5(...n){const t=(0,ha.ms)(n),{args:e,keys:i}=Es(n),o=new yo.c(l=>{const{length:u}=e;if(!u)return void l.complete();const p=new Array(u);let v=u,M=u;for(let b=0;b<u;b++){let S=!1;(0,Ar.Tg)(e[b]).subscribe((0,Ti._)(l,z=>{S||(S=!0,M--),p[b]=z},()=>v--,void 0,()=>{(!v||!S)&&(M||l.next(i?Oc(i,p):p),l.complete())}))}});return t?o.pipe(Pl(t)):o}let R9=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:n})}}return n})(),Kc=(()=>{class n extends R9{static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,features:[s.Vt3]})}}return n})();const pr=new s.nKC("NgValueAccessor"),WE={provide:pr,useExisting:(0,s.Rfq)(()=>m0),multi:!0},Wc=new s.nKC("CompositionEventMode");let m0=(()=>{class n extends R9{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S6(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Wc,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&s.bIt("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[s.Jv_([WE]),s.Vt3]})}}return n})();function qc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function P5(n){return null!=n&&"number"==typeof n.length}const Go=new s.nKC("NgValidators"),Sa=new s.nKC("NgAsyncValidators"),Da=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nr{static min(t){return R5(t)}static max(t){return L9(t)}static required(t){return function No(n){return qc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function L5(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function R4(n){return qc(n.value)||Da.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function N5(n){return t=>qc(t.value)||!P5(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function z5(n){return t=>P5(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function L4(n){if(!n)return pu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(qc(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return V5(t)}static composeAsync(t){return U1(t)}}function R5(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function L9(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function pu(n){return null}function D6(n){return null!=n}function F5(n){return(0,s.jNT)(n)?(0,ki.H)(n):n}function T6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function O6(n,t){return t.map(e=>e(n))}function B5(n){return n.map(t=>function N9(n){return!n.validate}(t)?t:e=>t.validate(e))}function V5(n){if(!n)return null;const t=n.filter(D6);return 0==t.length?null:function(e){return T6(O6(e,t))}}function N4(n){return null!=n?V5(B5(n)):null}function U1(n){if(!n)return null;const t=n.filter(D6);return 0==t.length?null:function(e){return O5(O6(e,t).map(F5)).pipe((0,Bt.T)(T6))}}function Xs(n){return null!=n?U1(B5(n)):null}function $1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function j5(n){return n._rawValidators}function H5(n){return n._rawAsyncValidators}function z4(n){return n?Array.isArray(n)?n:[n]:[]}function mu(n,t){return Array.isArray(n)?n.includes(t):n===t}function F4(n,t){const e=z4(t);return z4(n).forEach(o=>{mu(e,o)||e.push(o)}),e}function v0(n,t){return z4(t).filter(e=>!mu(n,e))}class vu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=N4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mr extends vu{get formDirective(){return null}get path(){return null}}class Ta extends vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let w0=(()=>{class n extends U5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Ta,2))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[s.Vt3]})}}return n})(),y0=(()=>{class n extends U5{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(mr,10))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[s.Vt3]})}}return n})();const _0="VALID",V4="INVALID",wc="PENDING",Oa="DISABLED";function yu(n){return(x0(n)?n.validators:n)||null}function j4(n,t){return(x0(t)?t.asyncValidators:n)||null}function x0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function H4(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.wOt(1e3,"");if(!i[e])throw new s.wOt(1001,"")}function L6(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new s.wOt(1002,"")})}class M0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_0}get invalid(){return this.status===V4}get pending(){return this.status==wc}get disabled(){return this.status===Oa}get enabled(){return this.status!==Oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(F4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(F4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(v0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(v0(t,this._rawAsyncValidators))}hasValidator(t){return mu(this._rawValidators,t)}hasAsyncValidator(t){return mu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oa,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_0||this.status===wc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oa:_0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;const e=F5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?Oa:this.errors?V4:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(V4)?V4:_0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){x0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function _u(n){return Array.isArray(n)?N4(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function R6(n){return Array.isArray(n)?Xs(n):n||null}(this._rawAsyncValidators)}}class xu extends M0{constructor(t,e,i){super(yu(e),j4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){L6(this,0,t),Object.keys(t).forEach(i=>{H4(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class N6 extends xu{}const G1=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Mu}),Mu="always";function U4(n,t){return[...t.path,n]}function C0(n,t,e=Mu){Dr(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function $9(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K4(n,t)})}(n,t),function q5(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tI(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K4(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function U9(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Cu(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),G4(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $4(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Dr(n,t){const e=j5(n);null!==t.validator?n.setValidators($1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=H5(n);null!==t.asyncValidator?n.setAsyncValidators($1(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();$4(t._rawValidators,o),$4(t._rawAsyncValidators,o)}function G4(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=j5(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(u=>u!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=H5(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(u=>u!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return $4(t._rawValidators,i),$4(t._rawAsyncValidators,i),e}function K4(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F6(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function B6(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===m0?e=l:function K9(n){return Object.getPrototypeOf(n.constructor)===Kc}(l)?i=l:o=l}),o||i||e||null}function Z5(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function j6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const b0=class extends M0{constructor(t=null,e,i){super(yu(e),j4(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=j6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Z5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Z5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){j6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Z9={provide:Ta,useExisting:(0,s.Rfq)(()=>Eu)},ep=(()=>Promise.resolve())();let Eu=(()=>{class n extends Ta{constructor(e,i,o,l,u,p){super(),this._changeDetectorRef=u,this.callSetDisabledState=p,this.control=new b0,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=B6(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),F6(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){C0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ep.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,s.L39)(i);ep.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?U4(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(mr,9),s.rXU(Go,10),s.rXU(Sa,10),s.rXU(pr,10),s.rXU(s.gRc,8),s.rXU(G1,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([Z9]),s.Vt3,s.OA$]})}}return n})(),Iu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),G6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({})}}return n})();const Q4=new s.nKC("NgModelWithFormControlWarning"),op={provide:mr,useExisting:(0,s.Rfq)(()=>Xc)};let Xc=(()=>{class n extends mr{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return C0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Cu(e.control||null,e,!1),function W9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function J5(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(Cu(i||null,e),(n=>n instanceof b0)(o)&&(C0(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function X5(n,t){Dr(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function G9(n,t){return G4(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dr(this.form,this),this._oldForm&&G4(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Go,10),s.rXU(Sa,10),s.rXU(G1,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&s.bIt("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([op]),s.Vt3,s.OA$]})}}return n})();const iw={provide:Ta,useExisting:(0,s.Rfq)(()=>Ra)};let Ra=(()=>{class n extends Ta{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,o,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=B6(0,l)}ngOnChanges(e){this._added||this._setUpControl(),F6(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return U4(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(mr,13),s.rXU(Go,10),s.rXU(Sa,10),s.rXU(pr,10),s.rXU(Q4,8))}}static{this.\u0275dir=s.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([iw]),s.Vt3,s.OA$]})}}return n})();function lp(n){return"number"==typeof n?n:parseFloat(n)}let K1=(()=>{class n{constructor(){this._validator=pu}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=s.FsC({type:n,features:[s.OA$]})}}return n})();const dw={provide:Go,useExisting:(0,s.Rfq)(()=>X6),multi:!0};let X6=(()=>{class n extends K1{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>lp(e),this.createValidator=e=>L9(e)}static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&s.BMQ("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[s.Jv_([dw]),s.Vt3]})}}return n})();const hw={provide:Go,useExisting:(0,s.Rfq)(()=>Y6),multi:!0};let Y6=(()=>{class n extends K1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>lp(e),this.createValidator=e=>R5(e)}static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(n)))(o||n)}}()}static{this.\u0275dir=s.FsC({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){2&i&&s.BMQ("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[s.Jv_([hw]),s.Vt3]})}}return n})(),ir=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[G6]})}}return n})();class Yc extends M0{constructor(t,e,i){super(yu(e),j4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){L6(this,0,t),t.forEach((i,o)=>{H4(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function ih(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let xc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const o=this._reduceControls(e);let l={};return ih(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new xu(o,l)}record(e,i=null){const o=this._reduceControls(e);return new N6(o,i)}control(e,i,o){let l={};return this.useNonNullable?(ih(i)?l=i:(l.validators=i,l.asyncValidators=o),new b0(e,{...l,nonNullable:!0})):new b0(e,i,o)}array(e,i,o){const l=e.map(u=>this._createControl(u));return new Yc(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return e instanceof b0||e instanceof M0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),E0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:G1,useValue:e.callSetDisabledState??Mu}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[ir]})}}return n})(),I0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Q4,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:G1,useValue:e.callSetDisabledState??Mu}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[ir]})}}return n})();var A0=k(7441);const k0=["addListener","removeListener"],S0=["addEventListener","removeEventListener"],gp=["on","off"];function W1(n,t,e,i){if((0,$o.T)(e)&&(i=e,e=void 0),i)return W1(n,t,e).pipe(Pl(i));const[o,l]=function vp(n){return(0,$o.T)(n.addEventListener)&&(0,$o.T)(n.removeEventListener)}(n)?S0.map(u=>p=>n[u](t,p,e)):function pp(n){return(0,$o.T)(n.addListener)&&(0,$o.T)(n.removeListener)}(n)?k0.map(Z6(n,t)):function mp(n){return(0,$o.T)(n.on)&&(0,$o.T)(n.off)}(n)?gp.map(Z6(n,t)):[];if(!o&&(0,A0.X)(n))return(0,Vi.Z)(u=>W1(u,t,e))((0,Ar.Tg)(n));if(!o)throw new TypeError("Invalid event target");return new yo.c(u=>{const p=(...v)=>u.next(1<v.length?v:v[0]);return o(p),()=>l(p)})}function Z6(n,t){return e=>i=>n[e](t,i)}const Mc=new yo.c(Bl.l);var oh=k(7786);const vw={connector:()=>new Xi.B};function ww(n,t=vw){const{connector:e}=t;return(0,_o.N)((i,o)=>{const l=e();(0,Ar.Tg)(n(function e8(n){return new yo.c(t=>n.subscribe(t))}(l))).subscribe(o),o.add(i.subscribe(l))})}var t8=k(3236);function wp(n,t){return t?e=>hr(t.pipe($i(1),function aI(){return(0,_o.N)((n,t)=>{n.subscribe((0,Ti._)(t,Bl.l))})}()),e.pipe(wp(n))):(0,Vi.Z)((e,i)=>(0,Ar.Tg)(n(e,i)).pipe($i(1),F2(e)))}var cI=k(9470);function rh(n=0,t,e=t8.b){let i=-1;return null!=t&&((0,cI.m)(t)?e=t:i=t),new yo.c(o=>{let l=function _w(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let u=0;return e.schedule(function(){o.closed||(o.next(u++),0<=i?this.schedule(void 0,i):o.complete())},l)})}function n8(n,t=t8.E){const e=rh(n,t);return wp(()=>e)}const q1="Service workers are disabled or not supported by this browser";class D0{constructor(t){if(this.serviceWorker=t,t){const i=W1(t,"controllerchange").pipe((0,Bt.T)(()=>t.controller)),l=hr(Ll(()=>(0,Lt.of)(t.controller)),i);this.worker=l.pipe(Bi(b=>!!b)),this.registration=this.worker.pipe((0,Pn.n)(()=>t.getRegistration()));const M=W1(t,"message").pipe((0,Bt.T)(b=>b.data)).pipe(Bi(b=>b&&b.type)).pipe(function yw(n){return n?t=>ww(n)(t):t=>function sI(n,t){const e=(0,$o.T)(n)?n:()=>n;return(0,$o.T)(t)?ww(t,{connector:e}):i=>new L2(i,e)}(new Xi.B)(t)}());M.connect(),this.events=M}else this.worker=this.events=this.registration=function Pu(n){return Ll(()=>ss(new Error(n)))}(q1)}postMessage(t,e){return this.worker.pipe($i(1),(0,to.M)(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const o=this.waitForOperationCompleted(i),l=this.postMessage(t,e);return Promise.all([l,o]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Bi(e))}nextEventOfType(t){return this.eventsOfType(t).pipe($i(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Bi(e=>e.nonce===t),$i(1),(0,Bt.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ru=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new Xi.B,!e.isEnabled)return this.messages=Mc,this.notificationClicks=Mc,void(this.subscription=Mc);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Bt.T)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Bt.T)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,Bt.T)(o=>o.pushManager));const i=this.pushManager.pipe((0,Pn.n)(o=>o.getSubscription()));this.subscription=(0,oh.h)(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(q1));const i={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(o.length));for(let u=0;u<o.length;u++)l[u]=o.charCodeAt(u);return i.applicationServerKey=l,this.pushManager.pipe((0,Pn.n)(u=>u.subscribe(i)),$i(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe($i(1),(0,Pn.n)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(q1))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(D0))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})(),sh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Mc,this.available=Mc,this.activated=Mc,void(this.unrecoverable=Mc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Bi(i=>"VERSION_READY"===i.type),(0,Bt.T)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(q1));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(q1));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(D0))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac})}}return n})();const T0=new s.nKC("NGSW_REGISTER_SCRIPT");function yp(n,t,e,i){return()=>{if(!sa(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[u,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(u){case"registerImmediately":o=(0,Lt.of)(null);break;case"registerWithDelay":o=_p(+p[0]||0);break;case"registerWhenStable":o=p[0]?(0,oh.h)(O0(n),_p(+p[0])):O0(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(s.SKi).runOutsideAngular(()=>o.pipe($i(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(u=>console.error("Service worker registration failed with:",u))))}}function _p(n){return(0,Lt.of)(null).pipe(n8(n))}function O0(n){return n.get(s.o8S).isStable.pipe(Bi(e=>e))}function xw(n,t){return new D0(sa(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class i8{}function Mw(n,t={}){return(0,s.EmA)([Ru,sh,{provide:T0,useValue:n},{provide:i8,useValue:t},{provide:D0,useFactory:xw,deps:[i8,s.Agw]},{provide:s.hnV,useFactory:yp,deps:[s.zZn,T0,i8,s.Agw],multi:!0}])}let Cw=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[Mw(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({providers:[Ru,sh]})}}return n})();const Pi=void 0,ch=["es-MX",[["a.\xa0m.","p.\xa0m."],Pi,Pi],Pi,[["D","L","M","M","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Pi,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Pi,[["a. C.","d. C."],Pi,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["dd/MM/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}","{1} {0}","{1}, {0}",Pi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00","#E0"],"MXN","$","peso mexicano",{AUD:[Pi,"$"],BRL:[Pi,"R$"],BYN:[Pi,"p."],CAD:[Pi,"$"],CNY:[Pi,"\xa5"],ESP:["\u20a7"],EUR:[Pi,"\u20ac"],GBP:[Pi,"\xa3"],HKD:[Pi,"$"],ILS:[Pi,"\u20aa"],INR:[Pi,"\u20b9"],JPY:[Pi,"\xa5"],KRW:[Pi,"\u20a9"],MRO:["MRU"],MRU:["UM"],MXN:["$"],NZD:[Pi,"$"],PHP:[Pi,"\u20b1"],TWD:[Pi,"NT$"],USD:[Pi,"$"],VND:[Pi,"\u20ab"],XAF:[],XCD:[Pi,"$"],XOF:[]},"ltr",function ah(n){const t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===t?1:0===o&&0!==e&&e%1e6==0&&0===i||!(o>=0&&o<=5)?4:5}];var pe=k(467);class bw{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,e){const i=this.m.get(t);return void 0!==i?i:e}getBoolean(t,e=!1){const i=this.m.get(t);return void 0===i?e:"string"==typeof i?"true"===i:!!i}getNumber(t,e){const i=parseFloat(this.m.get(t));return isNaN(i)?void 0!==e?e:NaN:i}set(t,e){this.m.set(t,e)}}const Qc=new bw,s8=n=>Cp(n),Cp=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let t=n.Ionic.platforms;return null==t&&(t=n.Ionic.platforms=Aw(n),t.forEach(e=>n.document.documentElement.classList.add(`plt-${e}`))),t},Aw=n=>{const t=Qc.get("platform");return Object.keys(Ap).filter(e=>{const i=t?.[e];return"function"==typeof i?i(n):Ap[e](n)})},c8=n=>!!(Jc(n,/iPad/i)||Jc(n,/Macintosh/i)&&Lu(n)),bp=n=>Jc(n,/android|sink/i),Lu=n=>Dw(n,"(any-pointer:coarse)"),Ep=n=>Ip(n)||Nu(n),Ip=n=>!!(n.cordova||n.phonegap||n.PhoneGap),Nu=n=>{const t=n.Capacitor;return!!t?.isNative},Jc=(n,t)=>t.test(n.navigator.userAgent),Dw=(n,t)=>{var e;return null===(e=n.matchMedia)||void 0===e?void 0:e.call(n,t).matches},Ap={ipad:c8,iphone:n=>Jc(n,/iPhone/i),ios:n=>Jc(n,/iPhone|iPod/i)||c8(n),android:bp,phablet:n=>{const t=n.innerWidth,e=n.innerHeight,i=Math.min(t,e),o=Math.max(t,e);return i>390&&i<520&&o>620&&o<800},tablet:n=>{const t=n.innerWidth,e=n.innerHeight,i=Math.min(t,e),o=Math.max(t,e);return c8(n)||(n=>bp(n)&&!Jc(n,/mobile/i))(n)||i>460&&i<820&&o>780&&o<1400},cordova:Ip,capacitor:Nu,electron:n=>Jc(n,/electron/i),pwa:n=>{var t;return!!(null!==(t=n.matchMedia)&&void 0!==t&&t.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},mobile:Lu,mobileweb:n=>Lu(n)&&!Ep(n),desktop:n=>!Lu(n),hybrid:Ep};var Y1=k(6031),Sp=k(1656),Nt=k(1635),hh=k(3294);let zu=(()=>{class n{constructor(e,i){this.doc=e,this.backButton=new Xi.B,this.keyboardDidShow=new Xi.B,this.keyboardDidHide=new Xi.B,this.pause=new Xi.B,this.resume=new Xi.B,this.resize=new Xi.B,i.run(()=>{let o;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(l,u){return this.subscribe(p=>p.register(l,v=>i.run(()=>u(v))))},Q1(this.pause,e,"pause",i),Q1(this.resume,e,"resume",i),Q1(this.backButton,e,"ionBackButton",i),Q1(this.resize,this.win,"resize",i),Q1(this.keyboardDidShow,this.win,"ionKeyboardDidShow",i),Q1(this.keyboardDidHide,this.win,"ionKeyboardDidHide",i),this._readyPromise=new Promise(l=>{o=l}),this.win?.cordova?e.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(e){return((n,t)=>("string"==typeof n&&(t=n,n=void 0),s8(n).includes(t)))(this.win,e)}platforms(){return s8(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return Tp(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(e){const i=this.win.navigator;return!!(i?.userAgent&&i.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(ye),s.KVO(s.SKi))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tp=(n,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return i?decodeURIComponent(i[1].replace(/\+/g," ")):null},Q1=(n,t,e,i)=>{t&&t.addEventListener(e,o=>{i.run(()=>{const l=o?.detail;n.next(l)})})};let Zc=(()=>{class n{constructor(e,i,o,l){this.location=i,this.serializer=o,this.router=l,this.direction=f8,this.animated=g8,this.guessDirection="forward",this.lastNavId=-1,l&&l.events.subscribe(u=>{if(u instanceof Ma){const p=u.restoredState?u.restoredState.navigationId:u.id;this.guessDirection=p<this.lastNavId?"back":"forward",this.guessAnimation=u.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?u.id:p}}),e.backButton.subscribeWithPriority(0,u=>{this.pop(),u()})}navigateForward(e,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}navigateBack(e,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}navigateRoot(e,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(e,i)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){var e=this;return(0,pe.A)(function*(){let i=e.topOutlet;for(;i;){if(yield i.pop())return!0;i=i.parentOutlet}return!1})()}setDirection(e,i,o,l){this.direction=e,this.animated=Op(e,i,o),this.animationBuilder=l}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let i,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,i=this.guessAnimation):(i=this.animated,e=this.direction),this.direction=f8,this.animated=g8,this.animationBuilder=void 0,{direction:e,animation:i,animationBuilder:o}}navigate(e,i){if(Array.isArray(e))return this.router.navigate(e,i);{const o=this.serializer.parse(e.toString());return void 0!==i.queryParams&&(o.queryParams={...i.queryParams}),void 0!==i.fragment&&(o.fragment=i.fragment),this.router.navigateByUrl(o,i)}}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(zu),s.KVO(fe),s.KVO(I1),s.KVO(_i,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Op=(n,t,e)=>{if(!1!==t){if(void 0!==e)return e;if("forward"===n||"back"===n)return n;if("root"===n&&!0===t)return"forward"}},f8="auto",g8=void 0;let fh=(()=>{class n{get(e,i){const o=gh();return o?o.get(e,i):null}getBoolean(e,i){const o=gh();return!!o&&o.getBoolean(e,i)}getNumber(e,i){const o=gh();return o?o.getNumber(e,i):0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p8=new s.nKC("USERCONFIG"),gh=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};class m8{constructor(t={}){this.data=t}get(t){return this.data[t]}}let P0=(()=>{class n{constructor(){this.zone=(0,s.WQX)(s.SKi),this.applicationRef=(0,s.WQX)(s.o8S)}create(e,i,o){return new ph(e,i,this.applicationRef,this.zone,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();class ph{constructor(t,e,i,o,l){this.environmentInjector=t,this.injector=e,this.applicationRef=i,this.zone=o,this.elementReferenceKey=l,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,e,i,o){return this.zone.run(()=>new Promise(l=>{const u={...i};void 0!==this.elementReferenceKey&&(u[this.elementReferenceKey]=t),l(e1(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,e,u,o,this.elementReferenceKey))}))}removeViewFromDom(t,e){return this.zone.run(()=>new Promise(i=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const l=this.elEventsMap.get(e);l&&(l(),this.elEventsMap.delete(e))}i()}))}}const e1=(n,t,e,i,o,l,u,p,v,M,b)=>{const S=s.zZn.create({providers:J1(v),parent:e}),z=(0,s.a0P)(p,{environmentInjector:t,elementInjector:S}),re=z.instance,Be=z.location.nativeElement;if(v&&(b&&void 0!==re[b]&&console.error(`[Ionic Error]: ${b} is a reserved property when using ${u.tagName.toLowerCase()}. Rename or remove the "${b}" property from ${p.name}.`),Object.assign(re,v)),M)for(const Je of M)Be.classList.add(Je);const We=Pp(n,re,Be);return u.appendChild(Be),i.attachView(z.hostView),o.set(Be,z),l.set(Be,We),Be},Rw=[Y1.L,Y1.a,Y1.b,Y1.c,Y1.d],Pp=(n,t,e)=>n.run(()=>{const i=Rw.filter(o=>"function"==typeof t[o]).map(o=>{const l=u=>t[o](u.detail);return e.addEventListener(o,l),()=>e.removeEventListener(o,l)});return()=>i.forEach(o=>o())}),mh=new s.nKC("NavParamsToken"),J1=n=>[{provide:mh,useValue:n},{provide:m8,useFactory:v8,deps:[mh]}],v8=n=>new m8(n),Lw=(n,t)=>{const e=n.prototype;t.forEach(i=>{Object.defineProperty(e,i,{get(){return this.el[i]},set(o){this.z.runOutsideAngular(()=>this.el[i]=o)}})})},w8=(n,t)=>{const e=n.prototype;t.forEach(i=>{e[i]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[i].apply(this.el,o))}})};function y8(n){return function(e){const{defineCustomElementFn:i,inputs:o,methods:l}=n;return void 0!==i&&i(),o&&Lw(e,o),l&&w8(e,l),e}}const zp=(n,t)=>((n=n.filter(e=>e.stackId!==t.stackId)).push(t),n),vh=(n,t)=>{const e=n.createUrlTree(["."],{relativeTo:t});return n.serializeUrl(e)},_8=(n,t)=>!t||n.stackId!==t.stackId,R0=(n,t)=>{if(!n)return;const e=Bp(t);for(let i=0;i<e.length;i++){if(i>=n.length)return e[i];if(e[i]!==n[i])return}},Bp=n=>n.split("/").map(t=>t.trim()).filter(t=>""!==t),Vp=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class jp{constructor(t,e,i,o,l,u){this.containerEl=e,this.router=i,this.navCtrl=o,this.zone=l,this.location=u,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Bp(t):void 0}createView(t,e){const i=vh(this.router,e),o=t?.location?.nativeElement,l=Pp(this.zone,t.instance,o);return{id:this.nextId++,stackId:R0(this.tabsPrefix,i),unlistenEvents:l,element:o,ref:t,url:i}}getExistingView(t){const e=vh(this.router,t),i=this.views.find(o=>o.url===e);return i&&i.ref.changeDetectorRef.reattach(),i}setActive(t){const e=this.navCtrl.consumeTransition();let{direction:i,animation:o,animationBuilder:l}=e;const u=this.activeView,p=_8(t,u);p&&(i="back",o=void 0);const v=this.views.slice();let M;const b=this.router;b.getCurrentNavigation?M=b.getCurrentNavigation():b.navigations?.value&&(M=b.navigations.value),M?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const S=this.views.includes(t),z=this.insertView(t,i);S||t.ref.changeDetectorRef.detectChanges();const re=t.animationBuilder;return void 0===l&&"back"===i&&!p&&void 0!==re&&(l=re),u&&(u.animationBuilder=l),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,u,o,this.canGoBack(1),!1,l).then(()=>jw(t,z,v,this.location,this.zone)).then(()=>({enteringView:t,direction:i,animation:o,tabSwitch:p})))))}canGoBack(t,e=this.getActiveStackId()){return this.getStack(e).length>t}pop(t,e=this.getActiveStackId()){return this.zone.run(()=>{const i=this.getStack(e);if(i.length<=t)return Promise.resolve(!1);const o=i[i.length-t-1];let l=o.url;const u=o.savedData;if(u){const v=u.get("primary");v?.route?._routerState?.snapshot.url&&(l=v.route._routerState.snapshot.url)}const{animationBuilder:p}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(l,{...o.savedExtras,animation:p}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const e=this.getStack(t.stackId),i=e[e.length-2],o=i.animationBuilder;return this.wait(()=>this.transition(i,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&x8(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const e=this.getStack(t);return e.length>0?e[e.length-1]:void 0}getRootUrl(t){const e=this.getStack(t);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Vp),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(e=>e.stackId===t)}insertView(t,e){return this.activeView=t,this.views=((n,t,e)=>"root"===e?zp(n,t):"forward"===e?((n,t)=>(n.indexOf(t)>=0?n=n.filter(i=>i.stackId!==t.stackId||i.id<=t.id):n.push(t),n))(n,t):((n,t)=>n.indexOf(t)>=0?n.filter(i=>i.stackId!==t.stackId||i.id<=t.id):zp(n,t))(n,t))(this.views,t,e),this.views.slice()}transition(t,e,i,o,l,u){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);const p=t?t.element:void 0,v=e?e.element:void 0,M=this.containerEl;return p&&p!==v&&(p.classList.add("ion-page"),p.classList.add("ion-page-invisible"),p.parentElement!==M&&M.appendChild(p),M.commit)?M.commit(p,v,{duration:void 0===i?0:void 0,direction:i,showGoBack:o,progressAnimation:l,animationBuilder:u}):Promise.resolve(!1)}wait(t){var e=this;return(0,pe.A)(function*(){void 0!==e.runningTask&&(yield e.runningTask,e.runningTask=void 0);const i=e.runningTask=t();return i.finally(()=>e.runningTask=void 0),i})()}}const jw=(n,t,e,i,o)=>"function"==typeof requestAnimationFrame?new Promise(l=>{requestAnimationFrame(()=>{x8(n,t,e,i,o),l()})}):Promise.resolve(),x8=(n,t,e,i,o)=>{o.run(()=>e.filter(l=>!t.includes(l)).forEach(Vp)),t.forEach(l=>{const p=i.path().split("?")[0].split("#")[0];if(l!==n&&l.url!==p){const v=l.element;v.setAttribute("aria-hidden","true"),v.classList.add("ion-page-hidden"),l.ref.changeDetectorRef.detach()}})};let Hw=(()=>{class n{constructor(e,i,o,l,u,p,v,M){this.parentOutlet=M,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new eo.t(null),this.activated=null,this._activatedRoute=null,this.name=An,this.stackWillChange=new s.bkB,this.stackDidChange=new s.bkB,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.parentContexts=(0,s.WQX)(Ca),this.location=(0,s.WQX)(s.c1b),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(wh,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,s.WQX)(fh),this.navCtrl=(0,s.WQX)(Zc),this.nativeEl=l.nativeElement,this.name=e||An,this.tabsPrefix="true"===i?vh(u,v):void 0,this.stackCtrl=new jp(this.tabsPrefix,this.nativeEl,u,this.navCtrl,p,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:i=>this.stackCtrl.endBackTransition(i)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.injector)}new Promise(e=>(0,Sp.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,i){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const i=this.getContext();this.activatedView.savedData=new Map(i.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&i.route&&(o.route={...i.route}),this.activatedView.savedExtras={},i.route){const l=i.route.snapshot;this.activatedView.savedExtras.queryParams=l.queryParams,this.activatedView.savedExtras.fragment=l.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,l=this.stackCtrl.getExistingView(e);if(l){o=this.activated=l.ref;const p=l.savedData;p&&(this.getContext().children.contexts=p),this.updateActivatedRouteProxy(o.instance,e)}else{const p=e._futureSnapshot,v=this.parentContexts.getOrCreateContext(this.name).children,M=new eo.t(null),b=this.createActivatedRouteProxy(M,e),S=new Hp(b,v,this.location.injector);o=this.activated=this.location.createComponent(p.routeConfig.component??p.component,{index:this.location.length,injector:S,environmentInjector:i??this.environmentInjector}),M.next(o.instance),l=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,b),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=l,this.navCtrl.setTopOutlet(this);const u=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:l,tabSwitch:_8(l,u)}),this.stackCtrl.setActive(l).then(p=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(p)})}canGoBack(e=1,i){return this.stackCtrl.canGoBack(e,i)}pop(e=1,i){return this.stackCtrl.pop(e,i)}getLastUrl(e){const i=this.stackCtrl.getLastUrl(e);return i?i.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,i){const o=new Lo;return o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,i){return e.pipe(Bi(o=>!!o),(0,Pn.n)(o=>this.currentActivatedRoute$.pipe(Bi(l=>null!==l&&l.component===o),(0,Pn.n)(l=>l&&l.activatedRoute[i]),(0,hh.F)())))}updateActivatedRouteProxy(e,i){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,this.currentActivatedRoute$.next({component:e,activatedRoute:i})}}return n.\u0275fac=function(e){return new(e||n)(s.kS0("name"),s.kS0("tabs"),s.rXU(fe),s.rXU(s.aKT),s.rXU(_i),s.rXU(s.SKi),s.rXU(Lo),s.rXU(n,12))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Hp{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Lo?this.route:t===Ca?this.childContexts:this.parent.get(t,e)}}const wh=new s.nKC("");let La=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=dr([i.queryParams,i.params,i.data]).pipe((0,Pn.n)(([l,u,p],v)=>(p={...l,...u,...p},0===v?(0,Lt.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const u=(0,s.HJs)(i.component);if(u)for(const{templateName:p}of u.inputs)e.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();function Up(n){return n?.componentInputBindingEnabled?new La:null}const Na=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Qs=(()=>{let n=class{constructor(e,i,o,l,u,p){this.routerOutlet=e,this.navCtrl=i,this.config=o,this.r=l,this.z=u,p.detach(),this.el=this.r.nativeElement}onClick(e){const i=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=i&&(this.navCtrl.navigateBack(i,{animation:this.routerAnimation}),e.preventDefault())}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(Hw,8),s.rXU(Zc),s.rXU(fh),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))},n.\u0275dir=s.FsC({type:n,hostBindings:function(e,i){1&e&&s.bIt("click",function(l){return i.onClick(l)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),n=(0,Nt.Cg)([y8({inputs:Na})],n),n})(),Js=(()=>{class n{constructor(e,i,o,l,u){this.locationStrategy=e,this.navCtrl=i,this.elementRef=o,this.router=l,this.routerLink=u,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(se),s.rXU(Zc),s.rXU(s.aKT),s.rXU(_i),s.rXU($c,8))},n.\u0275dir=s.FsC({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.bIt("click",function(l){return i.onClick(l)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.OA$]}),n})();const Kp=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);let Z1=(()=>{class n{constructor(e,i){this.injector=e,this.elementRef=i,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.elementRef.nativeElement.value=this.lastValue=e,za(this.elementRef)}handleValueChange(e,i){e===this.elementRef.nativeElement&&(i!==this.lastValue&&(this.lastValue=i,this.onChange(i)),za(this.elementRef))}_handleBlurEvent(e){e===this.elementRef.nativeElement&&(this.onTouched(),za(this.elementRef))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.elementRef.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(Ta)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>za(this.elementRef)));const i=e.control;i&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(l=>{if(typeof i[l]<"u"){const u=i[l].bind(i);i[l]=(...p)=>{u(...p),za(this.elementRef)}}})}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,hostBindings:function(e,i){1&e&&s.bIt("ionBlur",function(l){return i._handleBlurEvent(l.target)})}}),n})();const za=n=>{Kp(()=>{const t=n.nativeElement,e=null!=t.value&&t.value.toString().length>0,i=Ww(t);yh(t,i);const o=t.closest("ion-item");o&&yh(o,e?[...i,"item-has-value"]:i)})},Ww=n=>{const t=n.classList,e=[];for(let i=0;i<t.length;i++){const o=t.item(i);null!==o&&qw(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},yh=(n,t)=>{const e=n.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...t)},qw=(n,t)=>n.substring(0,t.length)===t;class Xw{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,e){}retrieve(t){return null}shouldReuseRoute(t,e){if(t.routeConfig!==e.routeConfig)return!1;const i=t.params,o=e.params,l=Object.keys(i),u=Object.keys(o);if(l.length!==u.length)return!1;for(const p of l)if(o[p]!==i[p])return!1;return!0}}class L0{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,e,i){return this.ctrl.dismiss(t,e,i)}getTop(){return this.ctrl.getTop()}}k(3503),k(7555),k(4569),k(2942),k(405);var Wp=k(611),Zw=k(464),el=(k(5384),k(5516)),b8=(k(8476),k(4363));k(8221),k(3113);const Yp=Wp.i,Qp=function(){var n=(0,pe.A)(function*(t,e){if(!(typeof window>"u"))return yield Yp(),(0,b8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e)});return function(e,i){return n.apply(this,arguments)}}(),jt=["*"];let E8=(()=>{class n extends Z1{constructor(e,i){super(e,i)}writeValue(e){this.elementRef.nativeElement.checked=this.lastValue=e,za(this.elementRef)}_handleIonChange(e){this.handleValueChange(e,e.checked)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,i){1&e&&s.bIt("ionChange",function(l){return i._handleIonChange(l.target)})},features:[s.Jv_([{provide:pr,useExisting:n,multi:!0}]),s.Vt3]}),n})(),I8=(()=>{class n extends Z1{constructor(e,i){super(e,i)}_handleChangeEvent(e){this.handleValueChange(e,e.value)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,i){1&e&&s.bIt("ionChange",function(l){return i._handleChangeEvent(l.target)})},features:[s.Jv_([{provide:pr,useExisting:n,multi:!0}]),s.Vt3]}),n})(),Fu=(()=>{class n extends Z1{constructor(e,i){super(e,i)}_handleInputEvent(e){this.handleValueChange(e,e.value)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.zZn),s.rXU(s.aKT))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(e,i){1&e&&s.bIt("ionInput",function(l){return i._handleInputEvent(l.target)})},features:[s.Jv_([{provide:pr,useExisting:n,multi:!0}]),s.Vt3]}),n})();const ly=(n,t)=>{const e=n.prototype;t.forEach(i=>{Object.defineProperty(e,i,{get(){return this.el[i]},set(o){this.z.runOutsideAngular(()=>this.el[i]=o)},configurable:!0})})},uy=(n,t)=>{const e=n.prototype;t.forEach(i=>{e[i]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[i].apply(this.el,o))}})},vi=(n,t,e)=>{e.forEach(i=>n[i]=W1(t,i))};function Kt(n){return function(e){const{defineCustomElementFn:i,inputs:o,methods:l}=n;return void 0!==i&&i(),o&&ly(e,o),l&&uy(e,l),e}}let A8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-app"]],ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({})],n),n})(),k8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-avatar"]],ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({})],n),n})(),tl=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),ds=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Zs=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["collapse"]})],n),n})(),Fa=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})(),Ba=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["mode"]})],n),n})(),hs=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode","translucent"]})],n),n})(),N0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),_h=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),Va=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Tr=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["collapse","mode","translucent"]})],n),n})(),Or=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Ch=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Os=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),D8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode","sticky"]})],n),n})(),Cc=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode","position"]})],n),n})(),t1=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),am=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})(),Vu=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),gm=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionChange"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],n),n})(),T8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["disabled","layout","mode","type","value"]})],n),n})(),pm=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],n),n})(),mm=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["disabled","value"]})],n),n})(),B0=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","duration","name","paused"]})],n),n})(),Ps=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),ym=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],n),n})(),ea=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","size"]})],n),n})(),O8=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement,vi(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],n),n})(),ja=(()=>{let n=class{constructor(e,i,o){this.z=o,e.detach(),this.el=i.nativeElement}};return n.\u0275fac=function(e){return new(e||n)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n=(0,Nt.Cg)([Kt({inputs:["color","mode"]})],n),n})(),$u=(()=>{class n extends Hw{constructor(e,i,o,l,u,p,v,M){super(e,i,o,l,u,p,v,M),this.parentOutlet=M}}return n.\u0275fac=function(e){return new(e||n)(s.kS0("name"),s.kS0("tabs"),s.rXU(fe),s.rXU(s.aKT),s.rXU(_i),s.rXU(s.SKi),s.rXU(Lo),s.rXU(n,12))},n.\u0275dir=s.FsC({type:n,selectors:[["ion-router-outlet"]],features:[s.Vt3]}),n})(),bc=(()=>{class n extends Qs{constructor(e,i,o,l,u,p){super(e,i,o,l,u,p)}}return n.\u0275fac=function(e){return new(e||n)(s.rXU($u,8),s.rXU(Zc),s.rXU(fh),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))},n.\u0275cmp=s.VBU({type:n,selectors:[["ion-back-button"]],features:[s.Vt3],ngContentSelectors:jt,decls:1,vars:0,template:function(e,i){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0}),n})(),V0=(()=>{class n extends Js{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],features:[s.Vt3]}),n})();const Oy={provide:Go,useExisting:(0,s.Rfq)(()=>P8),multi:!0};let P8=(()=>{class n extends X6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.BMQ("max",i._enabled?i.max:null)},features:[s.Jv_([Oy]),s.Vt3]}),n})();const Py={provide:Go,useExisting:(0,s.Rfq)(()=>R8),multi:!0};let R8=(()=>{class n extends Y6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.xGo(n)))(i||n)}}(),n.\u0275dir=s.FsC({type:n,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.BMQ("min",i._enabled?i.min:null)},features:[s.Jv_([Py]),s.Vt3]}),n})(),Ku=(()=>{class n extends L0{constructor(){super(el.a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bh=(()=>{class n extends L0{constructor(){super(el.l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xm=(()=>{class n extends L0{constructor(){super(el.m),this.angularDelegate=(0,s.WQX)(P0),this.injector=(0,s.WQX)(s.zZn),this.environmentInjector=(0,s.WQX)(s.uvJ)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})();class Ny extends L0{constructor(){super(el.c),this.angularDelegate=(0,s.WQX)(P0),this.injector=(0,s.WQX)(s.zZn),this.environmentInjector=(0,s.WQX)(s.uvJ)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let ta=(()=>{class n extends L0{constructor(){super(el.t)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L8=(n,t,e)=>()=>{const i=t.defaultView;if(i&&typeof window<"u"){(0,Zw.s)({...n,_zoneGate:l=>e.run(l)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function Xp(){var n=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&n.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var i=new URL("b","http://a");return i.pathname="c%20d","http://a/c%20d"===i.href&&i.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(n)}().then(()=>Qp(i,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Kp,jmp:l=>e.runOutsideAngular(l),ael(l,u,p,v){l[o](u,p,v)},rel(l,u,p,v){l.removeEventListener(u,p,v)}}))}};let Fy=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:p8,useValue:e},{provide:s.hnV,useFactory:L8,multi:!0,deps:[p8,ye,s.SKi]},{provide:wh,useFactory:Up,deps:[_i]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[P0,xm,Ny],imports:[Vr]}),n})();var N8,Cm=function(n,t){var e=function(){if(typeof window>"u")return new Map;if(!N8){var n=window;n.Ionicons=n.Ionicons||{},N8=n.Ionicons.map=n.Ionicons.map||new Map}return N8}(),i=e.get(n);void 0===i?e.set(n,t):i!==t&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(n,'". Ensure that multiple icons are not mapped to the same icon name.'))};const il_firebase={apiKey:"AIzaSyCEgLk-DPvkFqZj8QwFjnMblrTCoyESx5M",authDomain:"quienielalmx.firebaseapp.com",projectId:"quienielalmx",storageBucket:"quienielalmx.appspot.com",messagingSenderId:"91963681658",appId:"1:91963681658:web:74bbd27e7c90af981544c3",measurementId:"G-GQSKBPKFQZ"};var UN=k(7707);function Mo(n,t){const e="object"==typeof t;return new Promise((i,o)=>{const l=new UN.Ms({next:u=>{i(u),l.unsubscribe()},error:o,complete:()=>{e?i(t.defaultValue):o(new fa)}});n.subscribe(l)})}var Qu=k(941),$N=k(6129);class GN extends Xi.B{constructor(t=1/0,e=1/0,i=$N.U){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:u}=this;e||(i.push(t),!o&&i.push(l.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let u=0;u<l.length&&!t.closed;u+=i?1:2)t.next(l[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const u=e.now();let p=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)p=v;p&&i.splice(0,p+1)}}}var KN=k(7647);function a7(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=n??1/0,(0,KN.u)({connector:()=>new GN(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Qk(n,t){return(0,$o.T)(t)?(0,Pn.n)(()=>n,t):(0,Pn.n)(()=>n)}var Ox=k(6745),ji=k(9653),Fo=k(4783);k(2214);var Ju=k(7852),c7=k(1362),xi=k(1076),U0=k(8041);const Rx=new Map,Zk={activated:!1,tokenObservers:[]},QN={initialized:!1,enabled:!1};function Eo(n){return Rx.get(n)||Object.assign({},Zk)}function l7(){return QN}const Lx="https://content-firebaseappcheck.googleapis.com/v1",tz="exchangeDebugToken",eS={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iz{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,pe.A)(function*(){e.stop();try{e.pending=new xi.cY,yield function oz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new xi.cY,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Pr=new xi.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nx(n){if(!Eo(n).activated)throw Pr.create("use-before-activation",{appName:n.name})}function h7(n,t){return Fx.apply(this,arguments)}function Fx(){return(Fx=(0,pe.A)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const S=yield o.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const l={method:"POST",body:JSON.stringify(t),headers:i};let u,p;try{u=yield fetch(n,l)}catch(S){throw Pr.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Pr.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(S){throw Pr.create("fetch-parse-error",{originalErrorMessage:S?.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const M=1e3*Number(v[1]),b=Date.now();return{token:p.token,expireTimeMillis:b+M,issuedAtTimeMillis:b}})).apply(this,arguments)}function tS(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${Lx}/projects/${e}/apps/${i}:${tz}?key=${o}`,body:{debug_token:t}}}const cz="firebase-app-check-database",lz=1,Q8="firebase-app-check-store";let f7=null;function Bx(){return(Bx=(0,pe.A)(function*(n,t){const i=(yield function iS(){return f7||(f7=new Promise((n,t)=>{try{const e=indexedDB.open(cz,lz);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(Pr.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Q8,{keyPath:"compositeKey"})}}catch(e){t(Pr.create("storage-open",{originalErrorMessage:e?.message}))}}),f7)}()).transaction(Q8,"readwrite"),l=i.objectStore(Q8).put({compositeKey:n,value:t});return new Promise((u,p)=>{l.onsuccess=v=>{u()},i.onerror=v=>{var M;p(Pr.create("storage-set",{originalErrorMessage:null===(M=v.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const J8=new U0.Vy("@firebase/app-check");function Hx(n,t){return(0,xi.zW)()?function dz(n,t){return function oS(n,t){return Bx.apply(this,arguments)}(function sS(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{J8.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $x(){return l7().enabled}function Gx(){return Kx.apply(this,arguments)}function Kx(){return(Kx=(0,pe.A)(function*(){const n=l7();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vz={error:"UNKNOWN_ERROR"};function wz(n){return xi.K3.encodeString(JSON.stringify(n),!1)}function g7(n){return Wx.apply(this,arguments)}function Wx(){return(Wx=(0,pe.A)(function*(n,t=!1){const e=n.app;Nx(e);const i=Eo(e);let l,o=i.token;if(o&&!Ph(o)&&(i.token=void 0,o=void 0),!o){const v=yield i.cachedTokenPromise;v&&(Ph(v)?o=v:yield Hx(e,void 0))}if(!t&&o&&Ph(o))return{token:o.token};let p,u=!1;if($x()){i.exchangeTokenPromise||(i.exchangeTokenPromise=h7(tS(e,yield Gx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield Hx(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),o=yield Eo(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?J8.warn(v.message):J8.error(v),l=v}return o?l?p=Ph(o)?{token:o.token,internalError:l}:uS(l):(p={token:o.token},i.token=o,yield Hx(e,o)):p=uS(l),u&&function lS(n,t){const e=Eo(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,p),p})).apply(this,arguments)}function aS(n){return qx.apply(this,arguments)}function qx(){return(qx=(0,pe.A)(function*(n){const t=n.app;Nx(t);const{provider:e}=Eo(t);if($x()){const i=yield Gx(),{token:o}=yield h7(tS(t,i),n.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Yx(n,t){const e=Eo(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function cS(n){const{app:t}=n,e=Eo(t);let i=e.tokenRefresher;i||(i=function yz(n){const{app:t}=n;return new iz((0,pe.A)(function*(){let i;if(i=Eo(t).token?yield g7(n,!0):yield g7(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Eo(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},eS.RETRIAL_MIN_WAIT,eS.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Ph(n){return n.expireTimeMillis-Date.now()>0}function uS(n){return{token:wz(vz),error:n}}class _z{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Eo(this.app);for(const e of t)Yx(this.app,e.next);return Promise.resolve()}}const wS="app-check-internal";!function Rz(){(0,Ju._registerComponent)(new c7.uA("app-check",n=>function xz(n,t){return new _z(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wS).initialize()})),(0,Ju._registerComponent)(new c7.uA(wS,n=>function Mz(n){return{getToken:t=>g7(n,t),getLimitedUseToken:()=>aS(n),addTokenListener:t=>function Xx(n,t,e,i){const{app:o}=n,l=Eo(o);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:i,type:t}],l.token&&Ph(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),cS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>cS(n))}(n,"INTERNAL",t),removeTokenListener:t=>Yx(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ju.registerVersion)("@firebase/app-check","0.8.0")}();class m7{constructor(){return(0,ji.CA)("app-check")}}typeof window<"u"&&window;var Yi=k(7935);const _S=new s.nKC("angularfire2.auth.use-emulator"),xS=new s.nKC("angularfire2.auth.settings"),MS=new s.nKC("angularfire2.auth.tenant-id"),CS=new s.nKC("angularfire2.auth.langugage-code"),bS=new s.nKC("angularfire2.auth.use-device-language"),ES=new s.nKC("angularfire.auth.persistence"),IS=(n,t,e,i,o,l,u,p)=>(0,Fo.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=o,l&&v.useDeviceLanguage(),u)for(const[M,b]of Object.entries(u))v.settings[M]=b;return p&&v.setPersistence(p),v},[e,i,o,l,u,p]);let Zu=(()=>{class n{constructor(e,i,o,l,u,p,v,M,b,S,z,re){const Be=new Xi.B,We=(0,Lt.of)(void 0).pipe((0,Qu.Q)(u.outsideAngular),(0,Pn.n)(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6922)))),(0,Bt.T)(()=>(0,Fo.iB)(e,l,i)),(0,Bt.T)(Je=>IS(Je,l,p,M,b,S,v,z)),a7({bufferSize:1,refCount:!1}));if(Ga(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Lt.of)(null);else{We.pipe(pa()).subscribe();const Rt=We.pipe((0,Pn.n)(hn=>hn.getRedirectResult().then(Cn=>Cn,()=>null)),ji.U0,a7({bufferSize:1,refCount:!1})),Ht=We.pipe((0,Pn.n)(hn=>new yo.c(Cn=>({unsubscribe:l.runOutsideAngular(()=>hn.onAuthStateChanged(Un=>Cn.next(Un),Un=>Cn.error(Un),()=>Cn.complete()))})))),Dt=We.pipe((0,Pn.n)(hn=>new yo.c(Cn=>({unsubscribe:l.runOutsideAngular(()=>hn.onIdTokenChanged(Un=>Cn.next(Un),Un=>Cn.error(Un),()=>Cn.complete()))}))));this.authState=Rt.pipe(Qk(Ht),(0,Ox._)(u.outsideAngular),(0,Qu.Q)(u.insideAngular)),this.user=Rt.pipe(Qk(Dt),(0,Ox._)(u.outsideAngular),(0,Qu.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Pn.n)(hn=>hn?(0,ki.H)(hn.getIdToken()):(0,Lt.of)(null))),this.idTokenResult=this.user.pipe((0,Pn.n)(hn=>hn?(0,ki.H)(hn.getIdTokenResult()):(0,Lt.of)(null))),this.credential=(0,oh.h)(Rt,Be,this.authState.pipe(Bi(hn=>!hn))).pipe((0,Bt.T)(hn=>hn?.user?hn:null),(0,Ox._)(u.outsideAngular),(0,Qu.Q)(u.insideAngular))}return(0,Fo.Gt)(this,We,l,{spy:{apply:(Je,Rt,Ht)=>{(Je.startsWith("signIn")||Je.startsWith("createUser"))&&Ht.then(Dt=>Be.next(Dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Fo.rx),s.KVO(Fo.uP,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(ji.u0),s.KVO(_S,8),s.KVO(xS,8),s.KVO(MS,8),s.KVO(CS,8),s.KVO(bS,8),s.KVO(ES,8),s.KVO(m7,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vz=(()=>{class n{constructor(){Yi.A.registerVersion("angularfire",ji.xv.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[Zu]}),n})();function v7(){return(0,_o.N)((n,t)=>{let e,i=!1;n.subscribe((0,Ti._)(t,o=>{const l=e;e=o,i&&t.next([l,o]),i=!0}))})}k(6922);var nn,jz=k(3345),Hz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ec={},tM=tM||{},Hn=Hz||self;function w7(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Z8(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nM="closure_uid_"+(1e9*Math.random()>>>0),$z=0;function Gz(n,t,e){return n.call.apply(n.bind,arguments)}function Kz(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function qr(n,t,e){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gz:Kz).apply(null,arguments)}function y7(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,o,l){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return t.prototype[o].apply(i,u)}}function $0(){this.s=this.s,this.o=this.o}$0.prototype.s=!1,$0.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Uz(n){Object.prototype.hasOwnProperty.call(n,nM)&&n[nM]||(n[nM]=++$z)}(this)},$0.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AS=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function iM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function kS(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(w7(i)){const o=n.length||0,l=i.length||0;n.length=o+l;for(let u=0;u<l;u++)n[o+u]=i[u]}else n.push(i)}}function Xr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var qz=function(){if(!Hn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Hn.addEventListener("test",()=>{},t),Hn.removeEventListener("test",()=>{},t)}catch{}return n}();function ef(n){return/^[\s\xa0]*$/.test(n)}function _7(){var n=Hn.navigator;return n&&(n=n.userAgent)?n:""}function o1(n){return-1!=_7().indexOf(n)}function oM(n){return oM[" "](n),n}oM[" "]=function(){};var sM,n,Yz=o1("Opera"),Rh=o1("Trident")||o1("MSIE"),SS=o1("Edge"),rM=SS||Rh,DS=o1("Gecko")&&!(-1!=_7().toLowerCase().indexOf("webkit")&&!o1("Edge"))&&!(o1("Trident")||o1("MSIE"))&&!o1("Edge"),Qz=-1!=_7().toLowerCase().indexOf("webkit")&&!o1("Edge");function TS(){var n=Hn.document;return n?n.documentMode:void 0}e:{var aM="",cM=(n=_7(),DS?/rv:([^\);]+)(\)|;)/.exec(n):SS?/Edge\/([\d\.]+)/.exec(n):Rh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qz?/WebKit\/(\S+)/.exec(n):Yz?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cM&&(aM=cM?cM[1]:""),Rh){var lM=TS();if(null!=lM&&lM>parseFloat(aM)){sM=String(lM);break e}}sM=aM}var Jz=Hn.document&&Rh&&(TS()||parseInt(sM,10))||void 0;function tf(n,t){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(DS){e:{try{oM(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Zz[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tf.$.h.call(this)}}vr(tf,Xr);var Zz={2:"touch",3:"pen",4:"mouse"};tf.prototype.h=function(){tf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nf="closure_listenable_"+(1e6*Math.random()|0),eF=0;function tF(n,t,e,i,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=o,this.key=++eF,this.fa=this.ia=!1}function x7(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function PS(n){const t={};for(const e in n)t[e]=n[e];return t}const RS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LS(n,t){let e,i;for(let o=1;o<arguments.length;o++){for(e in i=arguments[o],i)n[e]=i[e];for(let l=0;l<RS.length;l++)e=RS[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function M7(n){this.src=n,this.g={},this.h=0}function hM(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],o=AS(i,t);(l=0<=o)&&Array.prototype.splice.call(i,o,1),l&&(x7(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function fM(n,t,e,i){for(var o=0;o<n.length;++o){var l=n[o];if(!l.fa&&l.listener==t&&l.capture==!!e&&l.la==i)return o}return-1}M7.prototype.add=function(n,t,e,i,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=fM(n,t,i,o);return-1<u?(t=n[u],e||(t.ia=!1)):((t=new tF(t,this.src,l,!!i,o)).ia=e,n.push(t)),t};var gM="closure_lm_"+(1e6*Math.random()|0),pM={};function NS(n,t,e,i,o){if(i&&i.once)return FS(n,t,e,i,o);if(Array.isArray(t)){for(var l=0;l<t.length;l++)NS(n,t[l],e,i,o);return null}return e=yM(e),n&&n[nf]?n.O(t,e,Z8(i)?!!i.capture:!!i,o):zS(n,t,e,!1,i,o)}function zS(n,t,e,i,o,l){if(!t)throw Error("Invalid event type");var u=Z8(o)?!!o.capture:!!o,p=vM(n);if(p||(n[gM]=p=new M7(n)),(e=p.add(t,e,i,u,l)).proxy)return e;if(i=function iF(){const t=oF;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qz||(o=u),void 0===o&&(o=!1),n.addEventListener(t.toString(),i,o);else if(n.attachEvent)n.attachEvent(VS(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function FS(n,t,e,i,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)FS(n,t[l],e,i,o);return null}return e=yM(e),n&&n[nf]?n.P(t,e,Z8(i)?!!i.capture:!!i,o):zS(n,t,e,!0,i,o)}function BS(n,t,e,i,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)BS(n,t[l],e,i,o);else i=Z8(i)?!!i.capture:!!i,e=yM(e),n&&n[nf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=fM(l=n.g[t],e,i,o))&&(x7(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=vM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=fM(t,e,i,o)),(e=-1<n?t[n]:null)&&mM(e))}function mM(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[nf])hM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(VS(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=vM(t))?(hM(e,n),0==e.h&&(e.src=null,t[gM]=null)):x7(n)}}}function VS(n){return n in pM?pM[n]:pM[n]="on"+n}function oF(n,t){if(n.fa)n=!0;else{t=new tf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&mM(n),n=e.call(i,t)}return n}function vM(n){return(n=n[gM])instanceof M7?n:null}var wM="__closure_events_fn_"+(1e9*Math.random()>>>0);function yM(n){return"function"==typeof n?n:(n[wM]||(n[wM]=function(t){return n.handleEvent(t)}),n[wM])}function wr(){$0.call(this),this.i=new M7(this),this.S=this,this.J=null}function Rr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Xr(t,n);else if(t instanceof Xr)t.target=t.target||n;else{var o=t;LS(t=new Xr(i,n),o)}if(o=!0,e)for(var l=e.length-1;0<=l;l--){var u=t.g=e[l];o=C7(u,i,!0,t)&&o}if(o=C7(u=t.g=n,i,!0,t)&&o,o=C7(u,i,!1,t)&&o,e)for(l=0;l<e.length;l++)o=C7(u=t.g=e[l],i,!1,t)&&o}function C7(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.fa&&u.capture==e){var p=u.listener,v=u.la||u.src;u.ia&&hM(n.i,u),o=!1!==p.call(v,i)&&o}}return o&&!i.defaultPrevented}vr(wr,$0),wr.prototype[nf]=!0,wr.prototype.removeEventListener=function(n,t,e,i){BS(this,n,t,e,i)},wr.prototype.N=function(){if(wr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)x7(e[i]);delete n.g[t],n.h--}}this.J=null},wr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},wr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var _M=Hn.JSON.stringify;function sF(){var n=xM;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var jS=new class rF{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new cF,n=>n.reset());class cF{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function lF(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function uF(n){Hn.setTimeout(()=>{throw n},0)}let rf,sf=!1,xM=new class aF{constructor(){this.h=this.g=null}add(t,e){const i=jS.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},HS=()=>{const n=Hn.Promise.resolve(void 0);rf=()=>{n.then(dF)}};var dF=()=>{for(var n;n=sF();){try{n.h.call(n.g)}catch(e){uF(e)}var t=jS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}sf=!1};function b7(n,t){wr.call(this),this.h=n||1,this.g=t||Hn,this.j=qr(this.qb,this),this.l=Date.now()}function MM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function CM(n,t,e){if("function"==typeof n)e&&(n=qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Hn.setTimeout(n,t||0)}function US(n){n.g=CM(()=>{n.g=null,n.i&&(n.i=!1,US(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vr(b7,wr),(nn=b7.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rr(this,"tick"),this.ga&&(MM(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){b7.$.N.call(this),MM(this),delete this.g};class hF extends $0{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:US(this)}N(){super.N(),this.g&&(Hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(n){$0.call(this),this.h=n,this.g={}}vr(af,$0);var $S=[];function GS(n,t,e,i){Array.isArray(e)||(e&&($S[0]=e.toString()),e=$S);for(var o=0;o<e.length;o++){var l=NS(t,e[o],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function KS(n){dM(n.g,function(t,e){this.g.hasOwnProperty(e)&&mM(t)},n),n.g={}}function E7(){this.g=!0}function Lh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function mF(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<o.length;u++)o[u]=""}}}return _M(e)}catch{return t}}(n,e)+(i?" "+i:"")})}af.prototype.N=function(){af.$.N.call(this),KS(this)},af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},E7.prototype.Ea=function(){this.g=!1},E7.prototype.info=function(){};var ed={},WS=null;function I7(){return WS=WS||new wr}function qS(n){Xr.call(this,ed.Ta,n)}function cf(n){const t=I7();Rr(t,new qS(t))}function XS(n,t){Xr.call(this,ed.STAT_EVENT,n),this.stat=t}function ps(n){const t=I7();Rr(t,new XS(t,n))}function YS(n,t){Xr.call(this,ed.Ua,n),this.size=t}function lf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Hn.setTimeout(function(){n()},t)}ed.Ta="serverreachability",vr(qS,Xr),ed.STAT_EVENT="statevent",vr(XS,Xr),ed.Ua="timingevent",vr(YS,Xr);var A7={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bM(){}function ZS(){}bM.prototype.h=null;var AM,uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function EM(){Xr.call(this,"d")}function IM(){Xr.call(this,"c")}function k7(){}function df(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new af(this),this.P=vF,this.V=new b7(n=rM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eD}function eD(){this.i=null,this.g="",this.h=!1}vr(EM,Xr),vr(IM,Xr),vr(k7,bM),k7.prototype.g=function(){return new XMLHttpRequest},k7.prototype.i=function(){return{}},AM=new k7;var vF=45e3,kM={},S7={};function SM(n,t,e){n.L=1,n.v=P7(ol(t)),n.s=e,n.S=!0,tD(n,null)}function tD(n,t){n.G=Date.now(),hf(n),n.A=ol(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),dD(e.i,"t",i),n.C=0,e=n.l.J,n.h=new eD,n.g=LD(n.l,e?t:null,!n.s),0<n.O&&(n.M=new hF(qr(n.Pa,n,n.g),n.O)),GS(n.U,n.g,"readystatechange",n.nb),t=n.I?PS(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),cf(),function fF(n,t,e,i,o,l){n.info(function(){if(n.g)if(l)for(var u="",p=l.split("&"),v=0;v<p.length;v++){var M=p[v].split("=");if(1<M.length){var b=M[0];M=M[1];var S=b.split("_");u=2<=S.length&&"type"==S[1]?u+(b+"=")+M+"&":u+(b+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function nD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function iD(n,t,e){let o,i=!0;for(;!n.J&&n.C<e.length;){if(o=wF(n,e),o==S7){4==t&&(n.o=4,ps(14),i=!1),Lh(n.j,n.m,null,"[Incomplete Response]");break}if(o==kM){n.o=4,ps(15),Lh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Lh(n.j,n.m,o,null),DM(n,o)}nD(n)&&o!=S7&&o!=kM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ps(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),zM(t),t.M=!0,ps(11))):(Lh(n.j,n.m,e,"[Invalid Chunked Response]"),td(n),ff(n))}function wF(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?S7:(e=Number(t.substring(e,i)),isNaN(e)?kM:(i+=1)+e>t.length?S7:(t=t.slice(i,i+e),n.C=i+e,t))}function hf(n){n.Y=Date.now()+n.P,oD(n,n.P)}function oD(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lf(qr(n.lb,n),t)}function D7(n){n.B&&(Hn.clearTimeout(n.B),n.B=null)}function ff(n){0==n.l.H||n.J||TD(n.l,n)}function td(n){D7(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,MM(n.V),KS(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function DM(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||TM(e.i,n)))if(!n.K&&TM(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;B7(e),z7(e)}NM(e),ps(18)}}else e.Fa=o[1],0<e.Fa-e.V&&37500>o[2]&&e.G&&0==e.A&&!e.v&&(e.v=lf(qr(e.ib,e),6e3));if(1>=gD(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else id(e,11)}else if((n.K||e.g==n)&&B7(e),!ef(t))for(o=e.Ja.g.parse(t),t=0;t<o.length;t++){let M=o[t];if(e.V=M[0],M=M[1],2==e.H)if("c"==M[0]){e.K=M[1],e.pa=M[2];const b=M[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const S=M[4];null!=S&&(e.Ga=S,e.l.info("SVER="+e.Ga));const z=M[5];null!=z&&"number"==typeof z&&0<z&&(e.L=i=1.5*z,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const re=n.g;if(re){const Be=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Be){var l=i.i;l.g||-1==Be.indexOf("spdy")&&-1==Be.indexOf("quic")&&-1==Be.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(OM(l,l.h),l.h=null))}if(i.F){const We=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(i.Da=We,no(i.I,i.F,We))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var u=n;if((i=e).wa=RD(i,i.J?i.pa:null,i.Y),u.K){pD(i.i,u);var p=u,v=i.L;v&&p.setTimeout(v),p.B&&(D7(p),hf(p)),i.g=u}else SD(i);0<e.j.length&&F7(e)}else"stop"!=M[0]&&"close"!=M[0]||id(e,7);else 3==e.H&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?id(e,7):LM(e):"noop"!=M[0]&&e.h&&e.h.Aa(M),e.A=0)}cf()}catch{}}function rD(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(w7(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function _F(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(w7(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function yF(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(w7(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),o=i.length,l=0;l<o;l++)t.call(void 0,i[l],e&&e[l],n)}(nn=df.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const t=this.M;t&&3==r1(n)?t.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const b=r1(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||rM||this.g&&(this.h.h||this.g.ja()||CD(this.g)))){this.J||4!=b||7==t||cf(),D7(this);var e=this.g.da();this.ca=e;t:if(nD(this)){var i=CD(this.g);n="";var o=i.length,l=4==r1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){td(this),ff(this);var u="";break t}this.h.i=new Hn.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==o-1});i.splice(0,o),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==e,function gF(n,t,e,i,o,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ef(p)){var M=p;break t}}M=null}if(!(e=M)){this.i=!1,this.o=3,ps(12),td(this),ff(this);break e}Lh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DM(this,e)}this.S?(iD(this,b,u),rM&&this.i&&3==b&&(GS(this.U,this.V,"tick",this.mb),this.V.start())):(Lh(this.j,this.m,u,null),DM(this,u)),4==b&&td(this),this.i&&!this.J&&(4==b?TD(this.l,this):(this.i=!1,hf(this)))}else(function FF(n){const t={};n=(n.g&&2<=r1(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(ef(n[i]))continue;var e=lF(n[i]);const o=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const l=t[o]||[];t[o]=l,l.push(e)}!function nF(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<u.indexOf("Unknown SID")?(this.o=3,ps(12)):(this.o=0,ps(13)),td(this),ff(this)}}}catch{}},nn.mb=function(){if(this.g){var n=r1(this.g),t=this.g.ja();this.C<t.length&&(D7(this),iD(this,n,t),this.i&&4!=n&&hf(this))}},nn.cancel=function(){this.J=!0,td(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pF(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(cf(),ps(17)),td(this),this.o=2,ff(this)):oD(this,this.Y-n)};var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nd){this.h=n.h,T7(this,n.j),this.s=n.s,this.g=n.g,O7(this,n.m),this.l=n.l;var t=n.i,e=new mf;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),aD(this,e),this.o=n.o}else n&&(t=String(n).match(sD))?(this.h=!1,T7(this,t[1]||"",!0),this.s=gf(t[2]||""),this.g=gf(t[3]||"",!0),O7(this,t[4]),this.l=gf(t[5]||"",!0),aD(this,t[6]||"",!0),this.o=gf(t[7]||"")):(this.h=!1,this.i=new mf(null,this.h))}function ol(n){return new nd(n)}function T7(n,t,e){n.j=e?gf(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function O7(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function aD(n,t,e){t instanceof mf?(n.i=t,function AF(n,t){t&&!n.j&&(G0(n),n.i=null,n.g.forEach(function(e,i){var o=i.toLowerCase();i!=o&&(lD(this,i),dD(this,o,e))},n)),n.j=t}(n.i,n.h)):(e||(t=pf(t,EF)),n.i=new mf(t,n.h))}function no(n,t,e){n.i.set(t,e)}function P7(n){return no(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gf(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pf(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,MF),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(pf(t,cD,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(pf(t,cD,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(pf(e,"/"==e.charAt(0)?bF:CF,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",pf(e,IF)),n.join("")};var cD=/[#\/\?@]/g,CF=/[#\?:]/g,bF=/[#\?]/g,EF=/[#\?@]/g,IF=/#/g;function mf(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function G0(n){n.g||(n.g=new Map,n.h=0,n.i&&function xF(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),o=null;if(0<=i){var l=n[e].substring(0,i);o=n[e].substring(i+1)}else l=n[e];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function lD(n,t){G0(n),t=Nh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function uD(n,t){return G0(n),t=Nh(n,t),n.g.has(t)}function dD(n,t,e){lD(n,t),0<e.length&&(n.i=null,n.g.set(Nh(n,t),iM(e)),n.h+=e.length)}function Nh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function hD(n){this.l=n||SF,n=Hn.PerformanceNavigationTiming?0<(n=Hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Hn.g&&Hn.g.Ka&&Hn.g.Ka()&&Hn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=mf.prototype).add=function(n,t){G0(this),this.i=null,n=Nh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},nn.forEach=function(n,t){G0(this),this.g.forEach(function(e,i){e.forEach(function(o){n.call(t,o,i,this)},this)},this)},nn.ta=function(){G0(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const o=n[i];for(let l=0;l<o.length;l++)e.push(t[i])}return e},nn.Z=function(n){G0(this);let t=[];if("string"==typeof n)uD(this,n)&&(t=t.concat(this.g.get(Nh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},nn.set=function(n,t){return G0(this),this.i=null,uD(this,n=Nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},nn.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const l=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var o=l;""!==u[i]&&(o+="="+encodeURIComponent(String(u[i]))),n.push(o)}}return this.i=n.join("&")};var SF=10;function fD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gD(n){return n.h?1:n.g?n.g.size:0}function TM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function OM(n,t){n.g?n.g.add(t):n.h=t}function pD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function mD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return iM(n.i)}hD.prototype.cancel=function(){if(this.i=mD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var DF=class{stringify(n){return Hn.JSON.stringify(n,void 0)}parse(n){return Hn.JSON.parse(n,void 0)}};function TF(){this.g=new DF}function OF(n,t,e){const i=e||"";try{rD(n,function(o,l){let u=o;Z8(o)&&(u=_M(o)),t.push(i+l+"="+encodeURIComponent(u))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function R7(n,t,e,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function vf(n){this.l=n.fc||null,this.j=n.ob||!1}function L7(n,t){wr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=PM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vr(vf,bM),vf.prototype.g=function(){return new L7(this.l,this.j)},vf.prototype.i=function(n){return function(){return n}}({}),vr(L7,wr);var PM=0;function vD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yf(n)}function yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=L7.prototype).open=function(n,t){if(this.readyState!=PM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,yf(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Hn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wf(this)),this.readyState=PM},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Hn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?wf(this):yf(this),3==this.readyState&&vD(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,wf(this))},nn.Ya=function(n){this.g&&(this.response=n,wf(this))},nn.ka=function(){this.g&&wf(this)},nn.setRequestHeader=function(n,t){this.v.append(n,t)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(L7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RF=Hn.JSON.parse;function Io(n){wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wD,this.L=this.M=!1}vr(Io,wr);var wD="",LF=/^https?$/i,NF=["POST","PUT"];function yD(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,_D(n),N7(n)}function _D(n){n.F||(n.F=!0,Rr(n,"complete"),Rr(n,"error"))}function xD(n){if(n.h&&typeof tM<"u"&&(!n.C[1]||4!=r1(n)||2!=n.da()))if(n.v&&4==r1(n))CM(n.La,0,n);else if(Rr(n,"readystatechange"),4==r1(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var o=String(n.I).match(sD)[1]||null;!o&&Hn.self&&Hn.self.location&&(o=Hn.self.location.protocol.slice(0,-1)),i=!LF.test(o?o.toLowerCase():"")}e=i}if(e)Rr(n,"complete"),Rr(n,"success");else{n.m=6;try{var l=2<r1(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",_D(n)}}finally{N7(n)}}}function N7(n,t){if(n.g){MD(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Rr(n,"ready");try{e.onreadystatechange=i}catch{}}}function MD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Hn.clearTimeout(n.A),n.A=null)}function r1(n){return n.g?n.g.readyState:0}function CD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case wD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bD(n){let t="";return dM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function RM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=bD(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):no(n,t,e))}function _f(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ED(n){this.Ga=0,this.j=[],this.l=new E7,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_f("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_f("baseRetryDelayMs",5e3,n),this.hb=_f("retryDelaySeedMs",1e4,n),this.eb=_f("forwardChannelMaxRetries",2,n),this.xa=_f("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new hD(n&&n.concurrentRequestLimit),this.Ja=new TF,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function LM(n){if(ID(n),3==n.H){var t=n.W++,e=ol(n.I);if(no(e,"SID",n.K),no(e,"RID",t),no(e,"TYPE","terminate"),xf(n,e),(t=new df(n,n.l,t)).L=2,t.v=P7(ol(e)),e=!1,Hn.navigator&&Hn.navigator.sendBeacon)try{e=Hn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Hn.Image&&((new Image).src=t.v,e=!0),e||(t.g=LD(t.l,null),t.g.ha(t.v)),t.G=Date.now(),hf(t)}PD(n)}function z7(n){n.g&&(zM(n),n.g.cancel(),n.g=null)}function ID(n){z7(n),n.u&&(Hn.clearTimeout(n.u),n.u=null),B7(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Hn.clearTimeout(n.m),n.m=null)}function F7(n){if(!fD(n.i)&&!n.m){n.m=!0;var t=n.Na;rf||HS(),sf||(rf(),sf=!0),xM.add(t,n),n.C=0}}function AD(n,t){var e;e=t?t.m:n.W++;const i=ol(n.I);no(i,"SID",n.K),no(i,"RID",e),no(i,"AID",n.V),xf(n,i),n.o&&n.s&&RM(i,n.o,n.s),e=new df(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=kD(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),OM(n.i,e),SM(e,i,t)}function xf(n,t){n.na&&dM(n.na,function(e,i){no(t,i,e)}),n.h&&rD({},function(e,i){no(t,i,e)})}function kD(n,t,e){e=Math.min(n.j.length,e);var i=n.h?qr(n.h.Va,n.h,n):null;e:{var o=n.j;let l=-1;for(;;){const u=["count="+e];-1==l?0<e?(l=o[0].g,u.push("ofs="+l)):l=0:u.push("ofs="+l);let p=!0;for(let v=0;v<e;v++){let M=o[v].g;const b=o[v].map;if(M-=l,0>M)l=Math.max(0,o[v].g-100),p=!1;else try{OF(b,u,"req"+M+"_")}catch{i&&i(b)}}if(p){i=u.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function SD(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;rf||HS(),sf||(rf(),sf=!0),xM.add(t,n),n.A=0}}function NM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=lf(qr(n.Ma,n),OD(n,n.A)),n.A++,0))}function zM(n){null!=n.B&&(Hn.clearTimeout(n.B),n.B=null)}function DD(n){n.g=new df(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=ol(n.wa);no(t,"RID","rpc"),no(t,"SID",n.K),no(t,"AID",n.V),no(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&no(t,"TO",n.qa),no(t,"TYPE","xmlhttp"),xf(n,t),n.o&&n.s&&RM(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=P7(ol(t)),e.s=null,e.S=!0,tD(e,n)}function B7(n){null!=n.v&&(Hn.clearTimeout(n.v),n.v=null)}function TD(n,t){var e=null;if(n.g==t){B7(n),zM(n),n.g=null;var i=2}else{if(!TM(n.i,t))return;e=t.F,pD(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var o=n.C;Rr(i=I7(),new YS(i,e)),F7(n)}else SD(n);else if(3==(o=t.o)||0==o&&0<t.ca||!(1==i&&function BF(n,t){return!(gD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=lf(qr(n.Na,n,t),OD(n,n.C)),n.C++,0)))}(n,t)||2==i&&NM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:id(n,5);break;case 4:id(n,10);break;case 3:id(n,6);break;default:id(n,2)}}function OD(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function id(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=qr(n.pb,n);e||(e=new nd("//www.google.com/images/cleardot.gif"),Hn.location&&"http"==Hn.location.protocol||T7(e,"https"),P7(e)),function PF(n,t){const e=new E7;if(Hn.Image){const i=new Image;i.onload=y7(R7,e,i,"TestLoadImage: loaded",!0,t),i.onerror=y7(R7,e,i,"TestLoadImage: error",!1,t),i.onabort=y7(R7,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=y7(R7,e,i,"TestLoadImage: timeout",!1,t),Hn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ps(2);n.H=0,n.h&&n.h.za(t),PD(n),ID(n)}function PD(n){if(n.H=0,n.ma=[],n.h){const t=mD(n.i);(0!=t.length||0!=n.j.length)&&(kS(n.ma,t),kS(n.ma,n.j),n.i.i.length=0,iM(n.j),n.j.length=0),n.h.ya()}}function RD(n,t,e){var i=e instanceof nd?ol(e):new nd(e);if(""!=i.g)t&&(i.g=t+"."+i.g),O7(i,i.m);else{var o=Hn.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var l=new nd(null);i&&T7(l,i),t&&(l.g=t),o&&O7(l,o),e&&(l.l=e),i=l}return t=n.Da,(e=n.F)&&t&&no(i,e,t),no(i,"VER",n.ra),xf(n,i),i}function LD(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Io(e&&n.Ha&&!n.va?new vf({ob:!0}):n.va)).Oa(n.J),t}function ND(){}function V7(){if(Rh&&!(10<=Number(Jz)))throw Error("Environmental error: no available transport.")}function na(n,t){wr.call(this),this.g=new ED(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!ef(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ef(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new zh(this)}function zD(n){EM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function FD(){IM.call(this),this.status=1}function zh(n){this.g=n}function Ic(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function FM(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)i[o]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(o=0;16>o;++o)i[o]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var l=n.g[3],u=(t=n.g[0])+(l^(e=n.g[1])&((o=n.g[2])^l))+i[0]+3614090360&4294967295;u=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=(e=(o=(l=(t=e+(u<<7&4294967295|u>>>25))+((u=l+(o^t&(e^o))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=o+(e^l&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^o&(l^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(l^e&(o^l))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=l+(o^t&(e^o))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=o+(e^l&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^o&(l^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(l^e&(o^l))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=l+(o^t&(e^o))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=o+(e^l&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^o&(l^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(l^e&(o^l))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=l+(o^t&(e^o))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=o+(e^l&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^o&(l^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^l&(e^o))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=l+(e^o&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=o+(t^e&(l^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=e+(l^t&(o^l))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(o^l&(e^o))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=l+(e^o&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=o+(t^e&(l^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=e+(l^t&(o^l))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(o^l&(e^o))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=l+(e^o&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=o+(t^e&(l^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=e+(l^t&(o^l))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(o^l&(e^o))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=l+(e^o&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=o+(t^e&(l^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=e+(l^t&(o^l))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(e^o^l)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=l+(t^e^o)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=o+(l^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=e+(o^l^t)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^o^l)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=l+(t^e^o)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=o+(l^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=e+(o^l^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^o^l)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=l+(t^e^o)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=o+(l^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=e+(o^l^t)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^o^l)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=l+(t^e^o)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=o+(l^t^e)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=e+(o^l^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(o^(e|~l))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=l+(e^(t|~o))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=o+(t^(l|~e))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=e+(l^(o|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(o^(e|~l))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=l+(e^(t|~o))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=o+(t^(l|~e))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=e+(l^(o|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(o^(e|~l))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=l+(e^(t|~o))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=o+(t^(l|~e))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=e+(l^(o|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((l=(t=e+((u=t+(o^(e|~l))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=l+(e^(t|~o))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((o=l+((u=o+(t^(l|~e))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(o+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+l&4294967295}function Ri(n,t){this.h=t;for(var e=[],i=!0,o=n.length-1;0<=o;o--){var l=0|n[o];i&&l==t||(e[o]=l,i=!1)}this.g=e}(nn=Io.prototype).Oa=function(n){this.M=n},nn.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AM.g(),this.C=function JS(n){return n.h||(n.h=n.i())}(this.u?this.u:AM),this.g.onreadystatechange=qr(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(l){return void yD(this,l)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)e.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const l of i.keys())e.set(l,i.get(l))}i=Array.from(e.keys()).find(l=>"content-type"==l.toLowerCase()),o=Hn.FormData&&n instanceof Hn.FormData,!(0<=AS(NF,t))||i||o||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of e)this.g.setRequestHeader(l,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MD(this),0<this.B&&((this.L=function zF(n){return Rh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.ua,this)):this.A=CM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){yD(this,l)}},nn.ua=function(){typeof tM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rr(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rr(this,"complete"),Rr(this,"abort"),N7(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N7(this,!0)),Io.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?xD(this):this.kb())},nn.kb=function(){xD(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<r1(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),RF(t)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=ED.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new df(this,this.l,n);let l=this.s;if(this.U&&(l?(l=PS(l),LS(l,this.U)):l=this.U),null!==this.o||this.O||(o.I=l,l=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=kD(this,o,t),no(e=ol(this.I),"RID",n),no(e,"CVER",22),this.F&&no(e,"X-HTTP-Session-Id",this.F),xf(this,e),l&&(this.O?t="headers="+encodeURIComponent(String(bD(l)))+"&"+t:this.o&&RM(e,this.o,l)),OM(this.i,o),this.bb&&no(e,"TYPE","init"),this.P?(no(e,"$req",t),no(e,"SID","null"),o.aa=!0,SM(o,e,null)):SM(o,e,t),this.H=2}}else 3==this.H&&(n?AD(this,n):0==this.j.length||fD(this.i)||AD(this))},nn.Ma=function(){if(this.u=null,DD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=lf(qr(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ps(10),z7(this),DD(this))},nn.ib=function(){null!=this.v&&(this.v=null,z7(this),NM(this),ps(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ps(2)):(this.l.info("Failed to ping google.com"),ps(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=ND.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},V7.prototype.g=function(n,t){return new na(n,t)},vr(na,wr),na.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;ps(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=RD(n,null,n.Y),F7(n)},na.prototype.close=function(){LM(this.g)},na.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=_M(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&F7(t)},na.prototype.N=function(){this.g.h=null,delete this.j,LM(this.g),delete this.g,na.$.N.call(this)},vr(zD,EM),vr(FD,IM),vr(zh,ND),zh.prototype.Ba=function(){Rr(this.g,"a")},zh.prototype.Aa=function(n){Rr(this.g,new zD(n))},zh.prototype.za=function(n){Rr(this.g,new FD)},zh.prototype.ya=function(){Rr(this.g,"b")},vr(Ic,function VF(){this.blockSize=-1}),Ic.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ic.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,o=this.h,l=0;l<t;){if(0==o)for(;l<=e;)FM(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<t;)if(i[o++]=n.charCodeAt(l++),o==this.blockSize){FM(this,i),o=0;break}}else for(;l<t;)if(i[o++]=n[l++],o==this.blockSize){FM(this,i),o=0;break}}this.h=o,this.i+=t},Ic.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var jF={};function BM(n){return-128<=n&&128>n?function Xz(n,t){var e=jF;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ri([0|t],0>t?-1:0)}):new Ri([0|n],0>n?-1:0)}function s1(n){if(isNaN(n)||!isFinite(n))return Fh;if(0>n)return Lr(s1(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=VM;return new Ri(t,0)}var VM=4294967296,Fh=BM(0),jM=BM(1),VD=BM(16777216);function rl(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ha(n){return-1==n.h}function Lr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ri(e,~n.h).add(jM)}function j7(n,t){return n.add(Lr(t))}function H7(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Mf(n,t){this.g=n,this.h=t}function U7(n,t){if(rl(t))throw Error("division by zero");if(rl(n))return new Mf(Fh,Fh);if(Ha(n))return t=U7(Lr(n),t),new Mf(Lr(t.g),Lr(t.h));if(Ha(t))return t=U7(n,Lr(t)),new Mf(Lr(t.g),t.h);if(30<n.g.length){if(Ha(n)||Ha(t))throw Error("slowDivide_ only works with positive integers.");for(var e=jM,i=t;0>=i.X(n);)e=jD(e),i=jD(i);var o=Bh(e,1),l=Bh(i,1);for(i=Bh(i,2),e=Bh(e,2);!rl(i);){var u=l.add(i);0>=u.X(n)&&(o=o.add(e),l=u),i=Bh(i,1),e=Bh(e,1)}return t=j7(n,o.R(t)),new Mf(o,t)}for(o=Fh;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),u=(l=s1(e)).R(t);Ha(u)||0<u.X(n);)u=(l=s1(e-=i)).R(t);rl(l)&&(l=jM),o=o.add(l),n=j7(n,u)}return new Mf(o,n)}function jD(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ri(e,n.h)}function Bh(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,o=[],l=0;l<i;l++)o[l]=0<t?n.D(l+e)>>>t|n.D(l+e+1)<<32-t:n.D(l+e);return new Ri(o,n.h)}(nn=Ri.prototype).ea=function(){if(Ha(this))return-Lr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:VM+i)*t,t*=VM}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(rl(this))return"0";if(Ha(this))return"-"+Lr(this).toString(n);for(var t=s1(Math.pow(n,6)),e=this,i="";;){var o=U7(e,t).g,l=((0<(e=j7(e,o.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(rl(e=o))return l+i;for(;6>l.length;)l="0"+l;i=l+i}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return Ha(n=j7(this,n))?-1:rl(n)?0:1},nn.abs=function(){return Ha(this)?Lr(this):this},nn.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,o=0;o<=t;o++){var l=i+(65535&this.D(o))+(65535&n.D(o)),u=(l>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);i=u>>>16,e[o]=(u&=65535)<<16|(l&=65535)}return new Ri(e,-2147483648&e[e.length-1]?-1:0)},nn.R=function(n){if(rl(this)||rl(n))return Fh;if(Ha(this))return Ha(n)?Lr(this).R(Lr(n)):Lr(Lr(this).R(n));if(Ha(n))return Lr(this.R(Lr(n)));if(0>this.X(VD)&&0>n.X(VD))return s1(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<n.g.length;o++){var l=this.D(i)>>>16,u=65535&this.D(i),p=n.D(o)>>>16,v=65535&n.D(o);e[2*i+2*o]+=u*v,H7(e,2*i+2*o),e[2*i+2*o+1]+=l*v,H7(e,2*i+2*o+1),e[2*i+2*o+1]+=u*p,H7(e,2*i+2*o+1),e[2*i+2*o+2]+=l*p,H7(e,2*i+2*o+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ri(e,0)},nn.gb=function(n){return U7(this,n).h},nn.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ri(e,this.h&n.h)},nn.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ri(e,this.h|n.h)},nn.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ri(e,this.h^n.h)},V7.prototype.createWebChannel=V7.prototype.g,na.prototype.send=na.prototype.u,na.prototype.open=na.prototype.m,na.prototype.close=na.prototype.close,A7.NO_ERROR=0,A7.TIMEOUT=8,A7.HTTP_ERROR=6,QS.COMPLETE="complete",ZS.EventType=uf,uf.OPEN="a",uf.CLOSE="b",uf.ERROR="c",uf.MESSAGE="d",wr.prototype.listen=wr.prototype.O,Io.prototype.listenOnce=Io.prototype.P,Io.prototype.getLastError=Io.prototype.Sa,Io.prototype.getLastErrorCode=Io.prototype.Ia,Io.prototype.getStatus=Io.prototype.da,Io.prototype.getResponseJson=Io.prototype.Wa,Io.prototype.getResponseText=Io.prototype.ja,Io.prototype.send=Io.prototype.ha,Io.prototype.setWithCredentials=Io.prototype.Oa,Ic.prototype.digest=Ic.prototype.l,Ic.prototype.reset=Ic.prototype.reset,Ic.prototype.update=Ic.prototype.j,Ri.prototype.add=Ri.prototype.add,Ri.prototype.multiply=Ri.prototype.R,Ri.prototype.modulo=Ri.prototype.gb,Ri.prototype.compare=Ri.prototype.X,Ri.prototype.toNumber=Ri.prototype.ea,Ri.prototype.toString=Ri.prototype.toString,Ri.prototype.getBits=Ri.prototype.D,Ri.fromNumber=s1,Ri.fromString=function BD(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Lr(BD(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=s1(Math.pow(t,8)),i=Fh,o=0;o<n.length;o+=8){var l=Math.min(8,n.length-o),u=parseInt(n.substring(o,o+l),t);8>l?(l=s1(Math.pow(t,l)),i=i.R(l).add(s1(u))):i=(i=i.R(e)).add(s1(u))}return i};var HF=Ec.createWebChannelTransport=function(){return new V7},UF=Ec.getStatEventTarget=function(){return I7()},HM=Ec.ErrorCode=A7,$F=Ec.EventType=QS,GF=Ec.Event=ed,HD=Ec.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},KF=Ec.FetchXmlHttpFactory=vf,$7=Ec.WebChannel=ZS,WF=Ec.XhrIo=Io,qF=Ec.Md5=Ic,Vh=Ec.Integer=Ri;const UD="@firebase/firestore";class yr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let jh="9.23.0";const K0=new U0.Vy("@firebase/firestore");function UM(){return K0.logLevel}function bt(n,...t){if(K0.logLevel<=U0.$b.DEBUG){const e=t.map($M);K0.debug(`Firestore (${jh}): ${n}`,...e)}}function Bo(n,...t){if(K0.logLevel<=U0.$b.ERROR){const e=t.map($M);K0.error(`Firestore (${jh}): ${n}`,...e)}}function Ua(n,...t){if(K0.logLevel<=U0.$b.WARN){const e=t.map($M);K0.warn(`Firestore (${jh}): ${n}`,...e)}}function $M(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function un(n="Unexpected state"){const t=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: `+n;throw Bo(t),new Error(t)}function mn(n,t){n||un()}function Zt(n,t){return n}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends xi.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class $D{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(yr.UNAUTHENTICATED))}shutdown(){}}class JF{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ZF{constructor(t){this.t=t,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let o=this.i;const l=M=>this.i!==o?(o=this.i,e(M)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const M=u;t.enqueueRetryable((0,pe.A)(function*(){yield M.promise,yield l(i.currentUser)}))},v=M=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(M=>v(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?v(M):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mn("string"==typeof i.accessToken),new $D(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mn(null===t||"string"==typeof t),new yr(t)}}class eB{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tB{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new eB(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nB{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=l=>{null!=l.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.T;return this.T=l.token,bt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const o=l=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?o(l):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(mn("string"==typeof e.token),this.T=e.token,new GD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class KD{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const o=iB(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return i}}function Bn(n,t){return n<t?-1:n>t?1:0}function Hh(n,t,e){return n.length===t.length&&n.every((i,o)=>e(i,t[o]))}function WD(n){return n+"\0"}class fo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return fo.fromMillis(Date.now())}static fromDate(t){return fo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new fo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bn(this.nanoseconds,t.nanoseconds):Bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new wn(t)}static min(){return new wn(new fo(0,0))}static max(){return new wn(new fo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cf{constructor(t,e,i){void 0===e?e=0:e>t.length&&un(),void 0===i?i=t.length-e:i>t.length-e&&un(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Cf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Cf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let o=0;o<i;o++){const l=t.get(o),u=e.get(o);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class hi extends Cf{construct(t,e,i){return new hi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(Ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(o=>o.length>0))}return new hi(e)}static emptyPath(){return new hi([])}}const oB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ao extends Cf{construct(t,e,i){return new Ao(t,e,i)}static isValidIdentifier(t){return oB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ao.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ao(["__name__"])}static fromServerFormat(t){const e=[];let i="",o=0;const l=()=>{if(0===i.length)throw new vt(Ze.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;o<t.length;){const p=t[o];if("\\"===p){if(o+1===t.length)throw new vt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,o+=2}else"`"===p?(u=!u,o++):"."!==p||u?(i+=p,o++):(l(),o++)}if(l(),u)throw new vt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ao(e)}static emptyPath(){return new Ao([])}}class Wt{constructor(t){this.path=t}static fromPath(t){return new Wt(hi.fromString(t))}static fromName(t){return new Wt(hi.fromString(t).popFirst(5))}static empty(){return new Wt(hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===hi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return hi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wt(new hi(t.slice()))}}class G7{constructor(t,e,i,o){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=o}}function GM(n){return n.fields.find(t=>2===t.kind)}function od(n){return n.fields.filter(t=>2!==t.kind)}G7.UNKNOWN_ID=-1;class K7{constructor(t,e){this.fieldPath=t,this.kind=e}}class bf{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new bf(0,ia.min())}}function qD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=wn.fromTimestamp(1e9===i?new fo(e+1,0):new fo(e,i));return new ia(o,Wt.empty(),t)}function XD(n){return new ia(n.readTime,n.key,-1)}class ia{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ia(wn.min(),Wt.empty(),-1)}static max(){return new ia(wn.max(),Wt.empty(),-1)}}function KM(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Wt.comparator(n.documentKey,t.documentKey),0!==e?e:Bn(n.largestBatchId,t.largestBatchId))}const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function W0(n){return WM.apply(this,arguments)}function WM(){return WM=(0,pe.A)(function*(n){if(n.code!==Ze.FAILED_PRECONDITION||n.message!==YD)throw n;bt("LocalStore","Unexpectedly lost primary lease")}),WM.apply(this,arguments)}class qe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new qe((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof qe?e:qe.resolve(e)}catch(e){return qe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):qe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):qe.reject(e)}static resolve(t){return new qe((e,i)=>{e(t)})}static reject(t){return new qe((e,i)=>{i(t)})}static waitFor(t){return new qe((e,i)=>{let o=0,l=0,u=!1;t.forEach(p=>{++o,p.next(()=>{++l,u&&l===o&&e()},v=>i(v))}),u=!0,l===o&&e()})}static or(t){let e=qe.resolve(!1);for(const i of t)e=e.next(o=>o?qe.resolve(o):i());return e}static forEach(t,e){const i=[];return t.forEach((o,l)=>{i.push(e.call(this,o,l))}),this.waitFor(i)}static mapArray(t,e){return new qe((i,o)=>{const l=t.length,u=new Array(l);let p=0;for(let v=0;v<l;v++){const M=v;e(t[M]).next(b=>{u[M]=b,++p,p===l&&i(u)},b=>o(b))}})}static doWhile(t,e){return new qe((i,o)=>{const l=()=>{!0===t()?e().next(()=>{l()},o):i()};l()})}}class W7{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new or,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Ef(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const o=qM(i.target.error);this.v.reject(new Ef(t,o))}}static open(t,e,i,o){try{return new W7(e,t.transaction(o,i))}catch(l){throw new Ef(e,l)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(bt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new cB(e)}}class Ac{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Ac.S((0,xi.ZQ)())&&Bo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return bt("SimpleDb","Removing database:",t),rd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,xi.zW)())return!1;if(Ac.C())return!0;const t=(0,xi.ZQ)(),e=Ac.S(t),i=0<e&&e<10,o=Ac.N(t),l=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,pe.A)(function*(){return e.db||(bt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,o)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{o(new Ef(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const p=u.target.error;o("VersionError"===p.name?new vt(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new vt(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Ef(t,p))},l.onupgradeneeded=u=>{bt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.O(u.target.result,l.transaction,u.oldVersion,e.version).next(()=>{bt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,o){var l=this;return(0,pe.A)(function*(){const u="readonly"===e;let p=0;for(;;){++p;try{l.db=yield l.$(t);const v=W7.open(l.db,t,u?"readonly":"readwrite",i),M=o(v).next(b=>(v.P(),b)).catch(b=>(v.abort(b),qe.reject(b))).toPromise();return M.catch(()=>{}),yield v.R,M}catch(v){const M=v,b="FirebaseError"!==M.name&&p<3;if(bt("SimpleDb","Transaction failed with error:",M.message,"Retrying:",b),l.close(),!b)return Promise.reject(M)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aB{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return rd(this.L.delete())}}class Ef extends vt{constructor(t,e){super(Ze.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function q0(n){return"IndexedDbTransactionError"===n.name}class cB{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(bt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(bt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),rd(i)}add(t){return bt("SimpleDb","ADD",this.store.name,t,t),rd(this.store.add(t))}get(t){return rd(this.store.get(t)).next(e=>(void 0===e&&(e=null),bt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return bt("SimpleDb","DELETE",this.store.name,t),rd(this.store.delete(t))}count(){return bt("SimpleDb","COUNT",this.store.name),rd(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),l=[];return this.W(o,(u,p)=>{l.push(p)}).next(()=>l)}{const o=this.store.getAll(i.range);return new qe((l,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{l(p.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new qe((o,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{o(u.target.result)}})}J(t,e){bt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const o=this.cursor(i);return this.W(o,(l,u,p)=>p.delete())}X(t,e){let i;e?i=t:(i={},e=t);const o=this.cursor(i);return this.W(o,e)}Z(t){const e=this.cursor({});return new qe((i,o)=>{e.onerror=l=>{const u=qM(l.target.error);o(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(p=>{p?u.continue():i()}):i()}})}W(t,e){const i=[];return new qe((o,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const p=u.target.result;if(!p)return void o();const v=new aB(p),M=e(p.primaryKey,p.value,v);if(M instanceof qe){const b=M.catch(S=>(v.done(),qe.reject(S)));i.push(b)}v.isDone?o():null===v.K?p.continue():p.continue(v.K)}}).next(()=>qe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function rd(n){return new qe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const o=qM(i.target.error);e(o)}})}let JD=!1;function qM(n){const t=Ac.S((0,xi.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JD||(JD=!0,setTimeout(()=>{throw i},0)),i}}return n}class lB{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;bt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,pe.A)(function*(){e.task=null;try{bt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){q0(i)?bt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield W0(i)}yield e.et(6e4)}))}}class uB{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,pe.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let o=e,l=!0;return qe.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return bt("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,o).next(p=>{o-=p,i.add(u)});l=!1})).next(()=>e-o)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(o=>this.localStore.localDocuments.getNextDocuments(t,e,o,i).next(l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(o,l)).next(p=>(bt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(t,e,p))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((o,l)=>{const u=XD(l);KM(u,i)>0&&(i=u)}),new ia(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let oa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>i.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function If(n){return null==n}function Af(n){return 0===n&&1/n==-1/0}function ZD(n){return"number"==typeof n&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Yr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=eT(t)),t=dB(n.get(e),t);return eT(t)}function dB(n,t){let e=t;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function eT(n){return n+"\x01\x01"}function a1(n){const t=n.length;if(mn(t>=2),2===t)return mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hi.emptyPath();const e=t-2,i=[];let o="";for(let l=0;l<t;){const u=n.indexOf("\x01",l);switch((u<0||u>e)&&un(),n.charAt(u+1)){case"\x01":const p=n.substring(l,u);let v;0===o.length?v=p:(o+=p,v=o,o=""),i.push(v);break;case"\x10":o+=n.substring(l,u),o+="\0";break;case"\x11":o+=n.substring(l,u+1);break;default:un()}l=u+2}return new hi(i)}const tT=["userId","batchId"];function q7(n,t){return[n,Yr(t)]}function nT(n,t,e){return[n,Yr(t),e]}const hB={},fB=["prefixPath","collectionGroup","readTime","documentId"],gB=["prefixPath","collectionGroup","documentId"],pB=["collectionGroup","readTime","prefixPath","documentId"],mB=["canonicalId","targetId"],vB=["targetId","path"],wB=["path","targetId"],yB=["collectionId","parent"],_B=["indexId","uid"],xB=["uid","sequenceNumber"],MB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CB=["indexId","uid","orderedDocumentKey"],bB=["userId","collectionPath","documentId"],EB=["userId","collectionPath","largestBatchId"],IB=["userId","collectionGroup","largestBatchId"],iT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AB=[...iT,"documentOverlays"],oT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rT=oT,kB=[...rT,"indexConfiguration","indexState","indexEntries"];class XM extends QD{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function _r(n,t){const e=Zt(n);return Ac.M(e.ht,t)}function sT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function X0(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function aT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Qi{constructor(t,e){this.comparator=t,this.root=e||Nr.EMPTY}insert(t,e){return new Qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(t){return new Qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(0===o)return e+i.left.size;o<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new X7(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new X7(this.root,t,this.comparator,!1)}getReverseIterator(){return new X7(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new X7(this.root,t,this.comparator,!0)}}class X7{constructor(t,e,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nr{constructor(t,e,i,o,l){this.key=t,this.value=e,this.color=i??Nr.RED,this.left=o??Nr.EMPTY,this.right=l??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,o,l){return new Nr(t??this.key,e??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let o=this;const l=i(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,i),null):0===l?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return Nr.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const t=this.left.check();if(t!==this.right.check())throw un();return t+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(n,t,e,i,o){return this}insert(n,t,e){return new Nr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class io{constructor(t){this.comparator=t,this.data=new Qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(t){return new cT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new io(this.comparator);return e.data=t,e}}class cT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uh(n){return n.hasNext()?n.getNext():void 0}class Rs{constructor(t){this.fields=t,t.sort(Ao.comparator)}static empty(){return new Rs([])}unionWith(t){let e=new io(Ao.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Rs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lT("Invalid base64 string: "+o):o}}(t);return new rr(e)}static fromUint8Array(t){const e=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new rr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Y0(n){if(mn(!!n),"string"==typeof n){let t=0;const e=DB.exec(n);if(mn(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ko(n.seconds),nanos:ko(n.nanos)}}function ko(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sl(n){return"string"==typeof n?rr.fromBase64String(n):rr.fromUint8Array(n)}function Y7(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Q7(n){const t=n.mapValue.fields.__previous_value__;return Y7(t)?Q7(t):t}function kf(n){const t=Y0(n.mapValue.fields.__local_write_time__.timestampValue);return new fo(t.seconds,t.nanos)}class TB{constructor(t,e,i,o,l,u,p,v,M){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=M}}class Q0{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Q0("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Q0&&t.projectId===this.projectId&&t.database===this.database}}const J0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},J7={nullValue:"NULL_VALUE"};function Z0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y7(n)?4:fT(n)?9007199254740991:10:un()}function c1(n,t){if(n===t)return!0;const e=Z0(n);if(e!==Z0(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return kf(n).isEqual(kf(t));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Y0(i.timestampValue),u=Y0(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,sl(n.bytesValue).isEqual(sl(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,o){return ko(i.geoPointValue.latitude)===ko(o.geoPointValue.latitude)&&ko(i.geoPointValue.longitude)===ko(o.geoPointValue.longitude)}(n,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ko(i.integerValue)===ko(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=ko(i.doubleValue),u=ko(o.doubleValue);return l===u?Af(l)===Af(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Hh(n.arrayValue.values||[],t.arrayValue.values||[],c1);case 10:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(sT(l)!==sT(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===u[p]||!c1(l[p],u[p])))return!1;return!0}(n,t);default:return un()}var o}function Sf(n,t){return void 0!==(n.values||[]).find(e=>c1(e,t))}function e2(n,t){if(n===t)return 0;const e=Z0(n),i=Z0(t);if(e!==i)return Bn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bn(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=ko(o.integerValue||o.doubleValue),p=ko(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,t);case 3:return uT(n.timestampValue,t.timestampValue);case 4:return uT(kf(n),kf(t));case 5:return Bn(n.stringValue,t.stringValue);case 6:return function(o,l){const u=sl(o),p=sl(l);return u.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),p=l.split("/");for(let v=0;v<u.length&&v<p.length;v++){const M=Bn(u[v],p[v]);if(0!==M)return M}return Bn(u.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=Bn(ko(o.latitude),ko(l.latitude));return 0!==u?u:Bn(ko(o.longitude),ko(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,l){const u=o.values||[],p=l.values||[];for(let v=0;v<u.length&&v<p.length;++v){const M=e2(u[v],p[v]);if(M)return M}return Bn(u.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,l){if(o===J0.mapValue&&l===J0.mapValue)return 0;if(o===J0.mapValue)return 1;if(l===J0.mapValue)return-1;const u=o.fields||{},p=Object.keys(u),v=l.fields||{},M=Object.keys(v);p.sort(),M.sort();for(let b=0;b<p.length&&b<M.length;++b){const S=Bn(p[b],M[b]);if(0!==S)return S;const z=e2(u[p[b]],v[M[b]]);if(0!==z)return z}return Bn(p.length,M.length)}(n.mapValue,t.mapValue);default:throw un()}}function uT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bn(n,t);const e=Y0(n),i=Y0(t),o=Bn(e.seconds,i.seconds);return 0!==o?o:Bn(e.nanos,i.nanos)}function $h(n){return YM(n)}function YM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=Y0(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sl(n.bytesValue).toBase64():"referenceValue"in n?Wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let o="[",l=!0;for(const u of i.values||[])l?l=!1:o+=",",o+=YM(u);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const p of o)u?u=!1:l+=",",l+=`${p}:${YM(i.fields[p])}`;return l+"}"}(n.mapValue):un();var t}function sd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function QM(n){return!!n&&"integerValue"in n}function Df(n){return!!n&&"arrayValue"in n}function dT(n){return!!n&&"nullValue"in n}function hT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ev(n){return!!n&&"mapValue"in n}function Tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return X0(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Tf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function fT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OB(n){return"nullValue"in n?J7:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sd(Q0.empty(),Wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:un()}function PB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sd(Q0.empty(),Wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?J0:un()}function gT(n,t){const e=e2(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function pT(n,t){const e=e2(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class zr{constructor(t){this.value=t}static empty(){return new zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ev(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tf(e)}setAll(t){let e=Ao.emptyPath(),i={},o=[];t.forEach((u,p)=>{if(!e.isImmediateParentOf(p)){const v=this.getFieldsMap(e);this.applyChanges(v,i,o),i={},o=[],e=p.popLast()}u?i[p.lastSegment()]=Tf(u):o.push(p.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,o)}delete(t){const e=this.field(t.popLast());ev(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return c1(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=e.mapValue.fields[t.get(i)];ev(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,i){X0(e,(o,l)=>t[o]=l);for(const o of i)delete t[o]}clone(){return new zr(Tf(this.value))}}function mT(n){const t=[];return X0(n.fields,(e,i)=>{const o=new Ao([e]);if(ev(i)){const l=mT(i.mapValue).fields;if(0===l.length)t.push(o);else for(const u of l)t.push(o.child(u))}else t.push(o)}),new Rs(t)}class oo{constructor(t,e,i,o,l,u,p){this.key=t,this.documentType=e,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(t){return new oo(t,0,wn.min(),wn.min(),wn.min(),zr.empty(),0)}static newFoundDocument(t,e,i,o){return new oo(t,1,e,wn.min(),i,o,0)}static newNoDocument(t,e){return new oo(t,2,e,wn.min(),wn.min(),zr.empty(),0)}static newUnknownDocument(t,e){return new oo(t,3,e,wn.min(),wn.min(),zr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof oo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class t2{constructor(t,e){this.position=t,this.inclusive=e}}function vT(n,t,e){let i=0;for(let o=0;o<n.position.length;o++){const l=t[o],u=n.position[o];if(i=l.field.isKeyField()?Wt.comparator(Wt.fromName(u.referenceValue),e.key):e2(u,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function wT(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!c1(n.position[e],t.position[e]))return!1;return!0}class Gh{constructor(t,e="asc"){this.field=t,this.dir=e}}function RB(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class yT{}class ai extends yT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new LB(t,e,i):"array-contains"===e?new FB(t,i):"in"===e?new ET(t,i):"not-in"===e?new BB(t,i):"array-contains-any"===e?new VB(t,i):new ai(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new NB(t,i):new zB(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(e2(e,this.value)):null!==e&&Z0(this.value)===Z0(e)&&this.matchesComparison(e2(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Li extends yT{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Li(t,e)}matches(t){return Kh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Kh(n){return"and"===n.op}function JM(n){return"or"===n.op}function ZM(n){return _T(n)&&Kh(n)}function _T(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}function eC(n){if(n instanceof ai)return n.field.canonicalString()+n.op.toString()+$h(n.value);if(ZM(n))return n.filters.map(t=>eC(t)).join(",");{const t=n.filters.map(e=>eC(e)).join(",");return`${n.op}(${t})`}}function xT(n,t){return n instanceof ai?(e=n,(i=t)instanceof ai&&e.op===i.op&&e.field.isEqual(i.field)&&c1(e.value,i.value)):n instanceof Li?function(e,i){return i instanceof Li&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((o,l,u)=>o&&xT(l,i.filters[u]),!0)}(n,t):void un();var e,i}function MT(n,t){const e=n.filters.concat(t);return Li.create(e,n.op)}function CT(n){return n instanceof ai?`${(t=n).field.canonicalString()} ${t.op} ${$h(t.value)}`:n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(CT).join(" ,")+"}"}(n):"Filter";var t}class LB extends ai{constructor(t,e,i){super(t,e,i),this.key=Wt.fromName(i.referenceValue)}matches(t){const e=Wt.comparator(t.key,this.key);return this.matchesComparison(e)}}class NB extends ai{constructor(t,e){super(t,"in",e),this.keys=bT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zB extends ai{constructor(t,e){super(t,"not-in",e),this.keys=bT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function bT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Wt.fromName(i.referenceValue))}class FB extends ai{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Df(e)&&Sf(e.arrayValue,this.value)}}class ET extends ai{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sf(this.value.arrayValue,e)}}class BB extends ai{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sf(this.value.arrayValue,e)}}class VB extends ai{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Df(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Sf(this.value.arrayValue,i))}}class jB{constructor(t,e=null,i=[],o=[],l=null,u=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=p,this.dt=null}}function tC(n,t=null,e=[],i=[],o=null,l=null,u=null){return new jB(n,t,e,i,o,l,u)}function ad(n){const t=Zt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>eC(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),If(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$h(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$h(i)).join(",")),t.dt=e}return t.dt}function Of(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!RB(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!xT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!wT(n.startAt,t.startAt)&&wT(n.endAt,t.endAt)}function tv(n){return Wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nv(n,t){return n.filters.filter(e=>e instanceof ai&&e.field.isEqual(t))}function IT(n,t,e){let i=J7,o=!0;for(const l of nv(n,t)){let u=J7,p=!0;switch(l.op){case"<":case"<=":u=OB(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,p=!1;break;case"!=":case"not-in":u=J7}gT({value:i,inclusive:o},{value:u,inclusive:p})<0&&(i=u,o=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];gT({value:i,inclusive:o},{value:u,inclusive:e.inclusive})<0&&(i=u,o=e.inclusive);break}return{value:i,inclusive:o}}function AT(n,t,e){let i=J0,o=!0;for(const l of nv(n,t)){let u=J0,p=!0;switch(l.op){case">=":case">":u=PB(l.value),p=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,p=!1;break;case"!=":case"not-in":u=J0}pT({value:i,inclusive:o},{value:u,inclusive:p})>0&&(i=u,o=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];pT({value:i,inclusive:o},{value:u,inclusive:e.inclusive})>0&&(i=u,o=e.inclusive);break}return{value:i,inclusive:o}}class al{constructor(t,e=null,i=[],o=[],l=null,u="F",p=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=v,this.wt=null,this._t=null}}function kT(n,t,e,i,o,l,u,p){return new al(n,t,e,i,o,l,u,p)}function Wh(n){return new al(n)}function ST(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function iv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function iC(n){return null!==n.collectionGroup}function cd(n){const t=Zt(n);if(null===t.wt){t.wt=[];const e=iv(t),i=nC(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Gh(e)),t.wt.push(new Gh(Ao.keyField(),"asc"));else{let o=!1;for(const l of t.explicitOrderBy)t.wt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Gh(Ao.keyField(),l))}}}return t.wt}function ms(n){const t=Zt(n);if(!t._t)if("F"===t.limitType)t._t=tC(t.path,t.collectionGroup,cd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of cd(t))e.push(new Gh(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new t2(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new t2(t.startAt.position,t.startAt.inclusive):null;t._t=tC(t.path,t.collectionGroup,e,t.filters,t.limit,i,o)}return t._t}function oC(n,t){t.getFirstInequalityField(),iv(n);const e=n.filters.concat([t]);return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ov(n,t,e){return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Pf(n,t){return Of(ms(n),ms(t))&&n.limitType===t.limitType}function DT(n){return`${ad(ms(n))}|lt:${n.limitType}`}function rC(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>CT(i)).join(", ")}]`),If(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$h(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$h(i)).join(",")),`Target(${e})`}(ms(n))}; limitType=${n.limitType})`}function Rf(n,t){return t.isFoundDocument()&&function(e,i){const o=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):Wt.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,i){for(const o of cd(e))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,t)&&function(e,i){for(const o of e.filters)if(!o.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(o,l,u){const p=vT(o,l,u);return o.inclusive?p<=0:p<0}(e.startAt,cd(e),i)||e.endAt&&!function(o,l,u){const p=vT(o,l,u);return o.inclusive?p>=0:p>0}(e.endAt,cd(e),i)));var e,i}function TT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OT(n){return(t,e)=>{let i=!1;for(const o of cd(n)){const l=HB(o,t,e);if(0!==l)return l;i=i||o.field.isKeyField()}return 0}}function HB(n,t,e){const i=n.field.isKeyField()?Wt.comparator(t.key,e.key):function(o,l,u){const p=l.data.field(o),v=u.data.field(o);return null!==p&&null!==v?e2(p,v):un()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}class cl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[o,l]of i)if(this.equalsFn(o,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0===o)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return 1===i.length?delete this.inner[e]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){X0(this.inner,(e,i)=>{for(const[o,l]of i)t(o,l)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}const UB=new Qi(Wt.comparator);function Ls(){return UB}const PT=new Qi(Wt.comparator);function Lf(...n){let t=PT;for(const e of n)t=t.insert(e.key,e);return t}function RT(n){let t=PT;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function l1(){return Nf()}function LT(){return Nf()}function Nf(){return new cl(n=>n.toString(),(n,t)=>n.isEqual(t))}const $B=new Qi(Wt.comparator),GB=new io(Wt.comparator);function Wn(...n){let t=GB;for(const e of n)t=t.add(e);return t}const KB=new io(Bn);function sC(){return KB}function NT(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(t)?"-0":t}}function zT(n){return{integerValue:""+n}}function FT(n,t){return ZD(t)?zT(t):NT(n,t)}class rv{constructor(){this._=void 0}}function WB(n,t,e){return n instanceof qh?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Y7(o)&&(o=Q7(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(e,t):n instanceof ld?VT(n,t):n instanceof ud?jT(n,t):function(i,o){const l=BT(i,o),u=HT(l)+HT(i.gt);return QM(l)&&QM(i.gt)?zT(u):NT(i.serializer,u)}(n,t)}function qB(n,t,e){return n instanceof ld?VT(n,t):n instanceof ud?jT(n,t):e}function BT(n,t){return n instanceof Xh?QM(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class qh extends rv{}class ld extends rv{constructor(t){super(),this.elements=t}}function VT(n,t){const e=UT(t);for(const i of n.elements)e.some(o=>c1(o,i))||e.push(i);return{arrayValue:{values:e}}}class ud extends rv{constructor(t){super(),this.elements=t}}function jT(n,t){let e=UT(t);for(const i of n.elements)e=e.filter(o=>!c1(o,i));return{arrayValue:{values:e}}}class Xh extends rv{constructor(t,e){super(),this.serializer=t,this.gt=e}}function HT(n){return ko(n.integerValue||n.doubleValue)}function UT(n){return Df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zf{constructor(t,e){this.field=t,this.transform=e}}class YB{constructor(t,e){this.version=t,this.transformResults=e}}class go{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new go}static exists(t){return new go(void 0,t)}static updateTime(t){return new go(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sv(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class av{}function $T(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Qh(n.key,go.none()):new Yh(n.key,n.data,go.none());{const e=n.data,i=zr.empty();let o=new io(Ao.comparator);for(let l of t.fields)if(!o.has(l)){let u=e.field(l);null===u&&l.length>1&&(l=l.popLast(),u=e.field(l)),null===u?i.delete(l):i.set(l,u),o=o.add(l)}return new ll(n.key,i,new Rs(o.toArray()),go.none())}}function QB(n,t,e){n instanceof Yh?function(i,o,l){const u=i.value.clone(),p=WT(i.fieldTransforms,o,l.transformResults);u.setAll(p),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof ll?function(i,o,l){if(!sv(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=WT(i.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(KT(i)),p.setAll(u),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ff(n,t,e,i){return n instanceof Yh?function(o,l,u,p){if(!sv(o.precondition,l))return u;const v=o.value.clone(),M=qT(o.fieldTransforms,p,l);return v.setAll(M),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof ll?function(o,l,u,p){if(!sv(o.precondition,l))return u;const v=qT(o.fieldTransforms,p,l),M=l.data;return M.setAll(KT(o)),M.setAll(v),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null===u?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,t,e,i):(u=e,sv(n.precondition,l=t)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u);var l,u}function JB(n,t){let e=null;for(const i of n.fieldTransforms){const o=t.data.field(i.field),l=BT(i.transform,o||null);null!=l&&(null===e&&(e=zr.empty()),e.set(i.field,l))}return e||null}function GT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Hh(e,i,(o,l)=>function XB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof ld&&i instanceof ld||e instanceof ud&&i instanceof ud?Hh(e.elements,i.elements,c1):e instanceof Xh&&i instanceof Xh?c1(e.gt,i.gt):e instanceof qh&&i instanceof qh);var e,i}(o,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Yh extends av{constructor(t,e,i,o=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ll extends av{constructor(t,e,i,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function KT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function WT(n,t,e){const i=new Map;mn(n.length===e.length);for(let o=0;o<e.length;o++){const l=n[o],u=l.transform,p=t.data.field(l.field);i.set(l.field,qB(u,p,e[o]))}return i}function qT(n,t,e){const i=new Map;for(const o of n){const l=o.transform,u=e.data.field(o.field);i.set(o.field,WB(l,u,t))}return i}class Qh extends av{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends av{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cC{constructor(t,e,i,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&QB(l,t,i[o])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ff(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ff(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=LT();return this.mutations.forEach(o=>{const l=t.get(o.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=e.has(o.key)?null:p;const v=$T(u,p);null!==v&&i.set(o.key,v),u.isValidDocument()||u.convertToNoDocument(wn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Wn())}isEqual(t){return this.batchId===t.batchId&&Hh(this.mutations,t.mutations,(e,i)=>GT(e,i))&&Hh(this.baseMutations,t.baseMutations,(e,i)=>GT(e,i))}}class lC{constructor(t,e,i,o){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=o}static from(t,e,i){mn(t.mutations.length===i.length);let o=$B;const l=t.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new lC(t,e,i,o)}}class uC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eV{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ko,fi;function XT(n){switch(n){default:return un();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}function YT(n){if(void 0===n)return Bo("GRPC error has no .code"),Ze.UNKNOWN;switch(n){case Ko.OK:return Ze.OK;case Ko.CANCELLED:return Ze.CANCELLED;case Ko.UNKNOWN:return Ze.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return Ze.INTERNAL;case Ko.UNAVAILABLE:return Ze.UNAVAILABLE;case Ko.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Ko.NOT_FOUND:return Ze.NOT_FOUND;case Ko.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Ko.ABORTED:return Ze.ABORTED;case Ko.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Ko.DATA_LOSS:return Ze.DATA_LOSS;default:return un()}}(fi=Ko||(Ko={}))[fi.OK=0]="OK",fi[fi.CANCELLED=1]="CANCELLED",fi[fi.UNKNOWN=2]="UNKNOWN",fi[fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fi[fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fi[fi.NOT_FOUND=5]="NOT_FOUND",fi[fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",fi[fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",fi[fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",fi[fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fi[fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fi[fi.ABORTED=10]="ABORTED",fi[fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",fi[fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",fi[fi.INTERNAL=13]="INTERNAL",fi[fi.UNAVAILABLE=14]="UNAVAILABLE",fi[fi.DATA_LOSS=15]="DATA_LOSS";class dC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cv}static getOrCreateInstance(){return null===cv&&(cv=new dC),cv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let cv=null;function QT(){return new TextEncoder}const tV=new Vh([4294967295,4294967295],0);function JT(n){const t=QT().encode(n),e=new qF;return e.update(t),new Uint8Array(e.digest())}function ZT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Vh([e,i],0),new Vh([o,l],0)]}class hC{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Bf(`Invalid padding: ${e}`);if(i<0)throw new Bf(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Bf(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Bf(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Vh.fromNumber(this.It)}Et(t,e,i){let o=t.add(e.multiply(Vh.fromNumber(i)));return 1===o.compare(tV)&&(o=new Vh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=JT(t),[i,o]=ZT(e);for(let l=0;l<this.hashCount;l++){const u=this.Et(i,o,l);if(!this.At(u))return!1}return!0}static create(t,e,i){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new hC(l,o,e);return i.forEach(p=>u.insert(p)),u}insert(t){if(0===this.It)return;const e=JT(t),[i,o]=ZT(e);for(let l=0;l<this.hashCount;l++){const u=this.Et(i,o,l);this.Rt(u)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vf{constructor(t,e,i,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const o=new Map;return o.set(t,jf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Vf(wn.min(),o,new Qi(Bn),Ls(),Wn())}}class jf{constructor(t,e,i,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new jf(i,e,Wn(),Wn(),Wn())}}class lv{constructor(t,e,i,o){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=o}}class eO{constructor(t,e){this.targetId=t,this.Vt=e}}class tO{constructor(t,e,i=rr.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=o}}class nO{constructor(){this.St=0,this.Dt=oO(),this.Ct=rr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Wn(),e=Wn(),i=Wn();return this.Dt.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:i=i.add(o);break;default:un()}}),new jf(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=oO()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class nV{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ls(),this.zt=iO(),this.Wt=new Qi(Bn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:un()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,o)=>{this.te(o)&&e(o)})}ne(t){var e;const i=t.targetId,o=t.Vt.count,l=this.se(i);if(l){const u=l.target;if(tv(u))if(0===o){const p=new Wt(u.path);this.Yt(i,p,oo.newNoDocument(p,wn.min()))}else mn(1===o);else{const p=this.ie(i);if(p!==o){const v=this.re(t,p);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=dC.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(M,b,S){var z,re,Be,We,Je,Rt;const Ht={localCacheCount:b,existenceFilterCount:S.count},Dt=S.unchangedNames;return Dt&&(Ht.bloomFilter={applied:0===M,hashCount:null!==(z=Dt?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(We=null===(Be=null===(re=Dt?.bits)||void 0===re?void 0:re.bitmap)||void 0===Be?void 0:Be.length)&&void 0!==We?We:0,padding:null!==(Rt=null===(Je=Dt?.bits)||void 0===Je?void 0:Je.padding)&&void 0!==Rt?Rt:0}),Ht}(v,p,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:o}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:l="",padding:u=0},hashCount:p=0}=i;let v,M;try{v=sl(l).toUint8Array()}catch(b){if(b instanceof lT)return Ua("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{M=new hC(v,u,p)}catch(b){return Ua(b instanceof Bf?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===M.It?1:o!==e-this.oe(t.targetId,M)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.vt(p)||(this.Yt(t,l,null),o++)}),o}ce(t){const e=new Map;this.Qt.forEach((l,u)=>{const p=this.se(u);if(p){if(l.current&&tv(p.target)){const v=new Wt(p.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,oo.newNoDocument(v,t))}l.Mt&&(e.set(u,l.Ot()),l.Ft())}});let i=Wn();this.zt.forEach((l,u)=>{let p=!0;u.forEachWhile(v=>{const M=this.se(v);return!M||"TargetPurposeLimboResolution"===M.purpose||(p=!1,!1)}),p&&(i=i.add(l))}),this.jt.forEach((l,u)=>u.setReadTime(t));const o=new Vf(t,e,this.Wt,this.jt,i);return this.jt=Ls(),this.zt=iO(),this.Wt=new Qi(Bn),o}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const o=this.Zt(t);this.ae(t,e)?o.Bt(e,1):o.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new nO,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new io(Bn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||bt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new nO),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function iO(){return new Qi(Wt.comparator)}function oO(){return new Qi(Wt.comparator)}const iV={asc:"ASCENDING",desc:"DESCENDING"},oV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rV={and:"AND",or:"OR"};class sV{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function fC(n,t){return n.useProto3Json||If(t)?t:{value:t}}function Jh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rO(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function aV(n,t){return Jh(n,t.toTimestamp())}function Vo(n){return mn(!!n),wn.fromTimestamp(function(t){const e=Y0(t);return new fo(e.seconds,e.nanos)}(n))}function gC(n,t){return(e=n,new hi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function sO(n){const t=hi.fromString(n);return mn(pO(t)),t}function Hf(n,t){return gC(n.databaseId,t.path)}function u1(n,t){const e=sO(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Wt(cO(e))}function pC(n,t){return gC(n.databaseId,t)}function aO(n){const t=sO(n);return 4===t.length?hi.emptyPath():cO(t)}function Uf(n){return new hi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cO(n){return mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lO(n,t,e){return{name:Hf(n,t),fields:e.value.mapValue.fields}}function uO(n,t,e){const i=u1(n,t.name),o=Vo(t.updateTime),l=t.createTime?Vo(t.createTime):wn.min(),u=new zr({mapValue:{fields:t.fields}}),p=oo.newFoundDocument(i,o,l,u);return e&&p.setHasCommittedMutations(),e?p.setHasCommittedMutations():p}function $f(n,t){let e;if(t instanceof Yh)e={update:lO(n,t.key,t.value)};else if(t instanceof Qh)e={delete:Hf(n,t.key)};else if(t instanceof ll)e={update:lO(n,t.key,t.data),updateMask:pV(t.fieldMask)};else{if(!(t instanceof aC))return un();e={verify:Hf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof qh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ld)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ud)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xh)return{fieldPath:l.field.canonicalString(),increment:u.gt};throw un()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:aV(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:un()),e;var o}function mC(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?go.updateTime(Vo(o.updateTime)):void 0!==o.exists?go.exists(o.exists):go.none():go.none(),i=t.updateTransforms?t.updateTransforms.map(o=>function(l,u){let p=null;"setToServerValue"in u?(mn("REQUEST_TIME"===u.setToServerValue),p=new qh):"appendMissingElements"in u?p=new ld(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new ud(u.removeAllFromArray.values||[]):"increment"in u?p=new Xh(l,u.increment):un();const v=Ao.fromServerFormat(u.fieldPath);return new zf(v,p)}(n,o)):[];var o;if(t.update){const o=u1(n,t.update.name),l=new zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Rs((t.updateMask.fieldPaths||[]).map(M=>Ao.fromServerFormat(M)));return new ll(o,l,u,e,i)}return new Yh(o,l,e,i)}if(t.delete){const o=u1(n,t.delete);return new Qh(o,e)}if(t.verify){const o=u1(n,t.verify);return new aC(o,e)}return un()}function dO(n,t){return{documents:[pC(n,t.path)]}}function vC(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=pC(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=pC(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(v){if(0!==v.length)return gO(Li.create(v,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(v){if(0!==v.length)return v.map(M=>{return{field:n2((b=M).field),direction:hV(b.dir)};var b})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=fC(n,t.limit);var p,v;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(p=t.startAt).inclusive,values:p.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function hO(n){let t=aO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let o=null;if(i>0){mn(1===i);const b=e.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let l=[];e.where&&(l=function(b){const S=fO(b);return S instanceof Li&&ZM(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(b=>{return new Gh(Zh((S=b).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let p=null;e.limit&&(p=function(b){let S;return S="object"==typeof b?b.value:b,If(S)?null:S}(e.limit));let v=null;var b;e.startAt&&(v=new t2((b=e.startAt).values||[],!!b.before));let M=null;return e.endAt&&(M=function(b){return new t2(b.values||[],!b.before)}(e.endAt)),kT(t,o,u,l,p,"F",v,M)}function fO(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Zh(t.unaryFilter.field);return ai.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Zh(t.unaryFilter.field);return ai.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zh(t.unaryFilter.field);return ai.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zh(t.unaryFilter.field);return ai.create(l,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(n):void 0!==n.fieldFilter?ai.create(Zh((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Li.create(t.compositeFilter.filters.map(e=>fO(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return un()}}(t.compositeFilter.op))}(n):un();var t}function hV(n){return iV[n]}function fV(n){return oV[n]}function gV(n){return rV[n]}function n2(n){return{fieldPath:n.canonicalString()}}function Zh(n){return Ao.fromServerFormat(n.fieldPath)}function gO(n){return n instanceof ai?function(t){if("=="===t.op){if(hT(t.value))return{unaryFilter:{field:n2(t.field),op:"IS_NAN"}};if(dT(t.value))return{unaryFilter:{field:n2(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hT(t.value))return{unaryFilter:{field:n2(t.field),op:"IS_NOT_NAN"}};if(dT(t.value))return{unaryFilter:{field:n2(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:n2(t.field),op:fV(t.op),value:t.value}}}(n):n instanceof Li?function(t){const e=t.getFilters().map(i=>gO(i));return 1===e.length?e[0]:{compositeFilter:{op:gV(t.op),filters:e}}}(n):un()}function pV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function pO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ul{constructor(t,e,i,o,l=wn.min(),u=wn.min(),p=rr.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mO{constructor(t){this.fe=t}}function vO(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:uv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Hf(o=n.fe,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:Jh(o,l.version.toTimestamp()),createTime:Jh(o,l.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:dd(t.version)};else{if(!t.isUnknownDocument())return un();i.unknownDocument={path:e.path.toArray(),version:dd(t.version)}}var o,l;return i}function uv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function dd(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hd(n){const t=new fo(n.seconds,n.nanoseconds);return wn.fromTimestamp(t)}function fd(n,t){const e=(t.baseMutations||[]).map(l=>mC(n.fe,l));for(let l=0;l<t.mutations.length-1;++l)l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(t.mutations[l].updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l);const i=t.mutations.map(l=>mC(n.fe,l)),o=fo.fromMillis(t.localWriteTimeMs);return new cC(t.batchId,o,e,i)}function Gf(n){const t=hd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?hd(n.lastLimboFreeSnapshotVersion):wn.min();let i;var o;return void 0!==n.query.documents?(mn(1===(o=n.query).documents.length),i=ms(Wh(aO(o.documents[0])))):i=ms(hO(n.query)),new ul(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,rr.fromBase64String(n.resumeToken))}function wO(n,t){const e=dd(t.snapshotVersion),i=dd(t.lastLimboFreeSnapshotVersion);let o;o=tv(t.target)?dO(n.fe,t.target):vC(n.fe,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ad(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function wC(n){const t=hO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ov(t,t.limit,"L"):t}function yC(n,t){return new uC(t.largestBatchId,mC(n.fe,t.overlayMutation))}function yO(n,t){const e=t.path.lastSegment();return[n,Yr(t.path.popLast()),e]}function _O(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:dd(i.readTime),documentKey:Yr(i.documentKey.path),largestBatchId:i.largestBatchId}}class vV{getBundleMetadata(t,e){return xO(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:hd(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return xO(t).put({bundleId:(i=e).id,createTime:dd(Vo(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return MO(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:wC(o.bundledQuery),readTime:hd(o.readTime)};var o})}saveNamedQuery(t,e){return MO(t).put({name:(i=e).name,readTime:dd(Vo(i.readTime)),bundledQuery:i.bundledQuery});var i}}function xO(n){return _r(n,"bundles")}function MO(n){return _r(n,"namedQueries")}class dv{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new dv(t,e.uid||"")}getOverlay(t,e){return Kf(t).get(yO(this.userId,e)).next(i=>i?yC(this.serializer,i):null)}getOverlays(t,e){const i=l1();return qe.forEach(e,o=>this.getOverlay(t,o).next(l=>{null!==l&&i.set(o,l)})).next(()=>i)}saveOverlays(t,e,i){const o=[];return i.forEach((l,u)=>{const p=new uC(e,u);o.push(this.we(t,p))}),qe.waitFor(o)}removeOverlaysForBatchId(t,e,i){const o=new Set;e.forEach(u=>o.add(Yr(u.getCollectionPath())));const l=[];return o.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(Kf(t).J("collectionPathOverlayIndex",p))}),qe.waitFor(l)}getOverlaysForCollection(t,e,i){const o=l1(),l=Yr(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Kf(t).j("collectionPathOverlayIndex",u).next(p=>{for(const v of p){const M=yC(this.serializer,v);o.set(M.getKey(),M)}return o})}getOverlaysForCollectionGroup(t,e,i,o){const l=l1();let u;const p=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Kf(t).X({index:"collectionGroupOverlayIndex",range:p},(v,M,b)=>{const S=yC(this.serializer,M);l.size()<o||S.largestBatchId===u?(l.set(S.getKey(),S),u=S.largestBatchId):b.done()}).next(()=>l)}we(t,e){return Kf(t).put(function(i,o,l){const[u,p,v]=yO(o,l.mutation.key);return{userId:o,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:$f(i.fe,l.mutation)}}(this.serializer,this.userId,e))}}function Kf(n){return _r(n,"documentOverlays")}class gd{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ko(t.integerValue));else if("doubleValue"in t){const i=ko(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Af(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(sl(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?fT(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):un()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const o of Object.keys(i))this.Te(o,e),this.me(i[o],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const o of i)this.me(o,e)}ve(t,e){this.ye(e,37),Wt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function wV(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function CO(n){const t=64-function(e){let i=0;for(let o=0;o<8;++o){const l=wV(255&e[o]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(t/8)}gd.Ve=new gd;class yV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const o=e.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const o=e.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(t){const e=this.Fe(t),i=CO(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=255&e[o]}Le(t){const e=this.Fe(t),i=CO(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let o=e.length-i;o<e.length;++o)this.buffer[this.position++]=~(255&e[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let o=1;o<e.length;++o)e[o]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class _V{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class xV{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Wf{constructor(){this.je=new yV,this.ze=new _V(this.je),this.We=new xV(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pd{constructor(t,e,i,o){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=o}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new pd(this.indexId,this.documentKey,this.arrayValue,i)}}function o2(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=bO(n.arrayValue,t.arrayValue),0!==e?e:(e=bO(n.directionalValue,t.directionalValue),0!==e?e:Wt.comparator(n.documentKey,t.documentKey)))}function bO(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class MV{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){mn(t.collectionGroup===this.collectionId);const e=GM(t);if(void 0!==e&&!this.en(e))return!1;const i=od(t);let o=new Set,l=0,u=0;for(;l<i.length&&this.en(i[l]);++l)o=o.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const p=i[l];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++l}for(;l<i.length;++l)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[l]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function EO(n){var t,e;if(mn(n instanceof ai||n instanceof Li),n instanceof ai){if(n instanceof ET){const o=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(l=>ai.create(n.field,"==",l)))||[];return Li.create(o,"or")}return n}const i=n.filters.map(o=>EO(o));return Li.create(i,n.op)}function CV(n){if(0===n.getFilters().length)return[];const t=MC(EO(n));return mn(IO(t)),_C(t)||xC(t)?[t]:t.getFilters()}function _C(n){return n instanceof ai}function xC(n){return n instanceof Li&&ZM(n)}function IO(n){return _C(n)||xC(n)||function(t){if(t instanceof Li&&JM(t)){for(const e of t.getFilters())if(!_C(e)&&!xC(e))return!1;return!0}return!1}(n)}function MC(n){if(mn(n instanceof ai||n instanceof Li),n instanceof ai)return n;if(1===n.filters.length)return MC(n.filters[0]);const t=n.filters.map(i=>MC(i));let e=Li.create(t,n.op);return e=hv(e),IO(e)?e:(mn(e instanceof Li),mn(Kh(e)),mn(e.filters.length>1),e.filters.reduce((i,o)=>CC(i,o)))}function CC(n,t){let e;return mn(n instanceof ai||n instanceof Li),mn(t instanceof ai||t instanceof Li),e=n instanceof ai?t instanceof ai?Li.create([n,t],"and"):AO(n,t):t instanceof ai?AO(t,n):function(i,o){if(mn(i.filters.length>0&&o.filters.length>0),Kh(i)&&Kh(o))return MT(i,o.getFilters());const l=JM(i)?i:o,u=JM(i)?o:i,p=l.filters.map(v=>CC(v,u));return Li.create(p,"or")}(n,t),hv(e)}function AO(n,t){if(Kh(t))return MT(t,n.getFilters());{const e=t.filters.map(i=>CC(n,i));return Li.create(e,"or")}}function hv(n){if(mn(n instanceof ai||n instanceof Li),n instanceof ai)return n;const t=n.getFilters();if(1===t.length)return hv(t[0]);if(_T(n))return n;const e=t.map(o=>hv(o)),i=[];return e.forEach(o=>{o instanceof ai?i.push(o):o instanceof Li&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:Li.create(i,n.op)}class bV{constructor(){this.rn=new bC}addToCollectionParentIndex(t,e){return this.rn.add(e),qe.resolve()}getCollectionParents(t,e){return qe.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return qe.resolve()}deleteFieldIndex(t,e){return qe.resolve()}getDocumentsMatchingTarget(t,e){return qe.resolve(null)}getIndexType(t,e){return qe.resolve(0)}getFieldIndexes(t,e){return qe.resolve([])}getNextCollectionGroupToUpdate(t){return qe.resolve(null)}getMinOffset(t,e){return qe.resolve(ia.min())}getMinOffsetFromCollectionGroup(t,e){return qe.resolve(ia.min())}updateCollectionGroup(t,e,i){return qe.resolve()}updateIndexEntries(t,e){return qe.resolve()}}class bC{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e]||new io(hi.comparator),l=!o.has(i);return this.index[e]=o.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),o=this.index[e];return o&&o.has(i)}getEntries(t){return(this.index[t]||new io(hi.comparator)).toArray()}}const fv=new Uint8Array(0);class EV{constructor(t,e){this.user=t,this.databaseId=e,this.on=new bC,this.un=new cl(i=>ad(i),(i,o)=>Of(i,o)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const l={collectionId:i,parent:Yr(o)};return kO(t).put(l)}return qe.resolve()}getCollectionParents(t,e){const i=[],o=IDBKeyRange.bound([e,""],[WD(e),""],!1,!0);return kO(t).j(o).next(l=>{for(const u of l){if(u.collectionId!==e)break;i.push(a1(u.parent))}return i})}addFieldIndex(t,e){const i=gv(t),o={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete o.indexId;const l=i.add(o);if(e.indexState){const u=Xf(t);return l.next(p=>{u.put(_O(p,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const i=gv(t),o=Xf(t),l=qf(t);return i.delete(e.indexId).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=qf(t);let o=!0;const l=new Map;return qe.forEach(this.cn(e),u=>this.an(t,u).next(p=>{o&&(o=!!p),l.set(u,p)})).next(()=>{if(o){let u=Wn();const p=[];return qe.forEach(l,(v,M)=>{var b;bt("IndexedDbIndexManager",`Using index ${b=v,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${ad(e)}`);const S=function(Dt,hn){const Cn=GM(hn);if(void 0===Cn)return null;for(const Un of nv(Dt,Cn.fieldPath))switch(Un.op){case"array-contains-any":return Un.value.arrayValue.values||[];case"array-contains":return[Un.value]}return null}(M,v),z=function(Dt,hn){const Cn=new Map;for(const Un of od(hn))for(const sr of nv(Dt,Un.fieldPath))switch(sr.op){case"==":case"in":Cn.set(Un.fieldPath.canonicalString(),sr.value);break;case"not-in":case"!=":return Cn.set(Un.fieldPath.canonicalString(),sr.value),Array.from(Cn.values())}return null}(M,v),re=function(Dt,hn){const Cn=[];let Un=!0;for(const sr of od(hn)){const g2=0===sr.kind?IT(Dt,sr.fieldPath,Dt.startAt):AT(Dt,sr.fieldPath,Dt.startAt);Cn.push(g2.value),Un&&(Un=g2.inclusive)}return new t2(Cn,Un)}(M,v),Be=function(Dt,hn){const Cn=[];let Un=!0;for(const sr of od(hn)){const g2=0===sr.kind?AT(Dt,sr.fieldPath,Dt.endAt):IT(Dt,sr.fieldPath,Dt.endAt);Cn.push(g2.value),Un&&(Un=g2.inclusive)}return new t2(Cn,Un)}(M,v),We=this.hn(v,M,re),Je=this.hn(v,M,Be),Rt=this.ln(v,M,z),Ht=this.fn(v.indexId,S,We,re.inclusive,Je,Be.inclusive,Rt);return qe.forEach(Ht,Dt=>i.H(Dt,e.limit).next(hn=>{hn.forEach(Cn=>{const Un=Wt.fromSegments(Cn.documentKey);u.has(Un)||(u=u.add(Un),p.push(Un))})}))}).next(()=>p)}return qe.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:CV(Li.create(t.filters,"and")).map(i=>tC(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,o,l,u,p){const v=(null!=e?e.length:1)*Math.max(i.length,l.length),M=v/(null!=e?e.length:1),b=[];for(let S=0;S<v;++S){const z=e?this.dn(e[S/M]):fv,re=this.wn(t,z,i[S%M],o),Be=this._n(t,z,l[S%M],u),We=p.map(Je=>this.wn(t,z,Je,!0));b.push(...this.createRange(re,Be,We))}return b}wn(t,e,i,o){const l=new pd(t,Wt.empty(),e,i);return o?l:l.Je()}_n(t,e,i,o){const l=new pd(t,Wt.empty(),e,i);return o?l.Je():l}an(t,e){const i=new MV(e),o=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,o).next(l=>{let u=null;for(const p of l)i.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(t,e){let i=2;const o=this.cn(e);return qe.forEach(o,l=>this.an(t,l).next(u=>{u?0!==i&&u.fields.length<function(p){let v=new io(Ao.comparator),M=!1;for(const b of p.filters)for(const S of b.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?M=!0:v=v.add(S.field));for(const b of p.orderBy)b.field.isKeyField()||(v=v.add(b.field));return v.size+(M?1:0)}(l)&&(i=1):i=0})).next(()=>null!==e.limit&&o.length>1&&2===i?1:i)}mn(t,e){const i=new Wf;for(const o of od(t)){const l=e.data.field(o.fieldPath);if(null==l)return null;const u=i.He(o.kind);gd.Ve._e(l,u)}return i.Qe()}dn(t){const e=new Wf;return gd.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Wf;return gd.Ve._e(sd(this.databaseId,e),i.He(function(o){const l=od(o);return 0===l.length?0:l[l.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let o=[];o.push(new Wf);let l=0;for(const u of od(t)){const p=i[l++];for(const v of o)if(this.yn(e,u.fieldPath)&&Df(p))o=this.pn(o,u,p);else{const M=v.He(u.kind);gd.Ve._e(p,M)}}return this.In(o)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const o=[...t],l=[];for(const u of i.arrayValue.values||[])for(const p of o){const v=new Wf;v.seed(p.Qe()),gd.Ve._e(u,v.He(e.kind)),l.push(v)}return l}yn(t,e){return!!t.filters.find(i=>i instanceof ai&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=gv(t),o=Xf(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(l=>{const u=[];return qe.forEach(l,p=>o.get([p.indexId,this.uid]).next(v=>{u.push(function(M,b){const S=b?new bf(b.sequenceNumber,new ia(hd(b.readTime),new Wt(a1(b.documentKey)),b.largestBatchId)):bf.empty(),z=M.fields.map(([re,Be])=>new K7(Ao.fromServerFormat(re),Be));return new G7(M.indexId,M.collectionGroup,z,S)}(p,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,o)=>{const l=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Bn(i.collectionGroup,o.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const o=gv(t),l=Xf(t);return this.Tn(t).next(u=>o.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(p=>qe.forEach(p,v=>l.put(_O(v.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return qe.forEach(e,(o,l)=>{const u=i.get(o.collectionGroup);return(u?qe.resolve(u):this.getFieldIndexes(t,o.collectionGroup)).next(p=>(i.set(o.collectionGroup,p),qe.forEach(p,v=>this.En(t,o,v).next(M=>{const b=this.An(l,v);return M.isEqual(b)?qe.resolve():this.vn(t,l,v,M,b)}))))})}Rn(t,e,i,o){return qf(t).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,o){return qf(t).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const o=qf(t);let l=new io(o2);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(u,p)=>{l=l.add(new pd(i.indexId,e,p.arrayValue,p.directionalValue))}).next(()=>l)}An(t,e){let i=new io(o2);const o=this.mn(e,t);if(null==o)return i;const l=GM(e);if(null!=l){const u=t.data.field(l.fieldPath);if(Df(u))for(const p of u.arrayValue.values||[])i=i.add(new pd(e.indexId,t.key,this.dn(p),o))}else i=i.add(new pd(e.indexId,t.key,fv,o));return i}vn(t,e,i,o,l){bt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(p,v,M,b,S){const z=p.getIterator(),re=v.getIterator();let Be=Uh(z),We=Uh(re);for(;Be||We;){let Je=!1,Rt=!1;if(Be&&We){const Ht=M(Be,We);Ht<0?Rt=!0:Ht>0&&(Je=!0)}else null!=Be?Rt=!0:Je=!0;Je?(b(We),We=Uh(re)):Rt?(S(Be),Be=Uh(z)):(Be=Uh(z),We=Uh(re))}}(o,l,o2,p=>{u.push(this.Rn(t,e,i,p))},p=>{u.push(this.Pn(t,e,i,p))}),qe.waitFor(u)}Tn(t){let e=1;return Xf(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,l)=>{l.done(),e=o.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,p)=>o2(u,p)).filter((u,p,v)=>!p||0!==o2(u,v[p-1]));const o=[];o.push(t);for(const u of i){const p=o2(u,t),v=o2(u,e);if(0===p)o[0]=t.Je();else if(p>0&&v<0)o.push(u),o.push(u.Je());else if(v>0)break}o.push(e);const l=[];for(let u=0;u<o.length;u+=2){if(this.bn(o[u],o[u+1]))return[];l.push(IDBKeyRange.bound([o[u].indexId,this.uid,o[u].arrayValue,o[u].directionalValue,fv,[]],[o[u+1].indexId,this.uid,o[u+1].arrayValue,o[u+1].directionalValue,fv,[]]))}return l}bn(t,e){return o2(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(SO)}getMinOffset(t,e){return qe.mapArray(this.cn(e),i=>this.an(t,i).next(o=>o||un())).next(SO)}}function kO(n){return _r(n,"collectionParents")}function qf(n){return _r(n,"indexEntries")}function gv(n){return _r(n,"indexConfiguration")}function Xf(n){return _r(n,"indexState")}function SO(n){mn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;KM(o,t)<0&&(t=o),e<o.largestBatchId&&(e=o.largestBatchId)}return new ia(t.readTime,t.documentKey,e)}const DO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Qr(t,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TO(n,t,e){const i=n.store("mutations"),o=n.store("documentMutations"),l=[],u=IDBKeyRange.only(e.batchId);let p=0;const v=i.X({range:u},(b,S,z)=>(p++,z.delete()));l.push(v.next(()=>{mn(1===p)}));const M=[];for(const b of e.mutations){const S=nT(t,b.key.path,e.batchId);l.push(o.delete(S)),M.push(b.key)}return qe.waitFor(l).next(()=>M)}function pv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw un();t=n.noDocument}return JSON.stringify(t).length}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class mv{constructor(t,e,i,o){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=o,this.Vn={}}static de(t,e,i,o){mn(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new mv(l,e,i,o)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return r2(t).X({index:"userMutationsIndex",range:i},(o,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,o){const l=e3(t),u=r2(t);return u.add({}).next(p=>{mn("number"==typeof p);const v=new cC(p,e,i,o),M=function(z,re,Be){const We=Be.baseMutations.map(Rt=>$f(z.fe,Rt)),Je=Be.mutations.map(Rt=>$f(z.fe,Rt));return{userId:re,batchId:Be.batchId,localWriteTimeMs:Be.localWriteTime.toMillis(),baseMutations:We,mutations:Je}}(this.serializer,this.userId,v),b=[];let S=new io((z,re)=>Bn(z.canonicalString(),re.canonicalString()));for(const z of o){const re=nT(this.userId,z.key.path,p);S=S.add(z.key.path.popLast()),b.push(u.put(M)),b.push(l.put(re,hB))}return S.forEach(z=>{b.push(this.indexManager.addToCollectionParentIndex(t,z))}),t.addOnCommittedListener(()=>{this.Vn[p]=v.keys()}),qe.waitFor(b).next(()=>v)})}lookupMutationBatch(t,e){return r2(t).get(e).next(i=>i?(mn(i.userId===this.userId),fd(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?qe.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const o=i.keys();return this.Vn[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,o=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return r2(t).X({index:"userMutationsIndex",range:o},(u,p,v)=>{p.userId===this.userId&&(mn(p.batchId>=i),l=fd(this.serializer,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return r2(t).X({index:"userMutationsIndex",range:e,reverse:!0},(o,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return r2(t).j("userMutationsIndex",e).next(i=>i.map(o=>fd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=q7(this.userId,e.path),o=IDBKeyRange.lowerBound(i),l=[];return e3(t).X({range:o},(u,p,v)=>{const[M,b,S]=u,z=a1(b);if(M===this.userId&&e.path.isEqual(z))return r2(t).get(S).next(re=>{if(!re)throw un();mn(re.userId===this.userId),l.push(fd(this.serializer,re))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new io(Bn);const o=[];return e.forEach(l=>{const u=q7(this.userId,l.path),p=IDBKeyRange.lowerBound(u),v=e3(t).X({range:p},(M,b,S)=>{const[z,re,Be]=M,We=a1(re);z===this.userId&&l.path.isEqual(We)?i=i.add(Be):S.done()});o.push(v)}),qe.waitFor(o).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1,l=q7(this.userId,i),u=IDBKeyRange.lowerBound(l);let p=new io(Bn);return e3(t).X({range:u},(v,M,b)=>{const[S,z,re]=v,Be=a1(z);S===this.userId&&i.isPrefixOf(Be)?Be.length===o&&(p=p.add(re)):b.done()}).next(()=>this.Dn(t,p))}Dn(t,e){const i=[],o=[];return e.forEach(l=>{o.push(r2(t).get(l).next(u=>{if(null===u)throw un();mn(u.userId===this.userId),i.push(fd(this.serializer,u))}))}),qe.waitFor(o).next(()=>i)}removeMutationBatch(t,e){return TO(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),qe.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return qe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return e3(t).X({range:i},(l,u,p)=>{if(l[0]===this.userId){const v=a1(l[1]);o.push(v)}else p.done()}).next(()=>{mn(0===o.length)})})}containsKey(t,e){return OO(t,this.userId,e)}xn(t){return PO(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OO(n,t,e){const i=q7(t,e.path),o=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return e3(n).X({range:l,Y:!0},(p,v,M)=>{const[b,S,z]=p;b===t&&S===o&&(u=!0),M.done()}).next(()=>u)}function r2(n){return _r(n,"mutations")}function e3(n){return _r(n,"documentMutations")}function PO(n){return _r(n,"mutationQueues")}class md{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new md(0)}static Mn(){return new md(-1)}}class IV{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new md(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>wn.fromTimestamp(new fo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(o=>(o.highestListenSequenceNumber=e,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.On(t,o)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>t3(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(mn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let o=0;const l=[];return t3(t).X((u,p)=>{const v=Gf(p);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(o++,l.push(this.removeTargetData(t,v)))}).next(()=>qe.waitFor(l)).next(()=>o)}forEachTarget(t,e){return t3(t).X((i,o)=>{const l=Gf(o);e(l)})}$n(t){return RO(t).get("targetGlobalKey").next(e=>(mn(null!==e),e))}On(t,e){return RO(t).put("targetGlobalKey",e)}Fn(t,e){return t3(t).put(wO(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=ad(e),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return t3(t).X({range:o,index:"queryTargetsIndex"},(u,p,v)=>{const M=Gf(p);Of(e,M.target)&&(l=M,v.done())}).next(()=>l)}addMatchingKeys(t,e,i){const o=[],l=s2(t);return e.forEach(u=>{const p=Yr(u.path);o.push(l.put({targetId:i,path:p})),o.push(this.referenceDelegate.addReference(t,i,u))}),qe.waitFor(o)}removeMatchingKeys(t,e,i){const o=s2(t);return qe.forEach(e,l=>{const u=Yr(l.path);return qe.waitFor([o.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=s2(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),o=s2(t);let l=Wn();return o.X({range:i,Y:!0},(u,p,v)=>{const M=a1(u[1]),b=new Wt(M);l=l.add(b)}).next(()=>l)}containsKey(t,e){const i=Yr(e.path),o=IDBKeyRange.bound([i],[WD(i)],!1,!0);let l=0;return s2(t).X({index:"documentTargetsIndex",Y:!0,range:o},([u,p],v,M)=>{0!==u&&(l++,M.done())}).next(()=>l>0)}le(t,e){return t3(t).get(e).next(i=>i?Gf(i):null)}}function t3(n){return _r(n,"targets")}function RO(n){return _r(n,"targetGlobal")}function s2(n){return _r(n,"targetDocuments")}function LO([n,t],[e,i]){const o=Bn(n,e);return 0===o?Bn(t,i):o}class AV{constructor(t){this.Ln=t,this.buffer=new io(LO),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();LO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class NO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;bt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,pe.A)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){q0(i)?bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield W0(i)}yield e.Qn(3e5)}))}}class kV{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return qe.resolve(oa.ct);const i=new AV(e);return this.jn.forEachTarget(t,o=>i.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(t,o=>i.Kn(o))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(DO)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DO):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,o,l,u,p,v,M;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(i=S,p=Date.now(),this.removeTargets(t,i,e))).next(S=>(l=S,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(M=Date.now(),UM()<=U0.$b.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-b}ms\n\tDetermined least recently used ${o} in `+(p-u)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${S} documents in `+(M-v)+`ms\nTotal Duration: ${M-b}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}class SV{constructor(t,e){this.db=t,this.garbageCollector=function zO(n,t){return new kV(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(o=>i+o))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,o)=>e(o))}addReference(t,e,i){return vv(t,i)}removeReference(t,e,i){return vv(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return vv(t,e)}Xn(t,e){return function(i,o){let l=!1;return PO(i).Z(u=>OO(i,u,o).next(p=>(p&&(l=!0),qe.resolve(!p)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Yn(t,(u,p)=>{if(p<=e){const v=this.Xn(t,u).next(M=>{if(!M)return l++,i.getEntry(t,u).next(()=>(i.removeEntry(u,wn.min()),s2(t).delete([0,Yr(u.path)])))});o.push(v)}}).next(()=>qe.waitFor(o)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return vv(t,e)}Yn(t,e){const i=s2(t);let o,l=oa.ct;return i.X({index:"documentTargetsIndex"},([u,p],{path:v,sequenceNumber:M})=>{0===u?(l!==oa.ct&&e(new Wt(a1(o)),l),l=M,o=v):l=oa.ct}).next(()=>{l!==oa.ct&&e(new Wt(a1(o)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vv(n,t){return s2(n).put((i=n.currentSequenceNumber,{targetId:0,path:Yr(t.path),sequenceNumber:i}));var i}class FO{constructor(){this.changes=new cl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,oo.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?qe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DV{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return vd(t).put(i)}removeEntry(t,e,i){return vd(t).delete(function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],uv(l),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=oo.newInvalidDocument(e);return vd(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yf(e))},(o,l)=>{i=this.ts(e,l)}).next(()=>i)}es(t,e){let i={size:0,document:oo.newInvalidDocument(e)};return vd(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yf(e))},(o,l)=>{i={document:this.ts(e,l),size:pv(l)}}).next(()=>i)}getEntries(t,e){let i=Ls();return this.ns(t,e,(o,l)=>{const u=this.ts(o,l);i=i.insert(o,u)}).next(()=>i)}ss(t,e){let i=Ls(),o=new Qi(Wt.comparator);return this.ns(t,e,(l,u)=>{const p=this.ts(l,u);i=i.insert(l,p),o=o.insert(l,pv(u))}).next(()=>({documents:i,rs:o}))}ns(t,e,i){if(e.isEmpty())return qe.resolve();let o=new io(HO);e.forEach(v=>o=o.add(v));const l=IDBKeyRange.bound(Yf(o.first()),Yf(o.last())),u=o.getIterator();let p=u.getNext();return vd(t).X({index:"documentKeyIndex",range:l},(v,M,b)=>{const S=Wt.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;p&&HO(p,S)<0;)i(p,null),p=u.getNext();p&&p.isEqual(S)&&(i(p,M),p=u.hasNext()?u.getNext():null),p?b.G(Yf(p)):b.done()}).next(()=>{for(;p;)i(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,o){const l=e.path,u=[l.popLast().toArray(),l.lastSegment(),uv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vd(t).j(IDBKeyRange.bound(u,p,!0)).next(v=>{let M=Ls();for(const b of v){const S=this.ts(Wt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);S.isFoundDocument()&&(Rf(e,S)||o.has(S.key))&&(M=M.insert(S.key,S))}return M})}getAllFromCollectionGroup(t,e,i,o){let l=Ls();const u=jO(e,i),p=jO(e,ia.max());return vd(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(v,M,b)=>{const S=this.ts(Wt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);l=l.insert(S.key,S),l.size===o&&b.done()}).next(()=>l)}newChangeBuffer(t){return new TV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return VO(t).get("remoteDocumentGlobalKey").next(e=>(mn(!!e),e))}Zn(t,e){return VO(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function mV(n,t){let e;if(t.document)e=uO(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Wt.fromSegments(t.noDocument.path),o=hd(t.noDocument.readTime);e=oo.newNoDocument(i,o),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return un();{const i=Wt.fromSegments(t.unknownDocument.path),o=hd(t.unknownDocument.version);e=oo.newUnknownDocument(i,o)}}return t.readTime&&e.setReadTime(function(i){const o=new fo(i[0],i[1]);return wn.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(wn.min()))return i}return oo.newInvalidDocument(t)}}function BO(n){return new DV(n)}class TV extends FO{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new cl(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(t){const e=[];let i=0,o=new io((l,u)=>Bn(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const p=this.us.get(l);if(e.push(this.os.removeEntry(t,l,p.readTime)),u.isValidDocument()){const v=vO(this.os.serializer,u);o=o.add(l.path.popLast());const M=pv(v);i+=M-p.size,e.push(this.os.addEntry(t,l,v))}else if(i-=p.size,this.trackRemovals){const v=vO(this.os.serializer,u.convertToNoDocument(wn.min()));e.push(this.os.addEntry(t,l,v))}}),o.forEach(l=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.os.updateMetadata(t,i)),qe.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:o})=>(o.forEach((l,u)=>{this.us.set(l,{size:u,readTime:i.get(l).readTime})}),i))}}function VO(n){return _r(n,"remoteDocumentGlobal")}function vd(n){return _r(n,"remoteDocumentsV14")}function Yf(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jO(n,t){const e=t.documentKey.path.toArray();return[n,uv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HO(n,t){const e=n.path.toArray(),i=t.path.toArray();let o=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(o=Bn(e[l],i[l]),o)return o;return o=Bn(e.length,i.length),o||(o=Bn(e[e.length-2],i[i.length-2]),o||Bn(e[e.length-1],i[i.length-1]))}class OV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class UO{constructor(t,e,i,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(null!==i&&Ff(i.mutation,o,Rs.empty(),fo.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Wn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Wn()){const o=l1();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,i).next(l=>{let u=Lf();return l.forEach((p,v)=>{u=u.insert(p,v.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=l1();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Wn()))}populateOverlays(t,e,i){const o=[];return i.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((u,p)=>{e.set(u,p)})})}computeViews(t,e,i,o){let l=Ls();const u=Nf(),p=Nf();return e.forEach((v,M)=>{const b=i.get(M.key);o.has(M.key)&&(void 0===b||b.mutation instanceof ll)?l=l.insert(M.key,M):void 0!==b?(u.set(M.key,b.mutation.getFieldMask()),Ff(b.mutation,M,b.mutation.getFieldMask(),fo.now())):u.set(M.key,Rs.empty())}),this.recalculateAndSaveOverlays(t,l).next(v=>(v.forEach((M,b)=>u.set(M,b)),e.forEach((M,b)=>{var S;return p.set(M,new OV(b,null!==(S=u.get(M))&&void 0!==S?S:null))}),p))}recalculateAndSaveOverlays(t,e){const i=Nf();let o=new Qi((u,p)=>u-p),l=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const p of u)p.keys().forEach(v=>{const M=e.get(v);if(null===M)return;let b=i.get(v)||Rs.empty();b=p.applyToLocalView(M,b),i.set(v,b);const S=(o.get(p.batchId)||Wn()).add(v);o=o.insert(p.batchId,S)})}).next(()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),M=v.key,b=v.value,S=LT();b.forEach(z=>{if(!l.has(z)){const re=$T(e.get(z),i.get(z));null!==re&&S.set(z,re),l=l.add(z)}}),u.push(this.documentOverlayCache.saveOverlays(t,M,S))}return qe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Wt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):iC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var o}getNextDocuments(t,e,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,o-l.size):qe.resolve(l1());let p=-1,v=l;return u.next(M=>qe.forEach(M,(b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),l.get(b)?qe.resolve():this.remoteDocumentCache.getEntry(t,b).next(z=>{v=v.insert(b,z)}))).next(()=>this.populateOverlays(t,M,l)).next(()=>this.computeViews(t,v,M,Wn())).next(b=>({batchId:p,changes:RT(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Wt(e)).next(i=>{let o=Lf();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const o=e.collectionGroup;let l=Lf();return this.indexManager.getCollectionParents(t,o).next(u=>qe.forEach(u,p=>{const v=(M=e,b=p.child(o),new al(b,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,b;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(M=>{M.forEach((b,S)=>{l=l.insert(b,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o))).next(l=>{o.forEach((p,v)=>{const M=v.getKey();null===l.get(M)&&(l=l.insert(M,oo.newInvalidDocument(M)))});let u=Lf();return l.forEach((p,v)=>{const M=o.get(p);void 0!==M&&Ff(M.mutation,v,Rs.empty(),fo.now()),Rf(e,v)&&(u=u.insert(p,v))}),u})}}class PV{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return qe.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Vo(i.createTime)}),qe.resolve()}getNamedQuery(t,e){return qe.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:wC(i.bundledQuery),readTime:Vo(i.readTime)}),qe.resolve();var i}}class RV{constructor(){this.overlays=new Qi(Wt.comparator),this.ls=new Map}getOverlay(t,e){return qe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=l1();return qe.forEach(e,o=>this.getOverlay(t,o).next(l=>{null!==l&&i.set(o,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((o,l)=>{this.we(t,e,l)}),qe.resolve()}removeOverlaysForBatchId(t,e,i){const o=this.ls.get(i);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(i)),qe.resolve()}getOverlaysForCollection(t,e,i){const o=l1(),l=e.length+1,u=new Wt(e.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const v=p.getNext().value,M=v.getKey();if(!e.isPrefixOf(M.path))break;M.path.length===l&&v.largestBatchId>i&&o.set(v.getKey(),v)}return qe.resolve(o)}getOverlaysForCollectionGroup(t,e,i,o){let l=new Qi((M,b)=>M-b);const u=this.overlays.getIterator();for(;u.hasNext();){const M=u.getNext().value;if(M.getKey().getCollectionGroup()===e&&M.largestBatchId>i){let b=l.get(M.largestBatchId);null===b&&(b=l1(),l=l.insert(M.largestBatchId,b)),b.set(M.getKey(),M)}}const p=l1(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((M,b)=>p.set(M,b)),!(p.size()>=o)););return qe.resolve(p)}we(t,e,i){const o=this.overlays.get(i.key);if(null!==o){const u=this.ls.get(o.largestBatchId).delete(i.key);this.ls.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new uC(e,i));let l=this.ls.get(e);void 0===l&&(l=Wn(),this.ls.set(e,l)),this.ls.set(e,l.add(i.key))}}class EC{constructor(){this.fs=new io(xr.ds),this.ws=new io(xr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new xr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new xr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Wt(new hi([])),i=new xr(e,t),o=new xr(e,t+1),l=[];return this.ws.forEachInRange([i,o],u=>{this.ys(u),l.push(u.key)}),l}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Wt(new hi([])),i=new xr(e,t),o=new xr(e,t+1);let l=Wn();return this.ws.forEachInRange([i,o],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new xr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class xr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Wt.comparator(t.key,e.key)||Bn(t.As,e.As)}static _s(t,e){return Bn(t.As,e.As)||Wt.comparator(t.key,e.key)}}class LV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new io(xr.ds)}checkEmpty(t){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,o){const l=this.vs;this.vs++;const u=new cC(l,e,i,o);this.mutationQueue.push(u);for(const p of o)this.Rs=this.Rs.add(new xr(p.key,l)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return qe.resolve(u)}lookupMutationBatch(t,e){return qe.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.bs(e+1),l=o<0?0:o;return qe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new xr(e,0),o=new xr(e,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([i,o],u=>{const p=this.Ps(u.As);l.push(p)}),qe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new io(Bn);return e.forEach(o=>{const l=new xr(o,0),u=new xr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,u],p=>{i=i.add(p.As)})}),qe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,o=i.length+1;let l=i;Wt.isDocumentKey(l)||(l=l.child(""));const u=new xr(new Wt(l),0);let p=new io(Bn);return this.Rs.forEachWhile(v=>{const M=v.key.path;return!!i.isPrefixOf(M)&&(M.length===o&&(p=p.add(v.As)),!0)},u),qe.resolve(this.Vs(p))}Vs(t){const e=[];return t.forEach(i=>{const o=this.Ps(i);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){mn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return qe.forEach(e.mutations,o=>{const l=new xr(o.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new xr(e,0),o=this.Rs.firstAfterOrEqual(i);return qe.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return qe.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class NV{constructor(t){this.Ds=t,this.docs=new Qi(Wt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,o=this.docs.get(i),l=o?o.size:0,u=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return qe.resolve(i?i.document.mutableCopy():oo.newInvalidDocument(e))}getEntries(t,e){let i=Ls();return e.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():oo.newInvalidDocument(o))}),qe.resolve(i)}getDocumentsMatchingQuery(t,e,i,o){let l=Ls();const u=e.path,p=new Wt(u.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:M,value:{document:b}}=v.getNext();if(!u.isPrefixOf(M.path))break;M.path.length>u.length+1||KM(XD(b),i)<=0||(o.has(b.key)||Rf(e,b))&&(l=l.insert(b.key,b.mutableCopy()))}return qe.resolve(l)}getAllFromCollectionGroup(t,e,i,o){un()}Cs(t,e){return qe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new zV(this)}getSize(t){return qe.resolve(this.size)}}class zV extends FO{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?e.push(this.os.addEntry(t,o)):this.os.removeEntry(i)}),qe.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class FV{constructor(t){this.persistence=t,this.xs=new cl(e=>ad(e),Of),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EC,this.targetCount=0,this.Ms=md.kn()}forEachTarget(t,e){return this.xs.forEach((i,o)=>e(o)),qe.resolve()}getLastRemoteSnapshotVersion(t){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),qe.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new md(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,qe.resolve()}updateTargetData(t,e){return this.Fn(e),qe.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,qe.resolve()}removeTargets(t,e,i){let o=0;const l=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.xs.delete(u),l.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),qe.waitFor(l).next(()=>o)}getTargetCount(t){return qe.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return qe.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),qe.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(u=>{l.push(o.markPotentiallyOrphaned(t,u))}),qe.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),qe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return qe.resolve(i)}containsKey(t,e){return qe.resolve(this.ks.containsKey(e))}}class IC{constructor(t,e){this.$s={},this.overlays={},this.Os=new oa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new FV(this),this.indexManager=new bV,this.remoteDocumentCache=new NV(i=>this.referenceDelegate.Ls(i)),this.serializer=new mO(e),this.qs=new PV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new LV(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){bt("MemoryPersistence","Starting transaction:",t);const o=new BV(this.Os.next());return this.referenceDelegate.Us(),i(o).next(l=>this.referenceDelegate.Ks(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Gs(t,e){return qe.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class BV extends QD{constructor(t){super(),this.currentSequenceNumber=t}}class wv{constructor(t){this.persistence=t,this.Qs=new EC,this.js=null}static zs(t){return new wv(t)}get Ws(){if(this.js)return this.js;throw un()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),qe.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),qe.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),qe.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(o=>this.Ws.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.Ws.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Ws,i=>{const o=Wt.fromPath(i);return this.Hs(t,o).next(l=>{l||e.removeEntry(o,wn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return qe.or([()=>qe.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class VV{constructor(t){this.serializer=t}O(t,e,i,o){const l=new W7("createOrUpgrade",e);var p;i<1&&o>=1&&(t.createObjectStore("owner"),(p=t).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0}),p.createObjectStore("documentMutations"),$O(t),function(p){p.createObjectStore("remoteDocuments")}(t));let u=qe.resolve();return i<3&&o>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(t),$O(t)),u=u.next(()=>function(p){const v=p.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",M)}(l))),i<4&&o>=4&&(0!==i&&(u=u.next(()=>function(p,v){return v.store("mutations").j().next(M=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0});const b=v.store("mutations"),S=M.map(z=>b.put(z));return qe.waitFor(S)})}(t,l))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&o>=5&&(u=u.next(()=>this.Ys(l))),i<6&&o>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(l)))),i<7&&o>=7&&(u=u.next(()=>this.Zs(l))),i<8&&o>=8&&(u=u.next(()=>this.ti(t,l))),i<9&&o>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&o>=10&&(u=u.next(()=>this.ei(l))),i<11&&o>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&o>=12&&(u=u.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:bB});v.createIndex("collectionPathOverlayIndex",EB,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",IB,{unique:!1})}(t)})),i<13&&o>=13&&(u=u.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:fB});v.createIndex("documentKeyIndex",gB),v.createIndex("collectionGroupIndex",pB)}(t)).next(()=>this.ni(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(u=u.next(()=>this.si(t,l))),i<15&&o>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:_B}).createIndex("sequenceNumberIndex",xB,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:MB}).createIndex("documentKeyIndex",CB,{unique:!1})}(t))),u}Xs(t){let e=0;return t.store("remoteDocuments").X((i,o)=>{e+=pv(o)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(o=>qe.forEach(o,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(p=>qe.forEach(p,v=>{mn(v.userId===l.userId);const M=fd(this.serializer,v);return TO(t,l.userId,M).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return i.X((u,p)=>{const v=new hi(u),M=[0,Yr(v)];l.push(e.get(M).next(b=>b?qe.resolve():e.put({targetId:0,path:Yr(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>qe.waitFor(l))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:yB});const i=e.store("collectionParents"),o=new bC,l=u=>{if(o.add(u)){const p=u.lastSegment(),v=u.popLast();return i.put({collectionId:p,parent:Yr(v)})}};return e.store("remoteDocuments").X({Y:!0},(u,p)=>{const v=new hi(u);return l(v.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([u,p,v],M)=>{const b=a1(p);return l(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,o)=>{const l=Gf(o),u=wO(this.serializer,l);return e.put(u)})}ni(t,e){const i=e.store("remoteDocuments"),o=[];return i.X((l,u)=>{const p=e.store("remoteDocumentsV14"),v=(M=u,M.document?new Wt(hi.fromString(M.document.name).popFirst(5)):M.noDocument?Wt.fromSegments(M.noDocument.path):M.unknownDocument?Wt.fromSegments(M.unknownDocument.path):un()).path.toArray();var M;const b={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};o.push(p.put(b))}).next(()=>qe.waitFor(o))}si(t,e){const i=e.store("mutations"),o=BO(this.serializer),l=new IC(wv.zs,this.serializer.fe);return i.j().next(u=>{const p=new Map;return u.forEach(v=>{var M;let b=null!==(M=p.get(v.userId))&&void 0!==M?M:Wn();fd(this.serializer,v).keys().forEach(S=>b=b.add(S)),p.set(v.userId,b)}),qe.forEach(p,(v,M)=>{const b=new yr(M),S=dv.de(this.serializer,b),z=l.getIndexManager(b),re=mv.de(b,this.serializer,z,l.referenceDelegate);return new UO(o,re,S,z).recalculateAndSaveOverlaysForDocumentKeys(new XM(e,oa.ct),v).next()})})}}function $O(n){n.createObjectStore("targetDocuments",{keyPath:vB}).createIndex("documentTargetsIndex",wB,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mB,{unique:!0}),n.createObjectStore("targetGlobal")}const AC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kC{constructor(t,e,i,o,l,u,p,v,M,b,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=l,this.window=u,this.document=p,this.ri=M,this.oi=b,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=z=>Promise.resolve(),!kC.D())throw new vt(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SV(this,o),this.di=e+"main",this.serializer=new mO(v),this.wi=new Ac(this.di,this.ui,new VV(this.serializer)),this.Bs=new IV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BO(this.serializer),this.qs=new vV,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Bo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(Ze.FAILED_PRECONDITION,AC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new oa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,pe.A)(function*(o){if(e.started)return t(o)});return function(o){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,pe.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,pe.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>_v(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(q0(t))return bt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Qf(t).get("owner").next(e=>qe.resolve(this.Ri(e)))}Pi(t){return _v(t).delete(this.clientId)}bi(){var t=this;return(0,pe.A)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=_r(i,"clientMetadata");return o.j().next(l=>{const u=t.Si(l,18e5),p=l.filter(v=>-1===u.indexOf(v));return qe.forEach(p,v=>o.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?qe.resolve(!0):Qf(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new vt(Ze.FAILED_PRECONDITION,AC);return!1}}return!(!this.networkEnabled||!this.inForeground)||_v(t).j().next(i=>void 0===this.Si(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(e=>(this.isPrimary!==e&&bt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,pe.A)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new XM(e,oa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>_v(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return mv.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new EV(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return dv.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){bt("IndexedDbPersistence","Starting transaction:",t);const o="readonly"===e?"readonly":"readwrite",l=15===(u=this.ui)?kB:14===u?rT:13===u?oT:12===u?AB:11===u?iT:void un();var u;let p;return this.wi.runTransaction(t,o,l,v=>(p=new XM(v,this.Os?this.Os.next():oa.ct),"readwrite-primary"===e?this.Ti(p).next(M=>!!M||this.Ei(p)).next(M=>{if(!M)throw Bo(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(Ze.FAILED_PRECONDITION,YD);return i(p)}).next(M=>this.vi(p).next(()=>M)):this.Oi(p).next(()=>i(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Oi(t){return Qf(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vt(Ze.FAILED_PRECONDITION,AC)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qf(t).put("owner",e)}static D(){return Ac.D()}Ai(t){const e=Qf(t);return e.get("owner").next(i=>this.Ri(i)?(bt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):qe.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Bo(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,xi.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return bt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Bo("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Bo("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Qf(n){return _r(n,"owner")}function _v(n){return _r(n,"clientMetadata")}function SC(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class DC{constructor(t,e,i,o){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=o}static Li(t,e){let i=Wn(),o=Wn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new DC(t,e.fromCache,i,o)}}class GO{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,o){return this.Ki(t,e).next(l=>l||this.Gi(t,e,o,i)).next(l=>l||this.Qi(t,e))}Ki(t,e){if(ST(e))return qe.resolve(null);let i=ms(e);return this.indexManager.getIndexType(t,i).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=ov(e,null,"F"),i=ms(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const u=Wn(...l);return this.Ui.getDocuments(t,u).next(p=>this.indexManager.getMinOffset(t,i).next(v=>{const M=this.ji(e,p);return this.zi(e,M,u,v.readTime)?this.Ki(t,ov(e,null,"F")):this.Wi(t,M,e,v)}))})))}Gi(t,e,i,o){return ST(e)||o.isEqual(wn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(l=>{const u=this.ji(e,l);return this.zi(e,u,i,o)?this.Qi(t,e):(UM()<=U0.$b.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rC(e)),this.Wi(t,u,e,qD(o,-1)))})}ji(t,e){let i=new io(OT(t));return e.forEach((o,l)=>{Rf(t,l)&&(i=i.add(l))}),i}zi(t,e,i,o){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Qi(t,e){return UM()<=U0.$b.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",rC(e)),this.Ui.getDocumentsMatchingQuery(t,e,ia.min())}Wi(t,e,i,o){return this.Ui.getDocumentsMatchingQuery(t,i,o).next(l=>(e.forEach(u=>{l=l.insert(u.key,u)}),l))}}class jV{constructor(t,e,i,o){this.persistence=t,this.Hi=e,this.serializer=o,this.Ji=new Qi(Bn),this.Yi=new cl(l=>ad(l),Of),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function KO(n,t,e,i){return new jV(n,t,e,i)}function WO(n,t){return TC.apply(this,arguments)}function TC(){return TC=(0,pe.A)(function*(n,t){const e=Zt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let o;return e.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],p=[];let v=Wn();for(const M of o){u.push(M.batchId);for(const b of M.mutations)v=v.add(b.key)}for(const M of l){p.push(M.batchId);for(const b of M.mutations)v=v.add(b.key)}return e.localDocuments.getDocuments(i,v).next(M=>({er:M,removedBatchIds:u,addedBatchIds:p}))})})}),TC.apply(this,arguments)}function qO(n){const t=Zt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function XO(n,t,e){let i=Wn(),o=Wn();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let u=Ls();return e.forEach((p,v)=>{const M=l.get(p);v.isFoundDocument()!==M.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(wn.min())?(t.removeEntry(p,v.readTime),u=u.insert(p,v)):!M.isValidDocument()||v.version.compareTo(M.version)>0||0===v.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(v),u=u.insert(p,v)):bt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",M.version," Watch version:",v.version)}),{nr:u,sr:o}})}function $V(n,t){const e=Zt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function n3(n,t){const e=Zt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return e.Bs.getTargetData(i,t).next(l=>l?(o=l,qe.resolve(o)):e.Bs.allocateTargetId(i).next(u=>(o=new ul(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=e.Ji.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function i3(n,t,e){return OC.apply(this,arguments)}function OC(){return OC=(0,pe.A)(function*(n,t,e){const i=Zt(n),o=i.Ji.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!q0(u))throw u;bt("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(o.target)}),OC.apply(this,arguments)}function xv(n,t,e){const i=Zt(n);let o=wn.min(),l=Wn();return i.persistence.runTransaction("Execute query","readonly",u=>function(p,v,M){const b=Zt(p),S=b.Yi.get(M);return void 0!==S?qe.resolve(b.Ji.get(S)):b.Bs.getTargetData(v,M)}(i,u,ms(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,p.targetId).next(v=>{l=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,t,e?o:wn.min(),e?l:Wn())).next(p=>(JO(i,TT(t),p),{documents:p,ir:l})))}function YO(n,t){const e=Zt(n),i=Zt(e.Bs),o=e.Ji.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",l=>i.le(l,t).next(u=>u?u.target:null))}function QO(n,t){const e=Zt(n),i=e.Xi.get(t)||wn.min();return e.persistence.runTransaction("Get new document changes","readonly",o=>e.Zi.getAllFromCollectionGroup(o,t,qD(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(JO(e,t,o),o))}function JO(n,t,e){let i=n.Xi.get(t)||wn.min();e.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Xi.set(t,i)}function PC(){return PC=(0,pe.A)(function*(n,t,e,i){const o=Zt(n);let l=Wn(),u=Ls();for(const M of e){const b=t.rr(M.metadata.name);M.document&&(l=l.add(b));const S=t.ur(M);S.setReadTime(t.cr(M.metadata.readTime)),u=u.insert(b,S)}const p=o.Zi.newChangeBuffer({trackRemovals:!0}),v=yield n3(o,(M=i,ms(Wh(hi.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>XO(M,p,u).next(b=>(p.apply(M),b)).next(b=>o.Bs.removeMatchingKeysForTargetId(M,v.targetId).next(()=>o.Bs.addMatchingKeys(M,l,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(M,b.nr,b.sr)).next(()=>b.nr)))}),PC.apply(this,arguments)}function KV(n,t){return RC.apply(this,arguments)}function RC(){return RC=(0,pe.A)(function*(n,t,e=Wn()){const i=yield n3(n,ms(wC(t.bundledQuery))),o=Zt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const u=Vo(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return o.qs.saveNamedQuery(l,t);const p=i.withResumeToken(rr.EMPTY_BYTE_STRING,u);return o.Ji=o.Ji.insert(p.targetId,p),o.Bs.updateTargetData(l,p).next(()=>o.Bs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>o.Bs.addMatchingKeys(l,e,i.targetId)).next(()=>o.qs.saveNamedQuery(l,t))})}),RC.apply(this,arguments)}function ZO(n,t){return`firestore_clients_${n}_${t}`}function eP(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function LC(n,t){return`firestore_targets_${n}_${t}`}class Mv{constructor(t,e,i,o){this.user=t,this.batchId=e,this.state=i,this.error=o}static ar(t,e,i){const o=JSON.parse(i);let l,u="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new vt(o.error.code,o.error.message))),u?new Mv(t,e,o.state,l):(Bo("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Jf{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let o,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(o=new vt(i.error.code,i.error.message))),l?new Jf(t,i.state,o):(Bo("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Cv{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let o="object"==typeof i&&i.activeTargetIds instanceof Array,l=sC();for(let u=0;o&&u<i.activeTargetIds.length;++u)o=ZD(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return o?new Cv(t,l):(Bo("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class NC{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new NC(e.clientId,e.onlineState):(Bo("SharedClientState",`Failed to parse online state: ${t}`),null)}}class zC{constructor(){this.activeTargetIds=sC()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FC{constructor(t,e,i,o,l){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qi(Bn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=ZO(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new zC),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,pe.A)(function*(){const e=yield t.syncEngine.$i();for(const o of e){if(o===t.wr)continue;const l=t.getItem(ZO(t.persistenceKey,o));if(l){const u=Cv.ar(o,l);u&&(t.gr=t.gr.insert(u.clientId,u))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const o=t.br(i);o&&t.Vr(o)}for(const o of t.yr)t.mr(o);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(LC(this.persistenceKey,t));if(i){const o=Jf.ar(t,i);o&&(e=o.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(LC(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(o=>{this.Cr(o)}),this.currentUser=t,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return bt("SharedClientState","READ",t,e),e}setItem(t,e){bt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){bt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(bt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Bo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,pe.A)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const o=e.Or(i.key);return e.Fr(o,null)}{const o=e.Br(i.key,i.newValue);if(o)return e.Fr(o.clientId,o)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const o=e.Lr(i.key,i.newValue);if(o)return e.qr(o)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const o=e.Ur(i.key,i.newValue);if(o)return e.Kr(o)}}else if(i.key===e.vr){if(null!==i.newValue){const o=e.br(i.newValue);if(o)return e.Vr(o)}}else if(i.key===e.Ir){const o=function(l){let u=oa.ct;if(null!=l)try{const p=JSON.parse(l);mn("number"==typeof p),u=p}catch(p){Bo("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(i.newValue);o!==oa.ct&&e.sequenceNumberHandler(o)}else if(i.key===e.Rr){const o=e.Gr(i.newValue);yield Promise.all(o.map(l=>e.syncEngine.Qr(l)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const o=new Mv(this.currentUser,t,e,i),l=eP(this.persistenceKey,this.currentUser,t);this.setItem(l,o.hr())}Cr(t){const e=eP(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const o=LC(this.persistenceKey,t),l=new Jf(t,e,i);this.setItem(o,l.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Cv.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),o=Number(i[1]);return Mv.ar(new yr(void 0!==i[2]?i[2]:null),o,e)}Ur(t,e){const i=this.Ar.exec(t),o=Number(i[1]);return Jf.ar(o,e)}br(t){return NC.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,pe.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);bt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),o=this.Sr(this.gr),l=this.Sr(i),u=[],p=[];return l.forEach(v=>{o.has(v)||u.push(v)}),o.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=sC();return t.forEach((i,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class tP{constructor(){this.Hr=new zC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new zC,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class WV{Yr(t){}shutdown(){}}class nP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bv=null;function BC(){return null===bv?bv=268435456+Math.round(2147483648*Math.random()):bv++,"0x"+bv.toString(16)}const qV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XV{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Jr="WebChannelConnection";class YV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,o,l){const u=BC(),p=this.To(t,e);bt("RestConnection",`Sending RPC '${t}' ${u}:`,p,i);const v={};return this.Eo(v,o,l),this.Ao(t,p,v,i).then(M=>(bt("RestConnection",`Received RPC '${t}' ${u}: `,M),M),M=>{throw Ua("RestConnection",`RPC '${t}' ${u} failed with error: `,M,"url: ",p,"request:",i),M})}vo(t,e,i,o,l,u){return this.Io(t,e,i,o,l)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+jh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}To(t,e){return`${this.mo}/v1/${e}:${qV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,o){const l=BC();return new Promise((u,p)=>{const v=new WF;v.setWithCredentials(!0),v.listenOnce($F.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case HM.NO_ERROR:const b=v.getResponseJson();bt(Jr,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(b)),u(b);break;case HM.TIMEOUT:bt(Jr,`RPC '${t}' ${l} timed out`),p(new vt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case HM.HTTP_ERROR:const S=v.getStatus();if(bt(Jr,`RPC '${t}' ${l} failed with status:`,S,"response text:",v.getResponseText()),S>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const re=z?.error;if(re&&re.status&&re.message){const Be=function(We){const Je=We.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(Je)>=0?Je:Ze.UNKNOWN}(re.status);p(new vt(Be,re.message))}else p(new vt(Ze.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new vt(Ze.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{bt(Jr,`RPC '${t}' ${l} completed.`)}});const M=JSON.stringify(o);bt(Jr,`RPC '${t}' ${l} sending request:`,o),v.send(e,"POST",M,i,15)})}Ro(t,e,i){const o=BC(),l=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=HF(),p=UF(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},M=this.longPollingOptions.timeoutSeconds;void 0!==M&&(v.longPollingTimeout=Math.round(1e3*M)),this.useFetchStreams&&(v.xmlHttpFactory=new KF({})),this.Eo(v.initMessageHeaders,e,i),v.encodeInitMessageHeaders=!0;const b=l.join("");bt(Jr,`Creating RPC '${t}' stream ${o}: ${b}`,v);const S=u.createWebChannel(b,v);let z=!1,re=!1;const Be=new XV({ro:Je=>{re?bt(Jr,`Not sending because RPC '${t}' stream ${o} is closed:`,Je):(z||(bt(Jr,`Opening RPC '${t}' stream ${o} transport.`),S.open(),z=!0),bt(Jr,`RPC '${t}' stream ${o} sending:`,Je),S.send(Je))},oo:()=>S.close()}),We=(Je,Rt,Ht)=>{Je.listen(Rt,Dt=>{try{Ht(Dt)}catch(hn){setTimeout(()=>{throw hn},0)}})};return We(S,$7.EventType.OPEN,()=>{re||bt(Jr,`RPC '${t}' stream ${o} transport opened.`)}),We(S,$7.EventType.CLOSE,()=>{re||(re=!0,bt(Jr,`RPC '${t}' stream ${o} transport closed`),Be.wo())}),We(S,$7.EventType.ERROR,Je=>{re||(re=!0,Ua(Jr,`RPC '${t}' stream ${o} transport errored:`,Je),Be.wo(new vt(Ze.UNAVAILABLE,"The operation could not be completed")))}),We(S,$7.EventType.MESSAGE,Je=>{var Rt;if(!re){const Ht=Je.data[0];mn(!!Ht);const hn=Ht.error||(null===(Rt=Ht[0])||void 0===Rt?void 0:Rt.error);if(hn){bt(Jr,`RPC '${t}' stream ${o} received error:`,hn);const Cn=hn.status;let Un=function(g2){const NR=Ko[g2];if(void 0!==NR)return YT(NR)}(Cn),sr=hn.message;void 0===Un&&(Un=Ze.INTERNAL,sr="Unknown error status: "+Cn+" with message "+hn.message),re=!0,Be.wo(new vt(Un,sr)),S.close()}else bt(Jr,`RPC '${t}' stream ${o} received:`,Ht),Be._o(Ht)}}),We(p,GF.STAT_EVENT,Je=>{Je.stat===HD.PROXY?bt(Jr,`RPC '${t}' stream ${o} detected buffering proxy`):Je.stat===HD.NOPROXY&&bt(Jr,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Be.fo()},0),Be}}function iP(){return typeof window<"u"?window:null}function Ev(){return typeof document<"u"?document:null}function Zf(n){return new sV(n,!0)}class VC{constructor(t,e,i=1e3,o=1.5,l=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=o,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),o=Math.max(0,e-i);o>0&&bt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oP{constructor(t,e,i,o,l,u,p,v){this.ii=t,this.$o=i,this.Oo=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new VC(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,pe.A)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,pe.A)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,pe.A)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Ze.RESOURCE_EXHAUSTED?(Bo(e.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Ze.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Fo===e&&this.Zo(i,o)},i=>{t(()=>{const o=new vt(Ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(o)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{i(()=>this.tu(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Go(){var t=this;this.state=5,this.qo.No((0,pe.A)(function*(){t.state=0,t.start()}))}tu(t){return bt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QV extends oP{constructor(t,e,i,o,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,o,u),this.serializer=l}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function lV(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:un(),o=t.targetChange.targetIds||[],l=function(v,M){return v.useProto3Json?(mn(void 0===M||"string"==typeof M),rr.fromBase64String(M||"")):(mn(void 0===M||M instanceof Uint8Array),rr.fromUint8Array(M||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,p=u&&function(v){const M=void 0===v.code?Ze.UNKNOWN:YT(v.code);return new vt(M,v.message||"")}(u);e=new tO(i,o,l,p||null)}else if("documentChange"in t){const i=t.documentChange,o=u1(n,i.document.name),l=Vo(i.document.updateTime),u=i.document.createTime?Vo(i.document.createTime):wn.min(),p=new zr({mapValue:{fields:i.document.fields}}),v=oo.newFoundDocument(o,l,u,p);e=new lv(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,o=u1(n,i.document),l=i.readTime?Vo(i.readTime):wn.min(),u=oo.newNoDocument(o,l);e=new lv([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,o=u1(n,i.document);e=new lv([],i.removedTargetIds||[],o,null)}else{if(!("filter"in t))return un();{const i=t.filter,{count:o=0,unchangedNames:l}=i,u=new eV(o,l);e=new eO(i.targetId,u)}}var v;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return wn.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?wn.min():l.readTime?Vo(l.readTime):wn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Uf(this.serializer),e.addTarget=function(o,l){let u;const p=l.target;if(u=tv(p)?{documents:dO(o,p)}:{query:vC(o,p)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=rO(o,l.resumeToken);const v=fC(o,l.expectedCount);null!==v&&(u.expectedCount=v)}else if(l.snapshotVersion.compareTo(wn.min())>0){u.readTime=Jh(o,l.snapshotVersion.toTimestamp());const v=fC(o,l.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,t);const i=function dV(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Uf(this.serializer),e.removeTarget=t,this.Wo(e)}}class JV extends oP{constructor(t,e,i,o,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,o,u),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(mn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function uV(n,t){return n&&n.length>0?(mn(void 0!==t),n.map(e=>function(i,o){let l=Vo(i.updateTime?i.updateTime:o);return l.isEqual(wn.min())&&(l=Vo(o)),new YB(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vo(t.commitTime);return this.listener.cu(i,e)}return mn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Uf(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>$f(this.serializer,i))};this.Wo(e)}}class ZV extends class{}{constructor(t,e,i,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new vt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Io(t,e,i,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(Ze.UNKNOWN,o.toString())})}vo(t,e,i,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.vo(t,e,i,l,u,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new vt(Ze.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class tj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Bo(e),this.mu=!1):bt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nj{constructor(t,e,i,o,l){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(p=>{i.enqueueAndForget((0,pe.A)(function*(){var v;a2(u)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,pe.A)(function*(M){const b=Zt(M);b.vu.add(4),yield o3(b),b.bu.set("Unknown"),b.vu.delete(4),yield eg(b)}),function(M){return v.apply(this,arguments)})(u))}))}),this.bu=new tj(i,o)}}function eg(n){return HC.apply(this,arguments)}function HC(){return HC=(0,pe.A)(function*(n){if(a2(n))for(const t of n.Ru)yield t(!0)}),HC.apply(this,arguments)}function o3(n){return UC.apply(this,arguments)}function UC(){return UC=(0,pe.A)(function*(n){for(const t of n.Ru)yield t(!1)}),UC.apply(this,arguments)}function Iv(n,t){const e=Zt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),KC(e)?GC(e):s3(e).Ko()&&$C(e,t))}function tg(n,t){const e=Zt(n),i=s3(e);e.Au.delete(t),i.Ko()&&rP(e,t),0===e.Au.size&&(i.Ko()?i.jo():a2(e)&&e.bu.set("Unknown"))}function $C(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}s3(n).su(t)}function rP(n,t){n.Vu.qt(t),s3(n).iu(t)}function GC(n){n.Vu=new nV({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),s3(n).start(),n.bu.gu()}function KC(n){return a2(n)&&!s3(n).Uo()&&n.Au.size>0}function a2(n){return 0===Zt(n).vu.size}function sP(n){n.Vu=void 0}function ij(n){return WC.apply(this,arguments)}function WC(){return WC=(0,pe.A)(function*(n){n.Au.forEach((t,e)=>{$C(n,t)})}),WC.apply(this,arguments)}function oj(n,t){return qC.apply(this,arguments)}function qC(){return qC=(0,pe.A)(function*(n,t){sP(n),KC(n)?(n.bu.Iu(t),GC(n)):n.bu.set("Unknown")}),qC.apply(this,arguments)}function rj(n,t,e){return XC.apply(this,arguments)}function XC(){return XC=(0,pe.A)(function*(n,t,e){if(n.bu.set("Online"),t instanceof tO&&2===t.state&&t.cause)try{yield(i=(0,pe.A)(function*(o,l){const u=l.cause;for(const p of l.targetIds)o.Au.has(p)&&(yield o.remoteSyncer.rejectListen(p,u),o.Au.delete(p),o.Vu.removeTarget(p))}),function(o,l){return i.apply(this,arguments)})(n,t)}catch(i){bt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Av(n,i)}else if(t instanceof lv?n.Vu.Ht(t):t instanceof eO?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(wn.min()))try{const i=yield qO(n.localStore);e.compareTo(i)>=0&&(yield function(o,l){const u=o.Vu.ce(l);return u.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const M=o.Au.get(v);M&&o.Au.set(v,M.withResumeToken(p.resumeToken,l))}}),u.targetMismatches.forEach((p,v)=>{const M=o.Au.get(p);if(!M)return;o.Au.set(p,M.withResumeToken(rr.EMPTY_BYTE_STRING,M.snapshotVersion)),rP(o,p);const b=new ul(M.target,p,v,M.sequenceNumber);$C(o,b)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){bt("RemoteStore","Failed to raise snapshot:",i),yield Av(n,i)}var i}),XC.apply(this,arguments)}function Av(n,t,e){return YC.apply(this,arguments)}function YC(){return YC=(0,pe.A)(function*(n,t,e){if(!q0(t))throw t;n.vu.add(1),yield o3(n),n.bu.set("Offline"),e||(e=()=>qO(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.A)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield eg(n)}))}),YC.apply(this,arguments)}function aP(n,t){return t().catch(e=>Av(n,e,t))}function r3(n){return QC.apply(this,arguments)}function QC(){return QC=(0,pe.A)(function*(n){const t=Zt(n),e=c2(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;sj(t);)try{const o=yield $V(t.localStore,i);if(null===o){0===t.Eu.length&&e.jo();break}i=o.batchId,aj(t,o)}catch(o){yield Av(t,o)}cP(t)&&lP(t)}),QC.apply(this,arguments)}function sj(n){return a2(n)&&n.Eu.length<10}function aj(n,t){n.Eu.push(t);const e=c2(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function cP(n){return a2(n)&&!c2(n).Uo()&&n.Eu.length>0}function lP(n){c2(n).start()}function cj(n){return JC.apply(this,arguments)}function JC(){return JC=(0,pe.A)(function*(n){c2(n).hu()}),JC.apply(this,arguments)}function lj(n){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,pe.A)(function*(n){const t=c2(n);for(const e of n.Eu)t.uu(e.mutations)}),ZC.apply(this,arguments)}function uj(n,t,e){return eb.apply(this,arguments)}function eb(){return eb=(0,pe.A)(function*(n,t,e){const i=n.Eu.shift(),o=lC.from(i,t,e);yield aP(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield r3(n)}),eb.apply(this,arguments)}function dj(n,t){return tb.apply(this,arguments)}function tb(){return tb=(0,pe.A)(function*(n,t){var e;t&&c2(n).ou&&(yield(e=(0,pe.A)(function*(i,o){if(XT(l=o.code)&&l!==Ze.ABORTED){const u=i.Eu.shift();c2(i).Qo(),yield aP(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),yield r3(i)}var l}),function(i,o){return e.apply(this,arguments)})(n,t)),cP(n)&&lP(n)}),tb.apply(this,arguments)}function uP(n,t){return nb.apply(this,arguments)}function nb(){return nb=(0,pe.A)(function*(n,t){const e=Zt(n);e.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const i=a2(e);e.vu.add(3),yield o3(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield eg(e)}),nb.apply(this,arguments)}function ib(n,t){return ob.apply(this,arguments)}function ob(){return ob=(0,pe.A)(function*(n,t){const e=Zt(n);t?(e.vu.delete(2),yield eg(e)):t||(e.vu.add(2),yield o3(e),e.bu.set("Unknown"))}),ob.apply(this,arguments)}function s3(n){return n.Su||(n.Su=function(t,e,i){const o=Zt(t);return o.fu(),new QV(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{uo:ij.bind(null,n),ao:oj.bind(null,n),nu:rj.bind(null,n)}),n.Ru.push(function(){var t=(0,pe.A)(function*(e){e?(n.Su.Qo(),KC(n)?GC(n):n.bu.set("Unknown")):(yield n.Su.stop(),sP(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function c2(n){return n.Du||(n.Du=function(t,e,i){const o=Zt(t);return o.fu(),new JV(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{uo:cj.bind(null,n),ao:dj.bind(null,n),au:lj.bind(null,n),cu:uj.bind(null,n)}),n.Ru.push(function(){var t=(0,pe.A)(function*(e){e?(n.Du.Qo(),yield r3(n)):(yield n.Du.stop(),n.Eu.length>0&&(bt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class rb{constructor(t,e,i,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,o,l){const u=Date.now()+i,p=new rb(t,e,u,o,l);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(Ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a3(n,t){if(Bo("AsyncQueue",`${t}: ${n}`),q0(n))return new vt(Ze.UNAVAILABLE,`${t}: ${n}`);throw n}class c3{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Wt.comparator(e.key,i.key):(e,i)=>Wt.comparator(e.key,i.key),this.keyedMap=Lf(),this.sortedSet=new Qi(this.comparator)}static emptySet(t){return new c3(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof c3)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new c3;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class dP{constructor(){this.Cu=new Qi(Wt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):un():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class l3{constructor(t,e,i,o,l,u,p,v,M){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=M}static fromInitialDocuments(t,e,i,o,l){const u=[];return e.forEach(p=>{u.push({type:0,doc:p})}),new l3(t,e,c3.emptySet(e),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==i[o].type||!e[o].doc.isEqual(i[o].doc))return!1;return!0}}class hj{constructor(){this.Nu=void 0,this.listeners=[]}}class fj{constructor(){this.queries=new cl(t=>DT(t),Pf),this.onlineState="Unknown",this.ku=new Set}}function sb(n,t){return ab.apply(this,arguments)}function ab(){return ab=(0,pe.A)(function*(n,t){const e=Zt(n),i=t.query;let o=!1,l=e.queries.get(i);if(l||(o=!0,l=new hj),o)try{l.Nu=yield e.onListen(i)}catch(u){const p=a3(u,`Initialization of query '${rC(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,l),l.listeners.push(t),t.Mu(e.onlineState),l.Nu&&t.$u(l.Nu)&&ub(e)}),ab.apply(this,arguments)}function cb(n,t){return lb.apply(this,arguments)}function lb(){return lb=(0,pe.A)(function*(n,t){const e=Zt(n),i=t.query;let o=!1;const l=e.queries.get(i);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),o=0===l.listeners.length)}if(o)return e.queries.delete(i),e.onUnlisten(i)}),lb.apply(this,arguments)}function gj(n,t){const e=Zt(n);let i=!1;for(const o of t){const u=e.queries.get(o.query);if(u){for(const p of u.listeners)p.$u(o)&&(i=!0);u.Nu=o}}i&&ub(e)}function pj(n,t,e){const i=Zt(n),o=i.queries.get(t);if(o)for(const l of o.listeners)l.onError(e);i.queries.delete(t)}function ub(n){n.ku.forEach(t=>{t.next()})}class db{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)3!==o.type&&i.push(o);t=new l3(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=l3.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class mj{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class hP{constructor(t){this.serializer=t}rr(t){return u1(this.serializer,t)}ur(t){return t.metadata.exists?uO(this.serializer,t.document,!1):oo.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Vo(t)}}class vj{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fP(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=hi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new hP(this.serializer);for(const o of t)if(o.metadata.queries){const l=i.rr(o.metadata.name);for(const u of o.metadata.queries){const p=(e.get(u)||Wn()).add(l);e.set(u,p)}}return e}complete(){var t=this;return(0,pe.A)(function*(){const e=yield function GV(n,t,e,i){return PC.apply(this,arguments)}(t.localStore,new hP(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const o of t.queries)yield KV(t.localStore,o,i.get(o.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function fP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gP{constructor(t){this.key=t}}class pP{constructor(t){this.key=t}}class mP{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Wn(),this.mutatedKeys=Wn(),this.tc=OT(t),this.ec=new c3(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new dP,o=e?e.ec:this.ec;let l=e?e.mutatedKeys:this.mutatedKeys,u=o,p=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,M="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,S)=>{const z=o.get(b),re=Rf(this.query,S)?S:null,Be=!!z&&this.mutatedKeys.has(z.key),We=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Je=!1;z&&re?z.data.isEqual(re.data)?Be!==We&&(i.track({type:3,doc:re}),Je=!0):this.rc(z,re)||(i.track({type:2,doc:re}),Je=!0,(v&&this.tc(re,v)>0||M&&this.tc(re,M)<0)&&(p=!0)):!z&&re?(i.track({type:0,doc:re}),Je=!0):z&&!re&&(i.track({type:1,doc:z}),Je=!0,(v||M)&&(p=!0)),Je&&(re?(u=u.add(re),l=We?l.add(b):l.delete(b)):(u=u.delete(b),l=l.delete(b)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const b="F"===this.query.limitType?u.last():u.first();u=u.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{ec:u,ic:i,zi:p,mutatedKeys:l}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const o=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const l=t.ic.xu();l.sort((M,b)=>function(S,z){const re=Be=>{switch(Be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return re(S)-re(z)}(M.type,b.type)||this.tc(M.doc,b.doc)),this.oc(i);const u=e?this.uc():[],p=0===this.Zu.size&&this.current?1:0,v=p!==this.Xu;return this.Xu=p,0!==l.length||v?{snapshot:new l3(this.query,t.ec,o,l,t.mutatedKeys,0===p,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Wn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new pP(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new gP(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Wn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return l3.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class yj{constructor(t){this.key=t,this.fc=!1}}class _j{constructor(t,e,i,o,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new cl(p=>DT(p),Pf),this._c=new Map,this.mc=new Set,this.gc=new Qi(Wt.comparator),this.yc=new Map,this.Ic=new EC,this.Tc={},this.Ec=new Map,this.Ac=md.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xj(n,t){return hb.apply(this,arguments)}function hb(){return hb=(0,pe.A)(function*(n,t){const e=Lb(n);let i,o;const l=e.wc.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),o=l.view.lc();else{const u=yield n3(e.localStore,ms(t)),p=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,o=yield fb(e,t,i,"current"===p,u.resumeToken),e.isPrimaryClient&&Iv(e.remoteStore,u)}return o}),hb.apply(this,arguments)}function fb(n,t,e,i,o){return gb.apply(this,arguments)}function gb(){return gb=(0,pe.A)(function*(n,t,e,i,o){n.Rc=(S,z,re)=>{return(Be=(0,pe.A)(function*(We,Je,Rt,Ht){let Dt=Je.view.sc(Rt);Dt.zi&&(Dt=yield xv(We.localStore,Je.query,!1).then(({documents:Un})=>Je.view.sc(Un,Dt)));const hn=Ht&&Ht.targetChanges.get(Je.targetId),Cn=Je.view.applyChanges(Dt,We.isPrimaryClient,hn);return bb(We,Je.targetId,Cn.cc),Cn.snapshot}),function(We,Je,Rt,Ht){return Be.apply(this,arguments)})(n,S,z,re);var Be};const l=yield xv(n.localStore,t,!0),u=new mP(t,l.ir),p=u.sc(l.documents),v=jf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,o),M=u.applyChanges(p,n.isPrimaryClient,v);bb(n,e,M.cc);const b=new wj(t,e,u);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),M.snapshot}),gb.apply(this,arguments)}function Mj(n,t){return pb.apply(this,arguments)}function pb(){return pb=(0,pe.A)(function*(n,t){const e=Zt(n),i=e.wc.get(t),o=e._c.get(i.targetId);if(o.length>1)return e._c.set(i.targetId,o.filter(l=>!Pf(l,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield i3(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),tg(e.remoteStore,i.targetId),u3(e,i.targetId)}).catch(W0))):(u3(e,i.targetId),yield i3(e.localStore,i.targetId,!0))}),pb.apply(this,arguments)}function mb(){return mb=(0,pe.A)(function*(n,t,e){const i=Nb(n);try{const o=yield function(l,u){const p=Zt(l),v=fo.now(),M=u.reduce((z,re)=>z.add(re.key),Wn());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let re=Ls(),Be=Wn();return p.Zi.getEntries(z,M).next(We=>{re=We,re.forEach((Je,Rt)=>{Rt.isValidDocument()||(Be=Be.add(Je))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,re)).next(We=>{b=We;const Je=[];for(const Rt of u){const Ht=JB(Rt,b.get(Rt.key).overlayedDocument);null!=Ht&&Je.push(new ll(Rt.key,Ht,mT(Ht.value.mapValue),go.exists(!0)))}return p.mutationQueue.addMutationBatch(z,v,Je,u)}).next(We=>{S=We;const Je=We.applyToLocalDocumentSet(b,Be);return p.documentOverlayCache.saveOverlays(z,We.batchId,Je)})}).then(()=>({batchId:S.batchId,changes:RT(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(l,u,p){let v=l.Tc[l.currentUser.toKey()];v||(v=new Qi(Bn)),v=v.insert(u,p),l.Tc[l.currentUser.toKey()]=v}(i,o.batchId,e),yield dl(i,o.changes),yield r3(i.remoteStore)}catch(o){const l=a3(o,"Failed to persist write");e.reject(l)}}),mb.apply(this,arguments)}function vP(n,t){return vb.apply(this,arguments)}function vb(){return vb=(0,pe.A)(function*(n,t){const e=Zt(n);try{const i=yield function UV(n,t){const e=Zt(n),i=t.snapshotVersion;let o=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.Zi.newChangeBuffer({trackRemovals:!0});o=e.Ji;const p=[];t.targetChanges.forEach((b,S)=>{const z=o.get(S);if(!z)return;p.push(e.Bs.removeMatchingKeys(l,b.removedDocuments,S).next(()=>e.Bs.addMatchingKeys(l,b.addedDocuments,S)));let re=z.withSequenceNumber(l.currentSequenceNumber);var Be,We,Je;null!==t.targetMismatches.get(S)?re=re.withResumeToken(rr.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):b.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(b.resumeToken,i)),o=o.insert(S,re),We=re,Je=b,(0===(Be=z).resumeToken.approximateByteSize()||We.snapshotVersion.toMicroseconds()-Be.snapshotVersion.toMicroseconds()>=3e8||Je.addedDocuments.size+Je.modifiedDocuments.size+Je.removedDocuments.size>0)&&p.push(e.Bs.updateTargetData(l,re))});let v=Ls(),M=Wn();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(l,b))}),p.push(XO(l,u,t.documentUpdates).next(b=>{v=b.nr,M=b.sr})),!i.isEqual(wn.min())){const b=e.Bs.getLastRemoteSnapshotVersion(l).next(S=>e.Bs.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(b)}return qe.waitFor(p).next(()=>u.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,v,M)).next(()=>v)}).then(l=>(e.Ji=o,l))}(e.localStore,t);t.targetChanges.forEach((o,l)=>{const u=e.yc.get(l);u&&(mn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?mn(u.fc):o.removedDocuments.size>0&&(mn(u.fc),u.fc=!1))}),yield dl(e,i,t)}catch(i){yield W0(i)}}),vb.apply(this,arguments)}function wP(n,t,e){const i=Zt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const o=[];i.wc.forEach((l,u)=>{const p=u.view.Mu(t);p.snapshot&&o.push(p.snapshot)}),function(l,u){const p=Zt(l);p.onlineState=u;let v=!1;p.queries.forEach((M,b)=>{for(const S of b.listeners)S.Mu(u)&&(v=!0)}),v&&ub(p)}(i.eventManager,t),o.length&&i.dc.nu(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function bj(n,t,e){return wb.apply(this,arguments)}function wb(){return wb=(0,pe.A)(function*(n,t,e){const i=Zt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const o=i.yc.get(t),l=o&&o.key;if(l){let u=new Qi(Wt.comparator);u=u.insert(l,oo.newNoDocument(l,wn.min()));const p=Wn().add(l),v=new Vf(wn.min(),new Map,new Qi(Bn),u,p);yield vP(i,v),i.gc=i.gc.remove(l),i.yc.delete(t),Eb(i)}else yield i3(i.localStore,t,!1).then(()=>u3(i,t,e)).catch(W0)}),wb.apply(this,arguments)}function Ej(n,t){return yb.apply(this,arguments)}function yb(){return yb=(0,pe.A)(function*(n,t){const e=Zt(n),i=t.batch.batchId;try{const o=yield function HV(n,t){const e=Zt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),l=e.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,v,M){const b=v.batch,S=b.keys();let z=qe.resolve();return S.forEach(re=>{z=z.next(()=>M.getEntry(p,re)).next(Be=>{const We=v.docVersions.get(re);mn(null!==We),Be.version.compareTo(We)<0&&(b.applyToRemoteDocument(Be,v),Be.isValidDocument()&&(Be.setReadTime(v.commitVersion),M.addEntry(Be)))})}),z.next(()=>u.mutationQueue.removeMutationBatch(p,b))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let p=Wn();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(p=p.add(u.batch.mutations[v].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,o))})}(e.localStore,t);Cb(e,i,null),Mb(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield dl(e,o)}catch(o){yield W0(o)}}),yb.apply(this,arguments)}function Ij(n,t,e){return _b.apply(this,arguments)}function _b(){return _b=(0,pe.A)(function*(n,t,e){const i=Zt(n);try{const o=yield function(l,u){const p=Zt(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let M;return p.mutationQueue.lookupMutationBatch(v,u).next(b=>(mn(null!==b),M=b.keys(),p.mutationQueue.removeMutationBatch(v,b))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,M,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,M)).next(()=>p.localDocuments.getDocuments(v,M))})}(i.localStore,t);Cb(i,t,e),Mb(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield dl(i,o)}catch(o){yield W0(o)}}),_b.apply(this,arguments)}function xb(){return xb=(0,pe.A)(function*(n,t){const e=Zt(n);a2(e.remoteStore)||bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=Zt(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const o=e.Ec.get(i)||[];o.push(t),e.Ec.set(i,o)}catch(i){const o=a3(i,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),xb.apply(this,arguments)}function Mb(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function Cb(n,t,e){const i=Zt(n);let o=i.Tc[i.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),i.Tc[i.currentUser.toKey()]=o}}function u3(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||yP(n,i)})}function yP(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(tg(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),Eb(n))}function bb(n,t,e){for(const i of e)i instanceof gP?(n.Ic.addReference(i.key,t),kj(n,i)):i instanceof pP?(bt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||yP(n,i.key)):un()}function kj(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(bt("SyncEngine","New document in limbo: "+e),n.mc.add(i),Eb(n))}function Eb(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Wt(hi.fromString(t)),i=n.Ac.next();n.yc.set(i,new yj(e)),n.gc=n.gc.insert(e,i),Iv(n.remoteStore,new ul(ms(Wh(e.path)),i,"TargetPurposeLimboResolution",oa.ct))}}function dl(n,t,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,pe.A)(function*(n,t,e){const i=Zt(n),o=[],l=[],u=[];var p;i.wc.isEmpty()||(i.wc.forEach((p,v)=>{u.push(i.Rc(v,t,e).then(M=>{if((M||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,M?.fromCache?"not-current":"current"),M){o.push(M);const b=DC.Li(v.targetId,M);l.push(b)}}))}),yield Promise.all(u),i.dc.nu(o),yield(p=(0,pe.A)(function*(v,M){const b=Zt(v);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>qe.forEach(M,z=>qe.forEach(z.Fi,re=>b.persistence.referenceDelegate.addReference(S,z.targetId,re)).next(()=>qe.forEach(z.Bi,re=>b.persistence.referenceDelegate.removeReference(S,z.targetId,re)))))}catch(S){if(!q0(S))throw S;bt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of M){const z=S.targetId;if(!S.fromCache){const re=b.Ji.get(z),We=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);b.Ji=b.Ji.insert(z,We)}}}),function(v,M){return p.apply(this,arguments)})(i.localStore,l))}),Ib.apply(this,arguments)}function Sj(n,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,pe.A)(function*(n,t){const e=Zt(n);if(!e.currentUser.isEqual(t)){bt("SyncEngine","User change. New user:",t.toKey());const i=yield WO(e.localStore,t);e.currentUser=t,(o=e).Ec.forEach(u=>{u.forEach(p=>{p.reject(new vt(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield dl(e,i.er)}var o}),Ab.apply(this,arguments)}function Dj(n,t){const e=Zt(n),i=e.yc.get(t);if(i&&i.fc)return Wn().add(i.key);{let o=Wn();const l=e._c.get(t);if(!l)return o;for(const u of l){const p=e.wc.get(u);o=o.unionWith(p.view.nc)}return o}}function Tj(n,t){return kb.apply(this,arguments)}function kb(){return kb=(0,pe.A)(function*(n,t){const e=Zt(n),i=yield xv(e.localStore,t.query,!0),o=t.view.hc(i);return e.isPrimaryClient&&bb(e,t.targetId,o.cc),o}),kb.apply(this,arguments)}function Oj(n,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,pe.A)(function*(n,t){const e=Zt(n);return QO(e.localStore,t).then(i=>dl(e,i))}),Sb.apply(this,arguments)}function Pj(n,t,e,i){return Db.apply(this,arguments)}function Db(){return Db=(0,pe.A)(function*(n,t,e,i){const o=Zt(n),l=yield function(u,p){const v=Zt(u),M=Zt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",b=>M.Sn(b,p).next(S=>S?v.localDocuments.getDocuments(b,S):qe.resolve(null)))}(o.localStore,t);var p;null!==l?("pending"===e?yield r3(o.remoteStore):"acknowledged"===e||"rejected"===e?(Cb(o,t,i||null),Mb(o,t),p=t,Zt(Zt(o.localStore).mutationQueue).Cn(p)):un(),yield dl(o,l)):bt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Db.apply(this,arguments)}function Tb(){return Tb=(0,pe.A)(function*(n,t){const e=Zt(n);if(Lb(e),Nb(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),o=yield _P(e,i.toArray());e.vc=!0,yield ib(e.remoteStore,!0);for(const l of o)Iv(e.remoteStore,l)}else if(!1===t&&!1!==e.vc){const i=[];let o=Promise.resolve();e._c.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):o=o.then(()=>(u3(e,u),i3(e.localStore,u,!0))),tg(e.remoteStore,u)}),yield o,yield _P(e,i),function(l){const u=Zt(l);u.yc.forEach((p,v)=>{tg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Qi(Wt.comparator)}(e),e.vc=!1,yield ib(e.remoteStore,!1)}}),Tb.apply(this,arguments)}function _P(n,t,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,pe.A)(function*(n,t,e){const i=Zt(n),o=[],l=[];for(const u of t){let p;const v=i._c.get(u);if(v&&0!==v.length){p=yield n3(i.localStore,ms(v[0]));for(const M of v){const b=i.wc.get(M),S=yield Tj(i,b);S.snapshot&&l.push(S.snapshot)}}else{const M=yield YO(i.localStore,u);p=yield n3(i.localStore,M),yield fb(i,xP(M),u,!1,p.resumeToken)}o.push(p)}return i.dc.nu(l),o}),Ob.apply(this,arguments)}function xP(n){return kT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Lj(n){const t=Zt(n);return Zt(Zt(t.localStore).persistence).$i()}function Nj(n,t,e,i){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,pe.A)(function*(n,t,e,i){const o=Zt(n);if(o.vc)return void bt("SyncEngine","Ignoring unexpected query state notification.");const l=o._c.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=yield QO(o.localStore,TT(l[0])),p=Vf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,rr.EMPTY_BYTE_STRING);yield dl(o,u,p);break}case"rejected":yield i3(o.localStore,t,!0),u3(o,t,i);break;default:un()}}),Pb.apply(this,arguments)}function zj(n,t,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,pe.A)(function*(n,t,e){const i=Lb(n);if(i.vc){for(const o of t){if(i._c.has(o)){bt("SyncEngine","Adding an already active target "+o);continue}const l=yield YO(i.localStore,o),u=yield n3(i.localStore,l);yield fb(i,xP(l),u.targetId,!1,u.resumeToken),Iv(i.remoteStore,u)}for(const o of e)i._c.has(o)&&(yield i3(i.localStore,o,!1).then(()=>{tg(i.remoteStore,o),u3(i,o)}).catch(W0))}}),Rb.apply(this,arguments)}function Lb(n){const t=Zt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bj.bind(null,t),t.dc.nu=gj.bind(null,t.eventManager),t.dc.Pc=pj.bind(null,t.eventManager),t}function Nb(n){const t=Zt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ij.bind(null,t),t}class d3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,pe.A)(function*(){e.serializer=Zf(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return KO(this.persistence,new GO,t.initialUser,this.serializer)}createPersistence(t){return new IC(wv.zs,this.serializer)}createSharedClientState(t){return new tP}terminate(){var t=this;return(0,pe.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class zb extends d3{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,pe.A)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield Nb(i.Vc.syncEngine),yield r3(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return KO(this.persistence,new GO,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new NO(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new uB(e,this.persistence);return new lB(t.asyncQueue,i)}createPersistence(t){const e=SC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new kC(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,iP(),Ev(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new tP}}class MP extends zb{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,pe.A)(function*(){yield e().call(i,t);const o=i.Vc.syncEngine;i.sharedClientState instanceof FC&&(i.sharedClientState.syncEngine={jr:Pj.bind(null,o),zr:Nj.bind(null,o),Wr:zj.bind(null,o),$i:Lj.bind(null,o),Qr:Oj.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var l=(0,pe.A)(function*(u){yield function Rj(n,t){return Tb.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}createSharedClientState(t){const e=iP();if(!FC.D(e))throw new vt(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=SC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new FC(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class h3{initialize(t,e){var i=this;return(0,pe.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>wP(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Sj.bind(null,i.syncEngine),yield ib(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new fj}createDatastore(t){const e=Zf(t.databaseInfo.databaseId),i=new YV(t.databaseInfo);return new ZV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,o=t.asyncQueue,l=p=>wP(this.syncEngine,p,0),u=nP.D()?new nP:new WV,new nj(e,i,o,l,u);var e,i,o,l,u}createSyncEngine(t,e){return function(i,o,l,u,p,v,M){const b=new _j(i,o,l,u,p,v);return M&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,pe.A)(function*(e){const i=Zt(e);bt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield o3(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function CP(n,t=10240){let e=0;return{read:()=>(0,pe.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,pe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class kv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Bo("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Vj{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new or,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,pe.A)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,pe.A)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,pe.A)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),o=Number(i);isNaN(o)&&t.Mc(`length string (${i}) is not valid number`);const l=yield t.$c(o);return new mj(JSON.parse(l),e.length+o)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,pe.A)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,pe.A)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,pe.A)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class jj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,pe.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new vt(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,pe.A)(function*(l,u){const p=Zt(l),v=Uf(p.serializer)+"/documents",M={documents:u.map(re=>Hf(p.serializer,re))},b=yield p.vo("BatchGetDocuments",v,M,u.length),S=new Map;b.forEach(re=>{const Be=function cV(n,t){return"found"in t?function(e,i){mn(!!i.found);const o=u1(e,i.found.name),l=Vo(i.found.updateTime),u=i.found.createTime?Vo(i.found.createTime):wn.min(),p=new zr({mapValue:{fields:i.found.fields}});return oo.newFoundDocument(o,l,u,p)}(n,t):"missing"in t?function(e,i){mn(!!i.missing),mn(!!i.readTime);const o=u1(e,i.missing),l=Vo(i.readTime);return oo.newNoDocument(o,l)}(n,t):un()}(p.serializer,re);S.set(Be.key.toString(),Be)});const z=[];return u.forEach(re=>{const Be=S.get(re.toString());mn(!!Be),z.push(Be)}),z}),function(l,u){return o.apply(this,arguments)})(e.datastore,t);var o;return i.forEach(o=>e.recordVersion(o)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,pe.A)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,o)=>{const l=Wt.fromPath(o);t.mutations.push(new aC(l,t.precondition(l)))}),yield(i=(0,pe.A)(function*(o,l){const u=Zt(o),p=Uf(u.serializer)+"/documents",v={writes:l.map(M=>$f(u.serializer,M))};yield u.Io("Commit",p,v)}),function(o,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw un();e=wn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new vt(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(wn.min())?go.exists(!1):go.updateTime(e):go.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(wn.min()))throw new vt(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return go.updateTime(e)}return go.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Hj{constructor(t,e,i,o,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=o,this.deferred=l,this.Bc=i.maxAttempts,this.qo=new VC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,pe.A)(function*(){const e=new jj(t.datastore),i=t.qc(e);i&&i.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(l=>{t.Uc(l)}))}).catch(o=>{t.Uc(o)})}))}qc(t){try{const e=this.updateFunction(t);return!If(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!XT(e)}return!1}}class Uj{constructor(t,e,i,o){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=o,this.user=yr.UNAUTHENTICATED,this.clientId=KD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,pe.A)(function*(p){bt("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(bt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,pe.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const o=a3(i,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function Sv(n,t){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,pe.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,pe.A)(function*(l){i.isEqual(l)||(yield WO(t.localStore,l),i=l)});return function(l){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Fb.apply(this,arguments)}function Bb(n,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,pe.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield jb(n);bt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(o=>uP(t.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>uP(t.remoteStore,l)),n._onlineComponents=t}),Vb.apply(this,arguments)}function bP(n){return"FirebaseError"===n.name?n.code===Ze.FAILED_PRECONDITION||n.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function jb(n){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,pe.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sv(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!bP(e))throw e;Ua("Error using user provided cache. Falling back to memory cache: "+e),yield Sv(n,new d3)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),yield Sv(n,new d3);return n._offlineComponents}),Hb.apply(this,arguments)}function Dv(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,pe.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bb(n,n._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),yield Bb(n,new h3))),n._onlineComponents}),Ub.apply(this,arguments)}function EP(n){return jb(n).then(t=>t.persistence)}function Tv(n){return jb(n).then(t=>t.localStore)}function IP(n){return Dv(n).then(t=>t.remoteStore)}function $b(n){return Dv(n).then(t=>t.syncEngine)}function f3(n){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,pe.A)(function*(n){const t=yield Dv(n),e=t.eventManager;return e.onListen=xj.bind(null,t.syncEngine),e.onUnlisten=Mj.bind(null,t.syncEngine),e}),Gb.apply(this,arguments)}function kP(n,t,e={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(o,l,u,p,v){const M=new kv({next:S=>{l.enqueueAndForget(()=>cb(o,b));const z=S.docs.has(u);!z&&S.fromCache?v.reject(new vt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&S.fromCache&&p&&"server"===p.source?v.reject(new vt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),b=new db(Wh(u.path),M,{includeMetadataChanges:!0,Ku:!0});return sb(o,b)}(yield f3(n),n.asyncQueue,t,e,i)})),i.promise}function SP(n,t,e={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(o,l,u,p,v){const M=new kv({next:S=>{l.enqueueAndForget(()=>cb(o,b)),S.fromCache&&"server"===p.source?v.reject(new vt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),b=new db(u,M,{includeMetadataChanges:!0,Ku:!0});return sb(o,b)}(yield f3(n),n.asyncQueue,t,e,i)})),i.promise}function DP(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const TP=new Map;function Kb(n,t,e){if(!e)throw new vt(Ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OP(n,t,e,i){if(!0===t&&!0===i)throw new vt(Ze.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function PP(n){if(!Wt.isDocumentKey(n))throw new vt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RP(n){if(Wt.isDocumentKey(n))throw new vt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ov(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":un()}function ci(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ov(n);throw new vt(Ze.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function LP(n,t){if(t<=0)throw new vt(Ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class NP{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new vt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DP(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ng{constructor(t,e,i,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new vt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new QF;switch(e.type){case"firstParty":return new tB(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=TP.get(t);e&&(bt("ComponentProvider","Removing Datastore"),TP.delete(t),e.terminate())}(this),Promise.resolve()}}class ro{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new d1(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ro(this.firestore,t,this._key)}}class Fr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Fr(this.firestore,t,this._query)}}class d1 extends Fr{constructor(t,e,i){super(t,e,Wh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ro(this.firestore,null,new Wt(t))}withConverter(t){return new d1(this.firestore,t,this._path)}}function FP(n,t,...e){if(n=(0,xi.Ku)(n),Kb("collection","path",t),n instanceof ng){const i=hi.fromString(t,...e);return RP(i),new d1(n,null,i)}{if(!(n instanceof ro||n instanceof d1))throw new vt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hi.fromString(t,...e));return RP(i),new d1(n.firestore,null,i)}}function Pv(n,t,...e){if(n=(0,xi.Ku)(n),1===arguments.length&&(t=KD.A()),Kb("doc","path",t),n instanceof ng){const i=hi.fromString(t,...e);return PP(i),new ro(n,null,new Wt(i))}{if(!(n instanceof ro||n instanceof d1))throw new vt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hi.fromString(t,...e));return PP(i),new ro(n.firestore,n instanceof d1?n.converter:null,new Wt(i))}}function BP(n,t){return n=(0,xi.Ku)(n),t=(0,xi.Ku)(t),(n instanceof ro||n instanceof d1)&&(t instanceof ro||t instanceof d1)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Wb(n,t){return n=(0,xi.Ku)(n),t=(0,xi.Ku)(t),n instanceof Fr&&t instanceof Fr&&n.firestore===t.firestore&&Pf(n._query,t._query)&&n.converter===t.converter}class Zj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VC(this,"async_queue_retry"),this.Xc=()=>{const e=Ev();e&&bt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Ev();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Ev();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,pe.A)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!q0(e))throw e;bt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Bo("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const o=rb.createAndSchedule(this,t,e,i,l=>this.na(l));return this.zc.push(o),o}Zc(){this.Wc&&un()}verifyOperationInProgress(){}sa(){var t=this;return(0,pe.A)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function qb(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class eH{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class so extends ng{constructor(t,e,i,o){super(t,e,i,o),this.type="firestore",this._queue=new Zj,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VP(this),this._firestoreClient.terminate()}}function jo(n){return n._firestoreClient||VP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VP(n){var t,e,i;const o=n._freezeSettings(),l=(p=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new TB(n._databaseId,p,n._persistenceKey,(M=o).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,DP(M.experimentalLongPollingOptions),M.useFetchStreams));var p,M;n._firestoreClient=new Uj(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(e=o.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=o.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function jP(n,t,e){const i=new or;return n.asyncQueue.enqueue((0,pe.A)(function*(){try{yield Sv(n,e),yield Bb(n,t),i.resolve()}catch(o){const l=o;if(!bP(l))throw l;Ua("Error enabling indexeddb cache. Falling back to memory cache: "+l),i.reject(l)}})).then(()=>i.promise)}function HP(n){if(n._initialized||n._terminated)throw new vt(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class h1{constructor(t){this._byteString=t}static fromBase64String(t){try{return new h1(rr.fromBase64String(t))}catch(e){throw new vt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new h1(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new vt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ao(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wd{constructor(t){this._methodName=t}}class Rv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bn(this._lat,t._lat)||Bn(this._long,t._long)}}const dH=/^__.*__$/;class hH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ll(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yh(t,this.data,e,this.fieldTransforms)}}class UP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ll(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $P(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class Lv{constructor(t,e,i,o,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=o,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new Lv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:i,la:!1});return o.fa(t),o}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.aa({path:i,la:!1});return o.ua(),o}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Fv(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if($P(this.ca)&&dH.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class fH{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zf(t)}ya(t,e,i,o=!1){return new Lv({ca:t,methodName:e,ga:i,path:Ao.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yd(n){const t=n._freezeSettings(),e=Zf(n._databaseId);return new fH(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nv(n,t,e,i,o,l={}){const u=n.ya(l.merge||l.mergeFields?2:0,t,e,o);Jb("Data must be an object, but it was:",u,i);const p=WP(i,u);let v,M;if(l.merge)v=new Rs(u.fieldMask),M=u.fieldTransforms;else if(l.mergeFields){const b=[];for(const S of l.mergeFields){const z=rg(t,S,e);if(!u.contains(z))throw new vt(Ze.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);XP(b,z)||b.push(z)}v=new Rs(b),M=u.fieldTransforms.filter(S=>v.covers(S.field))}else v=null,M=u.fieldTransforms;return new hH(new zr(p),v,M)}class og extends wd{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof og}}function GP(n,t,e){return new Lv({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Xb extends wd{_toFieldTransform(t){return new zf(t.path,new qh)}isEqual(t){return t instanceof Xb}}class gH extends wd{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GP(this,t,!0),i=this.pa.map(l=>_d(l,e)),o=new ld(i);return new zf(t.path,o)}isEqual(t){return this===t}}class pH extends wd{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GP(this,t,!0),i=this.pa.map(l=>_d(l,e)),o=new ud(i);return new zf(t.path,o)}isEqual(t){return this===t}}class mH extends wd{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Xh(t.serializer,FT(t.serializer,this.Ia));return new zf(t.path,e)}isEqual(t){return this===t}}function Yb(n,t,e,i){const o=n.ya(1,t,e);Jb("Data must be an object, but it was:",o,i);const l=[],u=zr.empty();X0(i,(v,M)=>{const b=zv(t,v,e);M=(0,xi.Ku)(M);const S=o.da(b);if(M instanceof og)l.push(b);else{const z=_d(M,S);null!=z&&(l.push(b),u.set(b,z))}});const p=new Rs(l);return new UP(u,p,o.fieldTransforms)}function Qb(n,t,e,i,o,l){const u=n.ya(1,t,e),p=[rg(t,i,e)],v=[o];if(l.length%2!=0)throw new vt(Ze.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<l.length;z+=2)p.push(rg(t,l[z])),v.push(l[z+1]);const M=[],b=zr.empty();for(let z=p.length-1;z>=0;--z)if(!XP(M,p[z])){const re=p[z];let Be=v[z];Be=(0,xi.Ku)(Be);const We=u.da(re);if(Be instanceof og)M.push(re);else{const Je=_d(Be,We);null!=Je&&(M.push(re),b.set(re,Je))}}const S=new Rs(M);return new UP(b,S,u.fieldTransforms)}function KP(n,t,e,i=!1){return _d(e,n.ya(i?4:3,t))}function _d(n,t){if(qP(n=(0,xi.Ku)(n)))return Jb("Unsupported field value:",t,n),WP(n,t);if(n instanceof wd)return function(e,i){if(!$P(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const o=[];let l=0;for(const u of e){let p=_d(u,i.wa(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,t)}return function(e,i){if(null===(e=(0,xi.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return FT(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=fo.fromDate(e);return{timestampValue:Jh(i.serializer,o)}}if(e instanceof fo){const o=new fo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(e instanceof Rv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof h1)return{bytesValue:rO(i.serializer,e._byteString)};if(e instanceof ro){const o=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(o))throw i._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gC(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${Ov(e)}`)}(n,t)}function WP(n,t){const e={};return aT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):X0(n,(i,o)=>{const l=_d(o,t.ha(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function qP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fo||n instanceof Rv||n instanceof h1||n instanceof ro||n instanceof wd)}function Jb(n,t,e){if(!qP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Ov(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function rg(n,t,e){if((t=(0,xi.Ku)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return zv(n,t);throw Fv("Field path arguments must be of type string or ",n,!1,void 0,e)}const vH=new RegExp("[~\\*/\\[\\]]");function zv(n,t,e){if(t.search(vH)>=0)throw Fv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hl(...t.split("."))._internalPath}catch{throw Fv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Fv(n,t,e,i,o){const l=i&&!i.isEmpty(),u=void 0!==o;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||u)&&(v+=" (found",l&&(v+=` in field ${i}`),u&&(v+=` in document ${o}`),v+=")"),new vt(Ze.INVALID_ARGUMENT,p+n+v)}function XP(n,t){return n.some(e=>e.isEqual(t))}class sg{constructor(t,e,i,o,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new wH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Bv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class wH extends sg{data(){return super.data()}}function Bv(n,t){return"string"==typeof t?zv(n,t):t instanceof hl?t._internalPath:t._delegate._internalPath}function YP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zb{}class ag extends Zb{}function l2(n,t,...e){let i=[];t instanceof Zb&&i.push(t),i=i.concat(e),function(o){const l=o.filter(p=>p instanceof g3).length,u=o.filter(p=>p instanceof cg).length;if(l>1||l>0&&u>0)throw new vt(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class cg extends ag{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new cg(t,e,i)}_apply(t){const e=this._parse(t);return eR(t._query,e),new Fr(t.firestore,t.converter,oC(t._query,e))}_parse(t){const e=yd(t.firestore);return function(o,l,u,p,v,M,b){let S;if(v.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new vt(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){ZP(b,M);const z=[];for(const re of b)z.push(JP(p,o,re));S={arrayValue:{values:z}}}else S=JP(p,o,b)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||ZP(b,M),S=KP(u,"where",b,"in"===M||"not-in"===M);return ai.create(v,M,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class g3 extends Zb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new g3(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const p of u)eR(l,p),l=oC(l,p)}(t._query,e),new Fr(t.firestore,t.converter,oC(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eE extends ag{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new eE(t,e)}_apply(t){const e=function(i,o,l){if(null!==i.startAt)throw new vt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Gh(o,l);return function(p,v){if(null===nC(p)){const M=iv(p);null!==M&&tR(0,M,v.field)}}(i,u),u}(t._query,this._field,this._direction);return new Fr(t.firestore,t.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new al(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Vv extends ag{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Vv(t,e,i)}_apply(t){return new Fr(t.firestore,t.converter,ov(t._query,this._limit,this._limitType))}}class jv extends ag{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new jv(t,e,i)}_apply(t){const e=QP(t,this.type,this._docOrFields,this._inclusive);return new Fr(t.firestore,t.converter,(o=e,new al((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class Hv extends ag{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Hv(t,e,i)}_apply(t){const e=QP(t,this.type,this._docOrFields,this._inclusive);return new Fr(t.firestore,t.converter,(o=e,new al((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function QP(n,t,e,i){if(e[0]=(0,xi.Ku)(e[0]),e[0]instanceof sg)return function(o,l,u,p,v){if(!p)throw new vt(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const M=[];for(const b of cd(o))if(b.field.isKeyField())M.push(sd(l,p.key));else{const S=p.data.field(b.field);if(Y7(S))throw new vt(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const z=b.field.canonicalString();throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}M.push(S)}return new t2(M,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const o=yd(n.firestore);return function(l,u,p,v,M,b){const S=l.explicitOrderBy;if(M.length>S.length)throw new vt(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let re=0;re<M.length;re++){const Be=M[re];if(S[re].field.isKeyField()){if("string"!=typeof Be)throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Be}`);if(!iC(l)&&-1!==Be.indexOf("/"))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Be}' contains a slash.`);const We=l.path.child(hi.fromString(Be));if(!Wt.isDocumentKey(We))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${We}' is not because it contains an odd number of segments.`);const Je=new Wt(We);z.push(sd(u,Je))}else{const We=KP(p,v,Be);z.push(We)}}return new t2(z,b)}(n._query,n.firestore._databaseId,o,t,e,i)}}function JP(n,t,e){if("string"==typeof(e=(0,xi.Ku)(e))){if(""===e)throw new vt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iC(t)&&-1!==e.indexOf("/"))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(hi.fromString(e));if(!Wt.isDocumentKey(i))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sd(n,new Wt(i))}if(e instanceof ro)return sd(n,e._key);throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ov(e)}.`)}function ZP(n,t){if(!Array.isArray(n)||0===n.length)throw new vt(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eR(n,t){if(t.isInequality()){const i=iv(n),o=t.field;if(null!==i&&!i.isEqual(o))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${o.toString()}'`);const l=nC(n);null!==l&&tR(0,o,l)}const e=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new vt(Ze.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tR(n,t,e){if(!e.isEqual(t))throw new vt(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class tE{convertValue(t,e="none"){switch(Z0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ko(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw un()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return X0(t,(o,l)=>{i[o]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new Rv(ko(t.latitude),ko(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Q7(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(kf(t));default:return null}}convertTimestamp(t){const e=Y0(t);return new fo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=hi.fromString(t);mn(pO(i));const o=new Q0(i.get(1),i.get(3)),l=new Wt(i.popFirst(5));return o.isEqual(e)||Bo(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function Uv(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class AH extends tE{constructor(t){super(),this.firestore=t}convertBytes(t){return new h1(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ro(this.firestore,null,e)}}class xd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fl extends sg{constructor(t,e,i,o,l,u){super(t,e,i,o,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Bv("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class lg extends fl{data(t={}){return super.data(t)}}class u2{constructor(t,e,i,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new xd(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new lg(this._firestore,this._userDataWriter,i.key,i,new xd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new lg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||3!==u.type).map(u=>{const p=new lg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,M=-1;return 0!==u.type&&(v=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),M=l.indexOf(u.doc.key)),{type:SH(u.type),doc:p,oldIndex:v,newIndex:M}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function SH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}function iR(n,t){return n instanceof fl&&t instanceof fl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof u2&&t instanceof u2&&n._firestore===t._firestore&&Wb(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class d2 extends tE{constructor(t){super(),this.firestore=t}convertBytes(t){return new h1(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ro(this.firestore,null,e)}}function oR(n,t,e){n=ci(n,ro);const i=ci(n.firestore,so),o=Uv(n.converter,t,e);return p3(i,[Nv(yd(i),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,go.none())])}function rR(n,t,e,...i){n=ci(n,ro);const o=ci(n.firestore,so),l=yd(o);let u;return u="string"==typeof(t=(0,xi.Ku)(t))||t instanceof hl?Qb(l,"updateDoc",n._key,t,e,i):Yb(l,"updateDoc",n._key,t),p3(o,[u.toMutation(n._key,go.exists(!0))])}function sR(n,...t){var e,i,o;n=(0,xi.Ku)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||qb(t[u])||(l=t[u],u++);const p={includeMetadataChanges:l.includeMetadataChanges};if(qb(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let v,M,b;if(n instanceof ro)M=ci(n.firestore,so),b=Wh(n._key.path),v={next:S=>{t[u]&&t[u](nE(M,n,S))},error:t[u+1],complete:t[u+2]};else{const S=ci(n,Fr);M=ci(S.firestore,so),b=S._query;const z=new d2(M);v={next:re=>{t[u]&&t[u](new u2(M,z,S,re))},error:t[u+1],complete:t[u+2]},YP(n._query)}return function(S,z,re,Be){const We=new kv(Be),Je=new db(z,We,re);return S.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return sb(yield f3(S),Je)})),()=>{We.Dc(),S.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return cb(yield f3(S),Je)}))}}(jo(M),b,p,v)}function p3(n,t){return function(e,i){const o=new or;return e.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function Cj(n,t,e){return mb.apply(this,arguments)}(yield $b(e),i,o)})),o.promise}(jo(n),t)}function nE(n,t,e){const i=e.docs.get(t._key),o=new d2(n);return new fl(n,o,t._key,i,new xd(e.hasPendingWrites,e.fromCache),t.converter)}const WH={maxAttempts:5};class aR{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yd(t)}set(t,e,i){this._verifyNotCommitted();const o=h2(t,this._firestore),l=Uv(o.converter,e,i),u=Nv(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,i);return this._mutations.push(u.toMutation(o._key,go.none())),this}update(t,e,i,...o){this._verifyNotCommitted();const l=h2(t,this._firestore);let u;return u="string"==typeof(e=(0,xi.Ku)(e))||e instanceof hl?Qb(this._dataReader,"WriteBatch.update",l._key,e,i,o):Yb(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,go.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=h2(t,this._firestore);return this._mutations=this._mutations.concat(new Qh(e._key,go.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h2(n,t){if((n=(0,xi.Ku)(n)).firestore!==t)throw new vt(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qH extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=yd(t)}get(t){const e=h2(t,this._firestore),i=new AH(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return un();const l=o[0];if(l.isFoundDocument())return new sg(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new sg(this._firestore,i,e._key,null,e.converter);throw un()})}set(t,e,i){const o=h2(t,this._firestore),l=Uv(o.converter,e,i),u=Nv(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,i);return this._transaction.set(o._key,u),this}update(t,e,i,...o){const l=h2(t,this._firestore);let u;return u="string"==typeof(e=(0,xi.Ku)(e))||e instanceof hl?Qb(this._dataReader,"Transaction.update",l._key,e,i,o):Yb(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=h2(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=h2(t,this._firestore),i=new d2(this._firestore);return super.get(t).then(o=>new fl(this._firestore,i,e._key,o._document,new xd(!1,!1),e.converter))}}function iE(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function lR(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function uR(){if(!function SB(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){jh=Ju.SDK_VERSION,(0,Ju._registerComponent)(new c7.uA("firestore",(e,{instanceIdentifier:i,options:o})=>{const l=e.getProvider("app").getImmediate(),u=new so(new ZF(e.getProvider("auth-internal")),new nB(e.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new vt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q0(p.options.projectId,v)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),(0,Ju.registerVersion)(UD,"3.13.0",n),(0,Ju.registerVersion)(UD,"3.13.0","esm2017")}();class ug{constructor(t){this._delegate=t}static fromBase64String(t){return uR(),new ug(h1.fromBase64String(t))}static fromUint8Array(t){return lR(),new ug(h1.fromUint8Array(t))}toBase64(){return uR(),this._delegate.toBase64()}toUint8Array(){return lR(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oE(n){return function iU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class oU{enableIndexedDbPersistence(t,e){return function nH(n,t){HP(n=ci(n,so));const e=jo(n);if(e._uninitializedComponentsProvider)throw new vt(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Ua("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),o=new h3;return jP(e,o,new zb(o,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function iH(n){HP(n=ci(n,so));const t=jo(n);if(t._uninitializedComponentsProvider)throw new vt(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Ua("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new h3;return jP(t,i,new MP(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function oH(n){if(n._initialized&&!n._terminated)throw new vt(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{yield(e=(0,pe.A)(function*(i){if(!Ac.D())return Promise.resolve();const o=i+"main";yield Ac.delete(o)}),function(i){return e.apply(this,arguments)})(SC(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class dR{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Q0||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function zP(n,t,e,i={}){var o;const l=(n=ci(n,ng))._getSettings(),u=`${t}:${e}`;if("firestore.googleapis.com"!==l.host&&l.host!==u&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let p,v;if("string"==typeof i.mockUserToken)p=i.mockUserToken,v=yr.MOCK_USER;else{p=(0,xi.Fy)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const M=i.mockUserToken.sub||i.mockUserToken.user_id;if(!M)throw new vt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yr(M)}n._authCredentials=new JF(new $D(p,v))}}(this._delegate,t,e,i)}enableNetwork(){return function sH(n){return function $j(n){return n.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield EP(n),e=yield IP(n);return t.setNetworkEnabled(!0),function(i){const o=Zt(i);return o.vu.delete(0),eg(o)}(e)}))}(jo(n=ci(n,so)))}(this._delegate)}disableNetwork(){return function aH(n){return function Gj(n){return n.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield EP(n),e=yield IP(n);return t.setNetworkEnabled(!1),(i=(0,pe.A)(function*(o){const l=Zt(o);l.vu.add(0),yield o3(l),l.bu.set("Offline")}),function(o){return i.apply(this,arguments)})(e);var i}))}(jo(n=ci(n,so)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,OP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rH(n){return function(t){const e=new or;return t.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function Aj(n,t){return xb.apply(this,arguments)}(yield $b(t),e)})),e.promise}(jo(n=ci(n,so)))}(this._delegate)}onSnapshotsInSync(t){return function FH(n,t){return function qj(n,t){const e=new kv(t);return n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return i=yield f3(n),o=e,Zt(i).ku.add(o),void o.next();var i,o})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return i=yield f3(n),o=e,void Zt(i).ku.delete(o);var i,o}))}}(jo(n=ci(n,so)),qb(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new m3(this,FP(this._delegate,t))}catch(e){throw vs(e,"collection()","Firestore.collection()")}}doc(t){try{return new $a(this,Pv(this._delegate,t))}catch(e){throw vs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ws(this,function Jj(n,t){if(n=ci(n,ng),Kb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vt(Ze.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fr(n,null,(e=t,new al(hi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw vs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function XH(n,t,e){n=ci(n,so);const i=Object.assign(Object.assign({},WH),e);return function(o){if(o.maxAttempts<1)throw new vt(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,l,u){const p=new or;return o.asyncQueue.enqueueAndForget((0,pe.A)(function*(){const v=yield function AP(n){return Dv(n).then(t=>t.datastore)}(o);new Hj(o.asyncQueue,v,u,l,p).run()})),p.promise}(jo(n),o=>t(new qH(n,o)),i)}(this._delegate,e=>t(new hR(this,e)))}batch(){return jo(this._delegate),new fR(new aR(this._delegate,t=>p3(this._delegate,t)))}loadBundle(t){return function cH(n,t){const e=jo(n=ci(n,so)),i=new eH;return function Xj(n,t,e,i){const o=function(l,u){let p;return p="string"==typeof l?QT().encode(l):l,v=function(v,M){if(v instanceof Uint8Array)return CP(v,M);if(v instanceof ArrayBuffer)return CP(new Uint8Array(v),M);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new Vj(v,u);var v}(e,Zf(t));n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){!function Fj(n,t,e){const i=Zt(n);var o;(o=(0,pe.A)(function*(l,u,p){try{const v=yield u.getMetadata();if(yield function(z,re){const Be=Zt(z),We=Vo(re.createTime);return Be.persistence.runTransaction("hasNewerBundle","readonly",Je=>Be.qs.getBundleMetadata(Je,re.id)).then(Je=>!!Je&&Je.createTime.compareTo(We)>=0)}(l.localStore,v))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(z=v).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);p._updateProgress(fP(v));const M=new vj(v,l.localStore,u.serializer);let b=yield u.bc();for(;b;){const z=yield M.zu(b);z&&p._updateProgress(z),b=yield u.bc()}const S=yield M.complete();return yield dl(l,S.Ju,void 0),yield function(z,re){const Be=Zt(z);return Be.persistence.runTransaction("Save bundle","readwrite",We=>Be.qs.saveBundleMetadata(We,re))}(l.localStore,v),p._completeWith(S.progress),Promise.resolve(S.Hu)}catch(v){return Ua("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var z}),function(l,u,p){return o.apply(this,arguments)})(i,t,e).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield $b(n),o,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function lH(n,t){return function Yj(n,t){return n.asyncQueue.enqueue((0,pe.A)(function*(){return function(e,i){const o=Zt(e);return o.persistence.runTransaction("Get named query","readonly",l=>o.qs.getNamedQuery(l,i))}(yield Tv(n),t)}))}(jo(n=ci(n,so)),t).then(e=>e?new Fr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ws(this,e):null)}}class $v extends tE{constructor(t){super(),this.firestore=t}convertBytes(t){return new ug(new h1(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return $a.forKey(e,this.firestore,null)}}class hR{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new $v(t)}get(t){const e=Cd(t);return this._delegate.get(e).then(i=>new dg(this._firestore,new fl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const o=Cd(t);return i?(iE("Transaction.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const l=Cd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...o),this}delete(t){const e=Cd(t);return this._delegate.delete(e),this}}class fR{constructor(t){this._delegate=t}set(t,e,i){const o=Cd(t);return i?(iE("WriteBatch.set",i),this._delegate.set(o,e,i)):this._delegate.set(o,e),this}update(t,e,i,...o){const l=Cd(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...o),this}delete(t){const e=Cd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Md{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new lg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hg(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Md.INSTANCES;let o=i.get(t);o||(o=new WeakMap,i.set(t,o));let l=o.get(e);return l||(l=new Md(t,new $v(t),e),o.set(e,l)),l}}Md.INSTANCES=new WeakMap;class $a{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $v(t)}static forPath(t,e,i){if(t.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new $a(e,new ro(e._delegate,i,new Wt(t)))}static forKey(t,e,i){return new $a(e,new ro(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new m3(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new m3(this.firestore,FP(this._delegate,t))}catch(e){throw vs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,xi.Ku)(t))instanceof ro&&BP(this._delegate,t)}set(t,e){e=iE("DocumentReference.set",e);try{return e?oR(this._delegate,t,e):oR(this._delegate,t)}catch(i){throw vs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?rR(this._delegate,t):rR(this._delegate,t,e,...i)}catch(o){throw vs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function NH(n){return p3(ci(n.firestore,so),[new Qh(n._key,go.none())])}(this._delegate)}onSnapshot(...t){const e=gR(t),i=pR(t,o=>new dg(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return sR(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function TH(n){n=ci(n,ro);const t=ci(n.firestore,so),e=jo(t),i=new d2(t);return function Kj(n,t){const e=new or;return n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(i=(0,pe.A)(function*(o,l,u){try{const p=yield function(v,M){const b=Zt(v);return b.persistence.runTransaction("read document","readonly",S=>b.localDocuments.getDocument(S,M))}(o,l);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new vt(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=a3(p,`Failed to get document '${l} from cache`);u.reject(v)}}),function(o,l,u){return i.apply(this,arguments)})(yield Tv(n),t,e);var i})),e.promise}(e,n._key).then(o=>new fl(t,i,n._key,o,new xd(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function OH(n){n=ci(n,ro);const t=ci(n.firestore,so);return kP(jo(t),n._key,{source:"server"}).then(e=>nE(t,n,e))}(this._delegate):function DH(n){n=ci(n,ro);const t=ci(n.firestore,so);return kP(jo(t),n._key).then(e=>nE(t,n,e))}(this._delegate),e.then(i=>new dg(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new $a(this.firestore,this._delegate.withConverter(t?Md.getInstance(this.firestore,t):null))}}function vs(n,t,e){return n.message=n.message.replace(t,e),n}function gR(n){for(const t of n)if("object"==typeof t&&!oE(t))return t;return{}}function pR(n,t){var e,i;let o;return o=oE(n[0])?n[0]:oE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(t(l))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class dg{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return iR(this._delegate,t._delegate)}}class hg extends dg{data(t){const e=this._delegate.data(t);return function YF(n,t){n||un()}(void 0!==e),e}}class ws{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $v(t)}where(t,e,i){try{return new ws(this.firestore,l2(this._delegate,function yH(n,t,e){const i=t,o=Bv("where",n);return cg._create(o,i,e)}(t,e,i)))}catch(o){throw vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ws(this.firestore,l2(this._delegate,function _H(n,t="asc"){const e=t,i=Bv("orderBy",n);return eE._create(i,e)}(t,e)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ws(this.firestore,l2(this._delegate,function xH(n){return LP("limit",n),Vv._create("limit",n,"F")}(t)))}catch(e){throw vs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ws(this.firestore,l2(this._delegate,function MH(n){return LP("limitToLast",n),Vv._create("limitToLast",n,"L")}(t)))}catch(e){throw vs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ws(this.firestore,l2(this._delegate,function CH(...n){return jv._create("startAt",n,!0)}(...t)))}catch(e){throw vs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ws(this.firestore,l2(this._delegate,function bH(...n){return jv._create("startAfter",n,!1)}(...t)))}catch(e){throw vs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ws(this.firestore,l2(this._delegate,function EH(...n){return Hv._create("endBefore",n,!1)}(...t)))}catch(e){throw vs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ws(this.firestore,l2(this._delegate,function IH(...n){return Hv._create("endAt",n,!0)}(...t)))}catch(e){throw vs(e,"endAt()","Query.endAt()")}}isEqual(t){return Wb(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function RH(n){n=ci(n,Fr);const t=ci(n.firestore,so),e=jo(t),i=new d2(t);return function Wj(n,t){const e=new or;return n.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(i=(0,pe.A)(function*(o,l,u){try{const p=yield xv(o,l,!0),v=new mP(l,p.ir),M=v.sc(p.documents),b=v.applyChanges(M,!1);u.resolve(b.snapshot)}catch(p){const v=a3(p,`Failed to execute query '${l} against cache`);u.reject(v)}}),function(o,l,u){return i.apply(this,arguments)})(yield Tv(n),t,e);var i})),e.promise}(e,n._query).then(o=>new u2(t,i,n,o))}(this._delegate):"server"===t?.source?function LH(n){n=ci(n,Fr);const t=ci(n.firestore,so),e=jo(t),i=new d2(t);return SP(e,n._query,{source:"server"}).then(o=>new u2(t,i,n,o))}(this._delegate):function PH(n){n=ci(n,Fr);const t=ci(n.firestore,so),e=jo(t),i=new d2(t);return YP(n._query),SP(e,n._query).then(o=>new u2(t,i,n,o))}(this._delegate),e.then(i=>new rE(this.firestore,new u2(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=gR(t),i=pR(t,o=>new rE(this.firestore,new u2(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return sR(this._delegate,e,i)}withConverter(t){return new ws(this.firestore,this._delegate.withConverter(t?Md.getInstance(this.firestore,t):null))}}class sU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new hg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rE{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new hg(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new sU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new hg(this._firestore,i))})}isEqual(t){return iR(this._delegate,t._delegate)}}class m3 extends ws{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new $a(this.firestore,t):null}doc(t){try{return new $a(this.firestore,void 0===t?Pv(this._delegate):Pv(this._delegate,t))}catch(e){throw vs(e,"doc()","CollectionReference.doc()")}}add(t){return function zH(n,t){const e=ci(n.firestore,so),i=Pv(n),o=Uv(n.converter,t);return p3(e,[Nv(yd(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,go.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new $a(this.firestore,e))}isEqual(t){return BP(this._delegate,t._delegate)}withConverter(t){return new m3(this.firestore,this._delegate.withConverter(t?Md.getInstance(this.firestore,t):null))}}function Cd(n){return ci(n,ro)}class sE{constructor(...t){this._delegate=new hl(...t)}static documentId(){return new sE(Ao.keyField().canonicalString())}isEqual(t){return(t=(0,xi.Ku)(t))instanceof hl&&this._delegate._internalPath.isEqual(t._internalPath)}}class bd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function QH(){return new Xb("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new bd(t)}static delete(){const t=function YH(){return new og("deleteField")}();return t._methodName="FieldValue.delete",new bd(t)}static arrayUnion(...t){const e=function JH(...n){return new gH("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new bd(e)}static arrayRemove(...t){const e=function ZH(...n){return new pH("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new bd(e)}static increment(t){const e=function eU(n){return new mH("increment",n)}(t);return e._methodName="FieldValue.increment",new bd(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const aU={Firestore:dR,GeoPoint:Rv,Timestamp:fo,Blob:ug,Transaction:hR,WriteBatch:fR,DocumentReference:$a,DocumentSnapshot:dg,Query:ws,QueryDocumentSnapshot:hg,QuerySnapshot:rE,CollectionReference:m3,FieldPath:sE,FieldValue:bd,setLogLevel:function rU(n){!function XF(n){K0.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function mR(n,t){return function uU(n,t=t8.E){return new yo.c(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function aE(n,t){return mR(n,t).pipe((0,Bt.T)(e=>({payload:e,type:"query"})))}function Gv(n,t){return aE(n,t).pipe(Hs(void 0),v7(),(0,Bt.T)(([e,i])=>{const o=i.payload.docChanges(),l=o.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,p)=>{const v=o.find(b=>b.doc.ref.isEqual(u.ref)),M=e?.payload.docs.find(b=>b.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&M&&JSON.stringify(M.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),l}))}function vR(n,t,e){return Gv(n,e).pipe(Ja((i,o)=>function hU(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function fU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return cE(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return cE(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return cE(n,t.oldIndex,1)}return n}(n,i))}),n}(i,o.map(l=>l.payload),t),[]),(0,hh.F)(),(0,Bt.T)(i=>i.map(o=>({type:o.type,payload:o}))))}function cE(n,t,e,...i){const o=n.slice();return o.splice(t,e,...i),o}function wR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function lU(n){(function cU(n,t){n.INTERNAL.registerComponent(new c7.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),o=e.getProvider("firestore").getImmediate();return t(i,o)},"PUBLIC").setServiceProps(Object.assign({},aU)))})(n,(t,e)=>new dR(t,e,new oU)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(jz.A);class yR{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Gv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Bt.T)(i=>i.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(Hs(void 0),v7(),Bi(([i,o])=>o.length>0||!i),(0,Bt.T)(([i,o])=>o),ji.U0)}auditTrail(t){return this.stateChanges(t).pipe(Ja((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wR(t);return vR(this.query,e,this.afs.schedulers.outsideAngular).pipe(ji.U0)}valueChanges(t={}){return aE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.T)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ji.U0)}get(t){return(0,ki.H)(this.query.get(t)).pipe(ji.U0)}add(t){return this.ref.add(t)}doc(t){return new _R(this.ref.doc(t),this.afs)}}class _R{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:o,query:l}=CR(i,e);return new yR(o,l,this.afs)}snapshotChanges(){return function dU(n,t){return mR(n,t).pipe(Hs(void 0),v7(),(0,Bt.T)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ji.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Bt.T)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ki.H)(this.ref.get(t)).pipe(ji.U0)}}class gU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.T)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Bi(e=>e.length>0),ji.U0):Gv(this.query,this.afs.schedulers.outsideAngular).pipe(ji.U0)}auditTrail(t){return this.stateChanges(t).pipe(Ja((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wR(t);return vR(this.query,e,this.afs.schedulers.outsideAngular).pipe(ji.U0)}valueChanges(t={}){return aE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.T)(i=>i.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),ji.U0)}get(t){return(0,ki.H)(this.query.get(t)).pipe(ji.U0)}}const xR=new s.nKC("angularfire2.enableFirestorePersistence"),MR=new s.nKC("angularfire2.firestore.persistenceSettings"),pU=new s.nKC("angularfire2.firestore.settings"),mU=new s.nKC("angularfire2.firestore.use-emulator");function CR(n,t=(e=>e)){return{query:t(n),ref:n}}let Ed=(()=>{class n{constructor(e,i,o,l,u,p,v,M,b,S,z,re,Be,We,Je,Rt,Ht){this.schedulers=v;const Dt=(0,Fo.iB)(e,p,i),hn=b;S&&IS(Dt,p,z,Be,We,Je,re,Rt),[this.firestore,this.persistenceEnabled$]=(0,Fo.BM)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Cn=p.runOutsideAngular(()=>Dt.firestore());if(l&&Cn.settings(l),hn&&Cn.useEmulator(...hn),o&&!Ga(u)){const Un=()=>{try{return(0,ki.H)(Cn.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(sr){return typeof console<"u"&&console.warn(sr),(0,Lt.of)(!1)}};return[Cn,p.runOutsideAngular(Un)]}return[Cn,(0,Lt.of)(!1)]},[l,hn,o])}collection(e,i){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:u}=CR(o,i),p=this.schedulers.ngZone.run(()=>l);return new yR(p,u,this)}collectionGroup(e,i){const o=i||(u=>u),l=this.firestore.collectionGroup(e);return new gU(o(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>i);return new _R(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Fo.rx),s.KVO(Fo.uP,8),s.KVO(xR,8),s.KVO(pU,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(ji.u0),s.KVO(MR,8),s.KVO(mU,8),s.KVO(Zu,8),s.KVO(_S,8),s.KVO(xS,8),s.KVO(MS,8),s.KVO(CS,8),s.KVO(bS,8),s.KVO(ES,8),s.KVO(m7,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vU=(()=>{class n{constructor(){Yi.A.registerVersion("angularfire",ji.xv.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:xR,useValue:!0},{provide:MR,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[Ed]}),n})();function lE(n){return(0,_o.N)((t,e)=>{let i,l,o=!1;const u=()=>{i=t.subscribe((0,Ti._)(e,void 0,void 0,p=>{l||(l=new Xi.B,(0,Ar.Tg)(n(l)).subscribe((0,Ti._)(e,()=>i?u():o=!0))),l&&l.next(p)})),o&&(i.unsubscribe(),i=null,o=!1,u())};u()})}let Kv=(()=>{class n{constructor(e,i){this.http=e,this.toastController=i,this.isOnline=new eo.t(navigator.onLine),this.connectionError=new eo.t(null),this.TEST_URL="https://api-football-v1.p.rapidapi.com/v3/timezone",this.MAX_RETRIES=3,this.RETRY_DELAY=2e3,this.retryCount=0,this.initializeConnectionListeners()}initializeConnectionListeners(){window.addEventListener("online",()=>this.updateOnlineStatus(!0)),window.addEventListener("offline",()=>this.updateOnlineStatus(!1)),rh(0,3e4).subscribe(()=>{navigator.onLine&&this.testConnection()})}updateOnlineStatus(e){var i=this;return(0,pe.A)(function*(){i.isOnline.next(e),e?yield i.testConnection():(i.connectionError.next(-200),yield i.showConnectionToast("Sin conexi\xf3n a internet","warning"))})()}getOnlineStatus(){return this.isOnline.asObservable()}getConnectionError(){return this.connectionError.asObservable()}testConnection(){var e=this;return(0,pe.A)(function*(){e.retryTimer&&clearTimeout(e.retryTimer);const i=navigator.onLine;return e.isOnline.next(i),e.connectionError.next(i?null:-200),i})()}handleConnectionError(e){var i=this;return(0,pe.A)(function*(){i.connectionError.next(e),i.retryCount<i.MAX_RETRIES?(i.retryCount++,yield i.showConnectionToast("Error de conexi\xf3n. Intentando reconectar...","warning"),i.retryTimer=setTimeout(()=>{i.testConnection()},i.RETRY_DELAY*i.retryCount)):(yield i.showConnectionToast("No se pudo establecer conexi\xf3n. Por favor, verifica tu internet.","danger"),i.retryCount=0)})()}showConnectionToast(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"top",color:i,buttons:[{text:"Reintentar",handler:()=>{o.retryCount=0,o.testConnection()}}]})).present()})()}clearConnectionError(){this.connectionError.next(null),this.retryCount=0,this.retryTimer&&clearTimeout(this.retryTimer)}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(v5),s.KVO(ta))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uE=(()=>{class n{constructor(e,i,o,l){this.router=e,this.ngZone=i,this.toastController=o,this.connectionService=l,this.SESSION_TIMEOUT=18e5,this.LAST_ACTIVITY_KEY="lastActivityTimestamp",this.SESSION_ID_KEY="sessionId",this.MAX_RETRY_ATTEMPTS=3,this.RETRY_DELAY=2e3,this.events=["click","mousemove","keypress","scroll","touchstart"],this.sessionActive=new eo.t(!0),this.retryCount=0,this.initializeSessionMonitoring()}initializeSessionMonitoring(){rh(0,6e4).subscribe(()=>this.validateSession()),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.validateSession()}),window.addEventListener("storage",e=>{e.key===this.SESSION_ID_KEY&&this.validateSession()}),this.connectionService.getConnectionError().subscribe(e=>{-200===e&&this.handleConnectionError()})}initializeSession(){try{const e=this.generateSessionId();localStorage.setItem(this.SESSION_ID_KEY,e),this.updateLastActivity(),this.initializeSessionTimeout(),this.sessionActive.next(!0),this.retryCount=0}catch(e){console.error("Error initializing session:",e),this.handleSessionError(e)}}initializeSessionTimeout(){this.events.forEach(e=>{window.addEventListener(e,()=>this.resetTimer())}),this.resetTimer()}resetTimer(){var e=this;try{this.updateLastActivity(),this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.ngZone.run((0,pe.A)(function*(){yield e.handleSessionTimeout()}))},this.SESSION_TIMEOUT)}catch(i){console.error("Error resetting timer:",i),this.handleSessionError(i)}}updateLastActivity(){try{localStorage.setItem(this.LAST_ACTIVITY_KEY,Date.now().toString())}catch(e){console.error("Error updating last activity:",e),this.handleSessionError(e)}}validateSession(){var e=this;return(0,pe.A)(function*(){try{const i=localStorage.getItem(e.SESSION_ID_KEY),o=parseInt(localStorage.getItem(e.LAST_ACTIVITY_KEY)||"0",10),l=Date.now()-o;(!i||l>=e.SESSION_TIMEOUT)&&(yield e.handleSessionTimeout())}catch(i){console.error("Error validating session:",i),e.handleSessionError(i)}})()}handleSessionTimeout(){var e=this;return(0,pe.A)(function*(){if(e.sessionActive.value)try{e.sessionActive.next(!1),e.clearSession(),yield(yield e.toastController.create({message:"Tu sesi\xf3n ha expirado. Por favor, inicia sesi\xf3n nuevamente.",duration:3e3,position:"top",color:"warning"})).present(),e.router.navigate(["/login"])}catch(i){console.error("Error handling session timeout:",i),e.handleSessionError(i)}})()}handleConnectionError(){var e=this;return(0,pe.A)(function*(){e.retryCount<e.MAX_RETRY_ATTEMPTS&&(e.retryCount++,(0,ki.H)(e.connectionService.testConnection()).pipe(lE(i=>i.pipe(n8(e.RETRY_DELAY),$i(e.MAX_RETRY_ATTEMPTS))),uo((0,pe.A)(function*(){return yield(yield e.toastController.create({message:"Error de conexi\xf3n. Por favor, verifica tu conexi\xf3n a internet.",duration:3e3,position:"top",color:"danger"})).present(),!1}))).subscribe())})()}handleSessionError(e){this.retryCount<this.MAX_RETRY_ATTEMPTS?(this.retryCount++,setTimeout(()=>this.initializeSession(),this.RETRY_DELAY)):(this.clearSession(),this.router.navigate(["/login"]))}clearSession(){try{this.timeoutId&&clearTimeout(this.timeoutId),this.events.forEach(e=>{window.removeEventListener(e,()=>this.resetTimer())}),localStorage.removeItem(this.SESSION_ID_KEY),localStorage.removeItem(this.LAST_ACTIVITY_KEY),this.sessionActive.next(!1),this.clearLocalData()}catch(e){console.error("Error clearing session:",e)}}clearLocalData(){try{const e=localStorage.getItem("darkMode");localStorage.clear(),e&&localStorage.setItem("darkMode",e),sessionStorage.clear(),"caches"in window&&caches.keys().then(i=>{i.forEach(o=>{caches.delete(o)})})}catch(e){console.error("Error clearing local data:",e)}}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substring(2)}`}isSessionActive(){return this.sessionActive.value}getSessionStatus(){return this.sessionActive.asObservable()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(_i),s.KVO(s.SKi),s.KVO(ta),s.KVO(Kv))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ns=(()=>{class n{constructor(e,i,o){this.afAuth=e,this.afs=i,this.sessionService=o,this.user$=this.afAuth.authState.pipe((0,Pn.n)(l=>l?this.afs.doc(`users/${l.uid}`).valueChanges().pipe((0,to.M)(u=>{u||(console.log("User not found in Firestore, creating new user document"),this.updateUserData(l))}),(0,Bt.T)(u=>u?{...u,uid:l.uid,email:l.email||u.email}:{uid:l.uid,email:l.email||"",isAdmin:!1}),uo(u=>(console.error("Error fetching user data:",u),(0,Lt.of)({uid:l.uid,email:l.email||"",isAdmin:!1})))):(0,Lt.of)(null)),uo(l=>(console.error("Error in auth state:",l),(0,Lt.of)(null))))}signInWithEmail(e,i){var o=this;return(0,pe.A)(function*(){try{const l=yield o.afAuth.signInWithEmailAndPassword(e,i);l.user&&(yield o.updateAuthData(l.user))}catch(l){throw console.error("Error signing in:",l),l}})()}signUpWithEmail(e,i,o,l,u){var p=this;return(0,pe.A)(function*(){try{const v=yield p.afAuth.createUserWithEmailAndPassword(e,i);yield p.updateUserData(v.user,{firstName:o,lastName:l,username:u,isAdmin:!1})}catch(v){throw console.error("Error signing up:",v),v}})()}resetPassword(e){var i=this;return(0,pe.A)(function*(){try{yield i.afAuth.sendPasswordResetEmail(e)}catch(o){throw console.error("Error sending password reset email:",o),o}})()}logout(){var e=this;return(0,pe.A)(function*(){try{e.sessionService.clearSession(),yield e.afAuth.signOut()}catch(i){throw console.error("Error signing out:",i),i}})()}updateAuthData(e){var i=this;return(0,pe.A)(function*(){if(!e)return;const o=i.afs.doc(`users/${e.uid}`);try{const u=(yield o.get().toPromise())?.data(),p={uid:e.uid,email:e.email||"",firstName:u?.firstName,lastName:u?.lastName,username:u?.username,isAdmin:u?.isAdmin??!1};yield o.set(p,{merge:!0})}catch(l){throw console.error("Error updating auth data:",l),l}})()}updateUserData(e,i){var o=this;return(0,pe.A)(function*(){if(!e)return;const l=o.afs.doc(`users/${e.uid}`);try{const p=(yield l.get().toPromise())?.data(),v={uid:e.uid,email:e.email||p?.email||"",firstName:i?.firstName||p?.firstName,lastName:i?.lastName||p?.lastName,username:i?.username||p?.username,isAdmin:p?.isAdmin??!1};yield l.set(v,{merge:!0}),console.log("User data updated in Firestore")}catch(u){throw console.error("Error updating user data:",u),u}})()}getRedirectResult(){return this.afAuth.getRedirectResult().then(e=>e.user?{uid:e.user.uid,email:e.user.email||"",isAdmin:!1}:null).catch(e=>(console.error("Error getting redirect result:",e),null))}isAdmin(e){return!0===e?.isAdmin}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Zu),s.KVO(Ed),s.KVO(uE))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const yU=new s.nKC("angularfire2.functions.origin"),_U=new s.nKC("angularfire2.functions.region"),xU=new s.nKC("angularfire2.functions.use-emulator");let dE=(()=>{class n{constructor(e,i,o,l,u,p,v,M){const b=v,S=(0,Lt.of)(void 0).pipe((0,Qu.Q)(l.outsideAngular),(0,Pn.n)(()=>k.e(5900).then(k.bind(k,5900))),(0,Bt.T)(()=>(0,Fo.iB)(e,o,i)),(0,Bt.T)(z=>(0,Fo.BM)(`${z.name}.functions.${u||p}`,"AngularFireFunctions",z.name,()=>{let re;if(u&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return re=z.functions(u||p||void 0),b&&re.useEmulator(...b),re},[u,p,b])),a7({bufferSize:1,refCount:!1}));return this.httpsCallable=(z,re)=>Be=>(0,ki.H)(S).pipe((0,Qu.Q)(l.insideAngular),(0,Pn.n)(We=>We.httpsCallable(z,re)(Be)),(0,Bt.T)(We=>We.data)),(0,Fo.Gt)(this,S,o)}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Fo.rx),s.KVO(Fo.uP,8),s.KVO(s.SKi),s.KVO(ji.u0),s.KVO(_U,8),s.KVO(yU,8),s.KVO(xU,8),s.KVO(m7,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MU=(()=>{class n{constructor(){Yi.A.registerVersion("angularfire",ji.xv.full,"fn-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[dE]}),n})(),bR=(()=>{class n{constructor(e){this.platform=e,this.platformInfo=new eo.t({isMobile:!1,isTablet:!1,isDesktop:!1,currentBreakpoint:"md"}),this.detectPlatform(),this.setupResizeListener()}detectPlatform(){const e=window.innerWidth,i={isMobile:this.platform.is("mobile")||e<768,isTablet:this.platform.is("tablet")||e>=768&&e<1024,isDesktop:this.platform.is("desktop")||e>=1024,currentBreakpoint:this.getCurrentBreakpoint(e)};this.platformInfo.next(i)}getCurrentBreakpoint(e){return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":"xl"}setupResizeListener(){window.addEventListener("resize",()=>{this.detectPlatform()})}getPlatformInfo(){return this.platformInfo.asObservable()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(zu))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var CU=k(5083),hE=function(n){return n.SizeChanged="bannerAdSizeChanged",n.Loaded="bannerAdLoaded",n.FailedToLoad="bannerAdFailedToLoad",n.Opened="bannerAdOpened",n.Closed="bannerAdClosed",n.AdImpression="bannerAdImpression",n}(hE||{}),ER=function(n){return n.TOP_CENTER="TOP_CENTER",n.CENTER="CENTER",n.BOTTOM_CENTER="BOTTOM_CENTER",n}(ER||{}),IR=function(n){return n.BANNER="BANNER",n.FULL_BANNER="FULL_BANNER",n.LARGE_BANNER="LARGE_BANNER",n.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",n.LEADERBOARD="LEADERBOARD",n.ADAPTIVE_BANNER="ADAPTIVE_BANNER",n.SMART_BANNER="SMART_BANNER",n}(IR||{});k(2844);const f2=(0,CU.F3)("AdMob",{web:()=>k.e(6077).then(k.bind(k,6077)).then(n=>new n.AdMobWeb)});let fE=(()=>{class n{constructor(e){this.platform=e,this.bannerAdId="ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY",this.interstitialAdId="ca-app-pub-XXXXXXXXXXXXXXXX/ZZZZZZZZZZ",this.isInitialized=!1,this.setupAds()}setupAds(){var e=this;return(0,pe.A)(function*(){if(!e.isInitialized)try{yield f2.initialize({testingDevices:["2077ef9a63d2b398840261c8221a0c9b"],initializeForTesting:!1}),f2.addListener(hE.Loaded,()=>{console.log("Banner ad loaded")}),f2.addListener(hE.FailedToLoad,i=>{console.error("Banner ad failed to load:",i)}),e.isInitialized=!0}catch(i){console.error("Error initializing AdMob:",i)}})()}showBanner(){var e=this;return(0,pe.A)(function*(){e.isInitialized||(yield e.setupAds());const i={adId:e.bannerAdId,adSize:IR.ADAPTIVE_BANNER,position:ER.BOTTOM_CENTER,margin:0,isTesting:!1};try{yield f2.showBanner(i)}catch(o){console.error("Error showing banner ad:",o)}})()}hideBanner(){return(0,pe.A)(function*(){try{yield f2.removeBanner()}catch(e){console.error("Error hiding banner ad:",e)}})()}showInterstitial(){var e=this;return(0,pe.A)(function*(){e.isInitialized||(yield e.setupAds());try{yield f2.prepareInterstitial({adId:e.interstitialAdId,isTesting:!1}),yield f2.showInterstitial()}catch(i){console.error("Error showing interstitial ad:",i)}})()}resumeBanner(){return(0,pe.A)(function*(){try{yield f2.resumeBanner()}catch(e){console.error("Error resuming banner ad:",e)}})()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(zu))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gl=(()=>{class n{constructor(e){this.http=e,this.API_HOST="v3.football.api-sports.io",this.API_URL=`https://${this.API_HOST}`,this.API_KEY="c141edc534ff1faa37eb2b951c0642d1",this.LIGA_MX_ID="262",this.CURRENT_SEASON="2024",this.TIMEZONE="America/Mexico_City",this.CACHE_DURATION=3e5,this.MAX_RETRIES=3,this.RETRY_DELAY=2e3,this.matchesCache=new Map,this.standingsCache=new Map,this.currentRoundSubject=new eo.t(1),this.currentRoundPromise=null,this.initializeCurrentRound()}initializeCurrentRound(){var e=this;return(0,pe.A)(function*(){try{const i=yield e.fetchCurrentRound();e.currentRoundSubject.next(i)}catch(i){console.error("Error initializing current round:",i)}})()}getCurrentRound(){var e=this;return(0,pe.A)(function*(){if(1===e.currentRoundSubject.value){e.currentRoundPromise||(e.currentRoundPromise=e.fetchCurrentRound());const i=yield e.currentRoundPromise;e.currentRoundSubject.next(i),e.currentRoundPromise=null}return e.currentRoundSubject.value})()}getStandings(){const e=`${this.LIGA_MX_ID}-${this.CURRENT_SEASON}`,i=this.standingsCache.get(e);if(i)return(0,Lt.of)(i);const o=new us({"x-apisports-key":this.API_KEY}),l=(new Ds).set("league",this.LIGA_MX_ID).set("season",this.CURRENT_SEASON);return this.http.get(`${this.API_URL}/standings`,{headers:o,params:l}).pipe((0,Bt.T)(u=>{if(!u?.response?.[0]?.league?.standings?.[0])return[];const p=u.response[0].league.standings[0];return this.standingsCache.set(e,p),p}),uo(u=>(console.error("Error fetching standings:",u),(0,Lt.of)([]))))}fetchCurrentRound(){var e=this;return(0,pe.A)(function*(){const i=new us({"x-apisports-key":e.API_KEY}),o=(new Ds).set("league",e.LIGA_MX_ID).set("season",e.CURRENT_SEASON).set("current","true");try{const l=yield Mo(e.http.get(`${e.API_URL}/fixtures/rounds`,{headers:i,params:o}));return l&&Array.isArray(l.response)&&l.response.length>0?e.extractWeekNumber(l.response[l.response.length-1]):(console.warn("Invalid response from rounds API, defaulting to round 1"),1)}catch(l){return console.error("Error fetching current round:",l),1}})()}getRoundString(e){return`Apertura - ${e}`}extractWeekNumber(e){const i=e.match(/\d+$/);return i?parseInt(i[0],10):1}getCachedMatches(e){const i=this.matchesCache.get(e);return i?Date.now()-i.timestamp>this.CACHE_DURATION?(this.matchesCache.delete(e),null):i.matches:null}setCachedMatches(e,i){this.matchesCache.set(e,{timestamp:Date.now(),matches:i})}getMatches(e){const i=this.getCachedMatches(e);if(i)return(0,Lt.of)(i);const o=new us({"x-apisports-key":this.API_KEY}),l=(new Ds).set("league",this.LIGA_MX_ID).set("season",this.CURRENT_SEASON).set("round",this.getRoundString(e)).set("timezone",this.TIMEZONE);return O5([this.http.get(`${this.API_URL}/fixtures`,{headers:o,params:l}),this.getStandings()]).pipe((0,Bt.T)(([u,p])=>{if(!u?.response)return console.warn("Empty or invalid API response"),[];const v=u.response.map(M=>{const b=p.find(z=>z.team.id===M.teams.home.id),S=p.find(z=>z.team.id===M.teams.away.id);return{id:M.fixture.id,date:M.fixture.date,homeTeam:M.teams.home.name,awayTeam:M.teams.away.name,homeTeamLogo:M.teams.home.logo,awayTeamLogo:M.teams.away.logo,homeScore:M.goals.home,awayScore:M.goals.away,status:M.fixture.status,venue:M.fixture.venue,round:M.league.round,weekNumber:this.extractWeekNumber(M.league.round),homeTeamPosition:b?.rank,awayTeamPosition:S?.rank,homeTeamForm:b?.form,awayTeamForm:S?.form}});return this.setCachedMatches(e,v),v}),uo(u=>(u instanceof M6?(console.error("API request failed:",u.message),0===u.status&&console.error("Network error - check internet connection")):console.error("Unexpected error:",u),(0,Lt.of)([]))),lE(u=>u.pipe(n8(this.RETRY_DELAY),$i(this.MAX_RETRIES))))}getOrdinalSuffix(e){return 1===e?"er":2===e?"do":3===e?"er":"to"}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(v5))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pl=(()=>{class n{constructor(e,i){this.afs=e,this.footballService=i}getPredictions(e,i){return this.afs.doc(`predictions/${e}/weeks/${i}`).valueChanges().pipe((0,Bt.T)(o=>o?.predictions||[]),uo(o=>(console.error("Error getting predictions:",o),(0,Lt.of)([]))))}savePredictions(e,i,o,l){var u=this;return(0,pe.A)(function*(){yield u.afs.doc(`predictions/${e}/weeks/${i}`).set({predictions:o,totalPoints:l,lastUpdated:Yi.A.firestore.Timestamp.now()},{merge:!0}),yield u.updateUserTotalPoints(e)})()}updateUserTotalPoints(e){var i=this;return(0,pe.A)(function*(){try{const o=yield i.afs.collection(`predictions/${e}/weeks`).get().toPromise();let l=0;if(o){const u=yield i.footballService.getCurrentRound();for(const p of o.docs){const v=p.data(),M=parseInt(p.id);if(M<=u){const b=yield Mo(i.footballService.getMatches(M));let S=0;v.predictions.forEach(z=>{const re=b.find(Be=>Be.id===z.matchId);if(re&&null!==z.homeScore&&null!==z.awayScore&&null!==re.homeScore&&null!==re.awayScore){const Be=Math.sign(z.homeScore-z.awayScore),We=Math.sign(re.homeScore-re.awayScore);("FT"===re.status.short||"LIVE"===re.status.short||"HT"===re.status.short||"1H"===re.status.short||"2H"===re.status.short)&&(z.homeScore===re.homeScore&&z.awayScore===re.awayScore?S+=3:Be===We&&(S+=1))}}),l+=S}}}yield i.afs.doc(`userPoints/${e}`).set({totalPoints:l,lastUpdated:Yi.A.firestore.Timestamp.now()},{merge:!0})}catch(o){throw console.error("Error updating total points:",o),o}})()}getAllUsers(){return this.afs.collection("users").valueChanges({idField:"uid"}).pipe(uo(e=>(console.error("Error getting users:",e),(0,Lt.of)([]))))}getAllUsersTotalPoints(){return this.afs.collection("userPoints").valueChanges({idField:"userId"}).pipe((0,Bt.T)(e=>e.map(i=>({userId:i.userId,totalPoints:i.totalPoints||0}))),uo(e=>(console.error("Error getting all users total points:",e),(0,Lt.of)([]))))}updateMatchPoints(e,i){var o=this;return(0,pe.A)(function*(){try{const[l,u]=yield Promise.all([Mo(o.getPredictions(e,i)),Mo(o.footballService.getMatches(parseInt(i)))]);if(!l||!u)return;let p=0,v=!1;const M=l.map(b=>{const S=u.find(re=>re.id===b.matchId);let z=b.points||0;if("FT"===S?.status.short&&null!==S.homeScore&&null!==S.awayScore){const re=o.calculateMatchPoints(b,S);re!==z&&(z=re,v=!0)}return p+=z,{...b,points:z}});if(v){const b=o.afs.firestore.batch(),S=o.afs.doc(`predictions/${e}/weeks/${i}`).ref;b.update(S,{predictions:M,totalPoints:p,lastUpdated:Yi.A.firestore.Timestamp.now()}),yield b.commit(),yield o.updateUserTotalPoints(e)}}catch(l){console.error("Error updating match points:",l)}})()}calculateMatchPoints(e,i){if(!e||null===e.homeScore||null===e.awayScore||null===i.homeScore||null===i.awayScore)return 0;const o=Math.sign(e.homeScore-e.awayScore),l=Math.sign(i.homeScore-i.awayScore);return e.homeScore===i.homeScore&&e.awayScore===i.awayScore?3:o===l?1:0}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ed),s.KVO(gl))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AR=(()=>{class n{constructor(){this.darkMode=new eo.t(!1),this.loadTheme()}loadTheme(){const e=window.matchMedia("(prefers-color-scheme: dark)"),i=localStorage.getItem("darkMode");this.setTheme(null!==i?"true"===i:e.matches),e.addEventListener("change",o=>{null===localStorage.getItem("darkMode")&&this.setTheme(o.matches)})}setTheme(e){this.darkMode.next(e),localStorage.setItem("darkMode",e.toString()),e?document.body.classList.add("dark"):document.body.classList.remove("dark")}isDarkMode(){return this.darkMode.value}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kU(n,t){1&n&&(s.j41(0,"ion-buttons",6),s.nrm(1,"ion-back-button",7),s.k0s())}function SU(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-button",8),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.logout())}),s.j41(1,"div",9)(2,"span",10),s.EFF(3),s.k0s(),s.j41(4,"div",11),s.nrm(5,"ion-icon",12),s.j41(6,"span",13),s.EFF(7,"Salir"),s.k0s()()()()}if(2&n){const e=t.ngIf;s.R7$(3),s.JRh(e.username||e.email)}}let DU=(()=>{class n{constructor(e,i,o){this.authService=e,this.router=i,this.themeService=o,this.showBackButton=!0,this.user$=this.authService.user$,this.isDarkMode=this.themeService.isDarkMode(),this.router.events.subscribe(l=>{l instanceof ls&&(this.showBackButton=!l.urlAfterRedirects.includes("/home"))})}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.themeService.setTheme(this.isDarkMode)}logout(){var e=this;return(0,pe.A)(function*(){try{yield e.authService.logout(),e.router.navigate(["/login"])}catch(i){console.error("Error signing out:",i)}})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Ns),s.rXU(_i),s.rXU(AR))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-header"]],decls:10,vars:5,consts:[["color","primary"],["slot","start",4,"ngIf"],["slot","end"],[3,"click"],["slot","icon-only",3,"name"],["class","logout-button",3,"click",4,"ngIf"],["slot","start"],["defaultHref","/home"],[1,"logout-button",3,"click"],[1,"user-info"],[1,"user-name"],[1,"logout-container"],["name","log-out-outline",1,"logout-icon"],[1,"logout-text"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0),s.DNE(2,kU,2,0,"ion-buttons",1),s.j41(3,"ion-title"),s.EFF(4,"Quiniela Liga MX"),s.k0s(),s.j41(5,"ion-buttons",2)(6,"ion-button",3),s.bIt("click",function(){return o.toggleTheme()}),s.nrm(7,"ion-icon",4),s.k0s(),s.DNE(8,SU,8,1,"ion-button",5),s.nI1(9,"async"),s.k0s()()()),2&i&&(s.R7$(2),s.Y8G("ngIf",o.showBackButton),s.R7$(5),s.Y8G("name",o.isDarkMode?"sunny-outline":"moon-outline"),s.R7$(1),s.Y8G("ngIf",s.bMT(9,3,o.authService.user$)))},dependencies:[yi,ds,Zs,Tr,Or,ea,ja,bc,ct],styles:[".logout-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;font-size:1em}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{margin-bottom:4px;font-size:1.1em;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]   .logout-icon[_ngcontent-%COMP%]{font-size:1.4em;margin-right:6px}.user-info[_ngcontent-%COMP%]   .logout-container[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{font-size:1.1em}"]})}}return n})(),TU=(()=>{class n{constructor(e,i,o,l,u,p,v,M,b,S,z,re,Be,We){this.platform=e,this.authService=i,this.connectionService=o,this.router=l,this.swUpdate=u,this.toastController=p,this.afs=v,this.afAuth=M,this.afFunctions=b,this.platformService=S,this.adsService=z,this.sessionService=re,this.databaseService=Be,this.footballService=We,this.platformInfo=null}ngOnInit(){var e=this;return(0,pe.A)(function*(){yield e.initializeApp()})()}initializeApp(){var e=this;return(0,pe.A)(function*(){yield e.platform.ready(),e.checkForUpdates(),e.setupConnectionListener(),e.setupAuthListener(),e.setupPlatformListener(),e.sessionService.initializeSession(),yield e.updateUserPoints(),yield e.adsService.setupAds(),yield e.adsService.showBanner()})()}updateUserPoints(){var e=this;return(0,pe.A)(function*(){const i=yield Mo(e.authService.user$);if(i){const o=yield e.footballService.getCurrentRound();yield e.databaseService.updateMatchPoints(i.uid,o.toString())}})()}checkForUpdates(){this.swUpdate.isEnabled&&this.swUpdate.available.subscribe(()=>{this.presentUpdateToast()})}presentUpdateToast(){var e=this;return(0,pe.A)(function*(){yield(yield e.toastController.create({message:"A new version is available. Reload the page to update.",position:"bottom",buttons:[{text:"Reload",role:"cancel",handler:()=>{window.location.reload()}}]})).present()})()}setupConnectionListener(){this.connectionService.getOnlineStatus().subscribe(e=>{console.log("Connection status:",e?"online":"offline")})}setupAuthListener(){this.authService.user$.subscribe(e=>{e||this.router.navigate(["/login"])})}setupPlatformListener(){this.platformService.getPlatformInfo().subscribe(e=>{this.platformInfo=e,document.body.classList.toggle("mobile",e.isMobile),document.body.classList.toggle("tablet",e.isTablet),document.body.classList.toggle("desktop",e.isDesktop)})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(zu),s.rXU(Ns),s.rXU(Kv),s.rXU(_i),s.rXU(sh),s.rXU(ta),s.rXU(Ed),s.rXU(Zu),s.rXU(dE),s.rXU(bR),s.rXU(fE),s.rXU(uE),s.rXU(pl),s.rXU(gl))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-root"]],decls:3,vars:16,template:function(i,o){1&i&&(s.j41(0,"ion-app"),s.nrm(1,"app-header")(2,"ion-router-outlet"),s.k0s()),2&i&&s.AVh("mobile",null==o.platformInfo?null:o.platformInfo.isMobile)("tablet",null==o.platformInfo?null:o.platformInfo.isTablet)("desktop",null==o.platformInfo?null:o.platformInfo.isDesktop)("xs","xs"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("sm","sm"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("md","md"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("lg","lg"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))("xl","xl"===(null==o.platformInfo?null:o.platformInfo.currentBreakpoint))},dependencies:[A8,$u,DU],styles:["[_nghost-%COMP%]{display:block;height:100%}"]})}}return n})(),Wv=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e){return this.authService.user$.pipe($i(1),(0,Bt.T)(i=>{if(i)return this.router.navigate(["/home"]),!1;{const o=e.paramMap.get("code");return!(o&&!e.routeConfig?.path?.includes("signup")&&(this.router.navigate(["/signup"],{queryParams:{code:o}}),1))}}))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ns),s.KVO(_i))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OU=(()=>{class n{retryOperation(e,i=3,o=2e3){return e.pipe(lE(l=>l.pipe((0,Vi.Z)((u,p)=>{const v=p+1;return v>i?ss(()=>new Error("Maximum retry attempts reached")):(console.log(`Attempt ${v}: retrying in ${o}ms`),rh(o))}))),ma(()=>console.log("Firebase operation completed")))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gE=(()=>{class n{constructor(e){this.afs=e,this.SEASON_COLLECTION="seasons",this.ACTIVE_SEASON_DOC="config/activeSeason"}getActiveSeason(){return this.afs.doc(this.ACTIVE_SEASON_DOC).valueChanges().pipe((0,Pn.n)(e=>e?.seasonId?this.afs.doc(`${this.SEASON_COLLECTION}/${e.seasonId}`).valueChanges().pipe((0,Bt.T)(i=>i?{...i,id:e.seasonId,startDate:i.startDate?.toDate()||new Date,endDate:i.endDate?.toDate()||new Date}:null)):(0,Lt.of)(null)))}getAllSeasons(){return this.afs.collection(this.SEASON_COLLECTION).snapshotChanges().pipe((0,Bt.T)(e=>e.map(i=>{const o=i.payload.doc.data(),l=i.payload.doc.id;return{...o,id:l,startDate:o.startDate?.toDate()||new Date,endDate:o.endDate?.toDate()||new Date}})))}createSeason(e){var i=this;return(0,pe.A)(function*(){const o=i.afs.collection(i.SEASON_COLLECTION).doc();return yield o.set({...e,startDate:Yi.A.firestore.Timestamp.fromDate(e.startDate),endDate:Yi.A.firestore.Timestamp.fromDate(e.endDate)}),o.ref.id})()}setActiveSeason(e){var i=this;return(0,pe.A)(function*(){yield i.afs.doc(i.ACTIVE_SEASON_DOC).set({seasonId:e})})()}updateSeason(e,i){var o=this;return(0,pe.A)(function*(){const l={...i};i.startDate&&(l.startDate=Yi.A.firestore.Timestamp.fromDate(i.startDate)),i.endDate&&(l.endDate=Yi.A.firestore.Timestamp.fromDate(i.endDate)),yield o.afs.doc(`${o.SEASON_COLLECTION}/${e}`).update(l)})()}saveSeason(e){var i=this;return(0,pe.A)(function*(){const o=yield i.createSeason(e);e.isActive&&(yield i.setActiveSeason(o))})()}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ed))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qv=(()=>{class n{constructor(e,i,o){this.afs=e,this.authService=i,this.router=o,this.APP_DOMAIN="https://quinielamx.netlify.app"}createGroup(e){var i=this;return(0,pe.A)(function*(){const o=yield Mo(i.authService.user$.pipe($i(1)));if(!o)throw new Error("Usuario no autenticado");const l=i.generateInviteCode(),u={name:e.name,description:e.description||"",createdAt:Yi.A.firestore.Timestamp.now(),createdBy:o.uid,inviteCode:l,isPrivate:e.isPrivate??!0,memberCount:1,members:[o.uid],admins:[o.uid]},p=yield i.afs.collection("groups").add(u);return yield i.afs.doc(`groups/${p.id}/members/${o.uid}`).set({userId:o.uid,joinedAt:Yi.A.firestore.Timestamp.now(),role:"admin"}),yield i.afs.doc(`users/${o.uid}/groups/${p.id}`).set({groupId:p.id,role:"admin",joinedAt:Yi.A.firestore.Timestamp.now()}),p.id})()}getUserGroups(){return this.authService.user$.pipe((0,Pn.n)(e=>e?this.afs.collection(`users/${e.uid}/groups`).valueChanges().pipe((0,Pn.n)(i=>0===i.length?(0,Lt.of)([]):dr(i.map(l=>l.groupId).map(l=>this.afs.doc(`groups/${l}`).valueChanges().pipe((0,Bt.T)(u=>u?{...u,id:l,name:u.name||"",description:u.description||"",members:u.members||[],admins:u.admins||[]}:null)))).pipe((0,Bt.T)(l=>l.filter(u=>null!==u))))):(0,Lt.of)([])))}joinGroup(e){var i=this;return(0,pe.A)(function*(){const o=yield Mo(i.authService.user$.pipe($i(1)));if(!o)throw new Error("Usuario no autenticado");const u=yield i.afs.collection("groups").ref.where("inviteCode","==",e).get();if(u.empty)throw new Error("C\xf3digo de invitaci\xf3n inv\xe1lido");const p=u.docs[0];if(p.data().members.includes(o.uid))throw new Error("Ya eres miembro de este grupo");const M=i.afs.firestore.batch();M.update(p.ref,{members:Yi.A.firestore.FieldValue.arrayUnion(o.uid),memberCount:Yi.A.firestore.FieldValue.increment(1)});const b=i.afs.doc(`groups/${p.id}/members/${o.uid}`).ref;M.set(b,{userId:o.uid,joinedAt:Yi.A.firestore.Timestamp.now(),role:"member"});const S=i.afs.doc(`users/${o.uid}/groups/${p.id}`).ref;M.set(S,{groupId:p.id,role:"member",joinedAt:Yi.A.firestore.Timestamp.now()}),yield M.commit()})()}getGroupMembers(e){return this.afs.collection(`groups/${e}/members`).valueChanges().pipe((0,Pn.n)(i=>dr(i.map(l=>this.afs.doc(`users/${l.userId}`).valueChanges().pipe((0,Bt.T)(u=>u?{...u,uid:l.userId,email:u.email||"",role:l.role}:null)))).pipe((0,Bt.T)(l=>l.filter(u=>null!==u)))))}getGroupByInviteCode(e){var i=this;return(0,pe.A)(function*(){const o=yield i.afs.collection("groups").ref.where("inviteCode","==",e).get();if(o.empty)return null;const l=o.docs[0];return{id:l.id,...l.data()}})()}generateInviteLink(e,i){return`${this.APP_DOMAIN}/groups/join/${i}`}generateInviteCode(){let i="";for(let o=0;o<6;o++)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return i}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ed),s.KVO(Ns),s.KVO(_i))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kR=(()=>{class n{constructor(){this.version="0.9.63"}getVersion(){return`Beta v${this.version}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PU(n,t){1&n&&(s.j41(0,"ion-item-divider")(1,"ion-label"),s.EFF(2,"Administraci\xf3n"),s.k0s()())}function RU(n,t){1&n&&(s.j41(0,"ion-item",15),s.nrm(1,"ion-icon",16),s.j41(2,"ion-label"),s.EFF(3,"Panel de Administraci\xf3n"),s.k0s()())}function LU(n,t){1&n&&(s.j41(0,"ion-item",17),s.nrm(1,"ion-icon",18),s.j41(2,"ion-label"),s.EFF(3,"Mis Puntos"),s.k0s()())}function NU(n,t){1&n&&(s.j41(0,"ion-item",19),s.nrm(1,"ion-icon",9),s.j41(2,"ion-label"),s.EFF(3,"Participantes"),s.k0s()())}let zU=(()=>{class n{constructor(e,i,o){this.versionService=e,this.authService=i,this.adsService=o,this.isAdmin=!1,this.version=this.versionService.getVersion(),this.authService.user$.subscribe(l=>{this.isAdmin=this.authService.isAdmin(l)})}ngOnInit(){var e=this;return(0,pe.A)(function*(){yield e.adsService.showBanner()})()}ngOnDestroy(){var e=this;return(0,pe.A)(function*(){yield e.adsService.hideBanner()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(kR),s.rXU(Ns),s.rXU(fE))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-home"]],decls:29,vars:5,consts:[[1,"home-content"],[1,"main-title"],["button","","routerLink","/scores"],["name","football-outline","slot","start"],["button","","routerLink","/pools"],["name","create-outline","slot","start"],["button","","routerLink","/leaderboard"],["name","podium-outline","slot","start"],["button","","routerLink","/groups"],["name","people-outline","slot","start"],[4,"ngIf"],["button","","routerLink","/admin/test-predictions",4,"ngIf"],["button","","routerLink","/admin/points",4,"ngIf"],["button","","routerLink","/admin/users",4,"ngIf"],[1,"version-info"],["button","","routerLink","/admin/test-predictions"],["name","construct-outline","slot","start"],["button","","routerLink","/admin/points"],["name","trophy-outline","slot","start"],["button","","routerLink","/admin/users"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"h1",1),s.EFF(2,"Bienvenido a Quiniela Liga MX"),s.k0s(),s.j41(3,"p"),s.EFF(4,"Elige una opci\xf3n del men\xfa a continuaci\xf3n:"),s.k0s(),s.j41(5,"ion-list")(6,"ion-item",2),s.nrm(7,"ion-icon",3),s.j41(8,"ion-label"),s.EFF(9,"Marcadores"),s.k0s()(),s.j41(10,"ion-item",4),s.nrm(11,"ion-icon",5),s.j41(12,"ion-label"),s.EFF(13,"Sube tu Quiniela"),s.k0s()(),s.j41(14,"ion-item",6),s.nrm(15,"ion-icon",7),s.j41(16,"ion-label"),s.EFF(17,"Tabla General"),s.k0s()(),s.j41(18,"ion-item",8),s.nrm(19,"ion-icon",9),s.j41(20,"ion-label"),s.EFF(21,"Mis Grupos"),s.k0s()(),s.DNE(22,PU,3,0,"ion-item-divider",10),s.DNE(23,RU,4,0,"ion-item",11),s.DNE(24,LU,4,0,"ion-item",12),s.DNE(25,NU,4,0,"ion-item",13),s.k0s(),s.j41(26,"div",14)(27,"span"),s.EFF(28),s.k0s()()()),2&i&&(s.R7$(22),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(1),s.Y8G("ngIf",o.isAdmin),s.R7$(3),s.JRh(o.version))},dependencies:[yi,Or,Os,D8,Cc,t1,V0,$c],styles:[".home-content[_ngcontent-%COMP%]{padding:20px 20px 40px;max-width:800px;margin:60px auto 0;background:var(--ion-background-color);min-height:calc(100% - 60px);position:relative}.main-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--ion-text-color);margin-bottom:12px;text-align:center}p[_ngcontent-%COMP%]{font-size:17px;color:var(--ion-text-color);text-align:center;margin-bottom:24px}ion-list[_ngcontent-%COMP%]{background:transparent;padding:0;margin-top:20px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-card-background);--color: var(--ion-text-color);margin-bottom:12px;border-radius:8px;--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px}ion-item[_ngcontent-%COMP%]::part(native){border-radius:8px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:24px;margin-right:16px}ion-item-divider[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-color-medium);font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px;margin-top:24px;margin-bottom:8px;padding:8px 16px}.version-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0;right:0;text-align:right;color:var(--ion-color-medium);font-size:14px;padding:8px}.version-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}"]})}}return n})();function FU(n,t){if(1&n&&(s.j41(0,"ion-text",19)(1,"p"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.JRh(e.errorMessage)}}let BU=(()=>{class n{constructor(e,i,o,l,u,p){this.authService=e,this.router=i,this.fb=o,this.toastController=l,this.alertController=u,this.versionService=p,this.errorMessage="",this.loginForm=this.fb.group({email:["",[nr.required,nr.email]],password:["",[nr.required,nr.minLength(6)]]}),this.version=this.versionService.getVersion()}ngOnInit(){}loginWithEmail(){var e=this;return(0,pe.A)(function*(){if(e.loginForm.valid){const{email:i,password:o}=e.loginForm.value;try{yield e.authService.signInWithEmail(i,o),yield(yield e.toastController.create({message:"\xa1Bienvenido de vuelta!",duration:2e3,position:"top",color:"success"})).present(),e.router.navigate(["/home"])}catch(l){e.errorMessage=e.getErrorMessage(l.code)}}})()}forgotPassword(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Restablecer Contrase\xf1a",message:"Ingresa tu correo electr\xf3nico para recibir un enlace de restablecimiento de contrase\xf1a",inputs:[{name:"email",type:"email",placeholder:"Correo electr\xf3nico"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Enviar",handler:(o=(0,pe.A)(function*(l){if(!l.email)return e.showToast("Por favor ingresa un correo electr\xf3nico","warning"),!1;try{return yield e.authService.resetPassword(l.email),e.showToast("Se ha enviado un enlace de restablecimiento a tu correo","success"),!0}catch(u){return e.showToast(e.getErrorMessage(u.code),"danger"),!1}}),function(u){return o.apply(this,arguments)})}]})).present()})()}showToast(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"top",color:i})).present()})()}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No existe una cuenta con este correo electr\xf3nico";case"auth/wrong-password":return"Contrase\xf1a incorrecta";case"auth/invalid-email":return"Correo electr\xf3nico inv\xe1lido";case"auth/user-disabled":return"Esta cuenta ha sido deshabilitada";case"auth/too-many-requests":return"Demasiados intentos fallidos. Por favor, intenta m\xe1s tarde";default:return"Error al iniciar sesi\xf3n. Por favor, intenta de nuevo"}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Ns),s.rXU(_i),s.rXU(xc),s.rXU(ta),s.rXU(Ku),s.rXU(kR))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-login"]],decls:38,vars:4,consts:[[1,"ion-padding"],[1,"login-container"],["src","https://stackblitz.com/storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBOWdSRXc9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--a9d0bcdf53d9038083712fc795093e53b3873adb/quiniela-mx-logo.png","alt","Quiniela Liga MX Logo",1,"logo"],[1,"signup-prompt"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"form-item"],["position","floating"],["name","mail-outline",1,"input-icon"],["type","email","formControlName","email","placeholder","tucorreo@email.com"],["name","lock-closed-outline",1,"input-icon"],["type","password","formControlName","password","placeholder","Tu contrase\xf1a"],[1,"forgot-password"],["fill","clear","size","small",3,"click"],["expand","block","type","submit",1,"login-button",3,"disabled"],["name","log-in-outline","slot","start"],["color","danger","class","error-message",4,"ngIf"],["fill","clear","routerLink","/signup",1,"signup-link"],["name","arrow-forward-outline","slot","end"],[1,"version-info"],["color","danger",1,"error-message"]],template:function(i,o){1&i&&(s.j41(0,"ion-content",0)(1,"div",1)(2,"h1"),s.EFF(3,"Quiniela de la Liga MX"),s.k0s(),s.nrm(4,"img",2),s.j41(5,"p",3),s.EFF(6,"Inicia sesi\xf3n para continuar"),s.k0s(),s.j41(7,"form",4),s.bIt("ngSubmit",function(){return o.loginWithEmail()}),s.j41(8,"ion-card")(9,"ion-card-content")(10,"ion-item",5)(11,"ion-label",6),s.nrm(12,"ion-icon",7),s.EFF(13," Correo electr\xf3nico "),s.k0s(),s.nrm(14,"ion-input",8),s.k0s(),s.j41(15,"ion-item",5)(16,"ion-label",6),s.nrm(17,"ion-icon",9),s.EFF(18," Contrase\xf1a "),s.k0s(),s.nrm(19,"ion-input",10),s.k0s(),s.j41(20,"div",11)(21,"ion-button",12),s.bIt("click",function(){return o.forgotPassword()}),s.EFF(22," \xbfOlvidaste tu contrase\xf1a? "),s.k0s()(),s.j41(23,"ion-button",13),s.nrm(24,"ion-icon",14),s.EFF(25," Iniciar Sesi\xf3n "),s.k0s()()()(),s.DNE(26,FU,3,1,"ion-text",15),s.j41(27,"div",3)(28,"p")(29,"ion-button",16),s.EFF(30," \xbfNo tienes una cuenta? "),s.nrm(31,"br"),s.EFF(32,"Reg\xedstrate aqu\xed"),s.nrm(33,"br")(34,"ion-icon",17),s.k0s()()(),s.j41(35,"div",18)(36,"span"),s.EFF(37),s.k0s()()()()),2&i&&(s.R7$(7),s.Y8G("formGroup",o.loginForm),s.R7$(16),s.Y8G("disabled",!o.loginForm.valid),s.R7$(3),s.Y8G("ngIf",o.errorMessage),s.R7$(11),s.JRh(o.version))},dependencies:[yi,ds,Fa,Ba,Va,Or,Ch,Os,Cc,Ps,Fu,V0,Iu,w0,y0,Xc,Ra,$c],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:20px;background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%)}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#fff}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.logo-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin-top:.5rem}.logo[_ngcontent-%COMP%]{width:17.88%;height:auto}.login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-radius:16px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);margin:0}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.form-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-medium);--border-radius: 8px;--border-width: 1px;--padding-start: 8px;--padding-end: 8px;margin-bottom:16px}.form-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:12px}.form-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--ion-color-medium)}.forgot-password[_ngcontent-%COMP%]{text-align:right;margin-bottom:16px}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);font-size:.9em;text-transform:none;font-weight:400}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: var(--ion-color-primary)}.login-button[_ngcontent-%COMP%]{margin-top:16px;--border-radius: 8px;--box-shadow: 0 4px 12px rgba(var(--ion-color-primary-rgb), .3);font-weight:600;height:48px}.login-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.error-message[_ngcontent-%COMP%]{text-align:center;margin:16px 0;padding:12px;border-radius:8px;background:rgba(var(--ion-color-danger-rgb),.1)}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-danger);font-size:.9rem}.signup-prompt[_ngcontent-%COMP%]{margin-top:24px;text-align:center;color:#fff}.signup-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.signup-prompt[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{--color: white;font-weight:600;text-decoration:none}.signup-prompt[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.version-info[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0;right:0;text-align:center;color:#fff;font-size:14px;padding:8px;opacity:.7}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:16px}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:3rem}.logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0}}.dark[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.9)}.dark[_nghost-%COMP%]   .error-message[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15)}.dark[_nghost-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-light)}"]})}}return n})();function VU(n,t){if(1&n&&(s.j41(0,"div",20)(1,"p",21),s.EFF(2,"Has sido invitado a unirte al grupo:"),s.k0s(),s.j41(3,"h2",22),s.EFF(4),s.k0s(),s.j41(5,"p",23),s.EFF(6),s.k0s()()),2&n){const e=s.XpG();s.R7$(4),s.JRh(e.groupName),s.R7$(2),s.SpI("C\xf3digo de invitaci\xf3n: ",e.inviteCode,"")}}function jU(n,t){if(1&n&&(s.j41(0,"ion-text",24)(1,"p",25),s.EFF(2),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.JRh(e.errorMessage)}}const HU=function(){return["/login"]},UU=function(n){return{code:n}},$U=function(){return{}};let SR=(()=>{class n{constructor(e,i,o,l,u,p,v){this.authService=e,this.router=i,this.fb=o,this.route=l,this.toastController=u,this.loadingController=p,this.groupService=v,this.errorMessage="",this.inviteCode=null,this.groupName=null,this.loading=!1,this.signupForm=this.fb.group({email:["",[nr.required,nr.email]],password:["",[nr.required,nr.minLength(6)]],firstName:["",[nr.required]],lastName:["",[nr.required]],username:["",[nr.required]]})}ngOnInit(){var e=this;return(0,pe.A)(function*(){const i=e.route.snapshot.paramMap.get("code");if(i){e.inviteCode=i;try{const o=yield e.groupService.getGroupByInviteCode(i);o&&(e.groupName=o.name)}catch(o){console.error("Error fetching group details:",o)}}else e.route.queryParams.subscribe(function(){var o=(0,pe.A)(function*(l){const u=l.code;if(u){e.inviteCode=u;try{const p=yield e.groupService.getGroupByInviteCode(u);p&&(e.groupName=p.name)}catch(p){console.error("Error fetching group details:",p)}}});return function(l){return o.apply(this,arguments)}}())})()}signupWithEmail(){var e=this;return(0,pe.A)(function*(){if(e.signupForm.valid){e.loading=!0;const i=yield e.loadingController.create({message:"Creando cuenta...",spinner:"crescent"});yield i.present();try{const{email:o,password:l,firstName:u,lastName:p,username:v}=e.signupForm.value;if(yield e.authService.signUpWithEmail(o,l,u,p,v),yield(yield e.toastController.create({message:"\xa1Cuenta creada exitosamente!",duration:2e3,color:"success",position:"top"})).present(),e.inviteCode)try{yield e.groupService.joinGroup(e.inviteCode),yield(yield e.toastController.create({message:`\xa1Te has unido al grupo ${e.groupName||""} exitosamente!`,duration:2e3,color:"success",position:"top"})).present()}catch(b){console.error("Error joining group:",b),yield(yield e.toastController.create({message:"Error al unirse al grupo. Por favor, intenta nuevamente desde la secci\xf3n de grupos.",duration:3e3,color:"warning",position:"top"})).present()}e.router.navigate(["/home"])}catch(o){console.error("Signup error:",o),e.errorMessage=e.getErrorMessage(o.code),yield(yield e.toastController.create({message:e.errorMessage,duration:3e3,color:"danger",position:"top"})).present()}finally{e.loading=!1,yield i.dismiss()}}})()}getErrorMessage(e){switch(e){case"auth/email-already-in-use":return"Este correo electr\xf3nico ya est\xe1 registrado";case"auth/invalid-email":return"Correo electr\xf3nico inv\xe1lido";case"auth/operation-not-allowed":return"Operaci\xf3n no permitida";case"auth/weak-password":return"La contrase\xf1a debe tener al menos 6 caracteres";default:return"Error al crear la cuenta. Por favor, intenta nuevamente"}}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(Ns),s.rXU(_i),s.rXU(xc),s.rXU(Lo),s.rXU(ta),s.rXU(bh),s.rXU(qv))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-signup"]],decls:45,vars:13,consts:[[1,"ion-padding"],[1,"signup-container"],["class","group-info",4,"ngIf"],[3,"formGroup","ngSubmit"],["position","floating"],["name","mail-outline",1,"input-icon"],["type","email","formControlName","email"],["name","lock-closed-outline",1,"input-icon"],["type","password","formControlName","password"],["name","person-outline",1,"input-icon"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["name","at-outline",1,"input-icon"],["type","text","formControlName","username"],["expand","block","type","submit",1,"signup-button",3,"disabled"],["name","person-add-outline","slot","start"],["color","danger",4,"ngIf"],[1,"login-prompt"],["fill","clear",3,"routerLink","queryParams"],["name","arrow-forward-outline","slot","end"],[1,"group-info"],[1,"invite-message"],[1,"group-name"],[1,"invite-code"],["color","danger"],[1,"error-message"]],template:function(i,o){1&i&&(s.j41(0,"ion-content",0)(1,"div",1)(2,"h1"),s.EFF(3),s.k0s(),s.DNE(4,VU,7,2,"div",2),s.j41(5,"p"),s.EFF(6),s.k0s(),s.j41(7,"form",3),s.bIt("ngSubmit",function(){return o.signupWithEmail()}),s.j41(8,"ion-card")(9,"ion-card-content")(10,"ion-item")(11,"ion-label",4),s.nrm(12,"ion-icon",5),s.EFF(13," Correo Electr\xf3nico "),s.k0s(),s.nrm(14,"ion-input",6),s.k0s(),s.j41(15,"ion-item")(16,"ion-label",4),s.nrm(17,"ion-icon",7),s.EFF(18," Contrase\xf1a "),s.k0s(),s.nrm(19,"ion-input",8),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",4),s.nrm(22,"ion-icon",9),s.EFF(23," Nombre "),s.k0s(),s.nrm(24,"ion-input",10),s.k0s(),s.j41(25,"ion-item")(26,"ion-label",4),s.nrm(27,"ion-icon",9),s.EFF(28," Apellido "),s.k0s(),s.nrm(29,"ion-input",11),s.k0s(),s.j41(30,"ion-item")(31,"ion-label",4),s.nrm(32,"ion-icon",12),s.EFF(33," Apodo "),s.k0s(),s.nrm(34,"ion-input",13),s.k0s(),s.j41(35,"ion-button",14),s.nrm(36,"ion-icon",15),s.EFF(37),s.k0s()()()(),s.DNE(38,jU,3,1,"ion-text",16),s.j41(39,"div",17)(40,"p"),s.EFF(41," \xbfYa tienes una cuenta? "),s.j41(42,"ion-button",18),s.EFF(43," Inicia sesi\xf3n aqu\xed "),s.nrm(44,"ion-icon",19),s.k0s()()()()()),2&i&&(s.R7$(3),s.JRh(o.inviteCode?"\xa1Te han invitado!":"Registro Quiniela Liga MX"),s.R7$(1),s.Y8G("ngIf",o.inviteCode&&o.groupName),s.R7$(2),s.JRh(o.inviteCode?"Crea tu cuenta para unirte al grupo":"Crea tu cuenta"),s.R7$(1),s.Y8G("formGroup",o.signupForm),s.R7$(28),s.Y8G("disabled",!o.signupForm.valid||o.loading),s.R7$(2),s.SpI(" ",o.loading?"Creando cuenta...":"Registrarse"," "),s.R7$(1),s.Y8G("ngIf",o.errorMessage),s.R7$(4),s.Y8G("routerLink",s.lJ4(9,HU))("queryParams",o.inviteCode?s.eq3(10,UU,o.inviteCode):s.lJ4(12,$U)))},dependencies:[yi,ds,Fa,Ba,Va,Or,Ch,Os,Cc,Ps,Fu,V0,Iu,w0,y0,Xc,Ra,$c],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:20px;background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-secondary) 100%)}.signup-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#fff;text-align:center;text-shadow:0 2px 4px rgba(0,0,0,.2)}.signup-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:#fff;text-align:center}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);padding:20px;border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-bottom:24px;text-align:center;border:1px solid rgba(255,255,255,.2)}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-message[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px;font-size:.9em}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:700;margin:8px 0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-code[_ngcontent-%COMP%]{color:#ffffffe6;font-family:monospace;background:rgba(255,255,255,.1);padding:8px 16px;border-radius:20px;display:inline-block;margin-top:8px;font-size:.9em}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;max-width:400px}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-radius:16px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);margin:0}.signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: var(--ion-color-medium);--border-radius: 8px;--border-width: 1px;--padding-start: 8px;--padding-end: 8px;margin-bottom:16px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:24px}.signup-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--ion-color-medium)}.signup-container[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{margin-top:16px;--border-radius: 8px;--box-shadow: 0 4px 12px rgba(var(--ion-color-primary-rgb), .3);font-weight:600;height:48px}.signup-container[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);color:var(--ion-color-danger-contrast);padding:12px;border-radius:8px;margin:16px 0;text-align:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]{margin-top:24px;text-align:center}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: white;font-weight:600;text-decoration:none}.signup-container[_ngcontent-%COMP%]   .login-prompt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.dark[_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.9)}.dark[_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15)}@media (max-width: 480px){.signup-container[_ngcontent-%COMP%]{padding:16px}.signup-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{padding:16px}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1.2em}.signup-container[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .invite-code[_ngcontent-%COMP%]{font-size:.85em;padding:6px 12px}}"]})}}return n})();const GU=["roundsContainer"],KU=["selectedRoundElement"];function WU(n,t){if(1&n&&s.nrm(0,"ion-icon",7),2&n){const e=s.XpG(2);s.AVh("pulse",e.isLiveRound)}}function qU(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",4,5),s.bIt("click",function(){const l=s.eBV(e).$implicit,u=s.XpG();return s.Njj(u.onRoundChange(l))}),s.EFF(2),s.DNE(3,WU,1,2,"ion-icon",6),s.k0s()}if(2&n){const e=t.$implicit,i=s.XpG();s.AVh("active",i.selectedRound===e)("current",e===i.currentRound),s.R7$(2),s.SpI(" J",e," "),s.R7$(1),s.Y8G("ngIf",e===i.currentRound)}}let Xv=(()=>{class n{constructor(){this.selectedRound=1,this.currentRound=1,this.isLiveRound=!1,this.rounds=Array.from({length:17},(e,i)=>i+1),this.roundChange=new s.bkB}ngOnInit(){this.scheduleScroll()}ngAfterViewInit(){this.scheduleScroll()}ngOnChanges(e){(e.selectedRound||e.currentRound)&&this.scheduleScroll()}onRoundChange(e){this.roundChange.emit(e)}scheduleScroll(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollToSelectedRound(),setTimeout(()=>this.scrollToSelectedRound(),100),setTimeout(()=>this.scrollToSelectedRound(),300),setTimeout(()=>this.scrollToSelectedRound(),500)},0)}scrollToSelectedRound(){if(!this.roundsContainer?.nativeElement)return;const e=this.roundsContainer.nativeElement,i=e.querySelector(`.round-chip:nth-child(${this.selectedRound})`);if(i){const p=Math.max(0,i.offsetLeft-e.offsetWidth/2+i.offsetWidth/2);e.scrollTo({left:p,behavior:"smooth"})}}ngOnDestroy(){this.scrollTimeout&&clearTimeout(this.scrollTimeout)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-rounds-selector"]],viewQuery:function(i,o){if(1&i&&(s.GBs(GU,5),s.GBs(KU,5)),2&i){let l;s.mGM(l=s.lsd())&&(o.roundsContainer=l.first),s.mGM(l=s.lsd())&&(o.selectedRoundElement=l.first)}},inputs:{selectedRound:"selectedRound",currentRound:"currentRound",isLiveRound:"isLiveRound",rounds:"rounds"},outputs:{roundChange:"roundChange"},features:[s.OA$],decls:4,vars:1,consts:[[1,"rounds-scroll"],[1,"rounds-container"],["roundsContainer",""],["class","round-chip",3,"active","current","click",4,"ngFor","ngForOf"],[1,"round-chip",3,"click"],["selectedRoundElement",""],["name","radio","class","live-indicator",3,"pulse",4,"ngIf"],["name","radio",1,"live-indicator"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"div",1,2),s.DNE(3,qU,4,6,"div",3),s.k0s()()),2&i&&(s.R7$(3),s.Y8G("ngForOf",o.rounds))},dependencies:[_n,yi,Or],styles:[".rounds-scroll[_ngcontent-%COMP%]{margin:0 -16px;padding:8px 16px;overflow:hidden;position:relative}.rounds-container[_ngcontent-%COMP%]{display:flex;gap:8px;padding:4px 0;overflow-x:auto;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none;scroll-snap-type:x mandatory}.rounds-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.round-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 16px;background:var(--ion-color-light);border-radius:20px;font-weight:500;cursor:pointer;transition:all .2s ease;position:relative;min-width:48px;justify-content:center;flex-shrink:0;scroll-snap-align:center;color:var(--ion-text-color)}.round-chip.active[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;transform:scale(1.05);box-shadow:0 2px 8px rgba(var(--ion-color-primary-rgb),.3)}.round-chip.current[_ngcontent-%COMP%]{border:2px solid var(--ion-color-success)}.round-chip.current[_ngcontent-%COMP%]:not(.active){color:var(--ion-color-success)}.round-chip[_ngcontent-%COMP%]   .live-indicator[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-success)}.round-chip[_ngcontent-%COMP%]   .live-indicator.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .round-chip[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .round-chip.active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip.active[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;box-shadow:0 2px 12px rgba(var(--ion-color-primary-rgb),.4)}.dark[_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]{border-color:var(--ion-color-success)}.dark[_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]:not(.active), .dark   [_nghost-%COMP%]   .round-chip.current[_ngcontent-%COMP%]:not(.active){background:rgba(var(--ion-color-success-rgb),.15);color:var(--ion-color-success-shade)}@media (max-width: 768px){.rounds-scroll[_ngcontent-%COMP%]{margin-top:0;padding:6px 12px}.round-chip[_ngcontent-%COMP%]{padding:6px 12px;font-size:.9em;min-width:40px}.round-chip[_ngcontent-%COMP%]   .live-indicator[_ngcontent-%COMP%]{font-size:10px}}"]})}}return n})();function XU(n,t){if(1&n&&(s.j41(0,"div",13)(1,"ion-card")(2,"ion-card-content")(3,"h2"),s.EFF(4),s.k0s()()()()),2&n){const e=s.XpG();s.R7$(4),s.SpI("Total de Puntos: ",e.totalPoints,"")}}function YU(n,t){1&n&&(s.j41(0,"div",14),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function QU(n,t){if(1&n&&(s.j41(0,"ion-text",15),s.nrm(1,"ion-icon",16),s.j41(2,"p"),s.EFF(3),s.k0s()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function JU(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",17)(1,"p"),s.EFF(2),s.k0s(),s.j41(3,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar "),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(2),s.JRh(e.error)}}function ZU(n,t){if(1&n&&(s.j41(0,"div",33),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2).$implicit;let i;s.R7$(1),s.SpI(" ",null!==(i="FT"===e.status.short?e.prediction.points:e.prediction.livePoints)&&void 0!==i?i:0," pts ")}}function e$(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.DNE(2,ZU,2,1,"div",32),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);let o;s.Y8G("ngClass",i.getPredictionClass(e)),s.R7$(1),s.Lme(" Tu Pron\xf3stico ",null!==(o=e.prediction.homeScore)&&void 0!==o?o:"-"," - ",null!==(o=e.prediction.awayScore)&&void 0!==o?o:"-"," "),s.R7$(1),s.Y8G("ngIf","FT"===e.status.short||"LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short)}}function t$(n,t){if(1&n&&(s.j41(0,"ion-item")(1,"ion-card",21)(2,"ion-card-header")(3,"ion-card-subtitle",22),s.EFF(4),s.nI1(5,"date"),s.nI1(6,"date"),s.nrm(7,"br"),s.j41(8,"small"),s.EFF(9),s.k0s()(),s.j41(10,"ion-badge",23),s.EFF(11),s.k0s()(),s.j41(12,"ion-card-content")(13,"div",24)(14,"div",25),s.nrm(15,"img",26),s.j41(16,"div",27),s.EFF(17),s.k0s()(),s.j41(18,"div",28)(19,"div",29),s.EFF(20),s.k0s(),s.DNE(21,e$,3,4,"div",30),s.k0s(),s.j41(22,"div",25),s.nrm(23,"img",26),s.j41(24,"div",27),s.EFF(25),s.k0s()()()()()()),2&n){const e=t.$implicit,i=s.XpG(2);let o;s.R7$(4),s.Lme(" ",s.ii3(5,18,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(6,23,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,""),s.R7$(1),s.AVh("live-status","LIVE"===e.status.short||"HT"===e.status.short),s.Y8G("color","LIVE"===e.status.short||"HT"===e.status.short?"success":"NS"===e.status.short?"warning":"medium"),s.R7$(1),s.SpI(" ",i.getMatchStatus(e)," "),s.R7$(4),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(3),s.E5c(" ","NS"===e.status.short?"":null!==(o=e.homeScore)&&void 0!==o?o:""," ","NS"===e.status.short?"":"-"," ","NS"===e.status.short?"":null!==(o=e.awayScore)&&void 0!==o?o:""," "),s.R7$(1),s.Y8G("ngIf",e.prediction),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam)}}function n$(n,t){if(1&n&&(s.j41(0,"div",19)(1,"ion-list"),s.DNE(2,t$,26,28,"ion-item",20),s.k0s()()),2&n){const e=s.XpG();s.R7$(2),s.Y8G("ngForOf",e.matches)}}let i$=(()=>{class n{constructor(e,i,o,l){this.footballService=e,this.databaseService=i,this.authService=o,this.toastController=l,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(u,p)=>p+1),this.isRateLimited=!1,this.isLiveRound=!1,this.isRoundFinished=!1,this.userId=null,this.totalPoints=0}ngOnInit(){var e=this;return(0,pe.A)(function*(){e.authService.user$.subscribe(i=>{e.userId=i?.uid||null,e.findCurrentRound()})})()}findCurrentRound(){var e=this;return(0,pe.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i,e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding current round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}loadMatches(){var e=this;return(0,pe.A)(function*(){e.loading=!0,e.error=null,e.isRateLimited=!1,e.totalPoints=0;try{const[i,o]=yield Promise.all([Mo(e.footballService.getMatches(e.selectedRound)),e.userId?Mo(e.databaseService.getPredictions(e.userId,e.selectedRound.toString())):[]]);e.matches=e.sortMatchesByStatus(i).map(u=>{const p=o.find(b=>b.matchId===u.id);let v=0,M=0;if(p&&null!==p.homeScore&&null!==p.awayScore&&null!==u.homeScore&&null!==u.awayScore){const b=Math.sign(p.homeScore-p.awayScore),S=Math.sign(u.homeScore-u.awayScore),z=p.homeScore===u.homeScore&&p.awayScore===u.awayScore,re=b===S;"FT"===u.status.short?(z?v=3:re&&(v=1),e.totalPoints+=v):("LIVE"===u.status.short||"HT"===u.status.short||"1H"===u.status.short||"2H"===u.status.short)&&(z?M=3:re&&(M=1),e.totalPoints+=M)}return{...u,prediction:{homeScore:p?.homeScore??null,awayScore:p?.awayScore??null,points:v,livePoints:M}}}),e.isLiveRound=i.some(u=>"LIVE"===u.status.short||"HT"===u.status.short||"1H"===u.status.short||"2H"===u.status.short);const l=i.filter(u=>"FT"===u.status.short||"AET"===u.status.short||"PEN"===u.status.short);e.isRoundFinished=l.length===i.length,0===e.matches.length&&(yield e.showToast("No hay partidos programados para esta jornada","warning"))}catch(i){console.error("Error loading matches:",i),2100===i.error?.code?(e.isRateLimited=!0,e.error="Se ha alcanzado el l\xedmite de la API. Los datos mostrados pueden no estar actualizados.",yield e.showToast("L\xedmite de API alcanzado. Se muestran datos en cach\xe9.","warning")):(e.error="Error al cargar los partidos. Por favor intente nuevamente.",yield e.showToast("Error al cargar los partidos","danger"))}finally{e.loading=!1}})()}sortMatchesByStatus(e){const i={LIVE:0,HT:1,"1H":2,"2H":3,NS:4,FT:5,AET:6,PEN:7};return[...e].sort((o,l)=>{const u=i[o.status.short]??999,p=i[l.status.short]??999;return u===p?new Date(o.date).getTime()-new Date(l.date).getTime():u-p})}onRoundChange(e){this.selectedRound=e,this.loadMatches()}getRoundStatus(){return this.isLiveRound?"Jornada en curso":this.isRoundFinished?"Jornada finalizada":`Jornada ${this.selectedRound}`}getMatchStatus(e){if("LIVE"===e.status.short)return e.status.elapsed?e.status.elapsed<=45?`Primer Tiempo ${e.status.elapsed}'`:`Segundo Tiempo ${e.status.elapsed}'`:"En Vivo";if("HT"===e.status.short)return"Medio Tiempo";if("FT"===e.status.short)return"Finalizado";if("1H"===e.status.short)return`Primer Tiempo ${e.status.elapsed}'`;if("2H"===e.status.short)return`Segundo Tiempo ${e.status.elapsed}'`;if("NS"===e.status.short){const o=new Date(e.date),l=new Date,u=Math.floor((o.getTime()-l.getTime())/6e4);return u<=60&&u>0?`Comienza en ${u} min`:u<=0?"Por comenzar":u<=120?`Comienza en ${Math.floor(u/60)}h ${u%60}m`:this.formatMatchTime(o)}return{PST:"Pospuesto",CANC:"Cancelado",ABD:"Abandonado",INT:"Interrumpido",SUSP:"Suspendido",TBD:"Por definir",AWD:"Victoria administrativa",WO:"Walkover",PEN:"Penales",AET:"Tiempo extra",BREAK:"Descanso",ET:"Tiempo extra",P:"Penales"}[e.status.short]||e.status.long||"Programado"}getPredictionClass(e){if(!e.prediction?.homeScore||!e.prediction?.awayScore||null===e.homeScore||null===e.awayScore)return"no-match";const i=Math.sign(e.prediction.homeScore-e.prediction.awayScore),o=Math.sign(e.homeScore-e.awayScore),l=e.prediction.homeScore===e.homeScore&&e.prediction.awayScore===e.awayScore,u=i===o&&!l;return"FT"===e.status.short?l?"exact-match":u?"partial-match":"no-match":"LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short?l?"exact-match live":u?"partial-match live":"no-match live":"no-match"}formatMatchTime(e){return e.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit",hour12:!0})}showToast(e,i="primary"){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i,buttons:[{text:"OK",role:"cancel"}]})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(gl),s.rXU(pl),s.rXU(Ns),s.rXU(ta))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-scores"]],decls:18,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"week-header"],[1,"round-status"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","total-points",4,"ngIf"],["class","loading-container",4,"ngIf"],["color","warning","class","rate-limit-warning",4,"ngIf"],["color","danger",4,"ngIf"],["class","matches-container",4,"ngIf"],[1,"total-points"],[1,"loading-container"],["color","warning",1,"rate-limit-warning"],["name","warning-outline"],["color","danger"],["size","small","fill","outline",3,"click"],[1,"matches-container"],[4,"ngFor","ngForOf"],[1,"match-card"],[1,"match-date"],[1,"match-status",3,"color"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],[1,"scores-container"],[1,"final-score"],["class","prediction-score",3,"ngClass",4,"ngIf"],[1,"prediction-score",3,"ngClass"],["class","points-badge",4,"ngIf"],[1,"points-badge"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Marcadores"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5),s.EFF(9),s.j41(10,"ion-badge",6),s.EFF(11),s.k0s()()(),s.j41(12,"app-rounds-selector",7),s.bIt("roundChange",function(u){return o.onRoundChange(u)}),s.k0s(),s.DNE(13,XU,5,1,"div",8),s.DNE(14,YU,4,0,"div",9),s.DNE(15,QU,4,1,"ion-text",10),s.DNE(16,JU,5,1,"ion-text",11),s.DNE(17,n$,3,1,"div",12),s.k0s()),2&i&&(s.R7$(9),s.SpI(" ",o.getRoundStatus()," "),s.R7$(1),s.Y8G("color",o.isLiveRound?"success":o.isRoundFinished?"medium":"warning"),s.R7$(1),s.SpI(" ",o.isLiveRound?"ACTIVA EN ESTOS MOMENTOS":o.isRoundFinished?"FINALIZADA":"PROGRAMADA"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error&&o.matches.length>0),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.error&&!o.isRateLimited),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[So,_n,yi,tl,ds,Zs,Fa,Ba,hs,N0,Va,Tr,Or,Os,t1,B0,Ps,ea,ja,bc,Xv,Tn],styles:[".week-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding:12px;background:var(--ion-color-light);border-radius:12px;box-shadow:0 2px 8px #0000001a}.total-points[_ngcontent-%COMP%]{margin:20px 0}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;background:var(--ion-color-primary)}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:600;margin:0}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;padding-bottom:8px}.match-status[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;padding:6px 12px;border-radius:20px;font-size:.8em;font-weight:500;text-align:center}.match-status.live-status[_ngcontent-%COMP%]{background:var(--ion-color-success);animation:_ngcontent-%COMP%_pulse 2s infinite}.match-date[_ngcontent-%COMP%]{text-align:center;font-size:.9em;color:var(--ion-color-medium);margin-top:24px}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:35%}.team-logo[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px;object-fit:contain}.team-name[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:500}.scores-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%;gap:12px}.final-score[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:8px;color:var(--ion-color-dark)}.final-score.live[_ngcontent-%COMP%]{color:var(--ion-color-success)}.prediction-score[_ngcontent-%COMP%]{font-size:.9em;padding:8px;border-radius:8px;text-align:center;position:relative;width:100%;background:rgba(var(--ion-color-medium-rgb),.1);border:1px solid transparent}.prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);border-color:var(--ion-color-success);color:var(--ion-color-success)}.prediction-score.exact-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);border-color:var(--ion-color-warning);color:var(--ion-color-warning)}.prediction-score.partial-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);border-color:var(--ion-color-danger);color:var(--ion-color-danger)}.prediction-score.no-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.prediction-score[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background:var(--ion-color-primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:.8em;font-weight:500}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.8)}.dark[_nghost-%COMP%]   .final-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .final-score[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)}.dark[_nghost-%COMP%]   .prediction-score.exact-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.15);border-color:var(--ion-color-success);color:var(--ion-color-success-tint)}.dark[_nghost-%COMP%]   .prediction-score.partial-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.15);border-color:var(--ion-color-warning);color:var(--ion-color-warning-tint)}.dark[_nghost-%COMP%]   .prediction-score.no-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.15);border-color:var(--ion-color-danger);color:var(--ion-color-danger-tint)}"]})}}return n})();function o$(n,t){if(1&n&&(s.j41(0,"div",2),s.nrm(1,"ion-icon",3),s.k0s()),2&n){const e=t.$implicit,i=s.XpG();s.HbH(i.getResultClass(e)),s.R7$(1),s.Y8G("name",i.getResultIcon(e))}}let r$=(()=>{class n{constructor(){this.form=""}getFormArray(){return this.form?this.form.split("").reverse():[]}getResultClass(e){switch(e.toUpperCase()){case"W":return"win";case"D":return"draw";case"L":return"loss";default:return""}}getResultIcon(e){switch(e.toUpperCase()){case"W":return"checkmark";case"D":return"remove";case"L":return"close";default:return""}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-team-form"]],inputs:{form:"form"},decls:2,vars:1,consts:[[1,"form-display"],["class","form-item",3,"class",4,"ngFor","ngForOf"],[1,"form-item"],[3,"name"]],template:function(i,o){1&i&&(s.j41(0,"div",0),s.DNE(1,o$,2,3,"div",1),s.k0s()),2&i&&(s.R7$(1),s.Y8G("ngForOf",o.getFormArray()))},dependencies:[_n,Or],styles:[".form-display[_ngcontent-%COMP%]{display:flex;gap:4px;justify-content:center;margin-top:4px}.form-item[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center}.form-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px;color:#fff}.form-item.win[_ngcontent-%COMP%]{background-color:#2dd36f}.form-item.draw[_ngcontent-%COMP%]{background-color:#92949c}.form-item.loss[_ngcontent-%COMP%]{background-color:#eb445a}@media (min-width: 768px){.form-item[_ngcontent-%COMP%]{width:24px;height:24px}.form-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}"]})}}return n})();function s$(n,t){if(1&n&&(s.j41(0,"div",9)(1,"div",10),s.EFF(2,"Resultado actual:"),s.k0s(),s.j41(3,"div",11),s.EFF(4),s.k0s(),s.j41(5,"div",12),s.EFF(6),s.k0s()()),2&n){const e=s.XpG();let i;s.R7$(4),s.Lme(" ",null!==(i=e.match.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.match.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.AVh("live","LIVE"===e.match.status.short),s.R7$(1),s.SpI(" ","LIVE"===e.match.status.short?"EN VIVO":"FINAL"," ")}}function a$(n,t){if(1&n&&(s.j41(0,"div",10),s.EFF(1),s.k0s()),2&n){const e=s.XpG();s.R7$(1),s.SpI(" ",e.isCompleted?"Tu Pron\xf3stico:":e.canEdit?"A\xfan puedes predecir:":"Ingresa tu Pron\xf3stico:"," ")}}function c$(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.incrementScore("home"))}),s.nrm(4,"ion-icon",17),s.k0s(),s.j41(5,"span",18),s.EFF(6),s.k0s(),s.j41(7,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.decrementScore("home"))}),s.nrm(8,"ion-icon",19),s.k0s()()(),s.j41(9,"div",20),s.EFF(10,"-"),s.k0s(),s.j41(11,"div",14)(12,"div",15)(13,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.incrementScore("away"))}),s.nrm(14,"ion-icon",17),s.k0s(),s.j41(15,"span",18),s.EFF(16),s.k0s(),s.j41(17,"ion-button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.decrementScore("away"))}),s.nrm(18,"ion-icon",19),s.k0s()()()()}if(2&n){const e=s.XpG();let i,o;s.R7$(3),s.Y8G("disabled",99===e.prediction.homeScore),s.R7$(3),s.JRh(null!==(i=e.prediction.homeScore)&&void 0!==i?i:0),s.R7$(1),s.Y8G("disabled",0===e.prediction.homeScore),s.R7$(6),s.Y8G("disabled",99===e.prediction.awayScore),s.R7$(3),s.JRh(null!==(o=e.prediction.awayScore)&&void 0!==o?o:0),s.R7$(1),s.Y8G("disabled",0===e.prediction.awayScore)}}function l$(n,t){if(1&n&&(s.j41(0,"div",22),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2);s.R7$(1),s.SpI(" ",e.getPoints()," pts ")}}function u$(n,t){if(1&n&&(s.j41(0,"div",11),s.EFF(1),s.DNE(2,l$,2,1,"div",21),s.k0s()),2&n){const e=s.XpG();let i;s.R7$(1),s.Lme(" ",null!==(i=e.prediction.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.prediction.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.Y8G("ngIf","FT"===e.match.status.short)}}function d$(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",23)(1,"div",24),s.EFF(2,"Resultados comunes:"),s.k0s(),s.j41(3,"div",25)(4,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(1,0))}),s.EFF(5," 1-0 "),s.k0s(),s.j41(6,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(2,1))}),s.EFF(7," 2-1 "),s.k0s(),s.j41(8,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(0,0))}),s.EFF(9," 0-0 "),s.k0s(),s.j41(10,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(1,1))}),s.EFF(11," 1-1 "),s.k0s(),s.j41(12,"ion-button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.setQuickScore(2,2))}),s.EFF(13," 2-2 "),s.k0s()()()}}function h$(n,t){1&n&&(s.j41(0,"div",27)(1,"ion-text",28)(2,"small"),s.EFF(3,"Los pron\xf3sticos est\xe1n cerrados para este partido"),s.k0s()()())}let f$=(()=>{class n{constructor(){this.canPredict=!1,this.canEdit=!1,this.isCompleted=!1,this.predictionChange=new s.bkB}ngOnInit(){this.prediction&&this.canPredict&&(null===this.prediction.homeScore&&(this.prediction.homeScore=0),null===this.prediction.awayScore&&(this.prediction.awayScore=0),this.predictionChange.emit(this.prediction))}getScoreClass(){return this.isCompleted?this.isExactMatch()?"exact-match":this.isPartialMatch()?"partial-match":"no-match":""}getPoints(){return this.isCompleted?this.isExactMatch()?3:this.isPartialMatch()?1:0:0}incrementScore(e){!this.canPredict&&!this.canEdit||("home"===e?this.prediction.homeScore=(this.prediction.homeScore??0)+1:this.prediction.awayScore=(this.prediction.awayScore??0)+1,this.onScoreChange())}decrementScore(e){!this.canPredict&&!this.canEdit||("home"===e&&(this.prediction.homeScore??0)>0?this.prediction.homeScore=(this.prediction.homeScore??1)-1:"away"===e&&(this.prediction.awayScore??0)>0&&(this.prediction.awayScore=(this.prediction.awayScore??1)-1),this.onScoreChange())}setQuickScore(e,i){!this.canPredict&&!this.canEdit||(this.prediction.homeScore=e,this.prediction.awayScore=i,this.onScoreChange())}isExactMatch(){return this.match.homeScore===this.prediction.homeScore&&this.match.awayScore===this.prediction.awayScore}isPartialMatch(){return null!==this.match.homeScore&&null!==this.match.awayScore&&null!==this.prediction.homeScore&&null!==this.prediction.awayScore&&Math.sign(this.match.homeScore-this.match.awayScore)===Math.sign(this.prediction.homeScore-this.prediction.awayScore)}onScoreChange(){(this.canPredict||this.canEdit)&&this.predictionChange.emit(this.prediction)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-match-prediction"]],inputs:{match:"match",prediction:"prediction",canPredict:"canPredict",canEdit:"canEdit",isCompleted:"isCompleted"},outputs:{predictionChange:"predictionChange"},decls:9,vars:7,consts:[[1,"prediction-container"],[1,"score-section"],["class","actual-score",4,"ngIf"],[1,"prediction-score",3,"ngClass"],["class","score-label",4,"ngIf"],["class","score-input-vertical",4,"ngIf"],["class","score-display",4,"ngIf"],["class","quick-scores",4,"ngIf"],["class","prediction-status",4,"ngIf"],[1,"actual-score"],[1,"score-label"],[1,"score-display"],[1,"status-badge"],[1,"score-input-vertical"],[1,"team-score"],[1,"score-controls"],["fill","clear",3,"disabled","click"],["name","add-circle-outline"],[1,"score-value"],["name","remove-circle-outline"],[1,"score-separator"],["class","points-badge",4,"ngIf"],[1,"points-badge"],[1,"quick-scores"],[1,"quick-score-label"],[1,"quick-score-buttons"],["fill","clear","size","small",3,"click"],[1,"prediction-status"],["color","danger"]],template:function(i,o){1&i&&(s.j41(0,"div",0)(1,"div",1),s.DNE(2,s$,7,5,"div",2),s.j41(3,"div",3),s.DNE(4,a$,2,1,"div",4),s.DNE(5,c$,19,6,"div",5),s.DNE(6,u$,3,3,"div",6),s.DNE(7,d$,14,0,"div",7),s.k0s()(),s.DNE(8,h$,4,0,"div",8),s.k0s()),2&i&&(s.R7$(2),s.Y8G("ngIf","FT"===o.match.status.short||"LIVE"===o.match.status.short),s.R7$(1),s.Y8G("ngClass",o.getScoreClass()),s.R7$(1),s.Y8G("ngIf",o.canPredict||o.canEdit||o.isCompleted),s.R7$(1),s.Y8G("ngIf",!o.isCompleted&&o.canPredict||o.canEdit),s.R7$(1),s.Y8G("ngIf",o.isCompleted),s.R7$(1),s.Y8G("ngIf",!o.isCompleted&&o.canPredict||o.canEdit),s.R7$(1),s.Y8G("ngIf",!o.canPredict&&!o.canEdit&&!o.isCompleted))},dependencies:[So,yi,ds,Or,Ps],styles:[".prediction-container[_ngcontent-%COMP%]{padding:8px;border-radius:12px;background:var(--ion-color-light);width:82%;max-width:320px;margin:0 auto;overflow:hidden}.score-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.score-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium);margin-bottom:8px;text-align:center;font-weight:500}.actual-score[_ngcontent-%COMP%], .prediction-score[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background:white;position:relative;width:100%}.score-display[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;text-align:center;margin:8px 0}.status-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;padding:2px 6px;border-radius:10px;font-size:.7em;font-weight:500;background:var(--ion-color-medium);color:#fff}.status-badge.live[_ngcontent-%COMP%]{background:var(--ion-color-success);animation:_ngcontent-%COMP%_pulse 2s infinite}.score-input-vertical[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:8px;background:var(--ion-color-light);border-radius:8px;margin:8px 0}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 2px;--padding-end: 2px;height:24px;width:24px;margin:0}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--ion-color-primary)}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:disabled   ion-icon[_ngcontent-%COMP%]{opacity:.5}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;min-width:28px;text-align:center;color:var(--ion-color-dark);padding:2px 0}.score-input-vertical[_ngcontent-%COMP%]   .score-separator[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--ion-color-medium);margin:0 4px;align-self:center}.quick-scores[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid rgba(var(--ion-color-medium-rgb),.2)}.quick-scores[_ngcontent-%COMP%]   .quick-score-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium);margin-bottom:8px;text-align:center;font-weight:500}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:4px}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;height:26px;font-size:.8em;--color: var(--ion-color-primary);font-weight:500}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-color-primary-rgb), .1)}.prediction-score.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);border:1px solid var(--ion-color-success)}.prediction-score.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);border:1px solid var(--ion-color-warning)}.prediction-score.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.1);border:1px solid var(--ion-color-danger)}.points-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:var(--ion-color-primary);color:#fff;padding:2px 8px;border-radius:10px;font-size:.75em;font-weight:500}.prediction-status[_ngcontent-%COMP%]{text-align:center;margin-top:6px;font-style:italic;font-size:.9em;color:var(--ion-color-danger)}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.6}to{opacity:1}}.dark[_nghost-%COMP%]   .actual-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .actual-score[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-score[_ngcontent-%COMP%]{background:rgba(255,255,255,.05)}.dark[_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]{background:rgba(255,255,255,.1)}.dark[_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{color:var(--ion-color-light)}@media (max-width: 768px){.prediction-container[_ngcontent-%COMP%]{padding:6px;max-width:280px}.score-input-vertical[_ngcontent-%COMP%]{gap:8px;padding:6px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:22px;width:22px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.score-input-vertical[_ngcontent-%COMP%]   .team-score[_ngcontent-%COMP%]   .score-controls[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:18px;min-width:24px}.score-input-vertical[_ngcontent-%COMP%]   .score-separator[_ngcontent-%COMP%]{font-size:18px}.score-display[_ngcontent-%COMP%]{font-size:1.2em}.quick-scores[_ngcontent-%COMP%]   .quick-score-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:24px;font-size:.75em}}"]})}}return n})();function g$(n,t){1&n&&(s.j41(0,"div",13),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function p$(n,t){if(1&n&&(s.j41(0,"ion-text",14),s.nrm(1,"ion-icon",15),s.j41(2,"p"),s.EFF(3),s.k0s()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function m$(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",16)(1,"p"),s.EFF(2),s.k0s(),s.j41(3,"ion-button",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar "),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(2),s.JRh(e.error)}}function v$(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-text",18)(1,"p"),s.EFF(2," No hay conexi\xf3n a internet. Algunos datos pueden no estar actualizados. "),s.k0s(),s.j41(3,"ion-button",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(4," Reintentar Conexi\xf3n "),s.k0s()()}}function w$(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);s.R7$(1),s.Lme(" ",e.homeTeamPosition,"",i.getOrdinalSuffix(e.homeTeamPosition)," Lugar de la Tabla ")}}function y$(n,t){if(1&n&&s.nrm(0,"app-team-form",32),2&n){const e=s.XpG().$implicit;s.Y8G("form",e.homeTeamForm)}}function _$(n,t){if(1&n&&(s.j41(0,"div",31),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit,i=s.XpG(2);s.R7$(1),s.Lme(" ",e.awayTeamPosition,"",i.getOrdinalSuffix(e.awayTeamPosition)," Lugar de la Tabla ")}}function x$(n,t){if(1&n&&s.nrm(0,"app-team-form",32),2&n){const e=s.XpG().$implicit;s.Y8G("form",e.awayTeamForm)}}function M$(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-item")(1,"ion-card",22)(2,"ion-card-content")(3,"div",23)(4,"div",24),s.nrm(5,"img",25),s.j41(6,"div",26),s.EFF(7),s.k0s(),s.DNE(8,w$,2,2,"div",27),s.DNE(9,y$,1,1,"app-team-form",28),s.k0s(),s.j41(10,"app-match-prediction",29),s.bIt("predictionChange",function(o){const u=s.eBV(e).$implicit,p=s.XpG(2);return s.Njj(p.onPredictionChange(u,o))}),s.k0s(),s.j41(11,"div",24),s.nrm(12,"img",25),s.j41(13,"div",26),s.EFF(14),s.k0s(),s.DNE(15,_$,2,2,"div",27),s.DNE(16,x$,1,1,"app-team-form",28),s.k0s()(),s.j41(17,"ion-card-header",30)(18,"ion-card-subtitle"),s.EFF(19),s.nI1(20,"date"),s.nI1(21,"date"),s.nrm(22,"br"),s.j41(23,"small"),s.EFF(24),s.k0s()()()()()()}if(2&n){const e=t.$implicit,i=s.XpG(2);s.R7$(5),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(1),s.Y8G("ngIf",e.homeTeamPosition),s.R7$(1),s.Y8G("ngIf",e.homeTeamForm),s.R7$(1),s.Y8G("match",e)("prediction",e.prediction)("canPredict",e.canPredict)("isCompleted",i.hasPredictions),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam),s.R7$(1),s.Y8G("ngIf",e.awayTeamPosition),s.R7$(1),s.Y8G("ngIf",e.awayTeamForm),s.R7$(3),s.Lme(" ",s.ii3(20,18,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(21,23,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,"")}}function C$(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-button",33),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.submitPredictions())}),s.EFF(1," Guardar Predicciones "),s.k0s()}if(2&n){const e=s.XpG(2);s.Y8G("disabled",e.isSubmitDisabled())}}function b$(n,t){if(1&n&&(s.j41(0,"div",19)(1,"ion-list"),s.DNE(2,M$,25,28,"ion-item",20),s.k0s(),s.DNE(3,C$,2,1,"ion-button",21),s.k0s()),2&n){const e=s.XpG();s.R7$(2),s.Y8G("ngForOf",e.matches),s.R7$(1),s.Y8G("ngIf",!e.hasPredictions)}}let E$=(()=>{class n{constructor(e,i,o,l,u,p,v,M){this.footballService=e,this.databaseService=i,this.authService=o,this.toastController=l,this.loadingController=u,this.alertController=p,this.connectionService=v,this.adsService=M,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(b,S)=>S+1),this.userId=null,this.isOffline=!1,this.hasPredictions=!1,this.weeklyPoints=0,this.isRateLimited=!1,this.savingPredictions=!1,this.isLiveRound=!1}ngOnInit(){this.authService.user$.subscribe(e=>{this.userId=e?e.uid:null,this.userId?this.findPendingRound():(this.error="Usuario no autenticado",this.loading=!1)}),this.connectionService.getOnlineStatus().subscribe(e=>{this.isOffline=!e})}getOrdinalSuffix(e){return this.footballService.getOrdinalSuffix(e)}findPendingRound(){var e=this;return(0,pe.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i;for(let o=i;o<=17;o++){const l=yield Mo(e.footballService.getMatches(o)),u=new Date;if(l.filter(v=>new Date(v.date)>u&&"NS"===v.status.short).length>0)return e.selectedRound=o,void(yield e.loadMatches())}e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding pending round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}getWeekTitle(){return"Estatus de tu Quiniela para esta Jornada: "}onPredictionChange(e,i){e.prediction=i}onRoundChange(e){this.selectedRound=e,this.loadMatches()}canPredictMatch(e){const i=new Date,o=new Date(e.date);return"FT"!==e.status.short&&"LIVE"!==e.status.short&&"HT"!==e.status.short&&("NS"===e.status.short||o.getTime()-i.getTime()>3e5)}isSubmitDisabled(){const e=this.matches.filter(i=>i.canPredict);return 0===e.length||!e.some(i=>null!==i.prediction?.homeScore&&null!==i.prediction?.awayScore)}loadMatches(){var e=this;return(0,pe.A)(function*(){if(e.loading=!0,e.error=null,e.weeklyPoints=0,e.isRateLimited=!1,e.userId)try{const[i,o]=yield Promise.all([Mo(e.footballService.getMatches(e.selectedRound)),Mo(e.databaseService.getPredictions(e.userId,e.selectedRound.toString()))]),l=o.filter(u=>u.matchId&&null!==u.homeScore&&null!==u.awayScore);e.hasPredictions=l.length>0,e.isLiveRound=i.some(u=>"LIVE"===u.status.short||"HT"===u.status.short),e.matches=i.map(u=>{const p=o.find(M=>M.matchId===u.id),v=e.canPredictMatch(u);return{...u,prediction:{homeScore:p?.homeScore??null,awayScore:p?.awayScore??null},canPredict:v}}),e.hasPredictions&&(e.weeklyPoints=o.reduce((u,p)=>u+(p.points||0),0)),e.loading=!1,e.isOffline=!1,0===e.matches.length&&(e.error="No hay partidos programados para esta jornada.")}catch(i){console.error("Error loading matches:",i),2100===i.error?.code?(e.isRateLimited=!0,e.error="Se ha alcanzado el l\xedmite de la API. Los datos mostrados pueden no estar actualizados.",yield e.showToast("L\xedmite de API alcanzado. Se muestran datos en cach\xe9.","warning")):(e.error="Error al cargar los partidos. Por favor intente nuevamente.",e.isOffline=!0,yield e.showOfflineAlert()),e.loading=!1}else e.error="Usuario no autenticado",e.loading=!1})()}submitPredictions(){var e=this;return(0,pe.A)(function*(){if(!e.userId)return void(yield e.showAlert("Error","Usuario no autenticado"));if(e.isOffline)return void(yield e.showAlert("Sin conexi\xf3n","No hay conexi\xf3n a internet. Por favor intente nuevamente cuando tenga conexi\xf3n."));let i=null;e.savingPredictions=!0;try{i=yield e.loadingController.create({message:"Guardando predicciones...",spinner:"crescent"}),yield i.present();const o=e.matches.filter(l=>l.canPredict&&null!==l.prediction?.homeScore&&null!==l.prediction?.awayScore).map(l=>({matchId:l.id,homeScore:l.prediction.homeScore,awayScore:l.prediction.awayScore}));if(0===o.length)throw new Error("No hay predicciones v\xe1lidas para guardar");yield e.databaseService.savePredictions(e.userId,e.selectedRound.toString(),o,0),yield e.showToast(`Se guardaron ${o.length} predicciones exitosamente`,"success"),yield e.adsService.showInterstitial(),yield e.loadMatches()}catch(o){console.error("Error saving predictions:",o),yield e.showToast("string"==typeof o?o:"Error al guardar las predicciones. Por favor intente nuevamente.","danger")}finally{e.savingPredictions=!1,i&&(yield i.dismiss())}})()}showAlert(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.alertController.create({header:e,message:i,buttons:["OK"]})).present()})()}showOfflineAlert(){var e=this;return(0,pe.A)(function*(){yield(yield e.alertController.create({header:"Modo Sin Conexi\xf3n",message:"Actualmente est\xe1 sin conexi\xf3n. Algunas funciones pueden estar limitadas.",buttons:["OK"]})).present()})()}showToast(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i,buttons:[{text:"OK",role:"cancel"}]})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(gl),s.rXU(pl),s.rXU(Ns),s.rXU(ta),s.rXU(bh),s.rXU(Ku),s.rXU(Kv),s.rXU(fE))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-pools"]],decls:18,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"week-header"],[1,"round-badge"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","loading-container",4,"ngIf"],["color","warning","class","rate-limit-warning",4,"ngIf"],["color","danger",4,"ngIf"],["color","warning",4,"ngIf"],["class","matches-container",4,"ngIf"],[1,"loading-container"],["color","warning",1,"rate-limit-warning"],["name","warning-outline"],["color","danger"],["size","small","fill","outline",3,"click"],["color","warning"],[1,"matches-container"],[4,"ngFor","ngForOf"],["expand","block","class","submit-button",3,"disabled","click",4,"ngIf"],[1,"match-card"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],["class","team-position",4,"ngIf"],[3,"form",4,"ngIf"],[3,"match","prediction","canPredict","isCompleted","predictionChange"],["align","center"],[1,"team-position"],[3,"form"],["expand","block",1,"submit-button",3,"disabled","click"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Sube tu Quiniela"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5),s.EFF(9),s.j41(10,"ion-badge",6),s.EFF(11),s.k0s()()(),s.j41(12,"app-rounds-selector",7),s.bIt("roundChange",function(u){return o.onRoundChange(u)}),s.k0s(),s.DNE(13,g$,4,0,"div",8),s.DNE(14,p$,4,1,"ion-text",9),s.DNE(15,m$,5,1,"ion-text",10),s.DNE(16,v$,5,0,"ion-text",11),s.DNE(17,b$,4,2,"div",12),s.k0s()),2&i&&(s.R7$(9),s.SpI(" ",o.getWeekTitle()," "),s.R7$(1),s.Y8G("color",o.hasPredictions?"success":"warning"),s.R7$(1),s.SpI(" ",o.hasPredictions?"COMPLETADA":"PENDIENTE"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.error&&!o.isRateLimited),s.R7$(1),s.Y8G("ngIf",o.isOffline),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[_n,yi,tl,ds,Zs,Fa,Ba,hs,N0,Va,Tr,Or,Os,t1,B0,Ps,ea,ja,bc,Xv,r$,f$,Tn],styles:[".week-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding:12px;background:var(--ion-color-light);border-radius:12px;box-shadow:0 2px 8px #0000001a}.week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;font-size:1em;font-weight:500;color:var(--ion-text-color)}.week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{font-size:.75em;padding:4px 8px;border-radius:12px}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;padding-bottom:8px}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 8px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%}.team-logo[_ngcontent-%COMP%]{width:36px;height:36px;margin-bottom:8px;object-fit:contain}.team-name[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:500;margin-bottom:4px;color:var(--ion-text-color)}.team-position[_ngcontent-%COMP%]{text-align:center;font-size:10px;color:var(--ion-color-medium);background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:10px;margin-top:2px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}.submit-button[_ngcontent-%COMP%]{margin:16px;--border-radius: 8px;--padding-top: 14px;--padding-bottom: 14px;font-weight:600;font-size:.95em;letter-spacing:.5px}.submit-button.button-disabled[_ngcontent-%COMP%]{opacity:.7}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .week-header[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.8)}.dark[_nghost-%COMP%]   .team-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team-name[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .team-position[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team-position[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2);color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)!important}@media (min-width: 768px){.teams[_ngcontent-%COMP%]{padding:16px}.team[_ngcontent-%COMP%]{width:35%}.team-logo[_ngcontent-%COMP%]{width:48px;height:48px}.team-name[_ngcontent-%COMP%]{font-size:16px}.team-position[_ngcontent-%COMP%]{font-size:12px}.submit-button[_ngcontent-%COMP%]{margin:20px;--padding-top: 16px;--padding-bottom: 16px;font-size:1em}}@media (min-width: 992px){.team-logo[_ngcontent-%COMP%]{width:54px;height:54px}.team-name[_ngcontent-%COMP%]{font-size:18px}.team-position[_ngcontent-%COMP%]{font-size:14px}}"]})}}return n})();function I$(n,t){if(1&n&&(s.j41(0,"div",14)(1,"ion-card")(2,"ion-card-content")(3,"h2"),s.EFF(4),s.k0s()()()()),2&n){const e=s.XpG();s.R7$(4),s.SpI("Total de Puntos: ",e.totalPoints,"")}}function A$(n,t){1&n&&(s.j41(0,"div",15),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando partidos..."),s.k0s()())}function k$(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",16)(1,"ion-text",17)(2,"p"),s.EFF(3),s.k0s(),s.j41(4,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadMatches())}),s.EFF(5," Reintentar "),s.k0s()()()}if(2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function S$(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",19)(1,"ion-text",20)(2,"p"),s.EFF(3,"No hay conexi\xf3n a internet. Algunos datos pueden no estar actualizados."),s.k0s(),s.j41(4,"ion-button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.retryConnection())}),s.EFF(5," Reintentar Conexi\xf3n "),s.k0s()()()}}function D$(n,t){if(1&n&&(s.j41(0,"div",32),s.EFF(1),s.k0s()),2&n){const e=s.XpG(2).$implicit;s.R7$(1),s.SpI(" ",e.points," pts ")}}function T$(n,t){if(1&n&&(s.j41(0,"div",30),s.EFF(1),s.DNE(2,D$,2,1,"div",31),s.k0s()),2&n){const e=s.XpG().$implicit;s.R7$(1),s.Lme(" Tu Pron\xf3stico: ",e.predictedHomeScore," - ",e.predictedAwayScore," "),s.R7$(1),s.Y8G("ngIf",void 0!==e.points)}}function O$(n,t){if(1&n&&(s.j41(0,"ion-item")(1,"ion-card",22)(2,"ion-card-header")(3,"ion-card-subtitle"),s.EFF(4),s.nI1(5,"date"),s.nI1(6,"date"),s.nrm(7,"br"),s.j41(8,"small"),s.EFF(9),s.k0s()()(),s.j41(10,"ion-card-content")(11,"div",23)(12,"div",24),s.nrm(13,"img",25),s.j41(14,"div",26),s.EFF(15),s.k0s()(),s.j41(16,"div",27)(17,"div",28),s.EFF(18),s.k0s(),s.DNE(19,T$,3,3,"div",29),s.k0s(),s.j41(20,"div",24),s.nrm(21,"img",25),s.j41(22,"div",26),s.EFF(23),s.k0s()()()()()()),2&n){const e=t.$implicit;let i;s.R7$(4),s.Lme(" ",s.ii3(5,13,e.date,"EEEE d MMMM, y","","es-MX")," \u2022 ",s.ii3(6,18,e.date,"h:mm a","","es-MX")," "),s.R7$(5),s.Lme("",e.venue.name,", ",e.venue.city,""),s.R7$(4),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(e.homeTeam),s.R7$(3),s.Lme(" ",null!==(i=e.homeScore)&&void 0!==i?i:"-"," - ",null!==(i=e.awayScore)&&void 0!==i?i:"-"," "),s.R7$(1),s.Y8G("ngIf",void 0!==e.predictedHomeScore),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(e.awayTeam)}}function P$(n,t){if(1&n&&(s.j41(0,"ion-list"),s.DNE(1,O$,24,23,"ion-item",21),s.k0s()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngForOf",e.matches)}}let R$=(()=>{class n{constructor(e,i,o,l,u){this.footballService=e,this.databaseService=i,this.authService=o,this.alertController=l,this.toastController=u,this.matches=[],this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.rounds=Array.from({length:17},(p,v)=>v+1),this.userId=null,this.isOffline=!1,this.totalPoints=0,this.isLiveRound=!1,this.isRoundFinished=!1}ngOnInit(){var e=this;this.authService.user$.subscribe(function(){var i=(0,pe.A)(function*(o){e.userId=o?o.uid:null,e.userId?yield e.findCurrentRound():(e.error="Usuario no autenticado",e.loading=!1)});return function(o){return i.apply(this,arguments)}}())}findCurrentRound(){var e=this;return(0,pe.A)(function*(){e.loading=!0;try{const i=yield e.footballService.getCurrentRound();e.currentRound=i,e.selectedRound=i,yield e.loadMatches()}catch(i){console.error("Error finding current round:",i),e.loading=!1,e.error="Error al cargar la jornada actual"}})()}onRoundChange(e){this.selectedRound=e,this.loadMatches()}loadMatches(){var e=this;return(0,pe.A)(function*(){if(e.loading=!0,e.error=null,e.userId)try{const i=yield Mo(e.footballService.getMatches(e.selectedRound)),o=yield Mo(e.databaseService.getPredictions(e.userId,e.selectedRound.toString()));e.isLiveRound=i.some(u=>"LIVE"===u.status.short||"HT"===u.status.short);const l=i.filter(u=>"FT"===u.status.short||"AET"===u.status.short||"PEN"===u.status.short);e.isRoundFinished=l.length===i.length,e.matches=i.map(u=>{const p=o.find(M=>M.matchId===u.id);return{...u,predictedHomeScore:p?.homeScore??null,predictedAwayScore:p?.awayScore??null,points:e.calculatePoints(u,p)}}),e.totalPoints=e.matches.reduce((u,p)=>u+p.points,0),e.loading=!1,e.isOffline=!1,0===e.matches.length&&(e.error="No hay partidos para la jornada seleccionada.")}catch(i){console.error("Error fetching matches or predictions:",i),e.isOffline=!0,yield e.showOfflineAlert(),e.error="Error al cargar los datos. Por favor intente nuevamente.",e.loading=!1}else e.error="Usuario no autenticado",e.loading=!1})()}calculatePoints(e,i){if(!i||null===i.homeScore||null===i.awayScore||null===e.homeScore||null===e.awayScore)return 0;const o=e.homeScore,l=e.awayScore;return o===i.homeScore&&l===i.awayScore?3:Math.sign(o-l)===Math.sign(i.homeScore-i.awayScore)?1:0}getRoundStatus(){return this.isLiveRound?"Jornada en curso":this.isRoundFinished?"Jornada finalizada":`Jornada ${this.selectedRound}`}showOfflineAlert(){var e=this;return(0,pe.A)(function*(){yield(yield e.alertController.create({header:"Modo Sin Conexi\xf3n",message:"Actualmente est\xe1 sin conexi\xf3n. Algunas funciones pueden estar limitadas.",buttons:["OK"]})).present()})()}retryConnection(){var e=this;return(0,pe.A)(function*(){yield(yield e.toastController.create({message:"Intentando reconectar...",duration:2e3})).present(),yield e.loadMatches()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(gl),s.rXU(pl),s.rXU(Ns),s.rXU(Ku),s.rXU(ta))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-points"]],decls:19,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[1,"points-container"],[1,"round-info"],[1,"round-status"],[1,"round-badge",3,"color"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","total-points",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","offline-container",4,"ngIf"],[4,"ngIf"],[1,"total-points"],[1,"loading-container"],[1,"error-container"],["color","danger"],["size","small","fill","outline",3,"click"],[1,"offline-container"],["color","warning"],[4,"ngFor","ngForOf"],[1,"match-card"],[1,"teams"],[1,"team"],[1,"team-logo",3,"src","alt"],[1,"team-name"],[1,"scores-container"],[1,"final-score"],["class","prediction-score",4,"ngIf"],[1,"prediction-score"],["class","points-badge",4,"ngIf"],[1,"points-badge"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Mis Puntos"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"div",6),s.EFF(10),s.j41(11,"ion-badge",7),s.EFF(12),s.k0s()()(),s.j41(13,"app-rounds-selector",8),s.bIt("roundChange",function(u){return o.onRoundChange(u)}),s.k0s(),s.DNE(14,I$,5,1,"div",9),s.DNE(15,A$,4,0,"div",10),s.DNE(16,k$,6,1,"div",11),s.DNE(17,S$,6,0,"div",12),s.DNE(18,P$,2,1,"ion-list",13),s.k0s()()),2&i&&(s.R7$(10),s.SpI(" ",o.getRoundStatus()," "),s.R7$(1),s.Y8G("color",o.isLiveRound?"success":o.isRoundFinished?"medium":"warning"),s.R7$(1),s.SpI(" ",o.isLiveRound?"EN VIVO":o.isRoundFinished?"FINALIZADA":"PROGRAMADA"," "),s.R7$(1),s.Y8G("selectedRound",o.selectedRound)("currentRound",o.currentRound)("isLiveRound",o.isLiveRound),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error&&o.matches.length>0),s.R7$(1),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error),s.R7$(1),s.Y8G("ngIf",o.isOffline),s.R7$(1),s.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[_n,yi,tl,ds,Zs,Fa,Ba,hs,N0,Va,Tr,Os,t1,B0,Ps,ea,ja,bc,Xv,Tn],styles:[".points-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.round-info[_ngcontent-%COMP%]{margin:16px 0;padding:16px;background:var(--ion-color-light);border-radius:12px}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:1.1em;font-weight:500;padding:0 8px;color:var(--ion-text-color)}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]   .round-badge[_ngcontent-%COMP%]{font-size:.8em;padding:4px 8px;border-radius:12px}.round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]   .round-badge.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.total-points[_ngcontent-%COMP%]{margin:20px 0}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;border-radius:12px;background:var(--ion-color-primary)}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.total-points[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;font-weight:600;margin:0}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:20px 0}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:10px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .offline-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:10px}.match-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--inner-padding-end: 0;margin-bottom:16px}.match-card[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:16px}.match-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium)}.teams[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:35%}.team[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px;object-fit:contain}.team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:500;color:var(--ion-text-color)}.scores-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:30%;position:relative}.scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:8px;color:var(--ion-text-color)}.scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-medium)}.scores-container[_ngcontent-%COMP%]   .points-badge[_ngcontent-%COMP%]{position:absolute;top:-20px;right:-20px;background:var(--ion-color-primary);color:#fff;border-radius:20px;padding:4px 12px;font-weight:700;font-size:.9em}.dark[_nghost-%COMP%]   .round-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.1)}.dark[_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .round-info[_ngcontent-%COMP%]   .round-status[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .match-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .match-card[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.8)}.dark[_nghost-%COMP%]   .team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .team[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .scores-container[_ngcontent-%COMP%]   .prediction-score[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)!important}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}"]})}}return n})();function L$(n,t){1&n&&(s.j41(0,"div",8),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Cargando participantes..."),s.k0s()())}function N$(n,t){if(1&n){const e=s.RV6();s.j41(0,"div",9)(1,"ion-text",10)(2,"p"),s.EFF(3),s.k0s(),s.j41(4,"ion-button",11),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.loadUsers())}),s.EFF(5," Reintentar "),s.k0s()()()}if(2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}function z$(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Admin"),s.k0s())}function F$(n,t){if(1&n&&(s.j41(0,"ion-item",14)(1,"ion-label")(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p",15),s.EFF(5),s.k0s(),s.j41(6,"p",16),s.EFF(7),s.k0s(),s.DNE(8,z$,2,0,"ion-badge",17),s.k0s()()),2&n){const e=t.$implicit;s.R7$(3),s.Lme("",e.firstName," ",e.lastName,""),s.R7$(2),s.SpI("@",e.username||"sin_usuario",""),s.R7$(2),s.SpI("ID: ",e.uid,""),s.R7$(1),s.Y8G("ngIf",e.isAdmin)}}function B$(n,t){1&n&&(s.j41(0,"div",18),s.nrm(1,"ion-icon",19),s.j41(2,"h2"),s.EFF(3,"No hay participantes registrados"),s.k0s()())}function V$(n,t){if(1&n&&(s.j41(0,"ion-list"),s.DNE(1,F$,9,5,"ion-item",12),s.DNE(2,B$,4,0,"div",13),s.k0s()),2&n){const e=t.ngIf;s.R7$(1),s.Y8G("ngForOf",e),s.R7$(1),s.Y8G("ngIf",0===e.length)}}let j$=(()=>{class n{constructor(e){this.databaseService=e,this.loading=!0,this.error=null,this.users$=new yo.c}ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.error=null,this.users$=this.databaseService.getAllUsers(),this.users$.subscribe({next:e=>{this.loading=!1,console.log("Users loaded:",e)},error:e=>{this.loading=!1,this.error="Failed to load users. Please try again.",console.error("Error loading users:",e)}})}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(pl))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-user-list"]],decls:12,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[1,"user-list-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"error-container"],["color","danger"],["size","small","fill","outline",3,"click"],["class","user-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"user-item"],[1,"username"],[1,"user-id"],["color","primary",4,"ngIf"],[1,"empty-state"],["name","people-outline",1,"empty-icon"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Participantes"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4),s.DNE(8,L$,4,0,"div",5),s.DNE(9,N$,6,1,"div",6),s.DNE(10,V$,3,2,"ion-list",7),s.nI1(11,"async"),s.k0s()()),2&i&&(s.R7$(8),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error),s.R7$(1),s.Y8G("ngIf",s.bMT(11,3,o.users$)))},dependencies:[_n,yi,tl,ds,Zs,Va,Tr,Or,Os,Cc,t1,B0,Ps,ea,ja,bc,ct],styles:[".user-list-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}.user-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px;margin-bottom:8px;border-radius:8px}.user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:4px;color:var(--ion-color-dark)}.user-item[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);margin-bottom:4px}.user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);font-family:monospace;background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin-bottom:4px}.user-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-top:4px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-medium);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:18px;font-weight:500}.dark[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)}.dark[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-light)}"]})}}return n})();function H$(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-toolbar",12)(1,"app-rounds-selector",13),s.bIt("roundChange",function(o){s.eBV(e);const l=s.XpG();return s.Njj(l.onRoundChange(o))}),s.k0s()()}if(2&n){const e=s.XpG();s.R7$(1),s.Y8G("selectedRound",e.selectedRound)("currentRound",e.currentRound)("isLiveRound",!1)}}function U$(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG(3);s.R7$(2),s.SpI("Tabla Grupo ",e.currentGroup.name,"")}}function $$(n,t){if(1&n&&(s.j41(0,"div",22)(1,"div",23),s.nrm(2,"img",24),s.j41(3,"div",25),s.EFF(4),s.k0s()(),s.j41(5,"div",23),s.nrm(6,"img",24),s.j41(7,"div",25),s.EFF(8),s.k0s()()()),2&n){const e=t.$implicit;let i,o;s.R7$(2),s.Y8G("src",e.homeTeamLogo,s.B4B)("alt",e.homeTeam),s.R7$(2),s.JRh(null!==(i=e.homeScore)&&void 0!==i?i:""),s.R7$(2),s.Y8G("src",e.awayTeamLogo,s.B4B)("alt",e.awayTeam),s.R7$(2),s.JRh(null!==(o=e.awayScore)&&void 0!==o?o:"")}}function G$(n,t){if(1&n&&(s.qex(0),s.j41(1,"div",29),s.EFF(2),s.k0s(),s.j41(3,"div",29),s.EFF(4),s.k0s(),s.bVm()),2&n){const e=t.ngIf;s.R7$(2),s.JRh(e.homeScore),s.R7$(2),s.JRh(e.awayScore)}}function K$(n,t){1&n&&(s.qex(0),s.j41(1,"div",29),s.EFF(2,"-"),s.k0s(),s.j41(3,"div",29),s.EFF(4,"-"),s.k0s(),s.bVm())}function W$(n,t){if(1&n&&(s.qex(0),s.j41(1,"div",28),s.DNE(2,G$,5,2,"ng-container",11),s.DNE(3,K$,5,0,"ng-container",11),s.k0s(),s.bVm()),2&n){const e=t.$implicit,i=s.XpG().$implicit,o=s.XpG(3);s.R7$(1),s.AVh("exact-match",3===o.getPredictionPoints(i.predictions,e))("partial-match",1===o.getPredictionPoints(i.predictions,e))("no-match",0===o.getPredictionPoints(i.predictions,e))("no-prediction",!o.getPrediction(i.predictions,e))("live","LIVE"===e.status.short||"HT"===e.status.short||"1H"===e.status.short||"2H"===e.status.short),s.R7$(1),s.Y8G("ngIf",o.getPrediction(i.predictions,e)),s.R7$(1),s.Y8G("ngIf",!o.getPrediction(i.predictions,e))}}function q$(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s(),s.DNE(7,W$,4,12,"ng-container",27),s.k0s()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(3);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.SpI(" ",(e.weeklyPoints||0)+(e.livePoints||0)," "),s.R7$(2),s.JRh(e.username),s.R7$(1),s.Y8G("ngForOf",o.weekMatches)}}function X$(n,t){if(1&n&&(s.qex(0),s.DNE(1,U$,3,1,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Participante"),s.k0s(),s.DNE(10,$$,9,6,"div",19),s.k0s(),s.DNE(11,q$,8,6,"div",20),s.k0s(),s.bVm()),2&n){const e=t.ngIf,i=s.XpG(2);s.R7$(1),s.Y8G("ngIf",i.currentGroup),s.R7$(9),s.Y8G("ngForOf",i.weekMatches),s.R7$(1),s.Y8G("ngForOf",e)}}function Y$(n,t){if(1&n&&(s.qex(0),s.DNE(1,X$,12,3,"ng-container",11),s.nI1(2,"async"),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",s.bMT(2,1,e.weeklyLeaderboard$))}}function Q$(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2),s.k0s()()),2&n){const e=s.XpG(2);s.R7$(2),s.SpI("Tabla Grupo ",e.currentGroup.name,"")}}function J$(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s()()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(2);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.JRh(e.totalPoints),s.R7$(2),s.JRh(e.username)}}function Z$(n,t){if(1&n&&(s.qex(0),s.DNE(1,Q$,3,1,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Usuario"),s.k0s()(),s.DNE(10,J$,7,5,"div",20),s.nI1(11,"async"),s.k0s(),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",e.currentGroup),s.R7$(9),s.Y8G("ngForOf",s.bMT(11,2,e.overallLeaderboard$))}}function eG(n,t){1&n&&(s.j41(0,"div",21)(1,"h3"),s.EFF(2,"Tabla Mundial"),s.k0s()())}function tG(n,t){if(1&n&&(s.j41(0,"div",26)(1,"div",17),s.EFF(2),s.k0s(),s.j41(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",18),s.EFF(6),s.k0s()()),2&n){const e=t.$implicit,i=t.index,o=s.XpG(2);s.AVh("current-user",e.userId===o.currentUserId),s.R7$(2),s.JRh(i+1),s.R7$(2),s.JRh(e.totalPoints),s.R7$(2),s.JRh(e.username)}}function nG(n,t){if(1&n&&(s.qex(0),s.DNE(1,eG,3,0,"div",14),s.j41(2,"div",15)(3,"div",16)(4,"div",17),s.EFF(5,"Pos"),s.k0s(),s.j41(6,"div",17),s.EFF(7,"Pts"),s.k0s(),s.j41(8,"div",18),s.EFF(9,"Usuario"),s.k0s()(),s.DNE(10,tG,7,5,"div",20),s.nI1(11,"async"),s.k0s(),s.bVm()),2&n){const e=s.XpG();s.R7$(1),s.Y8G("ngIf",e.currentGroup),s.R7$(9),s.Y8G("ngForOf",s.bMT(11,2,e.globalLeaderboard$))}}let iG=(()=>{class n{constructor(e,i,o,l){this.databaseService=e,this.authService=i,this.footballService=o,this.groupService=l,this.weeklyLeaderboard$=(0,Lt.of)([]),this.overallLeaderboard$=(0,Lt.of)([]),this.globalLeaderboard$=(0,Lt.of)([]),this.loading=!0,this.error=null,this.selectedRound=1,this.currentRound=1,this.selectedView="weekly",this.weekMatches=[],this.currentUserId=null,this.currentGroup=null,this.isLiveRound=!1}ngOnInit(){var e=this;return(0,pe.A)(function*(){e.authService.user$.subscribe(i=>{e.currentUserId=i?.uid||null,i&&e.loadUserGroup()}),yield e.findCurrentRound(),yield e.loadWeekMatches(),e.setupLeaderboards()})()}getPrediction(e,i){return e?e.find(o=>o.matchId===i.id):null}getPredictionPoints(e,i){const o=this.getPrediction(e,i);if(!o||null===o.homeScore||null===o.awayScore||null===i.homeScore||null===i.awayScore)return 0;const l=Math.sign(o.homeScore-o.awayScore),u=Math.sign(i.homeScore-i.awayScore);if("FT"===i.status.short||"LIVE"===i.status.short||"HT"===i.status.short||"1H"===i.status.short||"2H"===i.status.short){if(o.homeScore===i.homeScore&&o.awayScore===i.awayScore)return 3;if(l===u)return 1}return 0}loadUserGroup(){var e=this;return(0,pe.A)(function*(){try{const i=yield Mo(e.groupService.getUserGroups());i.length>0&&(e.currentGroup=i[0],e.setupLeaderboards())}catch(i){console.error("Error loading user group:",i)}})()}findCurrentRound(){var e=this;return(0,pe.A)(function*(){try{e.currentRound=yield e.footballService.getCurrentRound(),e.selectedRound=e.currentRound}catch(i){console.error("Error finding current round:",i),e.currentRound=1,e.selectedRound=1}})()}loadWeekMatches(){var e=this;return(0,pe.A)(function*(){try{e.weekMatches=yield Mo(e.footballService.getMatches(e.selectedRound)),e.isLiveRound=e.weekMatches.some(i=>"LIVE"===i.status.short||"HT"===i.status.short||"1H"===i.status.short||"2H"===i.status.short)}catch(i){console.error("Error loading week matches:",i),e.weekMatches=[]}})()}setupLeaderboards(){this.weeklyLeaderboard$=this.databaseService.getAllUsers().pipe((0,Bt.T)(e=>e.filter(i=>!this.currentGroup||this.currentGroup.members.includes(i.uid))),(0,Pn.n)(e=>dr(e.map(o=>this.databaseService.getPredictions(o.uid,this.selectedRound.toString()).pipe((0,Bt.T)(l=>{let u=0,p=0;return l.forEach(v=>{const M=this.weekMatches.find(b=>b.id===v.matchId);if(M&&null!==v.homeScore&&null!==v.awayScore&&null!==M.homeScore&&null!==M.awayScore){const b=Math.sign(v.homeScore-v.awayScore),S=Math.sign(M.homeScore-M.awayScore),z=v.homeScore===M.homeScore&&v.awayScore===M.awayScore,re=b===S;"FT"===M.status.short?z?u+=3:re&&(u+=1):("LIVE"===M.status.short||"HT"===M.status.short||"1H"===M.status.short||"2H"===M.status.short)&&(z?p+=3:re&&(p+=1))}}),{userId:o.uid,username:o.username||o.email||"Unknown User",totalPoints:0,weeklyPoints:u,livePoints:p,predictions:l.map(v=>({matchId:v.matchId,homeScore:v.homeScore,awayScore:v.awayScore,points:v.points||0}))}}))))),(0,Bt.T)(e=>e.sort((i,o)=>(o.weeklyPoints||0)+(o.livePoints||0)-((i.weeklyPoints||0)+(i.livePoints||0))))),this.overallLeaderboard$=this.databaseService.getAllUsersTotalPoints().pipe((0,Pn.n)(e=>dr(e.filter(o=>!this.currentGroup||this.currentGroup.members.includes(o.userId)).map(o=>this.databaseService.getAllUsers().pipe((0,Bt.T)(l=>{const u=l.find(p=>p.uid===o.userId);return{userId:o.userId,username:u?.username||u?.email||"Unknown User",totalPoints:o.totalPoints,weeklyPoints:0}}))))),(0,Bt.T)(e=>e.sort((i,o)=>o.totalPoints-i.totalPoints))),this.globalLeaderboard$=this.databaseService.getAllUsersTotalPoints().pipe((0,Pn.n)(e=>dr(e.map(o=>this.databaseService.getAllUsers().pipe((0,Bt.T)(l=>{const u=l.find(p=>p.uid===o.userId);return{userId:o.userId,username:u?.username||u?.email||"Unknown User",totalPoints:o.totalPoints,weeklyPoints:0}}))))),(0,Bt.T)(e=>e.sort((i,o)=>o.totalPoints-i.totalPoints)))}onRoundChange(e){var i=this;return(0,pe.A)(function*(){i.selectedRound=e,yield i.loadWeekMatches(),i.setupLeaderboards()})()}onViewChange(){this.setupLeaderboards()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(pl),s.rXU(Ns),s.rXU(gl),s.rXU(qv))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-leaderboard"]],decls:26,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],["mode","ios",1,"custom-segment",3,"ngModel","ngModelChange","ionChange"],["value","weekly"],["name","calendar-outline"],["value","overall"],["name","trophy-outline"],["value","global"],["name","globe-outline"],["color","light",4,"ngIf"],[4,"ngIf"],["color","light"],[3,"selectedRound","currentRound","isLiveRound","roundChange"],["class","group-info",4,"ngIf"],[1,"matches-grid"],[1,"grid-header"],[1,"pos-col"],[1,"user-col"],["class","matches-col",4,"ngFor","ngForOf"],["class","grid-row",3,"current-user",4,"ngFor","ngForOf"],[1,"group-info"],[1,"matches-col"],[1,"team-container"],[1,"team-logo",3,"src","alt"],[1,"score"],[1,"grid-row"],[4,"ngFor","ngForOf"],[1,"prediction-col"],[1,"pred-score"]],template:function(i,o){1&i&&(s.j41(0,"ion-header"),s.nrm(1,"br"),s.j41(2,"ion-toolbar",0)(3,"ion-buttons",1),s.nrm(4,"ion-back-button",2),s.k0s(),s.j41(5,"ion-title"),s.EFF(6,"Tabla General"),s.k0s()(),s.j41(7,"ion-toolbar",0)(8,"ion-segment",3),s.bIt("ngModelChange",function(u){return o.selectedView=u})("ionChange",function(){return o.onViewChange()}),s.j41(9,"ion-segment-button",4)(10,"ion-label"),s.nrm(11,"ion-icon",5),s.EFF(12," Jornada "),s.k0s()(),s.j41(13,"ion-segment-button",6)(14,"ion-label"),s.nrm(15,"ion-icon",7),s.EFF(16," Temporada "),s.k0s()(),s.j41(17,"ion-segment-button",8)(18,"ion-label"),s.nrm(19,"ion-icon",9),s.EFF(20," Mundial "),s.k0s()()()(),s.DNE(21,H$,2,3,"ion-toolbar",10),s.k0s(),s.j41(22,"ion-content"),s.DNE(23,Y$,3,3,"ng-container",11),s.DNE(24,Z$,12,4,"ng-container",11),s.DNE(25,nG,12,4,"ng-container",11),s.k0s()),2&i&&(s.R7$(8),s.Y8G("ngModel",o.selectedView),s.R7$(13),s.Y8G("ngIf","weekly"===o.selectedView),s.R7$(2),s.Y8G("ngIf","weekly"===o.selectedView),s.R7$(1),s.Y8G("ngIf","overall"===o.selectedView),s.R7$(1),s.Y8G("ngIf","global"===o.selectedView))},dependencies:[_n,yi,Zs,Va,Tr,Or,Cc,gm,T8,ea,ja,I8,bc,w0,Eu,Xv,ct],styles:[".matches-grid[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:10px auto 0;padding:8px;background:var(--ion-card-background);border-radius:8px;overflow-x:auto;-webkit-overflow-scrolling:touch}.group-info[_ngcontent-%COMP%]{text-align:center;margin:10px 0;padding:10px;background:var(--ion-color-primary);border-radius:8px;color:#fff}.group-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2em;font-weight:500}.grid-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:25px 30px minmax(70px,90px) repeat(auto-fit,28px);gap:1px;padding:6px;background:var(--ion-color-primary);color:#fff;border-radius:4px;font-weight:600;position:sticky;top:0;z-index:10;font-size:.85em;text-align:center}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:19px;height:19px;object-fit:contain}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:1em;font-weight:500}.grid-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:25px 30px minmax(70px,90px) repeat(auto-fit,28px);gap:1px;padding:6px;align-items:center;border-bottom:1px solid rgba(var(--ion-color-medium-rgb),.1);font-size:.85em;text-align:center}.grid-row.current-user[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.1);font-weight:500}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1px;padding:1px;border-radius:3px;font-weight:500;font-size:1em}.grid-row[_ngcontent-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.1);color:var(--ion-color-success)}.grid-row[_ngcontent-%COMP%]   .prediction-col.exact-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.1);color:var(--ion-color-warning)}.grid-row[_ngcontent-%COMP%]   .prediction-col.partial-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.05);color:var(--ion-color-medium)}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-match.live[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.grid-row[_ngcontent-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.05);color:var(--ion-color-medium);opacity:.5}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]   .pred-score[_ngcontent-%COMP%]{min-width:14px}.pos-col[_ngcontent-%COMP%], .pts-col[_ngcontent-%COMP%]{font-weight:600}.pts-col[_ngcontent-%COMP%]{color:var(--ion-color-primary);position:relative}.pts-col[_ngcontent-%COMP%]   .live-points[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background:var(--ion-color-success);color:#fff;font-size:.7em;padding:2px 4px;border-radius:8px}.user-col[_ngcontent-%COMP%]{padding-left:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dark[_nghost-%COMP%]   .matches-grid[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .matches-grid[_ngcontent-%COMP%]{background:rgba(var(--ion-background-color-rgb),.5)}.dark[_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .grid-row[_ngcontent-%COMP%]{border-color:rgba(var(--ion-color-medium-rgb),.1)}.dark[_nghost-%COMP%]   .grid-row.current-user[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .grid-row.current-user[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.15)}.dark[_nghost-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.exact-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-success-rgb),.15);color:var(--ion-color-success-tint)}.dark[_nghost-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.partial-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-warning-rgb),.15);color:var(--ion-color-warning-tint)}.dark[_nghost-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.no-match[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.1);color:var(--ion-color-medium-tint)}.dark[_nghost-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .prediction-col.no-prediction[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.1);color:var(--ion-color-medium-tint);opacity:.5}.dark[_nghost-%COMP%]   .user-col[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-col[_ngcontent-%COMP%]{color:var(--ion-color-light)}@media (max-width: 768px){.matches-grid[_ngcontent-%COMP%]{padding:4px;margin-top:8px}.grid-header[_ngcontent-%COMP%], .grid-row[_ngcontent-%COMP%]{grid-template-columns:22px 28px minmax(65px,85px) repeat(auto-fit,26px);gap:1px;padding:3px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .team-logo[_ngcontent-%COMP%]{width:12px;height:12px}.grid-header[_ngcontent-%COMP%]   .matches-col[_ngcontent-%COMP%]   .team-container[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:.7em}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]{font-size:.7em;padding:1px}.grid-row[_ngcontent-%COMP%]   .prediction-col[_ngcontent-%COMP%]   .pred-score[_ngcontent-%COMP%]{min-width:12px}.user-col[_ngcontent-%COMP%]{font-size:.8em;padding-left:2px}}"]})}}return n})();function oG(n,t){if(1&n&&(s.j41(0,"div",21)(1,"h2"),s.EFF(2,"Temporada Actual"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s(),s.j41(5,"p"),s.EFF(6),s.nI1(7,"date"),s.k0s(),s.j41(8,"p"),s.EFF(9),s.nI1(10,"date"),s.k0s()()),2&n){const e=s.XpG();s.R7$(4),s.JRh(e.currentSeason.name),s.R7$(2),s.SpI("Inicio: ",s.i5U(7,3,e.currentSeason.startDate,"mediumDate"),""),s.R7$(3),s.SpI("Fin: ",s.i5U(10,6,e.currentSeason.endDate,"mediumDate"),"")}}function rG(n,t){1&n&&(s.j41(0,"div",22),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Procesando operaci\xf3n..."),s.k0s()())}let sG=(()=>{class n{constructor(e,i,o,l,u,p,v,M){this.databaseService=e,this.seasonService=i,this.footballService=o,this.toastController=l,this.alertController=u,this.loadingController=p,this.afAuth=v,this.afs=M,this.loading=!1,this.currentSeason=null}ngOnInit(){this.loadCurrentSeason()}loadCurrentSeason(){var e=this;return(0,pe.A)(function*(){try{e.currentSeason=yield Mo(e.seasonService.getActiveSeason())}catch(i){console.error("Error loading current season:",i)}})()}recalculateAllPoints(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Recalcular Todos los Puntos",message:"\xbfEst\xe1s seguro de que deseas recalcular los puntos de todas las jornadas para todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Recalcular",handler:(o=(0,pe.A)(function*(){const l=yield e.loadingController.create({message:"Recalculando puntos..."});yield l.present();try{const u=yield e.afs.collection("users").get().toPromise();let p=0,v=0;if(u){const M=yield e.footballService.getCurrentRound();for(const b of u.docs){v++,console.log(`Processing user ${v}/${u.docs.length}: ${b.id}`);try{let S=0;for(let z=1;z<=M;z++){console.log(`Processing round ${z} for user ${b.id}`);const Be=(yield Mo(e.footballService.getMatches(z))).filter(Je=>"FT"===Je.status.short),We=yield e.afs.doc(`predictions/${b.id}/weeks/${z}`).get().toPromise();if(We?.exists){const Je=We.data();if(Je?.predictions&&Array.isArray(Je.predictions)){let Rt=0;const Ht=Je.predictions.map(Dt=>{const hn=Be.find(Un=>Un.id===Dt.matchId);let Cn=0;return hn&&null!==Dt.homeScore&&null!==Dt.awayScore&&(Dt.homeScore===hn.homeScore&&Dt.awayScore===hn.awayScore?Cn=3:Math.sign(hn.homeScore-hn.awayScore)===Math.sign(Dt.homeScore-Dt.awayScore)&&(Cn=1)),Rt+=Cn,{...Dt,points:Cn}});yield We.ref.update({predictions:Ht,totalPoints:Rt,lastUpdated:Yi.A.firestore.Timestamp.now()}),S+=Rt}}}yield e.afs.doc(`userPoints/${b.id}`).set({totalPoints:S,lastUpdated:Yi.A.firestore.Timestamp.now()},{merge:!0}),console.log(`Updated total points for user ${b.id}: ${S}`),p++}catch(S){console.error(`Error processing user ${b.id}:`,S)}}yield e.showToast(`Se actualizaron los puntos de ${p} usuarios de ${v} totales`,"success")}}catch(u){console.error("Error recalculating points:",u),yield e.showToast("Error al recalcular los puntos","danger")}finally{yield l.dismiss()}}),function(){return o.apply(this,arguments)})}]})).present()})()}recalculateRound16Points(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Recalcular Puntos Jornada 16",message:"\xbfEst\xe1s seguro de que deseas recalcular los puntos de la jornada 16 para todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Recalcular",handler:(o=(0,pe.A)(function*(){const l=yield e.loadingController.create({message:"Recalculando puntos..."});yield l.present();try{console.log("Fetching round 16 matches...");const p=(yield Mo(e.footballService.getMatches(16))).filter(S=>"FT"===S.status.short);console.log(`Found ${p.length} finished matches`);const v=yield e.afs.collection("users").get().toPromise();let M=0,b=0;if(v){for(const S of v.docs){b++,console.log(`Processing user ${b}/${v.docs.length}: ${S.id}`);try{const z=yield e.afs.doc(`predictions/${S.id}/weeks/16`).get().toPromise();if(z?.exists){const re=z.data();if(re?.predictions&&Array.isArray(re.predictions)){let Be=0;const We=re.predictions.map(Ht=>{const Dt=p.find(Cn=>Cn.id===Ht.matchId);let hn=0;return Dt&&null!==Ht.homeScore&&null!==Ht.awayScore&&(console.log(`Match ${Dt.id}: ${Dt.homeScore}-${Dt.awayScore} vs Prediction: ${Ht.homeScore}-${Ht.awayScore}`),Ht.homeScore===Dt.homeScore&&Ht.awayScore===Dt.awayScore?(hn=3,console.log("Exact match! 3 points")):Math.sign(Dt.homeScore-Dt.awayScore)===Math.sign(Ht.homeScore-Ht.awayScore)&&(hn=1,console.log("Correct result! 1 point"))),Be+=hn,{...Ht,points:hn}});console.log(`Total weekly points for user ${S.id}: ${Be}`),yield z.ref.update({predictions:We,totalPoints:Be,lastUpdated:Yi.A.firestore.Timestamp.now()});const Je=yield e.afs.collection(`predictions/${S.id}/weeks`).get().toPromise();let Rt=0;Je&&Je.docs.forEach(Ht=>{if("16"===Ht.id)Rt+=Be;else{const Dt=Ht.data();Rt+=Dt.totalPoints||0}}),console.log(`Updated total points for user ${S.id}: ${Rt}`),yield e.afs.doc(`userPoints/${S.id}`).set({totalPoints:Rt,lastUpdated:Yi.A.firestore.Timestamp.now()},{merge:!0}),M++}}}catch(z){console.error(`Error processing user ${S.id}:`,z)}}yield e.showToast(`Se actualizaron los puntos de ${M} usuarios de ${b} totales`,"success")}}catch(u){console.error("Error recalculating points:",u),yield e.showToast("Error al recalcular los puntos","danger")}finally{yield l.dismiss()}}),function(){return o.apply(this,arguments)})}]})).present()})()}updateRound16Predictions(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar actualizaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas actualizar las predicciones de la jornada 16 para agregar puntos iniciales?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Actualizar",handler:(o=(0,pe.A)(function*(){e.loading=!0;try{const l=yield e.afs.collection("users").get().toPromise(),u=e.afs.firestore.batch();let p=0;if(l)for(const v of l.docs){const M=yield e.afs.doc(`predictions/${v.id}/weeks/16`).get().toPromise();if(M?.exists){const b=M.data();if(b?.predictions&&Array.isArray(b.predictions)){const S=b.predictions.map(z=>({...z,points:z.points??0}));u.update(M.ref,{predictions:S,lastUpdated:Yi.A.firestore.Timestamp.now()}),p++}}}p>0?(yield u.commit(),yield e.showToast(`Se actualizaron las predicciones de ${p} usuarios para la jornada 16`,"success")):yield e.showToast("No se encontraron predicciones para actualizar en la jornada 16","warning")}catch(l){console.error("Error updating round 16 predictions:",l),yield e.showToast("Error al actualizar las predicciones de la jornada 16","danger")}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}generateRandomPredictions(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar generaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas generar predicciones aleatorias para partidos pasados?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Generar",handler:(o=(0,pe.A)(function*(){e.loading=!0;try{const l=yield e.footballService.getCurrentRound(),u=yield e.afs.collection("users").get().toPromise(),p=e.afs.firestore.batch(),v={};for(let b=1;b<=l;b++){const z=(yield Mo(e.footballService.getMatches(b))).filter(re=>new Date(re.date)<new Date);z.length>0&&(v[b]=z)}u?.docs.forEach(b=>{Object.entries(v).forEach(([S,z])=>{const{predictions:re,totalPoints:Be}=e.generatePredictionsForMatches(z);if(re.length>0){const We=e.afs.doc(`predictions/${b.id}/weeks/${S}`).ref;p.set(We,{predictions:re,totalPoints:Be,lastUpdated:Yi.A.firestore.Timestamp.now()},{merge:!0})}})}),yield p.commit(),yield(yield e.toastController.create({message:"Predicciones aleatorias generadas exitosamente para partidos pasados",duration:2e3,color:"success"})).present()}catch(l){console.error("Error generating predictions:",l),yield(yield e.toastController.create({message:"Error al generar predicciones aleatorias",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}clearPredictions(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar todas las predicciones? Esta acci\xf3n no se puede deshacer.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:(o=(0,pe.A)(function*(){e.loading=!0;try{const l=yield e.afs.collection("users").get().toPromise(),u=e.afs.firestore.batch();if(l)for(const v of l.docs)(yield e.afs.collection(`predictions/${v.id}/weeks`).get().toPromise())?.docs.forEach(b=>{u.delete(b.ref)});yield u.commit(),yield(yield e.toastController.create({message:"Predicciones eliminadas exitosamente",duration:2e3,color:"success"})).present()}catch(l){console.error("Error clearing predictions:",l),yield(yield e.toastController.create({message:"Error al eliminar las predicciones",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}resetPasswords(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Confirmar reseteo",message:"\xbfEst\xe1s seguro de que deseas resetear las contrase\xf1as de todos los usuarios?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Resetear",handler:(o=(0,pe.A)(function*(){e.loading=!0;try{const u=(yield e.afs.collection("users").get().toPromise())?.docs.map(function(){var v=(0,pe.A)(function*(M){const b=M.data();b.email&&(yield e.afAuth.sendPasswordResetEmail(b.email))});return function(M){return v.apply(this,arguments)}}());u&&(yield Promise.all(u)),yield(yield e.toastController.create({message:"Correos de reseteo de contrase\xf1a enviados exitosamente",duration:2e3,color:"success"})).present()}catch(l){console.error("Error resetting passwords:",l),yield(yield e.toastController.create({message:"Error al resetear las contrase\xf1as",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}),function(){return o.apply(this,arguments)})}]})).present()})()}setAdminUser(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Asignar Administrador",message:"Ingresa el correo electr\xf3nico del usuario que deseas hacer administrador",inputs:[{name:"email",type:"email",placeholder:"Correo electr\xf3nico"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Asignar",handler:(o=(0,pe.A)(function*(l){if(!l.email)return e.showToast("Por favor ingresa un correo electr\xf3nico","warning"),!1;e.loading=!0;try{const p=yield e.afs.collection("users").ref.where("email","==",l.email).get();return p.empty?(e.showToast("Usuario no encontrado","warning"),!1):(yield p.docs[0].ref.update({isAdmin:!0}),e.showToast("Usuario actualizado como administrador","success"),!0)}catch(u){return console.error("Error setting admin user:",u),e.showToast("Error al asignar administrador","danger"),!1}finally{e.loading=!1}}),function(u){return o.apply(this,arguments)})}]})).present()})()}calculatePoints(e,i){return e&&null!==e.homeScore&&null!==e.awayScore&&null!==i.homeScore&&null!==i.awayScore?e.homeScore===i.homeScore&&e.awayScore===i.awayScore?3:Math.sign(i.homeScore-i.awayScore)===Math.sign(e.homeScore-e.awayScore)?1:0:0}generatePredictionsForMatches(e){const i=e.map(l=>{const u={matchId:l.id,homeScore:Math.floor(4*Math.random()),awayScore:Math.floor(4*Math.random()),points:0};return"FT"===l.status.short&&(u.points=this.calculatePoints(u,l)),u}),o=i.reduce((l,u)=>l+(u.points||0),0);return{predictions:i,totalPoints:o}}showToast(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,color:i,position:"bottom"})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(pl),s.rXU(gE),s.rXU(gl),s.rXU(ta),s.rXU(Ku),s.rXU(bh),s.rXU(Zu),s.rXU(Ed))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-test-predictions"]],decls:57,vars:9,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],["class","season-info",4,"ngIf"],["expand","block","routerLink","/admin/season","color","primary"],["name","calendar-outline","slot","start"],["expand","block","routerLink","/admin/points","color","success"],["name","trophy-outline","slot","start"],["expand","block","routerLink","/admin/users","color","tertiary"],["name","people-outline","slot","start"],["expand","block","color","warning",3,"disabled","click"],["name","calculator-outline","slot","start"],["name","refresh-outline","slot","start"],["expand","block","color","tertiary",3,"disabled","click"],["name","shuffle-outline","slot","start"],["expand","block","color","danger",3,"disabled","click"],["name","trash-outline","slot","start"],["name","key-outline","slot","start"],["name","person-add-outline","slot","start"],["class","loading-container",4,"ngIf"],[1,"season-info"],[1,"loading-container"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Panel de Administraci\xf3n"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),s.EFF(10,"Herramientas de Administraci\xf3n"),s.k0s(),s.j41(11,"ion-card-subtitle"),s.EFF(12,"Gesti\xf3n de temporada y datos del sistema"),s.k0s()(),s.j41(13,"ion-card-content"),s.DNE(14,oG,11,9,"div",4),s.j41(15,"ion-list")(16,"ion-item")(17,"ion-button",5),s.nrm(18,"ion-icon",6),s.EFF(19," Configurar Temporada "),s.k0s()(),s.j41(20,"ion-item")(21,"ion-button",7),s.nrm(22,"ion-icon",8),s.EFF(23," Mis Puntos "),s.k0s()(),s.j41(24,"ion-item")(25,"ion-button",9),s.nrm(26,"ion-icon",10),s.EFF(27," Participantes "),s.k0s()(),s.j41(28,"ion-item")(29,"ion-button",11),s.bIt("click",function(){return o.recalculateAllPoints()}),s.nrm(30,"ion-icon",12),s.EFF(31," Recalcular Todos los Puntos "),s.k0s()(),s.j41(32,"ion-item")(33,"ion-button",11),s.bIt("click",function(){return o.recalculateRound16Points()}),s.nrm(34,"ion-icon",12),s.EFF(35," Recalcular Puntos Jornada 16 "),s.k0s()(),s.j41(36,"ion-item")(37,"ion-button",11),s.bIt("click",function(){return o.updateRound16Predictions()}),s.nrm(38,"ion-icon",13),s.EFF(39," Actualizar Puntos Jornada 16 "),s.k0s()(),s.j41(40,"ion-item")(41,"ion-button",14),s.bIt("click",function(){return o.generateRandomPredictions()}),s.nrm(42,"ion-icon",15),s.EFF(43," Generar Predicciones Aleatorias "),s.k0s()(),s.j41(44,"ion-item")(45,"ion-button",16),s.bIt("click",function(){return o.clearPredictions()}),s.nrm(46,"ion-icon",17),s.EFF(47," Eliminar Predicciones "),s.k0s()(),s.j41(48,"ion-item")(49,"ion-button",11),s.bIt("click",function(){return o.resetPasswords()}),s.nrm(50,"ion-icon",18),s.EFF(51," Resetear Contrase\xf1as "),s.k0s()(),s.j41(52,"ion-item")(53,"ion-button",14),s.bIt("click",function(){return o.setAdminUser()}),s.nrm(54,"ion-icon",19),s.EFF(55," Asignar Administrador "),s.k0s()()(),s.DNE(56,rG,4,0,"div",20),s.k0s()()()),2&i&&(s.R7$(14),s.Y8G("ngIf",o.currentSeason),s.R7$(15),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(4),s.Y8G("disabled",o.loading),s.R7$(3),s.Y8G("ngIf",o.loading))},dependencies:[yi,ds,Zs,Fa,Ba,hs,N0,_h,Va,Tr,Or,Os,t1,B0,ea,ja,bc,V0,$c,Tn],styles:[".season-info[_ngcontent-%COMP%]{margin-bottom:24px;padding:16px;background:var(--ion-color-light);border-radius:8px}.season-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2em;color:var(--ion-color-dark)}.season-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:var(--ion-color-medium)}ion-list[_ngcontent-%COMP%]{background:transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--inner-padding-end: 0;--background: transparent;margin-bottom:12px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;margin:0;--padding-top: 16px;--padding-bottom: 16px;font-weight:500}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:12px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0}ion-card[_ngcontent-%COMP%]{margin:16px 0;border-radius:12px;box-shadow:0 4px 12px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;margin-bottom:8px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}"]})}}return n})();function aG(n,t){1&n&&(s.j41(0,"div",17),s.nrm(1,"ion-spinner"),s.j41(2,"p"),s.EFF(3,"Guardando configuraci\xf3n de temporada..."),s.k0s()())}function cG(n,t){if(1&n&&(s.j41(0,"div",18)(1,"ion-text",19)(2,"p"),s.EFF(3),s.k0s()()()),2&n){const e=s.XpG();s.R7$(3),s.JRh(e.error)}}let lG=(()=>{class n{constructor(e,i,o,l){this.fb=e,this.seasonService=i,this.toastController=o,this.router=l,this.loading=!1,this.error=null,this.currentSeason=null,this.seasonForm=this.fb.group({name:["Clausura 2024",[nr.required]],startDate:["2024-01-12",[nr.required]],endDate:["2024-05-26",[nr.required]],isActive:[!0]})}ngOnInit(){this.loadCurrentSeason()}loadCurrentSeason(){var e=this;return(0,pe.A)(function*(){try{const i=yield Mo(e.seasonService.getActiveSeason());if(i){e.currentSeason=i;const o=e.formatDateForInput(i.startDate),l=e.formatDateForInput(i.endDate);e.seasonForm.patchValue({name:i.name,startDate:o,endDate:l,isActive:i.isActive}),console.log("Loaded season:",{name:i.name,startDate:o,endDate:l,isActive:i.isActive})}}catch(i){console.error("Error loading season:",i),e.error="Error al cargar la configuraci\xf3n de la temporada"}})()}formatDateForInput(e){if(!e)return"";const i=new Date(e);let o=""+(i.getMonth()+1),l=""+i.getDate();const u=i.getFullYear();return o.length<2&&(o="0"+o),l.length<2&&(l="0"+l),[u,o,l].join("-")}saveSeason(){var e=this;return(0,pe.A)(function*(){if(e.seasonForm.valid){e.loading=!0,e.error=null;try{const{name:i,startDate:o,endDate:l,isActive:u}=e.seasonForm.value;yield e.seasonService.saveSeason({name:i,startDate:new Date(o),endDate:new Date(l),isActive:u}),yield(yield e.toastController.create({message:"Configuraci\xf3n de temporada guardada exitosamente",duration:2e3,color:"success"})).present(),e.router.navigate(["/admin/test-predictions"])}catch(i){console.error("Error saving season:",i),e.error="Error al guardar la configuraci\xf3n de la temporada",yield(yield e.toastController.create({message:"Error al guardar la configuraci\xf3n",duration:2e3,color:"danger"})).present()}finally{e.loading=!1}}})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(xc),s.rXU(gE),s.rXU(ta),s.rXU(_i))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-season-management"]],decls:41,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/admin/test-predictions"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","name"],["value","Clausura 2024"],["value","Apertura 2024"],["type","date","formControlName","startDate"],["type","date","formControlName","endDate"],["formControlName","isActive"],[1,"button-container"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],["name","save-outline","slot","start"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"loading-container"],[1,"error-container"],["color","danger"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Configuraci\xf3n de Temporada"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"form",4),s.bIt("ngSubmit",function(){return o.saveSeason()}),s.j41(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),s.EFF(11,"Configuraci\xf3n de Temporada Liga MX"),s.k0s(),s.j41(12,"ion-card-subtitle"),s.EFF(13,"Define las fechas de inicio y fin del torneo actual"),s.k0s()(),s.j41(14,"ion-card-content")(15,"ion-item")(16,"ion-label",5),s.EFF(17,"Nombre del Torneo"),s.k0s(),s.j41(18,"ion-select",6)(19,"ion-select-option",7),s.EFF(20,"Clausura 2024"),s.k0s(),s.j41(21,"ion-select-option",8),s.EFF(22,"Apertura 2024"),s.k0s()()(),s.j41(23,"ion-item")(24,"ion-label",5),s.EFF(25,"Fecha de Inicio"),s.k0s(),s.nrm(26,"ion-input",9),s.k0s(),s.j41(27,"ion-item")(28,"ion-label",5),s.EFF(29,"Fecha de Fin"),s.k0s(),s.nrm(30,"ion-input",10),s.k0s(),s.j41(31,"ion-item")(32,"ion-label"),s.EFF(33,"Establecer como Temporada Activa"),s.k0s(),s.nrm(34,"ion-toggle",11),s.k0s(),s.j41(35,"div",12)(36,"ion-button",13),s.nrm(37,"ion-icon",14),s.EFF(38," Guardar Configuraci\xf3n "),s.k0s()(),s.DNE(39,aG,4,0,"div",15),s.DNE(40,cG,4,1,"div",16),s.k0s()()()()),2&i&&(s.R7$(7),s.Y8G("formGroup",o.seasonForm),s.R7$(29),s.Y8G("disabled",!o.seasonForm.valid||o.loading),s.R7$(3),s.Y8G("ngIf",o.loading),s.R7$(1),s.Y8G("ngIf",o.error))},dependencies:[yi,ds,Zs,Fa,Ba,hs,N0,_h,Va,Tr,Or,Ch,Os,Cc,pm,mm,B0,Ps,ea,O8,ja,E8,I8,Fu,bc,Iu,w0,y0,Xc,Ra],styles:[".ion-margin-top[_ngcontent-%COMP%]{margin-top:20px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:20px 0}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;color:var(--ion-color-medium)}ion-item[_ngcontent-%COMP%]{margin-bottom:16px;--padding-start: 0}ion-card[_ngcontent-%COMP%]{margin:20px 0;border-radius:12px;box-shadow:0 4px 12px #0000001a}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:20px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.4em;font-weight:600;margin-bottom:8px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{margin-top:24px}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-top: 16px;--padding-bottom: 16px;font-weight:500}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}}return n})();function uG(n,t){if(1&n&&(s.j41(0,"p"),s.EFF(1),s.k0s()),2&n){const e=s.XpG().$implicit;s.R7$(1),s.JRh(e.description)}}function dG(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Privado"),s.k0s())}function hG(n,t){1&n&&(s.j41(0,"ion-badge",0),s.EFF(1,"Admin"),s.k0s())}function fG(n,t){if(1&n&&(s.j41(0,"ion-item",28)(1,"ion-avatar",1),s.nrm(2,"ion-icon",29),s.k0s(),s.j41(3,"ion-label")(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s(),s.j41(8,"p",30),s.EFF(9),s.k0s(),s.DNE(10,hG,2,0,"ion-badge",18),s.k0s(),s.j41(11,"ion-note",31),s.EFF(12),s.k0s()()),2&n){const e=t.$implicit;s.R7$(2),s.Y8G("name",e.hasPredicted?"checkmark-circle":"alert-circle")("color",e.hasPredicted?"success":"warning"),s.R7$(3),s.JRh(e.username||e.email),s.R7$(2),s.Lme("",e.firstName," ",e.lastName,""),s.R7$(2),s.SpI("ID: ",e.uid,""),s.R7$(1),s.Y8G("ngIf","admin"===e.role),s.R7$(1),s.Y8G("color",e.hasPredicted?"success":"warning"),s.R7$(1),s.SpI(" ",e.hasPredicted?"Completado":"Pendiente"," ")}}function gG(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-item",14)(1,"div",15)(2,"div",16)(3,"ion-label")(4,"h2"),s.EFF(5),s.k0s(),s.DNE(6,uG,2,1,"p",8),s.j41(7,"p")(8,"ion-badge",17),s.EFF(9),s.k0s(),s.DNE(10,dG,2,0,"ion-badge",18),s.k0s()(),s.j41(11,"ion-buttons")(12,"ion-button",19),s.bIt("click",function(){const l=s.eBV(e).$implicit,u=s.XpG(2);return s.Njj(u.showInviteCode(l))}),s.nrm(13,"ion-icon",20),s.k0s()()(),s.j41(14,"div",21)(15,"div",22)(16,"h3"),s.EFF(17),s.k0s(),s.j41(18,"div",23)(19,"span",24),s.nrm(20,"ion-icon",25),s.EFF(21," Ya subi\xf3 quiniela "),s.k0s(),s.j41(22,"span",24),s.nrm(23,"ion-icon",26),s.EFF(24," Pendiente "),s.k0s()()(),s.j41(25,"ion-list"),s.DNE(26,fG,13,9,"ion-item",27),s.k0s()()()()}if(2&n){const e=t.$implicit,i=s.XpG(2);s.R7$(5),s.JRh(e.name),s.R7$(1),s.Y8G("ngIf",e.description),s.R7$(3),s.SpI("",e.memberCount||0," miembros"),s.R7$(1),s.Y8G("ngIf",e.isPrivate),s.R7$(7),s.SpI("Participantes - Jornada ",i.currentRound,""),s.R7$(9),s.Y8G("ngForOf",e.membersList)}}function pG(n,t){1&n&&(s.j41(0,"ion-item")(1,"ion-label",17),s.EFF(2," No perteneces a ning\xfan grupo "),s.k0s()())}function mG(n,t){if(1&n){const e=s.RV6();s.qex(0),s.j41(1,"ion-list"),s.DNE(2,gG,27,6,"ion-item",11),s.DNE(3,pG,3,0,"ion-item",8),s.k0s(),s.j41(4,"ion-button",12),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.joinGroup())}),s.nrm(5,"ion-icon",13),s.EFF(6," Unirse a un Grupo "),s.k0s(),s.bVm()}if(2&n){const e=t.ngIf;s.R7$(2),s.Y8G("ngForOf",e),s.R7$(1),s.Y8G("ngIf",!e.length)}}function vG(n,t){if(1&n){const e=s.RV6();s.j41(0,"ion-card",32)(1,"ion-card-header")(2,"ion-card-title"),s.EFF(3,"Crear Nuevo Grupo"),s.k0s()(),s.j41(4,"ion-card-content")(5,"form",33),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createGroup())}),s.j41(6,"ion-item")(7,"ion-label",34),s.EFF(8,"Nombre del Grupo"),s.k0s(),s.nrm(9,"ion-input",35),s.k0s(),s.j41(10,"ion-item")(11,"ion-label",34),s.EFF(12,"Descripci\xf3n"),s.k0s(),s.nrm(13,"ion-textarea",36),s.k0s(),s.j41(14,"ion-item")(15,"ion-label"),s.EFF(16,"Grupo Privado"),s.k0s(),s.nrm(17,"ion-toggle",37),s.k0s(),s.j41(18,"div",38)(19,"ion-button",39),s.nrm(20,"ion-icon",40),s.EFF(21," Crear Grupo "),s.k0s(),s.j41(22,"ion-button",41),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.toggleCreateGroup())}),s.nrm(23,"ion-icon",42),s.EFF(24," Cancelar "),s.k0s()()()()()}if(2&n){const e=s.XpG();s.R7$(5),s.Y8G("formGroup",e.groupForm),s.R7$(14),s.Y8G("disabled",!e.groupForm.valid||e.loading)}}let DR=(()=>{class n{constructor(e,i,o,l,u,p,v,M){this.fb=e,this.groupService=i,this.toastController=o,this.alertController=l,this.loadingController=u,this.footballService=p,this.databaseService=v,this.route=M,this.loading=!1,this.showCreateGroup=!1,this.currentRound=1,this.errorSubject=new eo.t(null),this.error$=this.errorSubject.asObservable(),this.groupForm=this.fb.group({name:["",[nr.required,nr.minLength(3)]],description:[""],isPrivate:[!0]}),this.groups$=this.groupService.getUserGroups().pipe((0,Pn.n)(b=>{const S=b.map(z=>this.loadGroupMembers(z).then(re=>({...z,membersList:re,memberCount:re.length})));return Promise.all(S)}))}ngOnInit(){var e=this;return(0,pe.A)(function*(){try{e.currentRound=yield e.footballService.getCurrentRound(),e.route.queryParams.subscribe(function(){var i=(0,pe.A)(function*(o){const l=o.code;l&&(yield e.handleInviteCode(l))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Error getting current round:",i),e.currentRound=1}})()}handleInviteCode(e){var i=this;return(0,pe.A)(function*(){try{const o=yield i.groupService.getGroupByInviteCode(e);o&&(yield(yield i.alertController.create({header:"Unirse al Grupo",message:`\xbfDeseas unirte al grupo "${o.name}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Unirme",handler:(u=(0,pe.A)(function*(){yield i.joinGroupWithCode(e)}),function(){return u.apply(this,arguments)})}]})).present())}catch(o){console.error("Error handling invite code:",o)}var u})()}loadGroupMembers(e){var i=this;return(0,pe.A)(function*(){if(!e.id)return[];try{const o=yield Mo(i.groupService.getGroupMembers(e.id));return(yield Promise.all(o.map(function(){var u=(0,pe.A)(function*(p){try{const v=yield Mo(i.databaseService.getPredictions(p.uid,i.currentRound.toString())),M=v.length>0&&v.every(b=>b.matchId&&null!==b.homeScore&&null!==b.awayScore);return{...p,hasPredicted:M}}catch(v){return console.error(`Error loading predictions for member ${p.uid}:`,v),{...p,hasPredicted:!1}}});return function(p){return u.apply(this,arguments)}}()))).sort((u,p)=>u.role===p.role?(u.hasPredicted?1:0)-(p.hasPredicted?1:0):"admin"===u.role?-1:1)}catch(o){return console.error("Error loading group members:",o),yield i.showToast("Error loading group members","danger"),[]}})()}toggleCreateGroup(){this.showCreateGroup=!this.showCreateGroup,this.showCreateGroup||this.groupForm.reset({name:"",description:"",isPrivate:!0})}createGroup(){var e=this;return(0,pe.A)(function*(){if(e.groupForm.valid){e.loading=!0;try{yield e.groupService.createGroup(e.groupForm.value),yield e.showToast("Group created successfully","success"),e.toggleCreateGroup()}catch(i){console.error("Error creating group:",i),yield e.showToast("Error creating group","danger")}finally{e.loading=!1}}})()}joinGroup(){var e=this;return(0,pe.A)(function*(){var o;yield(yield e.alertController.create({header:"Join a Group",message:"Enter the group invitation code",inputs:[{name:"inviteCode",type:"text",placeholder:"Invitation code"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Join",handler:(o=(0,pe.A)(function*(l){return l.inviteCode?(yield e.joinGroupWithCode(l.inviteCode),!0):(yield e.showToast("Please enter an invitation code","warning"),!1)}),function(u){return o.apply(this,arguments)})}]})).present()})()}joinGroupWithCode(e){var i=this;return(0,pe.A)(function*(){i.loading=!0;try{yield i.groupService.joinGroup(e),yield i.showToast("Successfully joined the group","success")}catch(o){console.error("Error joining group:",o),yield i.showToast("Error joining group","danger")}finally{i.loading=!1}})()}showInviteCode(e){var i=this;return(0,pe.A)(function*(){const o=i.groupService.generateInviteLink(e.id,e.inviteCode);yield(yield i.alertController.create({header:"Invitar al Grupo",message:"Loading...",buttons:[{text:"Copiar Link",handler:()=>(navigator.clipboard.writeText(o).then(()=>{i.showToast("Link copiado al portapapeles","success")}).catch(p=>{console.error("Error copying to clipboard:",p),i.showToast("Error al copiar el link","danger")}),!1)},{text:"Copiar C\xf3digo",handler:()=>(navigator.clipboard.writeText(e.inviteCode).then(()=>{i.showToast("C\xf3digo copiado al portapapeles","success")}).catch(p=>{console.error("Error copying to clipboard:",p),i.showToast("Error al copiar el c\xf3digo","danger")}),!1)},{text:"Cerrar",role:"cancel"}],cssClass:"invite-code-alert"})).present();const u=document.querySelector(".alert-message");u&&(u.innerHTML=`\n        <div class="invite-code">\n          <p>Comparte este link o c\xf3digo para invitar a otros usuarios:</p>\n          <div class="code-container">\n            <div class="link">${o}</div>\n            <div class="code">C\xf3digo: ${e.inviteCode}</div>\n          </div>\n        </div>\n      `)})()}showToast(e,i){var o=this;return(0,pe.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"bottom",color:i})).present()})()}static{this.\u0275fac=function(i){return new(i||n)(s.rXU(xc),s.rXU(qv),s.rXU(ta),s.rXU(Ku),s.rXU(bh),s.rXU(gl),s.rXU(pl),s.rXU(Lo))}}static{this.\u0275cmp=s.VBU({type:n,selectors:[["app-group-management"]],decls:19,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],[1,"ion-padding"],[1,"page-container"],[1,"groups-card"],["fill","clear",3,"click"],["name","add-circle-outline","slot","icon-only"],[4,"ngIf"],["class","create-group-card",4,"ngIf"],["message","Por favor espere...",3,"isOpen"],["lines","full","class","group-item",4,"ngFor","ngForOf"],["expand","block","color","secondary",1,"ion-margin-top",3,"click"],["name","enter-outline","slot","start"],["lines","full",1,"group-item"],[1,"group-content"],[1,"group-header"],["color","medium"],["color","primary",4,"ngIf"],["title","Compartir c\xf3digo",3,"click"],["name","share-social-outline"],[1,"members-list"],[1,"members-header"],[1,"status-legend"],[1,"legend-item"],["name","checkmark-circle","color","success"],["name","alert-circle","color","warning"],["lines","full","class","member-item",4,"ngFor","ngForOf"],["lines","full",1,"member-item"],[1,"prediction-status-icon",3,"name","color"],[1,"user-id"],["slot","end",3,"color"],[1,"create-group-card"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","name","type","text"],["formControlName","description","rows","3"],["formControlName","isPrivate"],[1,"button-container"],["expand","block","type","submit",3,"disabled"],["name","add-circle-outline","slot","start"],["expand","block","fill","outline","color","medium",3,"click"],["name","close-circle-outline","slot","start"]],template:function(i,o){1&i&&(s.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),s.nrm(3,"ion-back-button",2),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Mis Grupos"),s.k0s()()(),s.j41(6,"ion-content",3)(7,"div",4)(8,"ion-card",5)(9,"ion-card-header")(10,"ion-card-title"),s.EFF(11," Mis Grupos "),s.j41(12,"ion-button",6),s.bIt("click",function(){return o.toggleCreateGroup()}),s.nrm(13,"ion-icon",7),s.k0s()()(),s.j41(14,"ion-card-content"),s.DNE(15,mG,7,2,"ng-container",8),s.nI1(16,"async"),s.k0s()(),s.DNE(17,vG,25,2,"ion-card",9),s.k0s(),s.nrm(18,"ion-loading",10),s.k0s()),2&i&&(s.R7$(15),s.Y8G("ngIf",s.bMT(16,3,o.groups$)),s.R7$(2),s.Y8G("ngIf",o.showCreateGroup),s.R7$(1),s.Y8G("isOpen",o.loading))},dependencies:[_n,yi,k8,tl,ds,Zs,Fa,Ba,hs,_h,Va,Tr,Or,Ch,Os,Cc,t1,am,Vu,ym,ea,O8,ja,E8,Fu,bc,Iu,w0,y0,Xc,Ra,ct],styles:[".page-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:16px}.groups-card[_ngcontent-%COMP%], .create-group-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:12px;box-shadow:0 4px 12px #0000001a;background:var(--ion-card-background)}.group-item[_ngcontent-%COMP%]{position:relative;overflow:visible;margin-bottom:16px;border-radius:8px;--background: var(--ion-color-light-tint)}.group-item[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{width:100%}.group-item[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;color:var(--ion-color-medium);background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin:4px 0}.group-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-right:8px}.members-list[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:16px;padding:16px;background:var(--ion-color-light);border-radius:8px;box-shadow:0 2px 8px #0000001a}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{margin-bottom:16px;background:var(--ion-color-primary);border-radius:8px;padding:16px;box-shadow:0 2px 8px rgba(var(--ion-color-primary-rgb),.2);text-align:center}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;margin:0 0 12px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;font-size:.9em;color:#fff;margin-top:8px;font-weight:500}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);padding:6px 12px;border-radius:20px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);white-space:nowrap}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--background: var(--ion-background-color);margin-bottom:8px;border-radius:8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:transparent;min-width:32px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .prediction-status-icon[_ngcontent-%COMP%]{font-size:1.8em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal;overflow:visible;padding:8px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:4px;font-size:.95em;overflow:hidden;text-overflow:ellipsis}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85em;color:var(--ion-color-medium);margin:2px 0;overflow:hidden;text-overflow:ellipsis}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-size:.75em;background:rgba(var(--ion-color-medium-rgb),.1);padding:2px 6px;border-radius:4px;display:inline-block;margin:4px 0;word-break:break-all}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-top:4px;font-size:.75em;padding:4px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.8em;font-weight:500;white-space:nowrap;padding-left:8px;min-width:80px;text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%]     .invite-code-alert{--max-width: 320px}[_nghost-%COMP%]     .invite-code-alert .invite-code{text-align:center;padding:8px}[_nghost-%COMP%]     .invite-code-alert .invite-code p{margin-bottom:16px;color:var(--ion-color-medium)}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container{background:rgba(var(--ion-color-primary-rgb),.1);border-radius:8px;padding:12px;margin:8px 0}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container .link{font-size:14px;word-break:break-all;color:var(--ion-color-primary);margin-bottom:8px;padding:8px;background:rgba(var(--ion-color-primary-rgb),.1);border-radius:4px}[_nghost-%COMP%]     .invite-code-alert .invite-code .code-container .code{font-size:20px;font-weight:600;color:var(--ion-color-primary);letter-spacing:2px}[_nghost-%COMP%]     .invite-code-alert .alert-button-group{padding:8px}[_nghost-%COMP%]     .invite-code-alert .alert-button-group .alert-button.alert-button-role-cancel{color:var(--ion-color-medium)}@media (max-width: 576px){.page-container[_ngcontent-%COMP%]{padding:8px}.groups-card[_ngcontent-%COMP%]{margin-bottom:16px}.groups-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:12px}.groups-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:12px}.group-item[_ngcontent-%COMP%]{margin-bottom:12px}.group-item[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{padding:8px}.members-list[_ngcontent-%COMP%]{padding:8px;margin-top:12px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{padding:12px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{font-size:.8em;gap:8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{padding:4px 8px}.members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--min-height: auto;padding:4px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin:0 8px 0 0;width:28px;height:28px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .prediction-status-icon[_ngcontent-%COMP%]{font-size:1.4em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9em}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em;margin:1px 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.user-id[_ngcontent-%COMP%]{font-size:.7em;padding:1px 4px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:.7em;padding:2px 6px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.75em;min-width:60px;text-align:center}.invite-code-alert[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;padding:6px}.invite-code-alert[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{font-size:18px}}.dark[_nghost-%COMP%]   .group-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-light-rgb), .05)}.dark[_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .group-item[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{background:rgba(var(--ion-color-medium-rgb),.2)!important}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]{background:rgba(var(--ion-color-light-rgb),.05)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]{background:var(--ion-color-primary-shade)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]{color:#fff}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .members-header[_ngcontent-%COMP%]   .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-background-color-rgb), .3)}.dark[_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-light)}.dark   [_nghost-%COMP%]     .invite-code-alert .code-container{background:rgba(var(--ion-color-primary-rgb),.2)}.dark   [_nghost-%COMP%]     .invite-code-alert .code-container .link{background:rgba(var(--ion-color-primary-rgb),.2)}.dark[_nghost-%COMP%]   .groups-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .groups-card[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .create-group-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .create-group-card[_ngcontent-%COMP%]{background:rgba(var(--ion-card-background-rgb),.8)}"]})}}return n})(),v3=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.user$.pipe($i(1),(0,Bt.T)(e=>!!e||(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ns),s.KVO(_i))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const wG=[{path:"login",component:BU,canActivate:[Wv]},{path:"signup",component:SR,canActivate:[Wv]},{path:"home",component:zU,canActivate:[v3]},{path:"scores",component:i$,canActivate:[v3]},{path:"pools",component:E$,canActivate:[v3]},{path:"leaderboard",component:iG,canActivate:[v3]},{path:"groups",component:DR,canActivate:[v3]},{path:"groups/join/:code",component:SR,canActivate:[Wv]},{path:"admin",canActivate:[v3,(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.user$.pipe($i(1),(0,Bt.T)(e=>{const i=this.authService.isAdmin(e);return i||this.router.navigate(["/home"]),i}))}static{this.\u0275fac=function(i){return new(i||n)(s.KVO(Ns),s.KVO(_i))}}static{this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()],children:[{path:"test-predictions",component:sG},{path:"season",component:lG},{path:"groups",component:DR},{path:"points",component:R$},{path:"users",component:j$}]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let yG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n})}static{this.\u0275inj=s.G2t({imports:[x4.forRoot(wG),x4]})}}return n})();var _G=k(531);const OR="firebase_screen_id",mE="outlet",fg="screen_class",PR="screen_name";let PG=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const vE={},RG=n=>{const t=[n[fg],n[mE]].join("#");if(vE.hasOwnProperty(t))return vE[t];{const e=PG++;return vE[t]=e,e}},VG=new s.nKC("angularfire2.analytics.analyticsCollectionEnabled"),jG=new s.nKC("angularfire2.analytics.appVersion"),HG=new s.nKC("angularfire2.analytics.appName"),UG=new s.nKC("angularfire2.analytics.debugMode"),$G=new s.nKC("angularfire2.analytics.config"),Yv="dataLayer";let gg=(()=>{class n{constructor(e,i,o,l,u,p,v,M,b){if(this.analyticsInitialized=new Promise(()=>{}),sa(v)){window[Yv]=window[Yv]||[];const z=(...We)=>"config"===We[0]&&"firebase"===We[2].origin&&(this.measurementId=We[1],!0),re=We=>{window.gtag=(...Je)=>{We&&We(...Je),"event"===Je[0]&&Je[2].send_to===this.measurementId&&(l&&(Je[2].app_name=l),o&&(Je[2].app_version=o)),u&&typeof console<"u"&&console.info(...Je),function(...Rt){window[Yv].push(arguments)}(...Je)}};window[Yv].some(z)?(this.analyticsInitialized=Promise.resolve(),re()):this.analyticsInitialized=new Promise(We=>{re((...Je)=>{z(...Je)&&We()})}),p&&this.updateConfig(p),u&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=(0,Lt.of)(void 0).pipe((0,Qu.Q)(b.outsideAngular),(0,Pn.n)(_G.TT),(0,Pn.n)(z=>z?M.runOutsideAngular(()=>k.e(745).then(k.bind(k,745))):As.w),(0,Bt.T)(()=>(0,Fo.BM)("analytics","AngularFireAnalytics",e.name,()=>{const z=e.analytics();return!1===i&&z.setAnalyticsCollectionEnabled(!1),z},[e,i,p,u])),a7({bufferSize:1,refCount:!1}));return(0,Fo.Gt)(this,S,M)}updateConfig(e){return(0,Nt.sH)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(Fo.XU),s.KVO(VG,8),s.KVO(jG,8),s.KVO(HG,8),s.KVO(UG,8),s.KVO($G,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(ji.u0))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yE=(()=>{class n{constructor(e,i,o,l){if(this.disposables=[],Yi.A.registerVersion("angularfire",ji.xv.full,"compat-user-tracking"),Ga(i))this.initialized=Promise.resolve();else{let u;this.initialized=l.runOutsideAngular(()=>new Promise(p=>u=p)),this.disposables=[o.authState.subscribe(p=>{e.setUserId(p?.uid),u()}),o.credential.subscribe(p=>{if(p){const v=p.user.isAnonymous?"anonymous":p.additionalUserInfo.providerId;p.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:v}),e.logEvent("login",{method:v})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(gg),s.KVO(s.Agw),s.KVO(Zu),s.KVO(s.SKi))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})(),LR=(()=>{class n{constructor(e,i,o,l,u,p){if(Yi.A.registerVersion("angularfire",ji.xv.full,"compat-screen-tracking"),!i||!e)return this;u.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(Bi(o=>o instanceof D1)).pipe((0,Pn.n)(o=>{var l;const p=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,re=>re.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===l?void 0:l.toString())||"",v=n.routerState.root.children.map(re=>re).find(re=>re.outlet===o.snapshot.outlet);if(!v)return(0,Lt.of)(null);let M=v;for(;M.firstChild;)M=M.firstChild;const b=M.pathFromRoot.map(re=>{var Be;return null===(Be=re.routeConfig)||void 0===Be?void 0:Be.path}).filter(re=>re).join("/")||"/",S={[PR]:b,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:b,[mE]:o.snapshot.outlet};t&&(S.page_title=t.getTitle());let z=v.component;if(z){if(z===hc){let re=o.snapshot;for(;re.firstChild;)re=re.firstChild;z=re.component}}else z=o.snapshot.component;if("string"==typeof z)return(0,Lt.of)(Object.assign(Object.assign({},S),{[fg]:z}));if(z){const re=e.resolveComponentFactory(z);return(0,Lt.of)(Object.assign(Object.assign({},S),{[fg]:re.selector}))}return(0,Lt.of)(null)}),Bi(o=>!!o),(0,Bt.T)(o=>Object.assign({firebase_screen_class:o[fg],[OR]:RG(o)},o)),function xG(n,t,e,i){return(0,_o.N)((o,l)=>{let u;t&&"function"!=typeof t?({duration:e,element:u,connector:i}=t):u=t;const p=new Map,v=Be=>{p.forEach(Be),Be(l)},M=Be=>v(We=>We.error(Be));let b=0,S=!1;const z=new Ti.H(l,Be=>{try{const We=n(Be);let Je=p.get(We);if(!Je){p.set(We,Je=i?i():new Xi.B);const Rt=function re(Be,We){const Je=new yo.c(Rt=>{b++;const Ht=We.subscribe(Rt);return()=>{Ht.unsubscribe(),0==--b&&S&&z.unsubscribe()}});return Je.key=Be,Je}(We,Je);if(l.next(Rt),e){const Ht=(0,Ti._)(Je,()=>{Je.complete(),Ht?.unsubscribe()},void 0,void 0,()=>p.delete(We));z.add((0,Ar.Tg)(e(Rt)).subscribe(Ht))}}Je.next(u?u(Be):Be)}catch(We){M(We)}},()=>v(Be=>Be.complete()),M,()=>p.clear(),()=>(S=!0,0===b));o.subscribe(z)})}(o=>o[mE]),(0,Vi.Z)(o=>o.pipe((0,hh.F)((l,u)=>JSON.stringify(l)===JSON.stringify(u)),Hs(void 0),v7(),(0,Bt.T)(([l,u])=>l?Object.assign({firebase_previous_class:l[fg],firebase_previous_screen:l[PR],firebase_previous_id:l[OR]},u):u)))))(i,o,l).pipe((0,Pn.n)(v=>(0,Nt.sH)(this,void 0,void 0,function*(){return p&&(yield p.initialized),yield e.logEvent("screen_view",v)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(gg),s.KVO(_i,8),s.KVO(Sl,8),s.KVO(s.OM3),s.KVO(s.SKi),s.KVO(yE,8))},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac}),n})(),QG=(()=>{class n{constructor(e,i,o){Yi.A.registerVersion("angularfire",ji.xv.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(s.KVO(gg),s.KVO(LR,8),s.KVO(yE,8))},n.\u0275mod=s.$C({type:n}),n.\u0275inj=s.G2t({providers:[gg]}),n})();(function bi(n,t,e){(0,s.XSP)(n,t,e)})(ch),function(n){Object.keys(n).forEach(function(t){Cm(t,n[t]);var e=t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();t!==e&&Cm(e,n[t])})}({trophy:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>",trophyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M176 464h160M256 464V336M384 224c0-50.64-.08-134.63-.12-160a16 16 0 00-16-16l-223.79.26a16 16 0 00-16 15.95c0 30.58-.13 129.17-.13 159.79 0 64.28 83 112 128 112S384 288.28 384 224z' class='ionicon-fill-none ionicon-stroke-width'/><path d='M128 96H48v16c0 55.22 33.55 112 80 112M384 96h80v16c0 55.22-33.55 112-80 112' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",football:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm143 304h-45.22a8 8 0 01-6.91-4l-16.14-27.68a8 8 0 01-.86-6l14.86-59.92a8 8 0 014.65-5.45l28.1-11.9a8 8 0 018.34 1.3l41.63 35.82a8 8 0 012.69 7.26 174.75 174.75 0 01-24.28 66.68A8 8 0 01399 352zM134.52 237.13l28.1 11.9a8 8 0 014.65 5.45l14.86 59.92a8 8 0 01-.86 6L165.13 348a8 8 0 01-6.91 4H113a8 8 0 01-6.82-3.81 174.75 174.75 0 01-24.28-66.68 8 8 0 012.69-7.26l41.63-35.82a8 8 0 018.3-1.3zm256.94-87.24l-18.07 51.38A8 8 0 01369 206l-29.58 12.53a8 8 0 01-8.26-1.24L274.9 170.1a8 8 0 01-2.9-6.1v-33.58a8 8 0 013.56-6.65l42.83-28.54a8 8 0 017.66-.67A176.92 176.92 0 01390 142a8 8 0 011.46 7.89zM193.6 95.23l42.84 28.54a8 8 0 013.56 6.65V164a8 8 0 01-2.86 6.13l-56.26 47.19a8 8 0 01-8.26 1.24L143 206a8 8 0 01-4.43-4.72L120.5 149.9a8 8 0 011.5-7.9 176.92 176.92 0 0164-47.48 8 8 0 017.6.71zm17.31 327.46L191.18 373a8 8 0 01.52-7l15.17-26a8 8 0 016.91-4h84.44a8 8 0 016.91 4l15.18 26a8 8 0 01.53 7l-19.59 49.67a8 8 0 01-5.69 4.87 176.58 176.58 0 01-79 0 8 8 0 01-5.65-4.85z'/></svg>",footballOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 175.15l-76.09 63.83L200 320h112l20.09-81.02L256 175.15zM332.09 238.98l52.87-22.4 25.78-73.26M447 269.97l-62.04-53.39M179.91 238.98l-52.87-22.4-25.78-73.26M65 269.97l62.04-53.39M256 175.15v-57.57l64-42.64M192 74.93l64 42.65M312 320l28 48-28 71M410.74 368H342M200 320l-28 48 28.37 71.5M101.63 368H172' class='ionicon-fill-none ionicon-stroke-width'/></svg>",podium:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 32H192a32 32 0 00-32 32v412a4 4 0 004 4h184a4 4 0 004-4V64a32 32 0 00-32-32zM464 192h-72a8 8 0 00-8 8v272a8 8 0 008 8h80a24 24 0 0024-24V224a32 32 0 00-32-32zM48 128a32 32 0 00-32 32v296a24 24 0 0024 24h80a8 8 0 008-8V136a8 8 0 00-8-8z'/></svg>",podiumOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M32 160v296a8 8 0 008 8h136V160a16 16 0 00-16-16H48a16 16 0 00-16 16zM320 48H192a16 16 0 00-16 16v400h160V64a16 16 0 00-16-16zM464 208H352a16 16 0 00-16 16v240h136a8 8 0 008-8V224a16 16 0 00-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",people:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zM467.83 432H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zM212.66 291.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z'/></svg>",peopleOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",calendar:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z'/></svg>",calendarOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",globe:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M340.75 344.49c5.91-20.7 9.82-44.75 11.31-67.84a4.41 4.41 0 00-4.46-4.65h-71.06a4.43 4.43 0 00-4.47 4.39v55.3a4.44 4.44 0 004.14 4.38 273.51 273.51 0 0159 11.39 4.45 4.45 0 005.54-2.97zM323.58 377.31a260.05 260.05 0 00-46.6-9.09 4.42 4.42 0 00-4.91 4.29v65.24a4.47 4.47 0 006.76 3.7c15.9-9.27 29-24.84 40.84-45.43 1.94-3.36 4.89-9.15 6.67-12.69a4.29 4.29 0 00-2.76-6.02zM235.29 368.4a256.85 256.85 0 00-46.56 8.82c-2.64.76-3.75 4.4-2.55 6.79 1.79 3.56 4 8.11 5.89 11.51 13 23 26.84 37.5 41.24 45.93a4.47 4.47 0 006.76-3.7v-65.27a4.16 4.16 0 00-4.78-4.08zM235.6 272h-71.06a4.41 4.41 0 00-4.46 4.64c1.48 23.06 5.37 47.16 11.26 67.84a4.46 4.46 0 005.59 3 272.2 272.2 0 0159-11.36 4.44 4.44 0 004.15-4.38V276.4a4.43 4.43 0 00-4.48-4.4zM277 143.78a235.8 235.8 0 0046.5-9.14 4.3 4.3 0 002.76-6c-1.79-3.57-4.27-8.68-6.17-12.09-12.29-22-26.14-37.35-41.24-46a4.48 4.48 0 00-6.76 3.7v65.23a4.43 4.43 0 004.91 4.3zM276.54 240h71.06a4.39 4.39 0 004.46-4.58c-1.48-22.77-5.27-47.8-11.16-68.22a4.46 4.46 0 00-5.59-2.95c-19 5.74-38.79 10.43-59.09 12a4.4 4.4 0 00-4.15 4.32v55.11a4.4 4.4 0 004.47 4.32zM233.31 70.56c-15.42 8.57-29.17 24.43-41.47 46.37-1.91 3.41-4.19 8.11-6 11.67a4.31 4.31 0 002.76 6 225.42 225.42 0 0046.54 9.17 4.43 4.43 0 004.91-4.29V74.26a4.49 4.49 0 00-6.74-3.7zM235.92 176.26c-20.3-1.55-40.11-6.24-59.09-12a4.46 4.46 0 00-5.59 2.95c-5.89 20.42-9.68 45.45-11.16 68.22a4.39 4.39 0 004.46 4.58h71.06a4.4 4.4 0 004.47-4.34v-55.09a4.4 4.4 0 00-4.15-4.32z'/><path d='M414.39 97.61A224 224 0 1097.61 414.39 224 224 0 10414.39 97.61zM176.6 430.85a219.08 219.08 0 01-12.48-19.66c-2-3.69-4.84-9.26-6.73-13.13a7.29 7.29 0 00-10.31-3.16c-4.3 2.41-10 5.72-14.13 8.43a147.29 147.29 0 01-23.57-22.43 248.83 248.83 0 0130.41-18.36c1.86-1 2.77-2.14 2.18-4.18a374.8 374.8 0 01-14.09-82.17 4.36 4.36 0 00-4.3-4.17H66.84a2 2 0 01-2-1.7A98.28 98.28 0 0164 256a96.27 96.27 0 01.86-14.29 2 2 0 012-1.7h56.74c2.29 0 4.17-1.32 4.29-3.63a372.71 372.71 0 0114-81.83 4.36 4.36 0 00-2.19-5.11 260.63 260.63 0 01-29.84-17.9 169.82 169.82 0 0123.14-22.8c4.08 2.68 9.4 5.71 13.66 8.11a7.89 7.89 0 0011-3.42c1.88-3.87 4-8.18 6.06-11.88a221.93 221.93 0 0112.54-19.91A185 185 0 01256 64c28.94 0 55.9 7 80.53 18.46a202.23 202.23 0 0112 19c2.59 4.66 5.34 10.37 7.66 15.32a4.29 4.29 0 005.92 1.94c5.38-2.91 11.21-6.26 16.34-9.63a171.36 171.36 0 0123.2 23 244.89 244.89 0 01-29.06 17.31 4.35 4.35 0 00-2.18 5.12 348.68 348.68 0 0113.85 81.4 4.33 4.33 0 004.3 4.12l56.62-.07a2 2 0 012 1.7 117.46 117.46 0 010 28.62 2 2 0 01-2 1.72h-56.67a4.35 4.35 0 00-4.3 4.17 367.4 367.4 0 01-13.87 81.3 4.45 4.45 0 002.19 5.19c5 2.59 10.57 5.48 15.37 8.42s9.55 6.08 14.13 9.34a172.73 172.73 0 01-23 22.93c-2.44-1.61-5.34-3.44-7.84-4.94-1.72-1-4.89-2.77-6.65-3.76-3.82-2.14-7.88-.54-9.79 3.4s-4.83 9.59-6.87 13.25a212.42 212.42 0 01-12.35 19.53C310.91 442.37 284.94 448 256 448s-54.77-5.63-79.4-17.15z'/></svg>",globeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-miterlimit='10' d='M256 48v416M464 256H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",construct:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M503.58 126.2a16.85 16.85 0 00-27.07-4.55l-51.15 51.15a11.15 11.15 0 01-15.66 0l-22.48-22.48a11.17 11.17 0 010-15.67l50.88-50.89a16.85 16.85 0 00-5.27-27.4c-39.71-17-89.08-7.45-120 23.29-26.81 26.61-34.83 68-22 113.7a11 11 0 01-3.16 11.1L114.77 365.1a56.76 56.76 0 1080.14 80.18L357 272.08a11 11 0 0110.9-3.17c45 12 86 4 112.43-22 15.2-15 25.81-36.17 29.89-59.71 3.83-22.2 1.41-44.44-6.64-61z'/><path d='M437.33 378.41c-13.94-11.59-43.72-38.4-74.07-66.22l-66.07 70.61c28.24 30 53.8 57.85 65 70.88l.07.08A30 30 0 00383.72 464h1.1a30.11 30.11 0 0021-8.62l.07-.07 33.43-33.37a29.46 29.46 0 00-2-43.53zM118.54 214.55a20.48 20.48 0 00-3-10.76 2.76 2.76 0 012.62-4.22h.06c.84.09 5.33.74 11.7 4.61 4.73 2.87 18.23 12.08 41.73 35.54a34.23 34.23 0 007.22 22.12l66.23-61.55a33.73 33.73 0 00-21.6-9.2 2.65 2.65 0 01-.21-.26l-.65-.69-24.54-33.84a28.45 28.45 0 01-4-26.11 35.23 35.23 0 0111.78-16.35c5.69-4.41 18.53-9.72 29.44-10.62a52.92 52.92 0 0115.19.94 65.57 65.57 0 017.06 2.13 15.46 15.46 0 002.15.63 16 16 0 0016.38-25.06c-.26-.35-1.32-1.79-2.89-3.73a91.85 91.85 0 00-9.6-10.36c-8.15-7.36-29.27-19.77-57-19.77a123.13 123.13 0 00-46.3 9c-38.37 15.45-63.47 36.58-75.01 47.79l-.09.09A222.14 222.14 0 0063.7 129.5a27 27 0 00-4.7 11.77 7.33 7.33 0 01-7.71 6.17H50.2a20.65 20.65 0 00-14.59 5.9L6.16 182.05l-.32.32a20.89 20.89 0 00-.24 28.72c.19.2.37.39.57.58L53.67 258a21 21 0 0014.65 6 20.65 20.65 0 0014.59-5.9l29.46-28.79a20.51 20.51 0 006.17-14.76z'/></svg>",constructOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M436.67 184.11a27.17 27.17 0 01-38.3 0l-22.48-22.49a27.15 27.15 0 010-38.29l50.89-50.89a.85.85 0 00-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 01-7.67 27.14l-173 160.76a40.76 40.76 0 1057.57 57.54l162.15-173.3a27 27 0 0126.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 00-1.36-.22z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 01-3.33-21.35 20.76 20.76 0 013.5-4.62l15.68-15.29a18.66 18.66 0 015.63-3.87 18.11 18.11 0 0120 3.62c5.45 5.29 15.43 15 33.41 32.52M317.07 291.3c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 01.94 19.92L394.63 444a14 14 0 01-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M17.34 193.5l29.41-28.74a4.71 4.71 0 013.41-1.35 4.85 4.85 0 013.41 1.35h0a9.86 9.86 0 008.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0119.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 01206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0110.28 11.64 78.92 78.92 0 00-9.21-2.77 68.82 68.82 0 00-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 01-.34 9.16l-18.22 18a6.88 6.88 0 01-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 00-18.27 3.87 11.39 11.39 0 00-2.64 2 14.14 14.14 0 00.42 20.08l1.71 1.6a4.63 4.63 0 010 6.64L71.73 246.6a4.71 4.71 0 01-3.41 1.4 4.86 4.86 0 01-3.41-1.35l-47.57-46.43a4.88 4.88 0 010-6.72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",warning:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M449.07 399.08L278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0080 446.25h340.89a32 32 0 0028.18-47.17zm-198.6-1.83a20 20 0 1120-20 20 20 0 01-20 20zm21.72-201.15l-5.74 122a16 16 0 01-32 0l-5.74-121.95a21.73 21.73 0 0121.5-22.69h.21a21.74 21.74 0 0121.73 22.7z'/></svg>",warningOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M85.57 446.25h340.86a32 32 0 0028.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0028.17 47.17z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 195.39l5.74 122 5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 5.95z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 397.25a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",alert:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",alertOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='416' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",checkmark:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",checkmarkOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",radio:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='36'/><path d='M190.24 341.77a22 22 0 01-16.46-7.38 118 118 0 010-156.76 22 22 0 1132.87 29.24 74 74 0 000 98.29 22 22 0 01-16.43 36.61zM321.76 341.77a22 22 0 01-16.43-36.61 74 74 0 000-98.29 22 22 0 1132.87-29.24 118 118 0 010 156.76 22 22 0 01-16.44 7.38z'/><path d='M139.29 392.72a21.92 21.92 0 01-16.08-7 190 190 0 010-259.49 22 22 0 1132.13 30.06 146 146 0 000 199.38 22 22 0 01-16.06 37zM372.71 392.72a22 22 0 01-16.06-37 146 146 0 000-199.38 22 22 0 1132.13-30.06 190 190 0 010 259.49 21.92 21.92 0 01-16.07 6.95z'/><path d='M429 438a22 22 0 01-16.39-36.67 218.34 218.34 0 000-290.66 22 22 0 0132.78-29.34 262.34 262.34 0 010 349.34A22 22 0 01429 438zM83 438a21.94 21.94 0 01-16.41-7.33 262.34 262.34 0 010-349.34 22 22 0 0132.78 29.34 218.34 218.34 0 000 290.66A22 22 0 0183 438z'/></svg>",radioOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256.02' r='32'/><path d='M184.25 192.25a96 96 0 000 127.52M327.77 319.77a96 96 0 000-127.52M133.28 141.28a168 168 0 000 229.44M378.72 370.72a168 168 0 000-229.44M435 416a240.34 240.34 0 000-320M77 96a240.34 240.34 0 000 320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",add:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",addOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",remove:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",removeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",close:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",closeOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",create:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>",createOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>",person:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>",personOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",mail:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z'/></svg>",mailOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='96' width='416' height='320' rx='40' ry='40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M112 160l144 112 144-112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lockClosed:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>",lockClosedOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 208v-95a80 80 0 00-160 0v95' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",at:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 254.27c-4.5 51-40.12 80-80.55 80s-67.34-35.82-63.45-80 37.12-80 77.55-80 70.33 36 66.45 80z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M319.77 415.77c-28.56 12-47.28 14.5-79.28 14.5-97.2 0-169-78.8-160.49-176s94.31-176 191.51-176C381 78.27 441.19 150 432.73 246c-6.31 71.67-52.11 92.32-76.09 88.07-22.56-4-41.18-24.42-37.74-63.5l8.48-96.25' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",atOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 254.27c-4.5 51-40.12 80-80.55 80s-67.34-35.82-63.45-80 37.12-80 77.55-80 70.33 36 66.45 80z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M319.77 415.77c-28.56 12-47.28 14.5-79.28 14.5-97.2 0-169-78.8-160.49-176s94.31-176 191.51-176C381 78.27 441.19 150 432.73 246c-6.31 71.67-52.11 92.32-76.09 88.07-22.56-4-41.18-24.42-37.74-63.5l8.48-96.25' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",logIn:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M392 80H232a56.06 56.06 0 00-56 56v104h153.37l-52.68-52.69a16 16 0 0122.62-22.62l80 80a16 16 0 010 22.62l-80 80a16 16 0 01-22.62-22.62L329.37 272H176v104c0 32.05 33.79 56 64 56h152a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zM80 240a16 16 0 000 32h96v-32z'/></svg>",logInOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 176v-40a40 40 0 0140-40h160a40 40 0 0140 40v240a40 40 0 01-40 40H240c-22.09 0-48-17.91-48-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M288 336l80-80-80-80M80 256h272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",logOut:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>",logOutOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",arrowForward:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",arrowForwardOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",sunny:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>",sunnyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M256 48v48M256 416v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",moon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z'/></svg>",moonOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",share:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M376 176H272v145a16 16 0 01-32 0V176H136a56.06 56.06 0 00-56 56v192a56.06 56.06 0 0056 56h240a56.06 56.06 0 0056-56V232a56.06 56.06 0 00-56-56zM272 86.63l52.69 52.68a16 16 0 0022.62-22.62l-80-80a16 16 0 00-22.62 0l-80 80a16 16 0 0022.62 22.62L240 86.63V176h32z'/></svg>",shareOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shareSocial:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 336a63.78 63.78 0 00-46.12 19.7l-148-83.27a63.85 63.85 0 000-32.86l148-83.27a63.8 63.8 0 10-15.73-27.87l-148 83.27a64 64 0 100 88.6l148 83.27A64 64 0 10384 336z'/></svg>",shareSocialOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='128' cy='256' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='112' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='400' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M169.83 279.53l172.34 96.94M342.17 135.53l-172.34 96.94' class='ionicon-fill-none ionicon-stroke-width'/></svg>",enter:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 136v104h153.37l-52.68-52.69a16 16 0 0122.62-22.62l80 80a16 16 0 010 22.62l-80 80a16 16 0 01-22.62-22.62L313.37 272H160v104a56.06 56.06 0 0056 56h208a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56H216a56.06 56.06 0 00-56 56zM48 240a16 16 0 000 32h112v-32z'/></svg>",enterOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M176 176v-40a40 40 0 0140-40h208a40 40 0 0140 40v240a40 40 0 01-40 40H216a40 40 0 01-40-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M272 336l80-80-80-80M48 256h288' class='ionicon-fill-none ionicon-stroke-width'/></svg>",key:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 00-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 11-32-32 32 32 0 0132 32z'/></svg>",keyOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 00-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 11-32-32 32 32 0 0132 32z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",save:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M465.94 119.76l-73.7-73.7A47.68 47.68 0 00358.3 32H96a64 64 0 00-64 64v320a64 64 0 0064 64h320a64 64 0 0064-64V153.7a47.68 47.68 0 00-14.06-33.94zM120 112h176a8 8 0 018 8v48a8 8 0 01-8 8H120a8 8 0 01-8-8v-48a8 8 0 018-8zm139.75 319.91a80 80 0 1176.16-76.16 80.06 80.06 0 01-76.16 76.16z'/><circle cx='256' cy='352' r='48'/></svg>",saveOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M380.93 57.37A32 32 0 00358.3 48H94.22A46.21 46.21 0 0048 94.22v323.56A46.21 46.21 0 0094.22 464h323.56A46.36 46.36 0 00464 417.78V153.7a32 32 0 00-9.37-22.63zM256 416a64 64 0 1164-64 63.92 63.92 0 01-64 64zm48-224H112a16 16 0 01-16-16v-64a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-16 16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",refresh:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",refreshOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",calculator:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 80a48.05 48.05 0 00-48-48H144a48.05 48.05 0 00-48 48v352a48.05 48.05 0 0048 48h224a48.05 48.05 0 0048-48zM168 432a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm88 160a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm112 136a24 24 0 01-48 0v-80a24 24 0 0148 0zm-24-136a24 24 0 1124-24 24 24 0 01-24 24zm19.31-100.69A16 16 0 01352 176H160a16 16 0 01-16-16V96a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-4.69 11.31z'/></svg>",calculatorOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>",trash:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>",trashOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shuffle:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256' class='ionicon-fill-none ionicon-stroke-width'/><path d='M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",shuffleOutline:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256' class='ionicon-fill-none ionicon-stroke-width'/><path d='M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"});let JG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=s.$C({type:n,bootstrap:[TU]})}static{this.\u0275inj=s.G2t({providers:[{provide:h9,useClass:Xw},gl,pl,Ns,Kv,OU,gE,qv,bR,AR,uE,Wv,LR,yE],imports:[Ya,Fy.forRoot(),GE,E0,I0,yG,Cw.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),Fo.bf.initializeApp(il_firebase),Vz,vU.enablePersistence({synchronizeTabs:!0}),MU,QG]})}}return n})();O3().bootstrapModule(JG).catch(n=>console.error(n))},4412:(At,je,k)=>{"use strict";k.d(je,{t:()=>Y});var s=k(1413);class Y extends s.B{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const Ie=super._subscribe(ue);return!Ie.closed&&ue.next(this._value),Ie}getValue(){const{hasError:ue,thrownError:Ie,_value:ye}=this;if(ue)throw Ie;return this._throwIfClosed(),ye}next(ue){super.next(this._value=ue)}}},1985:(At,je,k)=>{"use strict";k.d(je,{c:()=>Se});var s=k(7707),Y=k(8359),L=k(3494),ue=k(1203),Ie=k(1026),ye=k(8071),q=k(9786);let Se=(()=>{class te{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const we=new te;return we.source=this,we.operator=ce,we}subscribe(ce,we,Ee){const fe=function F(te){return te&&te instanceof s.vU||function B(te){return te&&(0,ye.T)(te.next)&&(0,ye.T)(te.error)&&(0,ye.T)(te.complete)}(te)&&(0,Y.Uv)(te)}(ce)?ce:new s.Ms(ce,we,Ee);return(0,q.Y)(()=>{const{operator:ee,source:me}=this;fe.add(ee?ee.call(fe,me):me?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(ce){try{return this._subscribe(ce)}catch(we){ce.error(we)}}forEach(ce,we){return new(we=Me(we))((Ee,fe)=>{const ee=new s.Ms({next:me=>{try{ce(me)}catch(Ue){fe(Ue),ee.unsubscribe()}},error:fe,complete:Ee});this.subscribe(ee)})}_subscribe(ce){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(ce)}[L.s](){return this}pipe(...ce){return(0,ue.m)(ce)(this)}toPromise(ce){return new(ce=Me(ce))((we,Ee)=>{let fe;this.subscribe(ee=>fe=ee,ee=>Ee(ee),()=>we(fe))})}}return te.create=se=>new te(se),te})();function Me(te){var se;return null!==(se=te??Ie.$.Promise)&&void 0!==se?se:Promise}},1413:(At,je,k)=>{"use strict";k.d(je,{B:()=>q});var s=k(1985),Y=k(8359);const ue=(0,k(1853).L)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=k(7908),ye=k(9786);let q=(()=>{class Me extends s.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const te=new Se(this,this);return te.operator=F,te}_throwIfClosed(){if(this.closed)throw new ue}next(F){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(F)}})}error(F){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:te}=this;for(;te.length;)te.shift().error(F)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:te,isStopped:se,observers:ce}=this;return te||se?Y.Kn:(this.currentObservers=null,ce.push(F),new Y.yU(()=>{this.currentObservers=null,(0,Ie.o)(ce,F)}))}_checkFinalizedStatuses(F){const{hasError:te,thrownError:se,isStopped:ce}=this;te?F.error(se):ce&&F.complete()}asObservable(){const F=new s.c;return F.source=this,F}}return Me.create=(B,F)=>new Se(B,F),Me})();class Se extends q{constructor(B,F){super(),this.destination=B,this.source=F}next(B){var F,te;null===(te=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===te||te.call(F,B)}error(B){var F,te;null===(te=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===te||te.call(F,B)}complete(){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===F||F.call(B)}_subscribe(B){var F,te;return null!==(te=null===(F=this.source)||void 0===F?void 0:F.subscribe(B))&&void 0!==te?te:Y.Kn}}},7707:(At,je,k)=>{"use strict";k.d(je,{Ms:()=>Ee,vU:()=>te});var s=k(8071),Y=k(8359),L=k(1026),ue=k(5334),Ie=k(5343);const ye=Me("C",void 0,void 0);function Me(X,_e,J){return{kind:X,value:_e,error:J}}var B=k(9270),F=k(9786);class te extends Y.yU{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Y.Uv)(_e)&&_e.add(this)):this.destination=Ue}static create(_e,J,Ae){return new Ee(_e,J,Ae)}next(_e){this.isStopped?me(function Se(X){return Me("N",X,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?me(function q(X){return Me("E",void 0,X)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?me(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const se=Function.prototype.bind;function ce(X,_e){return se.call(X,_e)}class we{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:J}=this;if(J.next)try{J.next(_e)}catch(Ae){fe(Ae)}}error(_e){const{partialObserver:J}=this;if(J.error)try{J.error(_e)}catch(Ae){fe(Ae)}else fe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(J){fe(J)}}}class Ee extends te{constructor(_e,J,Ae){let V;if(super(),(0,s.T)(_e)||!_e)V={next:_e??void 0,error:J??void 0,complete:Ae??void 0};else{let j;this&&L.$.useDeprecatedNextContext?(j=Object.create(_e),j.unsubscribe=()=>this.unsubscribe(),V={next:_e.next&&ce(_e.next,j),error:_e.error&&ce(_e.error,j),complete:_e.complete&&ce(_e.complete,j)}):V=_e}this.destination=new we(V)}}function fe(X){L.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(X):(0,ue.m)(X)}function me(X,_e){const{onStoppedNotification:J}=L.$;J&&B.f.setTimeout(()=>J(X,_e))}const Ue={closed:!0,next:Ie.l,error:function ee(X){throw X},complete:Ie.l}},8359:(At,je,k)=>{"use strict";k.d(je,{Kn:()=>ye,yU:()=>Ie,Uv:()=>q});var s=k(8071);const L=(0,k(1853).L)(Me=>function(F){Me(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((te,se)=>`${se+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var ue=k(7908);class Ie{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const ce of F)ce.remove(this);else F.remove(this);const{initialTeardown:te}=this;if((0,s.T)(te))try{te()}catch(ce){B=ce instanceof L?ce.errors:[ce]}const{_finalizers:se}=this;if(se){this._finalizers=null;for(const ce of se)try{Se(ce)}catch(we){B=B??[],we instanceof L?B=[...B,...we.errors]:B.push(we)}}if(B)throw new L(B)}}add(B){var F;if(B&&B!==this)if(this.closed)Se(B);else{if(B instanceof Ie){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(B)}}_hasParent(B){const{_parentage:F}=this;return F===B||Array.isArray(F)&&F.includes(B)}_addParent(B){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(B),F):F?[F,B]:B}_removeParent(B){const{_parentage:F}=this;F===B?this._parentage=null:Array.isArray(F)&&(0,ue.o)(F,B)}remove(B){const{_finalizers:F}=this;F&&(0,ue.o)(F,B),B instanceof Ie&&B._removeParent(this)}}Ie.EMPTY=(()=>{const Me=new Ie;return Me.closed=!0,Me})();const ye=Ie.EMPTY;function q(Me){return Me instanceof Ie||Me&&"closed"in Me&&(0,s.T)(Me.remove)&&(0,s.T)(Me.add)&&(0,s.T)(Me.unsubscribe)}function Se(Me){(0,s.T)(Me)?Me():Me.unsubscribe()}},1026:(At,je,k)=>{"use strict";k.d(je,{$:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(At,je,k)=>{"use strict";k.d(je,{w:()=>Y});const Y=new(k(1985).c)(Ie=>Ie.complete())},8455:(At,je,k)=>{"use strict";k.d(je,{H:()=>_e});var s=k(8750),Y=k(941),L=k(6745),ye=k(1985),Se=k(4761),Me=k(8071),B=k(5225);function te(J,Ae){if(!J)throw new Error("Iterable cannot be null");return new ye.c(V=>{(0,B.N)(V,Ae,()=>{const j=J[Symbol.asyncIterator]();(0,B.N)(V,Ae,()=>{j.next().then(N=>{N.done?V.complete():V.next(N.value)})},0,!0)})})}var se=k(5055),ce=k(9858),we=k(7441),Ee=k(5397),fe=k(7953),ee=k(591),me=k(5196);function _e(J,Ae){return Ae?function X(J,Ae){if(null!=J){if((0,se.l)(J))return function ue(J,Ae){return(0,s.Tg)(J).pipe((0,L._)(Ae),(0,Y.Q)(Ae))}(J,Ae);if((0,we.X)(J))return function q(J,Ae){return new ye.c(V=>{let j=0;return Ae.schedule(function(){j===J.length?V.complete():(V.next(J[j++]),V.closed||this.schedule())})})}(J,Ae);if((0,ce.y)(J))return function Ie(J,Ae){return(0,s.Tg)(J).pipe((0,L._)(Ae),(0,Y.Q)(Ae))}(J,Ae);if((0,fe.T)(J))return te(J,Ae);if((0,Ee.x)(J))return function F(J,Ae){return new ye.c(V=>{let j;return(0,B.N)(V,Ae,()=>{j=J[Se.l](),(0,B.N)(V,Ae,()=>{let N,oe;try{({value:N,done:oe}=j.next())}catch(Q){return void V.error(Q)}oe?V.complete():V.next(N)},0,!0)}),()=>(0,Me.T)(j?.return)&&j.return()})}(J,Ae);if((0,me.U)(J))return function Ue(J,Ae){return te((0,me.C)(J),Ae)}(J,Ae)}throw(0,ee.L)(J)}(J,Ae):(0,s.Tg)(J)}},8750:(At,je,k)=>{"use strict";k.d(je,{Tg:()=>se});var s=k(1635),Y=k(7441),L=k(9858),ue=k(1985),Ie=k(5055),ye=k(7953),q=k(591),Se=k(5397),Me=k(5196),B=k(8071),F=k(5334),te=k(3494);function se(X){if(X instanceof ue.c)return X;if(null!=X){if((0,Ie.l)(X))return function ce(X){return new ue.c(_e=>{const J=X[te.s]();if((0,B.T)(J.subscribe))return J.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(X);if((0,Y.X)(X))return function we(X){return new ue.c(_e=>{for(let J=0;J<X.length&&!_e.closed;J++)_e.next(X[J]);_e.complete()})}(X);if((0,L.y)(X))return function Ee(X){return new ue.c(_e=>{X.then(J=>{_e.closed||(_e.next(J),_e.complete())},J=>_e.error(J)).then(null,F.m)})}(X);if((0,ye.T)(X))return ee(X);if((0,Se.x)(X))return function fe(X){return new ue.c(_e=>{for(const J of X)if(_e.next(J),_e.closed)return;_e.complete()})}(X);if((0,Me.U)(X))return function me(X){return ee((0,Me.C)(X))}(X)}throw(0,q.L)(X)}function ee(X){return new ue.c(_e=>{(function Ue(X,_e){var J,Ae,V,j;return(0,s.sH)(this,void 0,void 0,function*(){try{for(J=(0,s.xN)(X);!(Ae=yield J.next()).done;)if(_e.next(Ae.value),_e.closed)return}catch(N){V={error:N}}finally{try{Ae&&!Ae.done&&(j=J.return)&&(yield j.call(J))}finally{if(V)throw V.error}}_e.complete()})})(X,_e).catch(J=>_e.error(J))})}},7786:(At,je,k)=>{"use strict";k.d(je,{h:()=>ye});var s=k(6365),Y=k(8750),L=k(983),ue=k(9326),Ie=k(8455);function ye(...q){const Se=(0,ue.lI)(q),Me=(0,ue.R0)(q,1/0),B=q;return B.length?1===B.length?(0,Y.Tg)(B[0]):(0,s.U)(Me)((0,Ie.H)(B,Se)):L.w}},7673:(At,je,k)=>{"use strict";k.d(je,{of:()=>L});var s=k(9326),Y=k(8455);function L(...ue){const Ie=(0,s.lI)(ue);return(0,Y.H)(ue,Ie)}},4360:(At,je,k)=>{"use strict";k.d(je,{H:()=>L,_:()=>Y});var s=k(7707);function Y(ue,Ie,ye,q,Se){return new L(ue,Ie,ye,q,Se)}class L extends s.vU{constructor(Ie,ye,q,Se,Me,B){super(Ie),this.onFinalize=Me,this.shouldUnsubscribe=B,this._next=ye?function(F){try{ye(F)}catch(te){Ie.error(te)}}:super._next,this._error=Se?function(F){try{Se(F)}catch(te){Ie.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(F){Ie.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},3294:(At,je,k)=>{"use strict";k.d(je,{F:()=>ue});var s=k(3669),Y=k(9974),L=k(4360);function ue(ye,q=s.D){return ye=ye??Ie,(0,Y.N)((Se,Me)=>{let B,F=!0;Se.subscribe((0,L._)(Me,te=>{const se=q(te);(F||!ye(B,se))&&(F=!1,B=se,Me.next(te))}))})}function Ie(ye,q){return ye===q}},6354:(At,je,k)=>{"use strict";k.d(je,{T:()=>L});var s=k(9974),Y=k(4360);function L(ue,Ie){return(0,s.N)((ye,q)=>{let Se=0;ye.subscribe((0,Y._)(q,Me=>{q.next(ue.call(Ie,Me,Se++))}))})}},6365:(At,je,k)=>{"use strict";k.d(je,{U:()=>L});var s=k(1397),Y=k(3669);function L(ue=1/0){return(0,s.Z)(Y.D,ue)}},1397:(At,je,k)=>{"use strict";k.d(je,{Z:()=>Se});var s=k(6354),Y=k(8750),L=k(9974),ue=k(5225),Ie=k(4360),q=k(8071);function Se(Me,B,F=1/0){return(0,q.T)(B)?Se((te,se)=>(0,s.T)((ce,we)=>B(te,ce,se,we))((0,Y.Tg)(Me(te,se))),F):("number"==typeof B&&(F=B),(0,L.N)((te,se)=>function ye(Me,B,F,te,se,ce,we,Ee){const fe=[];let ee=0,me=0,Ue=!1;const X=()=>{Ue&&!fe.length&&!ee&&B.complete()},_e=Ae=>ee<te?J(Ae):fe.push(Ae),J=Ae=>{ce&&B.next(Ae),ee++;let V=!1;(0,Y.Tg)(F(Ae,me++)).subscribe((0,Ie._)(B,j=>{se?.(j),ce?_e(j):B.next(j)},()=>{V=!0},void 0,()=>{if(V)try{for(ee--;fe.length&&ee<te;){const j=fe.shift();we?(0,ue.N)(B,we,()=>J(j)):J(j)}X()}catch(j){B.error(j)}}))};return Me.subscribe((0,Ie._)(B,_e,()=>{Ue=!0,X()})),()=>{Ee?.()}}(te,se,Me,F)))}},941:(At,je,k)=>{"use strict";k.d(je,{Q:()=>ue});var s=k(5225),Y=k(9974),L=k(4360);function ue(Ie,ye=0){return(0,Y.N)((q,Se)=>{q.subscribe((0,L._)(Se,Me=>(0,s.N)(Se,Ie,()=>Se.next(Me),ye),()=>(0,s.N)(Se,Ie,()=>Se.complete(),ye),Me=>(0,s.N)(Se,Ie,()=>Se.error(Me),ye)))})}},7647:(At,je,k)=>{"use strict";k.d(je,{u:()=>Ie});var s=k(8750),Y=k(1413),L=k(7707),ue=k(9974);function Ie(q={}){const{connector:Se=(()=>new Y.B),resetOnError:Me=!0,resetOnComplete:B=!0,resetOnRefCountZero:F=!0}=q;return te=>{let se,ce,we,Ee=0,fe=!1,ee=!1;const me=()=>{ce?.unsubscribe(),ce=void 0},Ue=()=>{me(),se=we=void 0,fe=ee=!1},X=()=>{const _e=se;Ue(),_e?.unsubscribe()};return(0,ue.N)((_e,J)=>{Ee++,!ee&&!fe&&me();const Ae=we=we??Se();J.add(()=>{Ee--,0===Ee&&!ee&&!fe&&(ce=ye(X,F))}),Ae.subscribe(J),!se&&Ee>0&&(se=new L.Ms({next:V=>Ae.next(V),error:V=>{ee=!0,me(),ce=ye(Ue,Me,V),Ae.error(V)},complete:()=>{fe=!0,me(),ce=ye(Ue,B),Ae.complete()}}),(0,s.Tg)(_e).subscribe(se))})(te)}}function ye(q,Se,...Me){if(!0===Se)return void q();if(!1===Se)return;const B=new L.Ms({next:()=>{B.unsubscribe(),q()}});return(0,s.Tg)(Se(...Me)).subscribe(B)}},6745:(At,je,k)=>{"use strict";k.d(je,{_:()=>Y});var s=k(9974);function Y(L,ue=0){return(0,s.N)((Ie,ye)=>{ye.add(L.schedule(()=>Ie.subscribe(ye),ue))})}},5558:(At,je,k)=>{"use strict";k.d(je,{n:()=>ue});var s=k(8750),Y=k(9974),L=k(4360);function ue(Ie,ye){return(0,Y.N)((q,Se)=>{let Me=null,B=0,F=!1;const te=()=>F&&!Me&&Se.complete();q.subscribe((0,L._)(Se,se=>{Me?.unsubscribe();let ce=0;const we=B++;(0,s.Tg)(Ie(se,we)).subscribe(Me=(0,L._)(Se,Ee=>Se.next(ye?ye(se,Ee,we,ce++):Ee),()=>{Me=null,te()}))},()=>{F=!0,te()}))})}},8141:(At,je,k)=>{"use strict";k.d(je,{M:()=>Ie});var s=k(8071),Y=k(9974),L=k(4360),ue=k(3669);function Ie(ye,q,Se){const Me=(0,s.T)(ye)||q||Se?{next:ye,error:q,complete:Se}:ye;return Me?(0,Y.N)((B,F)=>{var te;null===(te=Me.subscribe)||void 0===te||te.call(Me);let se=!0;B.subscribe((0,L._)(F,ce=>{var we;null===(we=Me.next)||void 0===we||we.call(Me,ce),F.next(ce)},()=>{var ce;se=!1,null===(ce=Me.complete)||void 0===ce||ce.call(Me),F.complete()},ce=>{var we;se=!1,null===(we=Me.error)||void 0===we||we.call(Me,ce),F.error(ce)},()=>{var ce,we;se&&(null===(ce=Me.unsubscribe)||void 0===ce||ce.call(Me)),null===(we=Me.finalize)||void 0===we||we.call(Me)}))}):ue.D}},6780:(At,je,k)=>{"use strict";k.d(je,{R:()=>Ie});var s=k(8359);class Y extends s.yU{constructor(q,Se){super()}schedule(q,Se=0){return this}}const L={setInterval(ye,q,...Se){const{delegate:Me}=L;return Me?.setInterval?Me.setInterval(ye,q,...Se):setInterval(ye,q,...Se)},clearInterval(ye){const{delegate:q}=L;return(q?.clearInterval||clearInterval)(ye)},delegate:void 0};var ue=k(7908);class Ie extends Y{constructor(q,Se){super(q,Se),this.scheduler=q,this.work=Se,this.pending=!1}schedule(q,Se=0){var Me;if(this.closed)return this;this.state=q;const B=this.id,F=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(F,B,Se)),this.pending=!0,this.delay=Se,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(F,this.id,Se),this}requestAsyncId(q,Se,Me=0){return L.setInterval(q.flush.bind(q,this),Me)}recycleAsyncId(q,Se,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Se;null!=Se&&L.clearInterval(Se)}execute(q,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(q,Se);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,Se){let B,Me=!1;try{this.work(q)}catch(F){Me=!0,B=F||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:q,scheduler:Se}=this,{actions:Me}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.o)(Me,this),null!=q&&(this.id=this.recycleAsyncId(Se,q,null)),this.delay=null,super.unsubscribe()}}}},9687:(At,je,k)=>{"use strict";k.d(je,{q:()=>L});var s=k(6129);class Y{constructor(Ie,ye=Y.now){this.schedulerActionCtor=Ie,this.now=ye}schedule(Ie,ye=0,q){return new this.schedulerActionCtor(this,Ie).schedule(q,ye)}}Y.now=s.U.now;class L extends Y{constructor(Ie,ye=Y.now){super(Ie,ye),this.actions=[],this._active=!1}flush(Ie){const{actions:ye}=this;if(this._active)return void ye.push(Ie);let q;this._active=!0;do{if(q=Ie.execute(Ie.state,Ie.delay))break}while(Ie=ye.shift());if(this._active=!1,q){for(;Ie=ye.shift();)Ie.unsubscribe();throw q}}}},3236:(At,je,k)=>{"use strict";k.d(je,{E:()=>L,b:()=>ue});var s=k(6780);const L=new(k(9687).q)(s.R),ue=L},6129:(At,je,k)=>{"use strict";k.d(je,{U:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},9270:(At,je,k)=>{"use strict";k.d(je,{f:()=>s});const s={setTimeout(Y,L,...ue){const{delegate:Ie}=s;return Ie?.setTimeout?Ie.setTimeout(Y,L,...ue):setTimeout(Y,L,...ue)},clearTimeout(Y){const{delegate:L}=s;return(L?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},4761:(At,je,k)=>{"use strict";k.d(je,{l:()=>Y});const Y=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(At,je,k)=>{"use strict";k.d(je,{s:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(At,je,k)=>{"use strict";k.d(je,{R0:()=>ye,lI:()=>Ie,ms:()=>ue});var s=k(8071),Y=k(9470);function L(q){return q[q.length-1]}function ue(q){return(0,s.T)(L(q))?q.pop():void 0}function Ie(q){return(0,Y.m)(L(q))?q.pop():void 0}function ye(q,Se){return"number"==typeof L(q)?q.pop():Se}},7908:(At,je,k)=>{"use strict";function s(Y,L){if(Y){const ue=Y.indexOf(L);0<=ue&&Y.splice(ue,1)}}k.d(je,{o:()=>s})},1853:(At,je,k)=>{"use strict";function s(Y){const ue=Y(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(je,{L:()=>s})},9786:(At,je,k)=>{"use strict";k.d(je,{Y:()=>L,l:()=>ue});var s=k(1026);let Y=null;function L(Ie){if(s.$.useDeprecatedSynchronousErrorHandling){const ye=!Y;if(ye&&(Y={errorThrown:!1,error:null}),Ie(),ye){const{errorThrown:q,error:Se}=Y;if(Y=null,q)throw Se}}else Ie()}function ue(Ie){s.$.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=Ie)}},5225:(At,je,k)=>{"use strict";function s(Y,L,ue,Ie=0,ye=!1){const q=L.schedule(function(){ue(),ye?Y.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(Y.add(q),!ye)return q}k.d(je,{N:()=>s})},3669:(At,je,k)=>{"use strict";function s(Y){return Y}k.d(je,{D:()=>s})},7441:(At,je,k)=>{"use strict";k.d(je,{X:()=>s});const s=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},7953:(At,je,k)=>{"use strict";k.d(je,{T:()=>Y});var s=k(8071);function Y(L){return Symbol.asyncIterator&&(0,s.T)(L?.[Symbol.asyncIterator])}},8071:(At,je,k)=>{"use strict";function s(Y){return"function"==typeof Y}k.d(je,{T:()=>s})},5055:(At,je,k)=>{"use strict";k.d(je,{l:()=>L});var s=k(3494),Y=k(8071);function L(ue){return(0,Y.T)(ue[s.s])}},5397:(At,je,k)=>{"use strict";k.d(je,{x:()=>L});var s=k(4761),Y=k(8071);function L(ue){return(0,Y.T)(ue?.[s.l])}},9858:(At,je,k)=>{"use strict";k.d(je,{y:()=>Y});var s=k(8071);function Y(L){return(0,s.T)(L?.then)}},5196:(At,je,k)=>{"use strict";k.d(je,{C:()=>L,U:()=>ue});var s=k(1635),Y=k(8071);function L(Ie){return(0,s.AQ)(this,arguments,function*(){const q=Ie.getReader();try{for(;;){const{value:Se,done:Me}=yield(0,s.N3)(q.read());if(Me)return yield(0,s.N3)(void 0);yield yield(0,s.N3)(Se)}}finally{q.releaseLock()}})}function ue(Ie){return(0,Y.T)(Ie?.getReader)}},9470:(At,je,k)=>{"use strict";k.d(je,{m:()=>Y});var s=k(8071);function Y(L){return L&&(0,s.T)(L.schedule)}},9974:(At,je,k)=>{"use strict";k.d(je,{N:()=>L,S:()=>Y});var s=k(8071);function Y(ue){return(0,s.T)(ue?.lift)}function L(ue){return Ie=>{if(Y(Ie))return Ie.lift(function(ye){try{return ue(ye,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(At,je,k)=>{"use strict";function s(){}k.d(je,{l:()=>s})},1203:(At,je,k)=>{"use strict";k.d(je,{F:()=>Y,m:()=>L});var s=k(3669);function Y(...ue){return L(ue)}function L(ue){return 0===ue.length?s.D:1===ue.length?ue[0]:function(ye){return ue.reduce((q,Se)=>Se(q),ye)}}},5334:(At,je,k)=>{"use strict";k.d(je,{m:()=>L});var s=k(1026),Y=k(9270);function L(ue){Y.f.setTimeout(()=>{const{onUnhandledError:Ie}=s.$;if(!Ie)throw ue;Ie(ue)})}},591:(At,je,k)=>{"use strict";function s(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(je,{L:()=>s})},8996:(At,je,k)=>{var s={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function Y(L){if(!k.o(s,L))return Promise.resolve().then(()=>{var ye=new Error("Cannot find module '"+L+"'");throw ye.code="MODULE_NOT_FOUND",ye});var ue=s[L],Ie=ue[0];return Promise.all(ue.slice(1).map(k.e)).then(()=>k(Ie))}Y.keys=()=>Object.keys(s),Y.id=8996,At.exports=Y},7705:(At,je,k)=>{"use strict";k.d(je,{$C:()=>yt,$GK:()=>wt,$K3:()=>q_,AVh:()=>wh,Agw:()=>Gc,B4B:()=>v6,BIS:()=>h0,BMQ:()=>ih,C4Q:()=>Sh,Co$:()=>Ky,DNE:()=>r8,E5c:()=>qp,EFF:()=>Jw,EJ8:()=>tn,EmA:()=>w6,FsC:()=>Gt,G2t:()=>sn,GBs:()=>b_,GFd:()=>hp,H3F:()=>W_,H5H:()=>S8,H8p:()=>l0,HJs:()=>qk,HbH:()=>Up,Hbi:()=>Ok,JRh:()=>el,JZv:()=>gn,Jv_:()=>Gy,KH2:()=>F0,KVO:()=>Ye,L39:()=>Uk,LfX:()=>Xe,Lme:()=>b8,MKu:()=>o7,NAR:()=>zu,NEm:()=>lk,NYb:()=>ex,Njj:()=>E2,O8t:()=>wg,OA$:()=>Cl,OM3:()=>Ts,Ocv:()=>NA,Ol2:()=>Xy,PLl:()=>d0,QTQ:()=>_0,Ql9:()=>BA,QuC:()=>gi,R7$:()=>j9,RV6:()=>X1,Rfq:()=>we,RxE:()=>S9,SKi:()=>No,SdG:()=>Tp,SpI:()=>C8,TL$:()=>Gg,Tbb:()=>te,VBU:()=>He,Vns:()=>j0,Vt3:()=>ku,WHO:()=>J_,WQX:()=>it,XSP:()=>gy,XpG:()=>Pw,Xx1:()=>Kl,Y8G:()=>l8,Z63:()=>a0,_9s:()=>A5,_q3:()=>i7,a0P:()=>Wk,aKT:()=>P4,aNF:()=>Sm,bIt:()=>Y1,bMT:()=>d_,bVm:()=>dh,bkB:()=>Da,c1b:()=>Dh,czy:()=>Vc,e01:()=>Z_,eBV:()=>Dl,eq3:()=>i_,eu8:()=>h8,fpN:()=>Tk,gRc:()=>wk,gXe:()=>Ft,giA:()=>tx,hnV:()=>K_,i5U:()=>Tm,iLQ:()=>Ym,ii3:()=>h_,j41:()=>lh,jDH:()=>on,jNT:()=>kp,k0s:()=>uh,kS0:()=>U2,kdw:()=>Wl,lJ4:()=>n_,lsd:()=>I_,mGM:()=>C_,mq5:()=>nm,n$t:()=>v9,nI1:()=>l_,nKC:()=>Tt,naY:()=>vk,nrm:()=>d8,o8S:()=>Xu,oH4:()=>rx,plB:()=>Vm,qex:()=>Nu,rXU:()=>wu,sFG:()=>HE,sZ2:()=>x6,uvJ:()=>ka,w6W:()=>II,wOt:()=>X,wni:()=>E_,xGo:()=>j2,xe9:()=>U8,xvI:()=>D9,zZn:()=>qs,zcH:()=>Wc,zjR:()=>Tw});var s=k(1413),Y=k(8359),L=k(1985),ue=k(7786),Ie=k(4412),ye=k(7673),q=k(7647),Se=k(5558),Me=k(3294);function B(r){for(let a in r)if(r[a]===B)return a;throw Error("Could not find renamed property on target object.")}function F(r,a){for(const c in a)a.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(r[c]=a[c])}function te(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(te).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function se(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}const ce=B({__forward_ref__:B});function we(r){return r.__forward_ref__=we,r.toString=function(){return te(this())},r}function Ee(r){return fe(r)?r():r}function fe(r){return"function"==typeof r&&r.hasOwnProperty(ce)&&r.__forward_ref__===we}function ee(r){return r&&!!r.\u0275providers}const Ue="https://g.co/ng/security#xss";class X extends Error{constructor(a,c){super(function _e(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}(a,c)),this.code=a}}function J(r){return"string"==typeof r?r:null==r?"":String(r)}function oe(r,a){throw new X(-201,!1)}function rt(r,a){null==r&&function et(r,a,c,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,r,null,"!=")}function on(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function sn(r){return{providers:r.providers||[],imports:r.imports||[]}}function ln(r){return Ne(r,en)||Ne(r,fn)}function Xe(r){return null!==ln(r)}function Ne(r,a){return r.hasOwnProperty(a)?r[a]:null}function Et(r){return r&&(r.hasOwnProperty(vn)||r.hasOwnProperty(zn))?r[vn]:null}const en=B({\u0275prov:B}),vn=B({\u0275inj:B}),fn=B({ngInjectableDef:B}),zn=B({ngInjectorDef:B});var wt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(wt||{});let Ut;function Fn(r){const a=Ut;return Ut=r,a}function kn(r,a,c){const d=ln(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&wt.Optional?null:void 0!==a?a:void oe(te(r))}const gn=globalThis;class Tt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=on({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qn={},ao="__NG_DI_FLAG__",Hi="ngTempTokenPath",ne=/\n/gm,tt="__source";let Oe;function zt(r){const a=Oe;return Oe=r,a}function De(r,a=wt.Default){if(void 0===Oe)throw new X(-203,!1);return null===Oe?kn(r,void 0,a):Oe.get(r,a&wt.Optional?null:void 0,a)}function Ye(r,a=wt.Default){return(function $t(){return Ut}()||De)(Ee(r),a)}function it(r,a=wt.Default){return Ye(r,lt(a))}function lt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function qt(r){const a=[];for(let c=0;c<r.length;c++){const d=Ee(r[c]);if(Array.isArray(d)){if(0===d.length)throw new X(900,!1);let h,g=wt.Default;for(let w=0;w<d.length;w++){const x=d[w],C=Sn(x);"number"==typeof C?-1===C?h=x.token:g|=C:h=x}a.push(Ye(h,g))}else a.push(Ye(d))}return a}function dn(r,a){return r[ao]=a,r.prototype[ao]=a,r}function Sn(r){return r[ao]}function Pe(r){return{toString:r}.toString()}var at=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(at||{}),Ft=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ft||{});const Qt={},St=[],yn=B({\u0275cmp:B}),wi=B({\u0275dir:B}),ei=B({\u0275pipe:B}),bi=B({\u0275mod:B}),si=B({\u0275fac:B}),ni=B({__NG_ELEMENT_ID__:B}),zi=B({__NG_ENV_ID__:B});function So(r,a,c){let d=r.length;for(;;){const h=r.indexOf(a,c);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||r.charCodeAt(h+g)<=32)return h}c=h+1}}function Wo(r,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],w=c[d++],x=c[d++];r.setAttribute(a,w,x,g)}else{const g=h,w=c[++d];li(g)?r.setProperty(a,g,w):r.setAttribute(a,g,w),d++}}return d}function Di(r){return 3===r||4===r||6===r}function li(r){return 64===r.charCodeAt(0)}function _n(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Br(r,c,h,null,-1===c||2===c?a[++d]:null)}}return r}function Br(r,a,c,d,h){let g=0,w=r.length;if(-1===a)w=-1;else for(;g<r.length;){const x=r[g++];if("number"==typeof x){if(x===a){w=-1;break}if(x>a){w=g-1;break}}}for(;g<r.length;){const x=r[g];if("number"==typeof x)break;if(x===c){if(null===d)return void(null!==h&&(r[g+1]=h));if(d===r[g+1])return void(r[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==w&&(r.splice(w,0,a),g=w+1),r.splice(g++,0,c),null!==d&&r.splice(g++,0,d),null!==h&&r.splice(g++,0,h)}const ii="ng-template";function yi(r,a,c){let d=0,h=!0;for(;d<r.length;){let g=r[d++];if("string"==typeof g&&h){const w=r[d++];if(c&&"class"===g&&-1!==So(w.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<r.length&&"string"==typeof(g=r[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Mr(r){return 4===r.type&&r.value!==ii}function Zr(r,a,c){return a===(4!==r.type||c?r.value:ii)}function ar(r,a,c){let d=4;const h=r.attrs||[],g=function Te(r){for(let a=0;a<r.length;a++)if(Di(r[a]))return a;return r.length}(h);let w=!1;for(let x=0;x<a.length;x++){const C=a[x];if("number"!=typeof C){if(!w)if(4&d){if(d=2|1&d,""!==C&&!Zr(r,C,c)||""===C&&1===a.length){if(Ei(d))return!1;w=!0}}else{const I=8&d?C:a[++x];if(8&d&&null!==r.attrs){if(!yi(r.attrs,I,c)){if(Ei(d))return!1;w=!0}continue}const G=es(8&d?"class":C,h,Mr(r),c);if(-1===G){if(Ei(d))return!1;w=!0;continue}if(""!==I){let Ce;Ce=G>g?"":h[G+1].toLowerCase();const ze=8&d?Ce:null;if(ze&&-1!==So(ze,I,0)||2&d&&I!==Ce){if(Ei(d))return!1;w=!0}}}}else{if(!w&&!Ei(d)&&!Ei(C))return!1;if(w&&Ei(C))continue;w=!1,d=C|1&d}}return Ei(d)||w}function Ei(r){return 0==(1&r)}function es(r,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let g=!1;for(;h<a.length;){const w=a[h];if(w===r)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let x=a[++h];for(;"string"==typeof x;)x=a[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function $(r,a){let c=r.indexOf(4);if(c>-1)for(c++;c<r.length;){const d=r[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,r)}function qo(r,a,c=!1){for(let d=0;d<a.length;d++)if(ar(r,a[d],c))return!0;return!1}function $e(r,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(r.length===d.length){for(let h=0;h<r.length;h++)if(r[h]!==d[h])continue e;return!0}}return!1}function A(r,a){return r?":not("+a.trim()+")":a}function P(r){let a=r[0],c=1,d=2,h="",g=!1;for(;c<r.length;){let w=r[c];if("string"==typeof w)if(2&d){const x=r[++c];h+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?h+="."+w:4&d&&(h+=" "+w);else""!==h&&!Ei(w)&&(a+=A(g,h),h=""),d=w,g=g||!Ei(d);c++}return""!==h&&(a+=A(g,h)),a}function He(r){return Pe(()=>{const a=zs(r),c={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ft.Emulated,styles:r.styles||St,_:null,schemas:r.schemas||null,tView:null,id:""};co(c);const d=r.dependencies;return c.directiveDefs=Xo(d,!1),c.pipeDefs=Xo(d,!0),c.id=function ts(r){let a=0;const c=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function ut(r){return Vt(r)||Ln(r)}function ct(r){return null!==r}function yt(r){return Pe(()=>({type:r.type,bootstrap:r.bootstrap||St,declarations:r.declarations||St,imports:r.imports||St,exports:r.exports||St,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ct(r,a){if(null==r)return Qt;const c={};for(const d in r)if(r.hasOwnProperty(d)){let h=r[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,a&&(a[h]=g)}return c}function Gt(r){return Pe(()=>{const a=zs(r);return co(a),a})}function tn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Vt(r){return r[yn]||null}function Ln(r){return r[wi]||null}function Tn(r){return r[ei]||null}function gi(r){const a=Vt(r)||Ln(r)||Tn(r);return null!==a&&a.standalone}function On(r,a){const c=r[bi]||null;if(!c&&!0===a)throw new Error(`Type ${te(r)} does not have '\u0275mod' property.`);return c}function zs(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||Qt,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||St,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ct(r.inputs,a),outputs:Ct(r.outputs)}}function co(r){r.features?.forEach(a=>a(r))}function Xo(r,a){if(!r)return null;const c=a?Tn:ut;return()=>("function"==typeof r?r():r).map(d=>c(d)).filter(ct)}const Fi=0,Ot=1,Dn=2,ui=3,Qo=4,ra=5,Do=6,Vr=7,Ii=8,ys=9,jr=10,Mn=11,sa=12,Ga=13,Cr=14,lo=15,Ka=16,Ho=17,To=18,Hr=19,ml=20,Ur=21,ns=22,aa=23,is=24,Gn=25,kc=1,_s=2,Uo=7,os=9,Wi=11;function vo(r){return Array.isArray(r)&&"object"==typeof r[kc]}function Oo(r){return Array.isArray(r)&&!0===r[kc]}function vl(r){return 0!=(4&r.flags)}function xs(r){return r.componentOffset>-1}function Wa(r){return 1==(1&r.flags)}function Jo(r){return!!r.template}function br(r){return 0!=(512&r[Dn])}function Kn(r,a){return r.hasOwnProperty(si)?r[si]:null}let Ui=null,Vs=!1;function Zi(r){const a=Ui;return Ui=r,a}const Er={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function p1(r){if(!v1(r)||r.dirty){if(!r.producerMustRecompute(r)&&!_3(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function y3(r){r.dirty=!0,function w2(r){if(void 0===r.liveConsumerNode)return;const a=Vs;Vs=!0;try{for(const c of r.liveConsumerNode)c.dirty||y3(c)}finally{Vs=a}}(r),r.consumerMarkedDirty?.(r)}function kd(r){return r&&(r.nextProducerIndex=0),Zi(r)}function yl(r,a){if(Zi(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(v1(r))for(let c=r.nextProducerIndex;c<r.producerNode.length;c++)m1(r.producerNode[c],r.producerIndexOfThis[c]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function _3(r){qa(r);for(let a=0;a<r.producerNode.length;a++){const c=r.producerNode[a],d=r.producerLastReadVersion[a];if(d!==c.version||(p1(c),d!==c.version))return!0}return!1}function y2(r){if(qa(r),v1(r))for(let a=0;a<r.producerNode.length;a++)m1(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function m1(r,a){if(function Sd(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),qa(r),1===r.liveConsumerNode.length)for(let d=0;d<r.producerNode.length;d++)m1(r.producerNode[d],r.producerIndexOfThis[d]);const c=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[c],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[c],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const d=r.liveConsumerIndexOfThis[a],h=r.liveConsumerNode[a];qa(h),h.producerIndexOfThis[d]=a}}function v1(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function qa(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let C3=null;function wg(r){const a=Zi(null);try{return r()}finally{Zi(a)}}const Ld=()=>{},Nd=(()=>({...Er,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Ld}))();class I3{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Cl(){return zd}function zd(r){return r.type.prototype.ngOnChanges&&(r.setInput=js),y1}function y1(){const r=Fd(this),a=r?.current;if(a){const c=r.previous;if(c===Qt)r.previous=a;else for(let d in a)c[d]=a[d];r.current=null,this.ngOnChanges(a)}}function js(r,a,c,d){const h=this.declaredInputs[c],g=Fd(r)||function A3(r,a){return r[_1]=a}(r,{previous:Qt,current:null}),w=g.current||(g.current={}),x=g.previous,C=x[h];w[h]=new I3(C&&C.currentValue,a,x===Qt),r[d]=a}Cl.ngInherit=!0;const _1="__ngSimpleChanges__";function Fd(r){return r[_1]||null}const Cs=function(r,a,c){};function mi(r){for(;Array.isArray(r);)r=r[Fi];return r}function Xa(r,a){return mi(a[r])}function lr(r,a){return mi(a[r.index])}function jd(r,a){return r.data[a]}function ca(r,a){return r[a]}function Ir(r,a){const c=a[r];return vo(c)?c:c[Fi]}function ua(r,a){return null==a?null:r[a]}function Hd(r){r[Ho]=0}function El(r){1024&r[Dn]||(r[Dn]|=1024,qi(r,1))}function S3(r){1024&r[Dn]&&(r[Dn]&=-1025,qi(r,-1))}function qi(r,a){let c=r[ui];if(null===c)return;c[ra]+=a;let d=c;for(c=c[ui];null!==c&&(1===a&&1===d[ra]||-1===a&&0===d[ra]);)c[ra]+=a,d=c,c=c[ui]}const En={lFrame:ki(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Tc(){return En.bindingsEnabled}function Ya(){return null!==En.skipHydrationRootTNode}function dt(){return En.lFrame.lView}function jn(){return En.lFrame.tView}function Dl(r){return En.lFrame.contextLView=r,r[Ii]}function E2(r){return En.lFrame.contextLView=null,r}function wo(){let r=I2();for(;null!==r&&64===r.type;)r=r.parent;return r}function I2(){return En.lFrame.currentTNode}function ur(r,a){const c=En.lFrame;c.currentTNode=r,c.isParent=a}function Gd(){return En.lFrame.isParent}function k2(){En.lFrame.isParent=!1}function Po(){const r=En.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function da(){return En.lFrame.bindingIndex}function C1(){return En.lFrame.bindingIndex++}function bs(r){const a=En.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,c}function Cg(r,a){const c=En.lFrame;c.bindingIndex=c.bindingRootIndex=r,Kd(a)}function Kd(r){En.lFrame.currentDirectiveIndex=r}function N3(){return En.lFrame.currentQueryIndex}function Wd(r){En.lFrame.currentQueryIndex=r}function Eg(r){const a=r[Ot];return 2===a.type?a.declTNode:1===a.type?r[Do]:null}function yo(r,a,c){if(c&wt.SkipSelf){let h=a,g=r;for(;!(h=h.parent,null!==h||c&wt.Host||(h=Eg(g),null===h||(g=g[Cr],10&h.type))););if(null===h)return!1;a=h,r=g}const d=En.lFrame=Tl();return d.currentTNode=a,d.lView=r,!0}function $o(r){const a=Tl(),c=r[Ot];En.lFrame=a,a.currentTNode=c.firstChild,a.lView=r,a.tView=c,a.contextLView=r,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Tl(){const r=En.lFrame,a=null===r?null:r.child;return null===a?ki(r):a}function ki(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function Lt(){const r=En.lFrame;return En.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const eo=Lt;function b1(){const r=Lt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Zo(){return En.lFrame.selectedIndex}function Es(r){En.lFrame.selectedIndex=r}function Ci(){const r=En.lFrame;return jd(r.tView,r.selectedIndex)}let ha=!0;function Oc(){return ha}function Ti(r){ha=r}function dr(r,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=r.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:D}=g;w&&(r.contentHooks??=[]).push(-c,w),x&&((r.contentHooks??=[]).push(c,x),(r.contentCheckHooks??=[]).push(c,x)),C&&(r.viewHooks??=[]).push(-c,C),I&&((r.viewHooks??=[]).push(c,I),(r.viewCheckHooks??=[]).push(c,I)),null!=D&&(r.destroyHooks??=[]).push(c,D)}}function Rl(r,a,c){fa(r,a,3,c)}function Qa(r,a,c,d){(3&r[Dn])===c&&fa(r,a,c,d)}function O2(r,a){let c=r[Dn];(3&c)===a&&(c&=8191,c+=1,r[Dn]=c)}function fa(r,a,c,d){const g=d??-1,w=a.length-1;let x=0;for(let C=void 0!==d?65535&r[Ho]:0;C<w;C++)if("number"==typeof a[C+1]){if(x=a[C],null!=d&&x>=d)break}else a[C]<0&&(r[Ho]+=65536),(x<g||-1==g)&&(V3(r,c,a,C),r[Ho]=(4294901760&r[Ho])+C+2),C++}function ga(r,a){Cs(4,r,a);const c=Zi(null);try{a.call(r)}finally{Zi(c),Cs(5,r,a)}}function V3(r,a,c,d){const h=c[d]<0,g=c[d+1],x=r[h?-c[d]:c[d]];h?r[Dn]>>13<r[Ho]>>16&&(3&r[Dn])===a&&(r[Dn]+=8192,ga(x,g)):ga(x,g)}const hr=-1;class Ar{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Xi(r){return r!==hr}function Pn(r){return 32767&r}function Hs(r,a){let c=function $i(r){return r>>16}(r),d=a;for(;c>0;)d=d[Cr],c--;return d}let Bi=!0;function Vi(r){const a=Bi;return Bi=r,a}const z2=255,Nl=5;let pa=0;const Ro={};function uo(r,a){const c=Ja(r,a);if(-1!==c)return c;const d=a[Ot];d.firstCreatePass&&(r.injectorIndex=a.length,zl(d.data,r),zl(a,null),zl(d.blueprint,null));const h=Pc(r,a),g=r.injectorIndex;if(Xi(h)){const w=Pn(h),x=Hs(h,a),C=x[Ot].data;for(let I=0;I<8;I++)a[g+I]=x[w+I]|C[w+I]}return a[g+8]=h,g}function zl(r,a){r.push(0,0,0,0,0,0,0,0,a)}function Ja(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function Pc(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=H2(h),null===d)return hr;if(c++,h=h[Cr],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return hr}function Fl(r,a,c){!function to(r,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ni)&&(d=c[ni]),null==d&&(d=c[ni]=pa++);const h=d&z2;a.data[r+(h>>Nl)]|=1<<h}(r,a,c)}function ma(r,a,c){if(c&wt.Optional||void 0!==r)return r;oe()}function Bl(r,a,c,d){if(c&wt.Optional&&void 0===d&&(d=null),!(c&(wt.Self|wt.Host))){const h=r[ys],g=Fn(void 0);try{return h?h.get(a,d,c&wt.Optional):kn(a,d,c&wt.Optional)}finally{Fn(g)}}return ma(d,0,c)}function B2(r,a,c,d=wt.Default,h){if(null!==r){if(2048&a[Dn]&&!(d&wt.Self)){const w=function H3(r,a,c,d,h){let g=r,w=a;for(;null!==g&&null!==w&&2048&w[Dn]&&!(512&w[Dn]);){const x=An(g,w,c,d|wt.Self,Ro);if(x!==Ro)return x;let C=g.parent;if(!C){const I=w[ml];if(I){const D=I.get(c,Ro,d);if(D!==Ro)return D}C=H2(w),w=w[Cr]}g=C}return h}(r,a,c,d,Ro);if(w!==Ro)return w}const g=An(r,a,c,d,Ro);if(g!==Ro)return g}return Bl(a,c,d,h)}function An(r,a,c,d,h){const g=function V2(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(ni)?r[ni]:void 0;return"number"==typeof a?a>=0?a&z2:j3:a}(c);if("function"==typeof g){if(!yo(a,r,d))return d&wt.Host?ma(h,0,d):Bl(a,c,d,h);try{let w;if(w=g(d),null!=w||d&wt.Optional)return w;oe()}finally{eo()}}else if("number"==typeof g){let w=null,x=Ja(r,a),C=hr,I=d&wt.Host?a[lo][Do]:null;for((-1===x||d&wt.SkipSelf)&&(C=-1===x?Pc(r,a):a[x+8],C!==hr&&as(d,!1)?(w=a[Ot],x=Pn(C),a=Hs(C,a)):x=-1);-1!==x;){const D=a[Ot];if(Xd(g,x,D.data)){const G=E1(x,a,c,w,d,I);if(G!==Ro)return G}C=a[x+8],C!==hr&&as(d,a[Ot].data[x+8]===I)&&Xd(g,x,a)?(w=D,x=Pn(C),a=Hs(C,a)):x=-1}}return h}function E1(r,a,c,d,h,g){const w=a[Ot],x=w.data[r+8],D=Vl(x,w,c,null==d?xs(x)&&Bi:d!=w&&0!=(3&x.type),h&wt.Host&&g===x);return null!==D?Gr(a,w,D,x):Ro}function Vl(r,a,c,d,h){const g=r.providerIndexes,w=a.data,x=1048575&g,C=r.directiveStart,D=g>>20,Ce=h?x+D:r.directiveEnd;for(let ze=d?x:x+D;ze<Ce;ze++){const nt=w[ze];if(ze<C&&c===nt||ze>=C&&nt.type===c)return ze}if(h){const ze=w[C];if(ze&&Jo(ze)&&ze.type===c)return C}return null}function Gr(r,a,c,d){let h=r[c];const g=a.data;if(function Ll(r){return r instanceof Ar}(h)){const w=h;w.resolving&&function V(r,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${r}`:"";throw new X(-200,`Circular dependency in DI detected for ${r}${c}`)}(function Ae(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():J(r)}(g[c]));const x=Vi(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?Fn(w.injectImpl):null;yo(r,d,wt.Default);try{h=r[c]=w.factory(void 0,g,r,d),a.firstCreatePass&&c>=d.directiveStart&&function B3(r,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const w=zd(a);(c.preOrderHooks??=[]).push(r,w),(c.preOrderCheckHooks??=[]).push(r,w)}h&&(c.preOrderHooks??=[]).push(0-r,h),g&&((c.preOrderHooks??=[]).push(r,g),(c.preOrderCheckHooks??=[]).push(r,g))}(c,g[c],a)}finally{null!==I&&Fn(I),Vi(x),w.resolving=!1,eo()}}return h}function Xd(r,a,c){return!!(c[a+(r>>Nl)]&1<<r)}function as(r,a){return!(r&wt.Self||r&wt.Host&&a)}class Oi{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return B2(this._tNode,this._lView,a,lt(d),c)}}function j3(){return new Oi(wo(),dt())}function j2(r){return Pe(()=>{const a=r.prototype.constructor,c=a[si]||jl(a),d=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==d;){const g=h[si]||jl(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function jl(r){return fe(r)?()=>{const a=jl(Ee(r));return a&&a()}:Kn(r)}function H2(r){const a=r[Ot],c=a.type;return 2===c?a.declTNode:1===c?r[Do]:null}function U2(r){return function F2(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const c=r.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Di(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(wo(),r)}const tc="__parameters__";function ks(r,a,c){return Pe(()=>{const d=function di(r){return function(...c){if(r){const d=r(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const w=new h(...g);return x.annotation=w,x;function x(C,I,D){const G=C.hasOwnProperty(tc)?C[tc]:Object.defineProperty(C,tc,{value:[]})[tc];for(;G.length<=D;)G.push(null);return(G[D]=G[D]||[]).push(w),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}function Lc(r,a){r.forEach(c=>Array.isArray(c)?Lc(c,a):a(c))}function G3(r,a,c){a>=r.length?r.push(c):r.splice(a,0,c)}function va(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function Nc(r,a){const c=[];for(let d=0;d<r;d++)c.push(a);return c}function kr(r,a,c){let d=rc(r,a);return d>=0?r[1|d]=c:(d=~d,function Jd(r,a,c,d){let h=r.length;if(h==a)r.push(c,d);else if(1===h)r.push(d,r[0]),r[0]=c;else{for(h--,r.push(r[h-1],r[h]);h>a;)r[h]=r[h-2],h--;r[a]=c,r[a+1]=d}}(r,d,a,c)),d}function K2(r,a){const c=rc(r,a);if(c>=0)return r[1|c]}function rc(r,a){return function W2(r,a,c){let d=0,h=r.length>>c;for(;h!==d;){const g=d+(h-d>>1),w=r[g<<c];if(a===w)return g<<c;w>a?h=g:d=g+1}return~(h<<c)}(r,a,1)}const Kl=dn(ks("Optional"),8),Wl=dn(ks("SkipSelf"),4);function dc(r){return 128==(128&r.flags)}var Vc=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Vc||{});const Ks=/^>|^->|<!--|-->|--!>|<!-$/g,Zl=/(<|>)/g,Z2="\u200b$1\u200b";const tu=new Map;let P1=0;const iu="__ngContext__";function xo(r,a){vo(a)?(r[iu]=a[Hr],function nu(r){tu.set(r[Hr],r)}(a)):r[iu]=a}let Re;function pt(r,a){return Re(r,a)}function Jt(r){const a=r[ui];return Oo(a)?a[ui]:a}function Sr(r){return ou(r[sa])}function Ea(r){return ou(r[Qo])}function ou(r){for(;null!==r&&!Oo(r);)r=r[Qo];return r}function Ia(r,a,c,d,h){if(null!=d){let g,w=!1;Oo(d)?g=d:vo(d)&&(w=!0,d=d[Fi]);const x=mi(d);0===r&&null!==c?null==h?zg(a,c,x):z1(a,c,x,h||null,!0):1===r&&null!==c?z1(a,c,x,h||null,!0):2===r?function f4(r,a,c){const d=h4(r,a);d&&function t9(r,a,c,d){r.removeChild(a,c,d)}(r,d,a,c)}(a,x,w):3===r&&a.destroyNode(x),null!=g&&function i9(r,a,c,d,h){const g=c[Uo];g!==mi(c)&&Ia(a,r,d,g,h);for(let x=Wi;x<c.length;x++){const C=c[x];F1(C[Ot],C,r,a,d,g)}}(a,r,g,c,h)}}function L1(r,a){return r.createComment(function eu(r){return r.replace(Ks,a=>a.replace(Zl,Z2))}(a))}function N1(r,a,c){return r.createElement(a,c)}function Pg(r,a){const c=r[os],d=c.indexOf(a);S3(a),c.splice(d,1)}function u4(r,a){if(r.length<=Wi)return;const c=Wi+a,d=r[c];if(d){const h=d[Ka];null!==h&&h!==r&&Pg(h,d),a>0&&(r[c-1][Qo]=d[Qo]);const g=va(r,Wi+a);!function jc(r,a){F1(r,a,a[Mn],2,null,null),a[Fi]=null,a[Do]=null}(d[Ot],d);const w=g[To];null!==w&&w.detachView(g[Ot]),d[ui]=null,d[Qo]=null,d[Dn]&=-129}return d}function Rg(r,a){if(!(256&a[Dn])){const c=a[Mn];a[aa]&&y2(a[aa]),a[is]&&y2(a[is]),c.destroyNode&&F1(r,a,c,3,null,null),function t6(r){let a=r[sa];if(!a)return i6(r[Ot],r);for(;a;){let c=null;if(vo(a))c=a[sa];else{const d=a[Wi];d&&(c=d)}if(!c){for(;a&&!a[Qo]&&a!==r;)vo(a)&&i6(a[Ot],a),a=a[ui];null===a&&(a=r),vo(a)&&i6(a[Ot],a),c=a&&a[Qo]}a=c}}(a)}}function i6(r,a){if(!(256&a[Dn])){a[Dn]&=-129,a[Dn]|=256,function d4(r,a){let c;if(null!=r&&null!=(c=r.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ar)){const g=c[d+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const x=h[g[w]],C=g[w+1];Cs(4,x,C);try{C.call(x)}finally{Cs(5,x,C)}}else{Cs(4,h,g);try{g.call(h)}finally{Cs(5,h,g)}}}}}(r,a),function Lg(r,a){const c=r.cleanup,d=a[Vr];if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const w=c[g+3];w>=0?d[w]():d[-w].unsubscribe(),g+=2}else c[g].call(d[c[g+1]]);null!==d&&(a[Vr]=null);const h=a[Ur];if(null!==h){a[Ur]=null;for(let g=0;g<h.length;g++)(0,h[g])()}}(r,a),1===a[Ot].type&&a[Mn].destroy();const c=a[Ka];if(null!==c&&Oo(a[ui])){c!==a[ui]&&Pg(c,a);const d=a[To];null!==d&&d.detachView(r)}!function Z3(r){tu.delete(r[Hr])}(a)}}function Hc(r,a,c){return function Ng(r,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Fi];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=r.data[d.directiveStart+h];if(g===Ft.None||g===Ft.Emulated)return null}return lr(d,c)}}(r,a.parent,c)}function z1(r,a,c,d,h){r.insertBefore(a,c,d,h)}function zg(r,a,c){r.appendChild(a,c)}function Fg(r,a,c,d,h){null!==d?z1(r,a,c,d,h):zg(r,a,c)}function h4(r,a){return r.parentNode(a)}function Bg(r,a,c){return Vg(r,a,c)}let t0,m4,v4,Vg=function o6(r,a,c){return 40&r.type?lr(r,c):null};function pc(r,a,c,d){const h=Hc(r,d,a),g=a[Mn],x=Bg(d.parent||a[Do],d,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)Fg(g,h,c[C],x,!1);else Fg(g,h,c,x,!1);void 0!==t0&&t0(g,d,a,c,h)}function n0(r,a){if(null!==a){const c=a.type;if(3&c)return lr(a,r);if(4&c)return s6(-1,r[a.index]);if(8&c){const d=a.child;if(null!==d)return n0(r,d);{const h=r[a.index];return Oo(h)?s6(-1,h):mi(h)}}if(32&c)return pt(a,r)()||mi(r[a.index]);{const d=jg(r,a);return null!==d?Array.isArray(d)?d[0]:n0(Jt(r[lo]),d):n0(r,a.next)}}return null}function jg(r,a){return null!==a?r[lo][Do].projection[a.projection]:null}function s6(r,a){const c=Wi+r+1;if(c<a.length){const d=a[c],h=d[Ot].firstChild;if(null!==h)return n0(d,h)}return a[Uo]}function a6(r,a,c,d,h,g,w){for(;null!=c;){const x=d[c.index],C=c.type;if(w&&0===a&&(x&&xo(mi(x),d),c.flags|=2),32!=(32&c.flags))if(8&C)a6(r,a,c.child,d,h,g,!1),Ia(a,r,h,x,g);else if(32&C){const I=pt(c,d);let D;for(;D=I();)Ia(a,r,h,D,g);Ia(a,r,h,x,g)}else 16&C?Ug(r,a,d,c,h,g):Ia(a,r,h,x,g);c=w?c.projectionNext:c.next}}function F1(r,a,c,d,h,g){a6(c,d,r.firstChild,a,h,g,!1)}function Ug(r,a,c,d,h,g){const w=c[lo],C=w[Do].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Ia(a,r,h,C[I],g);else{let I=C;const D=w[ui];dc(d)&&(I.flags|=128),a6(r,a,I,D,h,g,!0)}}function su(r,a,c){""===c?r.removeAttribute(a,"class"):r.setAttribute(a,"class",c)}function $g(r,a,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&Wo(r,a,d),null!==h&&su(r,a,h),null!==g&&function r9(r,a,c){r.setAttribute(a,"style",c)}(r,a,g)}function Gg(r){m4=r}function qg(r){return function l6(){if(void 0===v4&&(v4=null,gn.trustedTypes))try{v4=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return v4}()?.createScriptURL(r)||r}class u6{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ue})`}}function mc(r){return r instanceof u6?r.changingThisBreaksApplicationSecurity:r}function Uc(r,a){const c=function Xg(r){return r instanceof u6&&r.getTypeName()||null}(r);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Ue})`)}return c===a}const Yg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var B1=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(B1||{});function v6(r){const a=_4();return a?a.sanitize(B1.URL,r)||"":Uc(r,"URL")?mc(r):function f6(r){return(r=String(r)).match(Yg)?r:"unsafe:"+r}(J(r))}function o5(r){const a=_4();if(a)return qg(a.sanitize(B1.RESOURCE_URL,r)||"");if(Uc(r,"ResourceURL"))return qg(mc(r));throw new X(904,!1)}function v9(r,a,c){return function DE(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?o5:v6}(a,c)(r)}function _4(){const r=dt();return r&&r[jr].sanitizer}const a0=new Tt("ENVIRONMENT_INITIALIZER"),s5=new Tt("INJECTOR",-1),a5=new Tt("INJECTOR_DEF_TYPES");class x4{get(a,c=Qn){if(c===Qn){const d=new Error(`NullInjectorError: No provider for ${te(a)}!`);throw d.name="NullInjectorError",d}return c}}function w6(r){return{\u0275providers:r}}function w9(...r){return{\u0275providers:c5(0,r),\u0275fromNgModule:!0}}function c5(r,...a){const c=[],d=new Set;let h;const g=w=>{c.push(w)};return Lc(a,w=>{const x=w;M4(x,g,[],d)&&(h||=[],h.push(x))}),void 0!==h&&l5(h,g),c}function l5(r,a){for(let c=0;c<r.length;c++){const{ngModule:d,providers:h}=r[c];y6(h,g=>{a(g,d)})}}function M4(r,a,c,d){if(!(r=Ee(r)))return!1;let h=null,g=Et(r);const w=!g&&Vt(r);if(g||w){if(w&&!w.standalone)return!1;h=r}else{const C=r.ngModule;if(g=Et(C),!g)return!1;h=C}const x=d.has(h);if(w){if(x)return!1;if(d.add(h),w.dependencies){const C="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const I of C)M4(I,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let I;d.add(h);try{Lc(g.imports,D=>{M4(D,a,c,d)&&(I||=[],I.push(D))})}finally{}void 0!==I&&l5(I,a)}if(!x){const I=Kn(h)||(()=>new h);a({provide:h,useFactory:I,deps:St},h),a({provide:a5,useValue:h,multi:!0},h),a({provide:a0,useValue:()=>Ye(h),multi:!0},h)}const C=g.providers;if(null!=C&&!x){const I=r;y6(C,D=>{a(D,I)})}}}return h!==r&&void 0!==r.providers}function y6(r,a){for(let c of r)ee(c)&&(c=c.\u0275providers),Array.isArray(c)?y6(c,a):a(c)}const OE=B({provide:String,useValue:B});function u5(r){return null!==r&&"object"==typeof r&&OE in r}function c0(r){return"function"==typeof r}const l0=new Tt("Set Injector scope."),V1={},us={};let d5;function C4(){return void 0===d5&&(d5=new x4),d5}class ka{}class u0 extends ka{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,E4(a,w=>this.processProvider(w)),this.records.set(s5,uu(void 0,this)),h.has("environment")&&this.records.set(ka,uu(void 0,this));const g=this.records.get(l0);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(a5.multi,St,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=zt(this),d=Fn(void 0);try{return a()}finally{zt(c),Fn(d)}}get(a,c=Qn,d=wt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(zi))return a[zi](this);d=lt(d);const g=zt(this),w=Fn(void 0);try{if(!(d&wt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function f5(r){return"function"==typeof r||"object"==typeof r&&r instanceof Tt}(a)&&ln(a);C=I&&this.injectableDefInScope(I)?uu(_6(a),V1):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&wt.Self?C4():this.parent).get(a,c=d&wt.Optional&&c===Qn?null:c)}catch(x){if("NullInjectorError"===x.name){if((x[Hi]=x[Hi]||[]).unshift(te(a)),g)throw x;return function In(r,a,c,d){const h=r[Hi];throw a[tt]&&h.unshift(a[tt]),r.message=function Ve(r,a,c,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let h=te(a);if(Array.isArray(a))h=a.map(te).join(" -> ");else if("object"==typeof a){let g=[];for(let w in a)if(a.hasOwnProperty(w)){let x=a[w];g.push(w+":"+("string"==typeof x?JSON.stringify(x):te(x)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${r.replace(ne,"\n  ")}`}("\n"+r.message,h,c,d),r.ngTokenPath=h,r[Hi]=null,r}(x,a,"R3InjectorError",this.source)}throw x}finally{Fn(w),zt(g)}}resolveInjectorInitializers(){const a=zt(this),c=Fn(void 0);try{const h=this.get(a0.multi,St,wt.Self);for(const g of h)g()}finally{zt(a),Fn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(te(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(a){let c=c0(a=Ee(a))?a:Ee(a&&a.provide);const d=function b4(r){return u5(r)?uu(void 0,r.useValue):uu(Ds(r),V1)}(a);if(c0(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=uu(void 0,V1,!0),h.factory=()=>qt(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===V1&&(c.value=us,c.value=c.factory()),"object"==typeof c.value&&c.value&&function C9(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Ee(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function _6(r){const a=ln(r),c=null!==a?a.factory:Kn(r);if(null!==c)return c;if(r instanceof Tt)throw new X(204,!1);if(r instanceof Function)return function h5(r){const a=r.length;if(a>0)throw Nc(a,"?"),new X(204,!1);const c=function Fe(r){return r&&(r[en]||r[fn])||null}(r);return null!==c?()=>c.factory(r):()=>new r}(r);throw new X(204,!1)}function Ds(r,a,c){let d;if(c0(r)){const h=Ee(r);return Kn(h)||_6(h)}if(u5(r))d=()=>Ee(r.useValue);else if(function x9(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...qt(r.deps||[]));else if(function _9(r){return!(!r||!r.useExisting)}(r))d=()=>Ye(Ee(r.useExisting));else{const h=Ee(r&&(r.useClass||r.provide));if(!function M9(r){return!!r.deps}(r))return Kn(h)||_6(h);d=()=>new h(...qt(r.deps))}return d}function uu(r,a,c=!1){return{factory:r,value:a,multi:c?[]:void 0}}function E4(r,a){for(const c of r)Array.isArray(c)?E4(c,a):c&&ee(c)?E4(c.\u0275providers,a):a(c)}const x6=new Tt("AppId",{providedIn:"root",factory:()=>b9}),b9="ng",d0=new Tt("Platform Initializer"),Gc=new Tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new Tt("CSP nonce",{providedIn:"root",factory:()=>function r0(){if(void 0!==m4)return m4;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let I9=(r,a,c)=>null;function _5(r,a,c=!1){return I9(r,a,c)}class k9{}class A6{}class jE{resolveComponentFactory(a){throw function b5(r){const a=Error(`No component factory found for ${te(r)}.`);return a.ngComponent=r,a}(a)}}let Ts=(()=>{class r{static{this.NULL=new jE}}return r})();function H1(){return p0(wo(),dt())}function p0(r,a){return new P4(lr(r,a))}let P4=(()=>{class r{constructor(c){this.nativeElement=c}static{this.__NG_ELEMENT_ID__=H1}}return r})();function I5(r){return r instanceof P4?r.nativeElement:r}class A5{}let HE=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function UE(){const r=dt(),c=Ir(wo().index,r);return(vo(c)?c:r)[Mn]}()}}return r})(),$E=(()=>{class r{static{this.\u0275prov=on({token:r,providedIn:"root",factory:()=>null})}}return r})();class S9{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const D9=new S9("16.2.12"),k5={};function Kc(r,a=null,c=null,d){const h=pr(r,a,c,d);return h.resolveInjectorInitializers(),h}function pr(r,a=null,c=null,d,h=new Set){const g=[c||St,w9(r)];return d=d||("object"==typeof r?void 0:te(r)),new u0(g,a||C4(),d||null,h)}let qs=(()=>{class r{static{this.THROW_IF_NOT_FOUND=Qn}static{this.NULL=new x4}static create(c,d){if(Array.isArray(c))return Kc({name:""},d,c,"");{const h=c.name??"";return Kc({name:h},c.parent,c.providers,h)}}static{this.\u0275prov=on({token:r,providedIn:"any",factory:()=>Ye(s5)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function S6(r){return r.ngOriginalError}class Wc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&S6(a);for(;c&&S6(c);)c=S6(c);return c||null}}function Sa(r){return a=>{setTimeout(r,void 0,a)}}const Da=class Go extends s.B{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,g=c||(()=>null),w=d;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),g=C.error?.bind(C),w=C.complete?.bind(C)}this.__isAsync&&(g=Sa(g),h&&(h=Sa(h)),w&&(w=Sa(w)));const x=super.subscribe({next:h,error:g,complete:w});return a instanceof Y.yU&&a.add(x),x}};function nr(...r){}class No{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function R5(){const r="function"==typeof gn.requestAnimationFrame;let a=gn[r?"requestAnimationFrame":"setTimeout"],c=gn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function z5(r){const a=()=>{!function N5(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(gn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,L4(r),r.isCheckStableRunning=!0,R4(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),L4(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,w,x)=>{if(function N9(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(x))return c.invokeTask(h,g,w,x);try{return pu(r),c.invokeTask(h,g,w,x)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&a(),D6(r)}},onInvoke:(c,d,h,g,w,x,C)=>{try{return pu(r),c.invoke(h,g,w,x,C)}finally{r.shouldCoalesceRunChangeDetection&&a(),D6(r)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,L4(r),R4(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!No.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(No.isInAngularZone())throw new X(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,a,L5,nr,nr);try{return g.runTask(w,c,d)}finally{g.cancelTask(w)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const L5={};function R4(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function L4(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function pu(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function D6(r){r._nesting--,R4(r)}class F5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const T6=new Tt("",{providedIn:"root",factory:O6});function O6(){const r=it(No);let a=!0;const c=new L.c(h=>{a=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new L.c(h=>{let g;r.runOutsideAngular(()=>{g=r.onStable.subscribe(()=>{No.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const w=r.onUnstable.subscribe(()=>{No.assertInAngularZone(),a&&(a=!1,r.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),w.unsubscribe()}});return(0,ue.h)(c,d.pipe((0,q.u)()))}function Xs(r){return r instanceof Function?r():r}let F4=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=on({token:r,providedIn:"root",factory:()=>new r})}}return r})();function v0(r){for(;r;){r[Dn]|=64;const a=Jt(r);if(br(r)&&!a)return r;r=a}return null}const Ta=new Tt("",{providedIn:"root",factory:()=>!1});let P6=null;function F9(r,a){return r[a]??W5()}function B9(r,a){const c=W5();c.producerNode?.length&&(r[a]=P6,c.lView=r,P6=V9())}const QE={...Er,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{v0(r.lView)},lView:null};function V9(){return Object.create(QE)}function W5(){return P6??=V9(),P6}const Nn={};function j9(r){H9(jn(),dt(),Zo()+r,!1)}function H9(r,a,c,d){if(!d)if(3==(3&a[Dn])){const g=r.preOrderCheckHooks;null!==g&&Rl(a,g,c)}else{const g=r.preOrderHooks;null!==g&&Qa(a,g,0,c)}Es(c)}function wu(r,a=wt.Default){const c=dt();return null===c?Ye(r,a):B2(wo(),c,Ee(r),a)}function _0(){throw new Error("invalid")}function wc(r,a,c,d,h,g,w,x,C,I,D){const G=a.blueprint.slice();return G[Fi]=h,G[Dn]=140|d,(null!==I||r&&2048&r[Dn])&&(G[Dn]|=2048),Hd(G),G[ui]=G[Cr]=r,G[Ii]=c,G[jr]=w||r&&r[jr],G[Mn]=x||r&&r[Mn],G[ys]=C||r&&r[ys]||null,G[Do]=g,G[Hr]=function tr(){return P1++}(),G[ns]=D,G[ml]=I,G[lo]=2==a.type?r[lo]:G,G}function Oa(r,a,c,d,h){let g=r.data[a];if(null===g)g=function yu(r,a,c,d,h){const g=I2(),w=Gd(),C=r.data[a]=function U4(r,a,c,d,h,g){let w=a?a.injectorIndex:-1,x=0;return Ya()&&(x|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,c,a,d,h);return null===r.firstChild&&(r.firstChild=C),null!==g&&(w?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(r,a,c,d,h),function L3(){return En.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const w=function A2(){const r=En.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return ur(g,!0),g}function _u(r,a,c,d){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(d),r.blueprint.push(d),r.data.push(null);return h}function j4(r,a,c,d,h){const g=F9(a,aa),w=Zo(),x=2&d;try{Es(-1),x&&a.length>Gn&&H9(r,a,Gn,!1),Cs(x?2:0,h);const I=x?g:null,D=kd(I);try{null!==I&&(I.dirty=!1),c(d,h)}finally{yl(I,D)}}finally{x&&null===a[aa]&&B9(a,aa),Es(w),Cs(x?3:1,h)}}function R6(r,a,c){if(vl(a)){const d=Zi(null);try{const g=a.directiveEnd;for(let w=a.directiveStart;w<g;w++){const x=r.data[w];x.contentQueries&&x.contentQueries(1,c[w],w)}}finally{Zi(d)}}}function x0(r,a,c){Tc()&&(function nI(r,a,c,d){const h=c.directiveStart,g=c.directiveEnd;xs(c)&&function W9(r,a,c){const d=lr(a,r),h=L6(c);let w=16;c.signals?w=4096:c.onPush&&(w=64);const x=H6(r,wc(r,h,null,w,d,a,null,r[jr].rendererFactory.createRenderer(d,c),null,null,null));r[a.index]=x}(a,c,r.data[h+c.componentOffset]),r.firstCreatePass||uo(c,a),xo(d,a);const w=c.initialInputs;for(let x=h;x<g;x++){const C=r.data[x],I=Gr(a,r,x,c);xo(I,a),null!==w&&bu(0,x-h,I,C,0,w),Jo(C)&&(Ir(c.index,a)[Ii]=Gr(a,r,x,c))}}(r,a,c,lr(c,a)),64==(64&c.flags)&&Y5(r,a,c))}function H4(r,a,c=lr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const w=d[g+1],x=-1===w?c(a,r):r[w];r[h++]=x}}}function L6(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=M0(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function M0(r,a,c,d,h,g,w,x,C,I,D){const G=Gn+d,Ce=G+h,ze=function xu(r,a){const c=[];for(let d=0;d<a;d++)c.push(d<r?null:Nn);return c}(G,Ce),nt="function"==typeof I?I():I;return ze[Ot]={type:r,blueprint:ze,template:c,queries:null,viewQuery:x,declTNode:a,data:ze.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:C,consts:nt,incompleteFirstPass:!1,ssrId:D}}let N6=r=>null;function C0(r,a,c,d){for(let h in r)if(r.hasOwnProperty(h)){c=null===c?{}:c;const g=r[h];null===d?Cu(c,a,h,g):d.hasOwnProperty(h)&&Cu(c,a,d[h],g)}return c}function Cu(r,a,c,d){r.hasOwnProperty(c)?r[c].push(a,d):r[c]=[a,d]}function K4(r,a,c,d){if(Tc()){const h=null===d?null:{"":-1},g=function iI(r,a){const c=r.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const w=c[g];if(qo(a,w.selectors,!1))if(d||(d=[]),Jo(w))if(null!==w.findHostDirectiveDefs){const x=[];h=h||new Map,w.findHostDirectiveDefs(w,x,h),d.unshift(...x,w),Q5(r,a,x.length)}else d.unshift(w),Q5(r,a,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,d,h),d.push(w)}return null===d?null:[d,h]}(r,c);let w,x;null===g?w=x=null:[w,x]=g,null!==w&&q5(r,a,c,w,h,x),h&&function F6(r,a,c){if(a){const d=r.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new X(-301,!1);d.push(a[h],g)}}}(c,d,h)}c.mergedAttrs=_n(c.mergedAttrs,c.attrs)}function q5(r,a,c,d,h,g){for(let I=0;I<d.length;I++)Fl(uo(c,a),r,d[I].type);!function J5(r,a,c){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+c,r.providerIndexes=a}(c,r.data.length,d.length);for(let I=0;I<d.length;I++){const D=d[I];D.providersResolver&&D.providersResolver(D)}let w=!1,x=!1,C=_u(r,a,d.length,null);for(let I=0;I<d.length;I++){const D=d[I];c.mergedAttrs=_n(c.mergedAttrs,D.hostAttrs),B6(r,c,a,C,D),K9(C,D,h),null!==D.contentQueries&&(c.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(c.flags|=64);const G=D.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((r.preOrderHooks??=[]).push(c.index),w=!0),!x&&(G.ngOnChanges||G.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(c.index),x=!0),C++}!function $4(r,a,c){const h=a.directiveEnd,g=r.data,w=a.attrs,x=[];let C=null,I=null;for(let D=a.directiveStart;D<h;D++){const G=g[D],Ce=c?c.get(G):null,nt=Ce?Ce.outputs:null;C=C0(G.inputs,D,C,Ce?Ce.inputs:null),I=C0(G.outputs,D,I,nt);const Mt=null===C||null===w||Mr(a)?null:Z5(C,D,w);x.push(Mt)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=x,a.inputs=C,a.outputs=I}(r,c,g)}function Y5(r,a,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,w=function bg(){return En.lFrame.currentDirectiveIndex}();try{Es(g);for(let x=d;x<h;x++){const C=r.data[x],I=a[x];Kd(x),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&z6(C,I)}}finally{Es(-1),Kd(w)}}function z6(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function Q5(r,a,c){a.componentOffset=c,(r.components??=[]).push(a.index)}function K9(r,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=r;Jo(a)&&(c[""]=r)}}function B6(r,a,c,d,h){r.data[d]=h;const g=h.factory||(h.factory=Kn(h.type)),w=new Ar(g,Jo(h),wu);r.blueprint[d]=w,c[d]=w,function X5(r,a,c,d,h){const g=h.hostBindings;if(g){let w=r.hostBindingOpCodes;null===w&&(w=r.hostBindingOpCodes=[]);const x=~a.index;(function G9(r){let a=r.length;for(;a>0;){const c=r[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=x&&w.push(x),w.push(c,d,g)}}(r,a,d,_u(r,c,h.hostVars,Nn),h)}function yc(r,a,c,d,h,g){const w=lr(r,a);!function V6(r,a,c,d,h,g,w){if(null==g)r.removeAttribute(a,h,c);else{const x=null==w?J(g):w(g,d||"",h);r.setAttribute(a,h,x,c)}}(a[Mn],w,g,r.value,c,d,h)}function bu(r,a,c,d,h,g){const w=g[a];if(null!==w)for(let x=0;x<w.length;)W4(d,c,w[x++],w[x++],w[x++])}function W4(r,a,c,d,h){const g=Zi(null);try{const w=r.inputTransforms;null!==w&&w.hasOwnProperty(d)&&(h=w[d].call(a,h)),null!==r.setInput?r.setInput(a,h,c,d):a[d]=h}finally{Zi(g)}}function Z5(r,a,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(r.hasOwnProperty(g)){null===d&&(d=[]);const w=r[g];for(let x=0;x<w.length;x+=2)if(w[x]===a){d.push(g,w[x+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function j6(r,a,c,d){return[r,!0,!1,a,null,0,d,c,null,null,null]}function b0(r,a){const c=r.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const w=r.data[g];Wd(c[d]),w.contentQueries(2,a[g],g)}}}function H6(r,a){return r[sa]?r[Ga][Qo]=a:r[sa]=a,r[Ga]=a,a}function U6(r,a,c){Wd(0);const d=Zi(null);try{a(r,c)}finally{Zi(d)}}function X9(r){return r[Vr]||(r[Vr]=[])}function Y9(r){return r.cleanup||(r.cleanup=[])}function J9(r,a){const c=r[ys],d=c?c.get(Wc,null):null;d&&d.handleError(a)}function $6(r,a,c,d,h){for(let g=0;g<c.length;){const w=c[g++],x=c[g++];W4(r.data[w],a[w],d,x,h)}}function Pa(r,a,c){const d=Xa(a,r);!function fc(r,a,c){r.setValue(a,c)}(r[Mn],d,c)}function Z9(r,a){const c=Ir(a,r),d=c[Ot];!function ep(r,a){for(let c=a.length;c<r.blueprint.length;c++)a.push(r.blueprint[c])}(d,c);const h=c[Fi];null!==h&&null===c[ns]&&(c[ns]=_5(h,c[ys])),Eu(d,c,c[Ii])}function Eu(r,a,c){$o(a);try{const d=r.viewQuery;null!==d&&U6(1,d,c);const h=r.template;null!==h&&j4(r,a,h,1,c),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&b0(r,a),r.staticViewQueries&&U6(2,r.viewQuery,c);const g=r.components;null!==g&&function Iu(r,a){for(let c=0;c<a.length;c++)Z9(r,a[c])}(a,g)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{a[Dn]&=-5,b1()}}let tp=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const g=typeof Zone>"u"?null:Zone.current,w=function E3(r,a,c){const d=Object.create(Nd);c&&(d.consumerAllowSignalWrites=!0),d.fn=r,d.schedule=a;const h=w=>{d.cleanupFn=w};return d.ref={notify:()=>y3(d),run:()=>{if(d.dirty=!1,d.hasRun&&!_3(d))return;d.hasRun=!0;const w=kd(d);try{d.cleanupFn(),d.cleanupFn=Ld,d.fn(h)}finally{yl(d,w)}},cleanup:()=>d.cleanupFn()},d.ref}(c,I=>{this.all.has(I)&&this.queue.set(I,g)},h);let x;this.all.add(w),w.notify();const C=()=>{w.cleanup(),x?.(),this.all.delete(w),this.queue.delete(w)};return x=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=on({token:r,providedIn:"root",factory:()=>new r})}}return r})();function q4(r,a,c){let d=c?r.styles:null,h=c?r.classes:null,g=0;if(null!==a)for(let w=0;w<a.length;w++){const x=a[w];"number"==typeof x?g=x:1==g?h=se(h,x):2==g&&(d=se(d,x+": "+a[++w]+";"))}c?r.styles=d:r.stylesWithoutHost=d,c?r.classes=h:r.classesWithoutHost=h}function X4(r,a,c,d,h=!1){for(;null!==c;){const g=a[c.index];null!==g&&d.push(mi(g)),Oo(g)&&G6(g,d);const w=c.type;if(8&w)X4(r,a,c.child,d);else if(32&w){const x=pt(c,a);let C;for(;C=x();)d.push(C)}else if(16&w){const x=jg(a,c);if(Array.isArray(x))d.push(...x);else{const C=Jt(a[lo]);X4(C[Ot],C,x,d,!0)}}c=h?c.projectionNext:c.next}return d}function G6(r,a){for(let c=Wi;c<r.length;c++){const d=r[c],h=d[Ot].firstChild;null!==h&&X4(d[Ot],d,h,a)}r[Uo]!==r[Fi]&&a.push(r[Uo])}function Y4(r,a,c,d=!0){const h=a[jr],g=h.rendererFactory,w=h.afterRenderEventManager;g.begin?.(),w?.begin();try{K6(r,a,r.template,c)}catch(C){throw d&&J9(a,C),C}finally{g.end?.(),h.effectManager?.flush(),w?.end()}}function K6(r,a,c,d){const h=a[Dn];if(256!=(256&h)){a[jr].effectManager?.flush(),$o(a);try{Hd(a),function R3(r){return En.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==c&&j4(r,a,c,2,d);const w=3==(3&h);if(w){const I=r.preOrderCheckHooks;null!==I&&Rl(a,I,null)}else{const I=r.preOrderHooks;null!==I&&Qa(a,I,0,null),O2(a,0)}if(function nw(r){for(let a=Sr(r);null!==a;a=Ea(a)){if(!a[_s])continue;const c=a[os];for(let d=0;d<c.length;d++){El(c[d])}}}(a),Q4(a,2),null!==r.contentQueries&&b0(r,a),w){const I=r.contentCheckHooks;null!==I&&Rl(a,I)}else{const I=r.contentHooks;null!==I&&Qa(a,I,1),O2(a,1)}!function V4(r,a){const c=r.hostBindingOpCodes;if(null===c)return;const d=F9(a,is);try{for(let h=0;h<c.length;h++){const g=c[h];if(g<0)Es(~g);else{const w=g,x=c[++h],C=c[++h];Cg(x,w),d.dirty=!1;const I=kd(d);try{C(2,a[w])}finally{yl(d,I)}}}}finally{null===a[is]&&B9(a,is),Es(-1)}}(r,a);const x=r.components;null!==x&&Xc(a,x,0);const C=r.viewQuery;if(null!==C&&U6(2,C,d),w){const I=r.viewCheckHooks;null!==I&&Rl(a,I)}else{const I=r.viewHooks;null!==I&&Qa(a,I,2),O2(a,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[Dn]&=-73,S3(a)}finally{b1()}}}function Q4(r,a){for(let c=Sr(r);null!==c;c=Ea(c))for(let d=Wi;d<c.length;d++)op(c[d],a)}function ip(r,a,c){op(Ir(a,r),c)}function op(r,a){if(!function k3(r){return 128==(128&r[Dn])}(r))return;const c=r[Ot],d=r[Dn];if(80&d&&0===a||1024&d||2===a)K6(c,r,c.template,r[Ii]);else if(r[ra]>0){Q4(r,1);const h=c.components;null!==h&&Xc(r,h,1)}}function Xc(r,a,c){for(let d=0;d<a.length;d++)ip(r,a[d],c)}class Au{get rootNodes(){const a=this._lView,c=a[Ot];return X4(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ii]}set context(a){this._lView[Ii]=a}get destroyed(){return 256==(256&this._lView[Dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[ui];if(Oo(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(u4(a,d),va(c,d))}this._attachedToViewContainer=!1}Rg(this._lView[Ot],this._lView)}onDestroy(a){!function D3(r,a){if(256==(256&r[Dn]))throw new X(911,!1);null===r[Ur]&&(r[Ur]=[]),r[Ur].push(a)}(this._lView,a)}markForCheck(){v0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-129}reattach(){this._lView[Dn]|=128}detectChanges(){Y4(this._lView[Ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l4(r,a){F1(r,a,a[Mn],2,null,null)}(this._lView[Ot],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=a}}class W6 extends Au{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Y4(a[Ot],a,a[Ii],!1)}checkNoChanges(){}get context(){return null}}class rp extends Ts{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Vt(a);return new Ra(c,this.ngModule)}}function J4(r){const a=[];for(let c in r)r.hasOwnProperty(c)&&a.push({propName:r[c],templateName:c});return a}class iw{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=lt(d);const h=this.injector.get(a,k5,d);return h!==k5||c===k5?h:this.parentInjector.get(a,c,d)}}class Ra extends A6{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=J4(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return J4(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Z(r){return r.map(P).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let g=(h=h||this.ngModule)instanceof ka?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new iw(a,g):a,x=w.get(A5,null);if(null===x)throw new X(407,!1);const G={rendererFactory:x,sanitizer:w.get($E,null),effectManager:w.get(tp,null),afterRenderEventManager:w.get(F4,null)},Ce=x.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",nt=d?function JE(r,a,c,d){const g=d.get(Ta,!1)||c===Ft.ShadowDom,w=r.selectRootElement(a,g);return function ZE(r){N6(r)}(w),w}(Ce,d,this.componentDef.encapsulation,w):N1(Ce,ze,function sp(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ze)),pn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let mt=null;null!==nt&&(mt=_5(nt,w,!0));const Rn=M0(0,null,null,1,0,null,null,null,null,null,null),Xn=wc(null,Rn,null,pn,null,null,G,Ce,w,null,mt);let Si,gs;$o(Xn);try{const n1=this.componentDef;let Yu,s7=null;n1.findHostDirectiveDefs?(Yu=[],s7=new Map,n1.findHostDirectiveDefs(n1,Yu,s7),Yu.push(n1)):Yu=[n1];const Xk=function ap(r,a){const c=r[Ot],d=Gn;return r[d]=a,Oa(c,d,2,"#host",null)}(Xn,nt),Yk=function rw(r,a,c,d,h,g,w){const x=h[Ot];!function q6(r,a,c,d){for(const h of r)a.mergedAttrs=_n(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(q4(a,a.mergedAttrs,!0),null!==c&&$g(d,c,a))}(d,r,a,w);let C=null;null!==a&&(C=_5(a,h[ys]));const I=g.rendererFactory.createRenderer(a,c);let D=16;c.signals?D=4096:c.onPush&&(D=64);const G=wc(h,L6(c),null,D,h[r.index],r,g,I,null,null,C);return x.firstCreatePass&&Q5(x,r,d.length-1),H6(h,G),h[r.index]=G}(Xk,nt,n1,Yu,Xn,G,Ce);gs=jd(Rn,Gn),nt&&function aw(r,a,c,d){if(d)Wo(r,c,["ng-version",D9.full]);else{const{attrs:h,classes:g}=function he(r){const a=[],c=[];let d=1,h=2;for(;d<r.length;){let g=r[d];if("string"==typeof g)2===h?""!==g&&a.push(g,r[++d]):8===h&&c.push(g);else{if(!Ei(h))break;h=g}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&Wo(r,c,h),g&&g.length>0&&su(r,c,g.join(" "))}}(Ce,n1,nt,d),void 0!==c&&function cp(r,a,c){const d=r.projection=[];for(let h=0;h<a.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(gs,this.ngContentSelectors,c),Si=function sw(r,a,c,d,h,g){const w=wo(),x=h[Ot],C=lr(w,h);q5(x,h,w,c,null,d);for(let D=0;D<c.length;D++)xo(Gr(h,x,w.directiveStart+D,w),h);Y5(x,h,w),C&&xo(C,h);const I=Gr(h,x,w.directiveStart+w.componentOffset,w);if(r[Ii]=h[Ii]=I,null!==g)for(const D of g)D(I,a);return R6(x,w,r),I}(Yk,n1,Yu,s7,Xn,[cw]),Eu(Rn,Xn,null)}finally{b1()}return new ow(this.componentType,Si,p0(gs,Xn),Xn,gs)}}class ow extends k9{constructor(a,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new W6(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const g=this._rootLView;$6(g[Ot],g,h,a,c),this.previousInputValues.set(a,c),v0(Ir(this._tNode.index,g))}}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function cw(){const r=wo();dr(dt()[Ot],r)}function ku(r){let a=function lw(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),c=!0;const d=[r];for(;a;){let h;if(Jo(r))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new X(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const w=r;w.inputs=Su(r.inputs),w.inputTransforms=Su(r.inputTransforms),w.declaredInputs=Su(r.declaredInputs),w.outputs=Su(r.outputs);const x=h.hostBindings;x&&dw(r,x);const C=h.viewQuery,I=h.contentQueries;if(C&&lp(r,C),I&&K1(r,I),F(r.inputs,h.inputs),F(r.declaredInputs,h.declaredInputs),F(r.outputs,h.outputs),null!==h.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),F(w.inputTransforms,h.inputTransforms)),Jo(h)&&h.data.animation){const D=r.data;D.animation=(D.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const x=g[w];x&&x.ngInherit&&x(r),x===ku&&(c=!1)}}a=Object.getPrototypeOf(a)}!function uw(r){let a=0,c=null;for(let d=r.length-1;d>=0;d--){const h=r[d];h.hostVars=a+=h.hostVars,h.hostAttrs=_n(h.hostAttrs,c=_n(c,h.hostAttrs))}}(d)}function Su(r){return r===Qt?{}:r===St?[]:r}function lp(r,a){const c=r.viewQuery;r.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function K1(r,a){const c=r.contentQueries;r.contentQueries=c?(d,h,g)=>{a(d,h,g),c(d,h,g)}:a}function dw(r,a){const c=r.hostBindings;r.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function hp(r){const a=r.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}r.inputTransforms=c}function eh(r){return!!th(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function th(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function _c(r,a,c){return r[a]=c}function ir(r,a,c){return!Object.is(r[a],c)&&(r[a]=c,!0)}function Yc(r,a,c,d){const h=ir(r,a,c);return ir(r,a+1,d)||h}function ih(r,a,c,d){const h=dt();return ir(h,C1(),a)&&(jn(),yc(Ci(),h,r,a,c,d)),ih}function Ou(r,a,c,d,h,g,w,x){const I=function J6(r,a,c,d,h){const g=Yc(r,a,c,d);return ir(r,a+2,h)||g}(r,da(),c,h,w);return bs(3),I?a+J(c)+d+J(h)+g+J(w)+x:Nn}function r8(r,a,c,d,h,g,w,x){const C=dt(),I=jn(),D=r+Gn,G=I.firstCreatePass?function Mp(r,a,c,d,h,g,w,x,C){const I=a.consts,D=Oa(a,r,4,w||null,ua(I,x));K4(a,c,D,ua(I,C)),dr(a,D);const G=D.tView=M0(2,D,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I,null);return null!==a.queries&&(a.queries.template(a,D),G.queries=a.queries.embeddedTView(D)),D}(D,I,C,a,c,d,h,g,w):I.data[D];ur(G,!1);const Ce=s8(I,C,G,r);Oc()&&pc(I,C,Ce,G),xo(Ce,C),H6(C,C[D]=j6(Ce,C,Ce,G)),Wa(G)&&x0(I,C,G),null!=w&&H4(C,G,x)}let s8=function a8(r,a,c,d){return Ti(!0),a[Mn].createComment("")};function l8(r,a,c){const d=dt();return ir(d,C1(),a)&&function Dr(r,a,c,d,h,g,w,x){const C=lr(a,c);let D,I=a.inputs;!x&&null!=I&&(D=I[d])?($6(r,c,D,d,h),xs(a)&&function G4(r,a){const c=Ir(a,r);16&c[Dn]||(c[Dn]|=64)}(c,a.index)):3&a.type&&(d=function U9(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),h=null!=w?w(h,a.value||"",d):h,g.setProperty(C,d,h))}(jn(),Ci(),d,r,a,d[Mn],c,!1),l8}function u8(r,a,c,d,h){const w=h?"class":"style";$6(r,c,a.inputs[w],w,d)}function lh(r,a,c,d){const h=dt(),g=jn(),w=Gn+r,x=h[Mn],C=g.firstCreatePass?function bp(r,a,c,d,h,g){const w=a.consts,C=Oa(a,r,2,d,ua(w,h));return K4(a,c,C,ua(w,g)),null!==C.attrs&&q4(C,C.attrs,!1),null!==C.mergedAttrs&&q4(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(w,g,h,a,c,d):g.data[w],I=Lu(g,h,C,x,a,r);h[w]=I;const D=Wa(C);return ur(C,!0),$g(x,I,C),32!=(32&C.flags)&&Oc()&&pc(g,h,I,C),0===function O3(){return En.lFrame.elementDepthCount}()&&xo(I,h),function Ud(){En.lFrame.elementDepthCount++}(),D&&(x0(g,h,C),R6(g,C,h)),null!==d&&H4(h,C),lh}function uh(){let r=wo();Gd()?k2():(r=r.parent,ur(r,!1));const a=r;(function Al(r){return En.skipHydrationRootTNode===r})(a)&&function Sl(){En.skipHydrationRootTNode=null}(),function $d(){En.lFrame.elementDepthCount--}();const c=jn();return c.firstCreatePass&&(dr(c,r),vl(r)&&c.queries.elementEnd(r)),null!=a.classesWithoutHost&&function P2(r){return 0!=(8&r.flags)}(a)&&u8(c,a,dt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function _o(r){return 0!=(16&r.flags)}(a)&&u8(c,a,dt(),a.stylesWithoutHost,!1),uh}function d8(r,a,c,d){return lh(r,a,c,d),uh(),d8}let Lu=(r,a,c,d,h,g)=>(Ti(!0),N1(d,h,function Pl(){return En.lFrame.currentNamespace}()));function Nu(r,a,c){const d=dt(),h=jn(),g=r+Gn,w=h.firstCreatePass?function Ip(r,a,c,d,h){const g=a.consts,w=ua(g,d),x=Oa(a,r,8,"ng-container",w);return null!==w&&q4(x,w,!0),K4(a,c,x,ua(g,h)),null!==a.queries&&a.queries.elementStart(a,x),x}(g,h,d,a,c):h.data[g];ur(w,!0);const x=Jc(h,d,w,r);return d[g]=x,Oc()&&pc(h,d,x,w),xo(x,d),Wa(w)&&(x0(h,d,w),R6(h,w,d)),null!=c&&H4(d,w),Nu}function dh(){let r=wo();const a=jn();return Gd()?k2():(r=r.parent,ur(r,!1)),a.firstCreatePass&&(dr(a,r),vl(r)&&a.queries.elementEnd(r)),dh}function h8(r,a,c){return Nu(r,a,c),dh(),h8}let Jc=(r,a,c,d)=>(Ti(!0),L1(a[Mn],""));function X1(){return dt()}function kp(r){return!!r&&"function"==typeof r.then}function Tw(r){return!!r&&"function"==typeof r.subscribe}function Y1(r,a,c,d){const h=dt(),g=jn(),w=wo();return function hh(r,a,c,d,h,g,w){const x=Wa(d),I=r.firstCreatePass&&Y9(r),D=a[Ii],G=X9(a);let Ce=!0;if(3&d.type||w){const Mt=lr(d,a),Yt=w?w(Mt):Mt,pn=G.length,mt=w?Xn=>w(mi(Xn[d.index])):d.index;let Rn=null;if(!w&&x&&(Rn=function Nt(r,a,c,d){const h=r.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===c&&h[g+1]===d){const x=a[Vr],C=h[g+2];return x.length>C?x[C]:null}"string"==typeof w&&(g+=2)}return null}(r,a,h,d.index)),null!==Rn)(Rn.__ngLastListenerFn__||Rn).__ngNextListenerFn__=g,Rn.__ngLastListenerFn__=g,Ce=!1;else{g=Ow(d,a,D,g,!1);const Xn=c.listen(Yt,h,g);G.push(g,Xn),I&&I.push(h,mt,pn,pn+1)}}else g=Ow(d,a,D,g,!1);const ze=d.outputs;let nt;if(Ce&&null!==ze&&(nt=ze[h])){const Mt=nt.length;if(Mt)for(let Yt=0;Yt<Mt;Yt+=2){const Si=a[nt[Yt]][nt[Yt+1]].subscribe(g),gs=G.length;G.push(g,Si),I&&I.push(h,d.index,gs,-(gs+1))}}}(g,h,h[Mn],w,r,a,d),Y1}function Dp(r,a,c,d){try{return Cs(6,a,c),!1!==c(d)}catch(h){return J9(r,h),!1}finally{Cs(7,a,c)}}function Ow(r,a,c,d,h){return function g(w){if(w===Function)return d;v0(r.componentOffset>-1?Ir(r.index,a):a);let C=Dp(a,c,d,w),I=g.__ngNextListenerFn__;for(;I;)C=Dp(a,c,I,w)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&w.preventDefault(),C}}function Pw(r=1){return function Ol(r){return(En.lFrame.contextLView=function T2(r,a){for(;r>0;)a=a[Cr],r--;return a}(r,En.lFrame.contextLView))[Ii]}(r)}function lI(r,a){let c=null;const d=function ie(r){const a=r.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(r);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?qo(r,g,!0):$e(d,g))return h}else c=h}return c}function zu(r){const a=dt()[lo][Do];if(!a.projection){const d=a.projection=Nc(r?r.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const w=r?lI(g,r):0;null!==w&&(h[w]?h[w].projectionNext=g:d[w]=g,h[w]=g),g=g.next}}}function Tp(r,a=0,c){const d=dt(),h=jn(),g=Oa(h,Gn+r,16,null,c||null);null===g.projection&&(g.projection=a),k2(),(!d[ns]||Ya())&&32!=(32&g.flags)&&function Hg(r,a,c){Ug(a[Mn],0,a,c,Hc(r,c,a),Bg(c.parent||a[Do],c,a))}(h,d,g)}function ph(r,a){return r<<17|a<<2}function e1(r){return r>>17&32767}function mh(r){return 2|r}function J1(r){return(131068&r)>>2}function v8(r,a){return-131069&r|a<<2}function w8(r){return 1|r}function Lp(r,a,c,d,h){const g=r[c+1],w=null===a;let x=d?e1(g):J1(g),C=!1;for(;0!==x&&(!1===C||w);){const D=r[x+1];Fw(r[x],a)&&(C=!0,r[x+1]=d?w8(D):mh(D)),x=d?e1(D):J1(D)}C&&(r[c+1]=d?mh(g):w8(g))}function Fw(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&rc(r,a)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Np(r){return r.substring(zo.key,zo.keyEnd)}function Fp(r,a){const c=zo.textEnd;return c===a?-1:(a=zo.keyEnd=function Bp(r,a,c){for(;a<c&&r.charCodeAt(a)>32;)a++;return a}(r,zo.key=a,c),R0(r,a,c))}function R0(r,a,c){for(;a<c&&r.charCodeAt(a)<=32;)a++;return a}function wh(r,a){return function Qs(r,a,c,d){const h=dt(),g=jn(),w=bs(2);g.firstUpdatePass&&Gp(g,r,w,d),a!==Nn&&ir(h,w,a)&&L0(g,g.data[Zo()],h,h[Mn],r,h[w+1]=function uI(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=te(mc(r)))),r}(a,c),d,w)}(r,a,null,!0),wh}function Up(r){!function Js(r,a,c,d){const h=jn(),g=bs(2);h.firstUpdatePass&&Gp(h,null,g,d);const w=dt();if(c!==Nn&&ir(w,g,c)){const x=h.data[Zo()];if(Qw(x,d)&&!$p(h,g)){let C=d?x.classesWithoutHost:x.stylesWithoutHost;null!==C&&(c=se(C,c||"")),u8(h,x,w,c,d)}else!function Xw(r,a,c,d,h,g,w,x){h===Nn&&(h=St);let C=0,I=0,D=0<h.length?h[0]:null,G=0<g.length?g[0]:null;for(;null!==D||null!==G;){const Ce=C<h.length?h[C+1]:void 0,ze=I<g.length?g[I+1]:void 0;let Mt,nt=null;D===G?(C+=2,I+=2,Ce!==ze&&(nt=G,Mt=ze)):null===G||null!==D&&D<G?(C+=2,nt=D):(I+=2,nt=G,Mt=ze),null!==nt&&L0(r,a,c,d,nt,Mt,w,x),D=C<h.length?h[C]:null,G=I<g.length?g[I]:null}}(h,x,w,w[Mn],w[g+1],w[g+1]=function Ww(r,a,c){if(null==c||""===c)return St;const d=[],h=mc(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)r(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&r(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(r,a,c),d,g)}}(qw,Na,r,!0)}function Na(r,a){for(let c=function zp(r){return function _8(r){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=r.length}(r),Fp(r,R0(r,0,zo.textEnd))}(a);c>=0;c=Fp(a,c))kr(r,Np(a),!0)}function $p(r,a){return a>=r.expandoStartIndex}function Gp(r,a,c,d){const h=r.data;if(null===h[c+1]){const g=h[Zo()],w=$p(r,c);Qw(g,d)&&null===a&&!w&&(a=!1),a=function $w(r,a,c,d){const h=function D2(r){const a=En.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=za(c=Z1(null,r,a,c,d),a.attrs,d),g=null);else{const w=a.directiveStylingLast;if(-1===w||r[w]!==h)if(c=Z1(h,r,a,c,d),null===g){let C=function Gw(r,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==J1(d))return r[e1(d)]}(r,a,d);void 0!==C&&Array.isArray(C)&&(C=Z1(null,r,a,C[1],d),C=za(C,a.attrs,d),function Kw(r,a,c,d){r[e1(c?a.classBindings:a.styleBindings)]=d}(r,a,d,C))}else g=function Kp(r,a,c){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=za(d,r[g].hostAttrs,c);return za(d,a.attrs,c)}(r,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,d),function Nw(r,a,c,d,h,g){let w=g?a.classBindings:a.styleBindings,x=e1(w),C=J1(w);r[d]=c;let D,I=!1;if(Array.isArray(c)?(D=c[1],(null===D||rc(c,D)>0)&&(I=!0)):D=c,h)if(0!==C){const Ce=e1(r[x+1]);r[d+1]=ph(Ce,x),0!==Ce&&(r[Ce+1]=v8(r[Ce+1],d)),r[x+1]=function Pp(r,a){return 131071&r|a<<17}(r[x+1],d)}else r[d+1]=ph(x,0),0!==x&&(r[x+1]=v8(r[x+1],d)),x=d;else r[d+1]=ph(C,0),0===x?x=d:r[C+1]=v8(r[C+1],d),C=d;I&&(r[d+1]=mh(r[d+1])),Lp(r,D,d,!0),Lp(r,D,d,!1),function zw(r,a,c,d,h){const g=h?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof a&&rc(g,a)>=0&&(c[d+1]=w8(c[d+1]))}(a,D,r,d,g),w=ph(x,C),g?a.classBindings=w:a.styleBindings=w}(h,g,a,c,w,d)}}function Z1(r,a,c,d,h){let g=null;const w=c.directiveEnd;let x=c.directiveStylingLast;for(-1===x?x=c.directiveStart:x++;x<w&&(g=a[x],d=za(d,g.hostAttrs,h),g!==r);)x++;return null!==r&&(c.directiveStylingLast=x),d}function za(r,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const w=a[g];"number"==typeof w?h=w:h===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),kr(r,w,!!c||a[++g]))}return void 0===r?null:r}function qw(r,a,c){const d=String(a);""!==d&&!d.includes(" ")&&kr(r,d,c)}function L0(r,a,c,d,h,g,w,x){if(!(3&a.type))return;const C=r.data,I=C[x+1],D=function Lw(r){return 1==(1&r)}(I)?Yw(C,a,c,h,J1(I),w):void 0;M8(D)||(M8(g)||function Rw(r){return 2==(2&r)}(I)&&(g=Yw(C,null,c,h,x,w)),function o9(r,a,c,d,h){if(a)h?r.addClass(c,d):r.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Vc.DashCase;null==h?r.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Vc.Important),r.setStyle(c,d,h,g))}}(d,w,Xa(Zo(),c),h,g))}function Yw(r,a,c,d,h,g){const w=null===a;let x;for(;h>0;){const C=r[h],I=Array.isArray(C),D=I?C[1]:C,G=null===D;let Ce=c[h+1];Ce===Nn&&(Ce=G?St:void 0);let ze=G?K2(Ce,d):D===d?Ce:void 0;if(I&&!M8(ze)&&(ze=K2(C,d)),M8(ze)&&(x=ze,w))return x;const nt=r[h+1];h=w?e1(nt):J1(nt)}if(null!==a){let C=g?a.residualClasses:a.residualStyles;null!=C&&(x=K2(C,d))}return x}function M8(r){return void 0!==r}function Qw(r,a){return 0!=(r.flags&(a?8:16))}function Jw(r,a=""){const c=dt(),d=jn(),h=r+Gn,g=d.firstCreatePass?Oa(d,h,1,a,null):d.data[h],w=Wp(d,c,g,a,r);c[h]=w,Oc()&&pc(d,c,w,g),ur(g,!1)}let Wp=(r,a,c,d,h)=>(Ti(!0),function Ss(r,a){return r.createText(a)}(a[Mn],d));function el(r){return C8("",r,""),el}function C8(r,a,c){const d=dt(),h=function Du(r,a,c,d){return ir(r,C1(),c)?a+J(c)+d:Nn}(d,r,a,c);return h!==Nn&&Pa(d,Zo(),h),C8}function b8(r,a,c,d,h){const g=dt(),w=function Tu(r,a,c,d,h,g){const x=Yc(r,da(),c,h);return bs(2),x?a+J(c)+d+J(h)+g:Nn}(g,r,a,c,d,h);return w!==Nn&&Pa(g,Zo(),w),b8}function qp(r,a,c,d,h,g,w){const x=dt(),C=Ou(x,r,a,c,d,h,g,w);return C!==Nn&&Pa(x,Zo(),C),qp}const hs=void 0;var _h=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function N0(r){const c=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let z0={};function gy(r,a,c){"string"!=typeof a&&(c=a,a=r[F0.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),z0[a]=r,c&&(z0[a][F0.ExtraData]=c)}function S8(r){const a=function py(r){return r.toLowerCase().replace(/_/g,"-")}(r);let c=im(a);if(c)return c;const d=a.split("-")[0];if(c=im(d),c)return c;if("en"===d)return _h;throw new X(701,!1)}function nm(r){return S8(r)[F0.PluralCase]}function im(r){return r in z0||(z0[r]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[r]),z0[r]}var F0=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(F0||{});const Tr="en-US";let Os=Tr;function B8(r,a,c,d,h){if(r=Ee(r),Array.isArray(r))for(let g=0;g<r.length;g++)B8(r[g],a,c,d,h);else{const g=jn(),w=dt(),x=wo();let C=c0(r)?r:Ee(r.provide);const I=Ds(r),D=1048575&x.providerIndexes,G=x.directiveStart,Ce=x.providerIndexes>>20;if(c0(r)||!r.multi){const ze=new Ar(I,h,wu),nt=Em(C,a,h?D:D+Ce,G);-1===nt?(Fl(uo(x,w),g,C),bm(g,r,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(ze),w.push(ze)):(c[nt]=ze,w[nt]=ze)}else{const ze=Em(C,a,D+Ce,G),nt=Em(C,a,D,D+Ce),Yt=nt>=0&&c[nt];if(h&&!Yt||!h&&!(ze>=0&&c[ze])){Fl(uo(x,w),g,C);const pn=function EI(r,a,c,d,h){const g=new Ar(r,c,wu);return g.multi=[],g.index=a,g.componentProviders=0,Uy(g,h,d&&!c),g}(h?bI:$y,c.length,h,d,I);!h&&Yt&&(c[nt].providerFactory=pn),bm(g,r,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(pn),w.push(pn)}else bm(g,r,ze>-1?ze:nt,Uy(c[h?nt:ze],I,!h&&d));!h&&d&&Yt&&c[nt].componentProviders++}}}function bm(r,a,c,d){const h=c0(a),g=function PE(r){return!!r.useClass}(a);if(h||g){const C=(g?Ee(a.useClass):a).prototype.ngOnDestroy;if(C){const I=r.destroyHooks||(r.destroyHooks=[]);if(!h&&a.multi){const D=I.indexOf(c);-1===D?I.push(c,[d,C]):I[D+1].push(d,C)}else I.push(c,C)}}}function Uy(r,a,c){return c&&r.componentProviders++,r.multi.push(a)-1}function Em(r,a,c,d){for(let h=c;h<d;h++)if(a[h]===r)return h;return-1}function $y(r,a,c,d){return Im(this.multi,[])}function bI(r,a,c,d){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=Gr(c,c[Ot],this.providerFactory.index,d);g=x.slice(0,w),Im(h,g);for(let C=w;C<x.length;C++)g.push(x[C])}else g=[],Im(h,g);return g}function Im(r,a){for(let c=0;c<r.length;c++)a.push((0,r[c])());return a}function Gy(r,a=[]){return c=>{c.providersResolver=(d,h)=>function CI(r,a,c){const d=jn();if(d.firstCreatePass){const h=Jo(r);B8(c,d.data,d.blueprint,h,!0),B8(a,d.data,d.blueprint,h,!1)}}(d,h?h(r):r,a)}}class j0{}class Ky{}function II(r,a){return new Am(r,a??null,[])}class Am extends j0{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rp(this);const h=On(a);this._bootstrapComponents=Xs(h.bootstrap),this._r3Injector=pr(a,c,[{provide:j0,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver},...d],te(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class km extends Ky{constructor(a){super(),this.moduleType=a}create(a){return new Am(this.moduleType,a,[])}}class qy extends j0{constructor(a){super(),this.componentFactoryResolver=new rp(this),this.instance=null;const c=new u0([...a.providers,{provide:j0,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],a.parent||C4(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Xy(r,a,c=null){return new qy({providers:r,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let AI=(()=>{class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=c5(0,c.type),h=d.length>0?Xy([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=on({token:r,providedIn:"environment",factory:()=>new r(Ye(ka))})}}return r})();function Sm(r){r.getStandaloneInjector=a=>a.get(AI).getOrCreateStandaloneInjector(r)}function n_(r,a,c){const d=Po()+r,h=dt();return h[d]===Nn?_c(h,d,c?a.call(c):a()):function nh(r,a){return r[a]}(h,d)}function i_(r,a,c,d){return o_(dt(),Po(),r,a,c,d)}function Ah(r,a){const c=r[a];return c===Nn?void 0:c}function o_(r,a,c,d,h,g){const w=a+c;return ir(r,w,h)?_c(r,w+1,g?d.call(g,h):d(h)):Ah(r,w+1)}function a_(r,a,c,d,h,g,w,x,C){const I=a+c;return function Ys(r,a,c,d,h,g){const w=Yc(r,a,c,d);return Yc(r,a+2,h,g)||w}(r,I,h,g,w,x)?_c(r,I+4,C?d.call(C,h,g,w,x):d(h,g,w,x)):Ah(r,I+4)}function l_(r,a){const c=jn();let d;const h=r+Gn;c.firstCreatePass?(d=function u_(r,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(r===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=Kn(d.type)),x=Fn(wu);try{const C=Vi(!1),I=g();return Vi(C),function kw(r,a,c,d){c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),a[c]=d}(c,dt(),h,I),I}finally{Fn(x)}}function d_(r,a,c){const d=r+Gn,h=dt(),g=ca(h,d);return kh(h,d)?o_(h,Po(),a,g.transform,c,g):g.transform(c)}function Tm(r,a,c,d){const h=r+Gn,g=dt(),w=ca(g,h);return kh(g,h)?function r_(r,a,c,d,h,g,w){const x=a+c;return Yc(r,x,h,g)?_c(r,x+2,w?d.call(w,h,g):d(h,g)):Ah(r,x+2)}(g,Po(),a,w.transform,c,d,w):w.transform(c,d)}function h_(r,a,c,d,h,g){const w=r+Gn,x=dt(),C=ca(x,w);return kh(x,w)?a_(x,Po(),a,C.transform,c,d,h,g,C):C.transform(c,d,h,g)}function kh(r,a){return r[Ot].data[a].pure}function KI(){return this._results[Symbol.iterator]()}class Om{get changes(){return this._changes||(this._changes=new Da)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Om.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=KI)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function fr(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function G2(r,a,c){if(r.length!==a.length)return!1;for(let d=0;d<r.length;d++){let h=r[d],g=a[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qI(r,a,c,d=!0){const h=a[Ot];if(function ru(r,a,c,d){const h=Wi+d,g=c.length;d>0&&(c[h-1][Qo]=a),d<g-Wi?(a[Qo]=c[h],G3(c,Wi+d,a)):(c.push(a),a[Qo]=null),a[ui]=c;const w=a[Ka];null!==w&&c!==w&&function n6(r,a){const c=r[os];a[lo]!==a[ui][ui][lo]&&(r[_s]=!0),null===c?r[os]=[a]:c.push(a)}(w,a);const x=a[To];null!==x&&x.insertView(r),a[Dn]|=128}(h,a,r,c),d){const g=s6(c,r),w=a[Mn],x=h4(w,r[Uo]);null!==x&&function gc(r,a,c,d,h,g){d[Fi]=h,d[Do]=a,F1(r,d,c,1,h,g)}(h,r[Do],w,a,x,g)}}let Sh=(()=>{class r{static{this.__NG_ELEMENT_ID__=QI}}return r})();const XI=Sh,YI=class extends XI{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const h=function WI(r,a,c,d){const h=a.tView,x=wc(r,h,c,4096&r[Dn]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);x[Ka]=r[a.index];const I=r[To];return null!==I&&(x[To]=I.createEmbeddedView(h)),Eu(h,x,c),x}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Au(h)}};function QI(){return V8(wo(),dt())}function V8(r,a){return 4&r.type?new YI(a,r,p0(r,a)):null}let Dh=(()=>{class r{static{this.__NG_ELEMENT_ID__=iA}}return r})();function iA(){return w_(wo(),dt())}const oA=Dh,v_=class extends oA{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return p0(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){const a=Pc(this._hostTNode,this._hostLView);if(Xi(a)){const c=Hs(a,this._hostLView),d=Pn(a);return new Oi(c[Ot].data[d+8],c)}return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Pm(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(a,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const x=a.createEmbeddedViewImpl(c||{},g,null);return this.insertImpl(x,h,false),x}createComponent(a,c,d,h,g){const w=a&&!function oc(r){return"function"==typeof r}(a);let x;if(w)x=c;else{const Mt=c||{};x=Mt.index,d=Mt.injector,h=Mt.projectableNodes,g=Mt.environmentInjector||Mt.ngModuleRef}const C=w?a:new Ra(Vt(a)),I=d||this.parentInjector;if(!g&&null==C.ngModule){const Yt=(w?I:this.parentInjector).get(ka,null);Yt&&(g=Yt)}Vt(C.componentType??{});const ze=C.create(I,h,null,g);return this.insertImpl(ze.hostView,x,false),ze}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView;if(function la(r){return Oo(r[ui])}(h)){const C=this.indexOf(a);if(-1!==C)this.detach(C);else{const I=h[ui],D=new v_(I,I[Do],I[ui]);D.detach(D.indexOf(a))}}const w=this._adjustIndex(c),x=this._lContainer;return qI(x,h,w,!d),a.attachToViewContainerRef(),G3(Rm(x),w,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Pm(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=u4(this._lContainer,c);d&&(va(Rm(this._lContainer),c),Rg(d[Ot],d))}detach(a){const c=this._adjustIndex(a,-1),d=u4(this._lContainer,c);return d&&null!=va(Rm(this._lContainer),c)?new Au(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function Pm(r){return r[8]}function Rm(r){return r[8]||(r[8]=[])}function w_(r,a){let c;const d=a[r.index];return Oo(d)?c=d:(c=j6(d,a,null,r),a[r.index]=c,H6(a,c)),y_(c,a,r,d),new v_(c,r,a)}let y_=function __(r,a,c,d){if(r[Uo])return;let h;h=8&c.type?mi(d):function rA(r,a){const c=r[Mn],d=c.createComment(""),h=lr(a,r);return z1(c,h4(c,h),d,function n9(r,a){return r.nextSibling(a)}(c,h),!1),d}(a,c),r[Uo]=h};class Lm{constructor(a){this.queryList=a,this.matches=null}clone(){return new Lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const w=c.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new Nm(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==S_(a,c).matches&&this.queries[c].setDirty()}}class x_{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class zm{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new zm(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Fm{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Fm(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,c,cA(c,g)),this.matchTNodeWithReadOption(a,c,Vl(c,a,g,!1,!1))}else d===Sh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Vl(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===P4||h===Dh||h===Sh&&4&c.type)this.addMatch(c.index,-2);else{const g=Vl(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function cA(r,a){const c=r.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function uA(r,a,c,d){return-1===c?function lA(r,a){return 11&r.type?p0(r,a):4&r.type?V8(r,a):null}(a,r):-2===c?function dA(r,a,c){return c===P4?p0(a,r):c===Sh?V8(a,r):c===Dh?w_(a,r):void 0}(r,a,d):Gr(r,r[Ot],c,a)}function M_(r,a,c,d){const h=a[To].queries[d];if(null===h.matches){const g=r.data,w=c.matches,x=[];for(let C=0;C<w.length;C+=2){const I=w[C];x.push(I<0?null:uA(a,g[I],w[C+1],c.metadata.read))}h.matches=x}return h.matches}function Bm(r,a,c,d){const h=r.queries.getByIndex(c),g=h.matches;if(null!==g){const w=M_(r,a,h,c);for(let x=0;x<g.length;x+=2){const C=g[x];if(C>0)d.push(w[x/2]);else{const I=g[x+1],D=a[-C];for(let G=Wi;G<D.length;G++){const Ce=D[G];Ce[Ka]===Ce[ui]&&Bm(Ce[Ot],Ce,I,d)}if(null!==D[os]){const G=D[os];for(let Ce=0;Ce<G.length;Ce++){const ze=G[Ce];Bm(ze[Ot],ze,I,d)}}}}}return d}function C_(r){const a=dt(),c=jn(),d=N3();Wd(d+1);const h=S_(c,d);if(r.dirty&&function bl(r){return 4==(4&r[Dn])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const g=h.crossesNgTemplate?Bm(c,a,d,[]):M_(c,a,h,d);r.reset(g,I5),r.notifyOnChanges()}return!0}return!1}function b_(r,a,c){const d=jn();d.firstCreatePass&&(k_(d,new x_(r,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),A_(d,dt(),a)}function E_(r,a,c,d){const h=jn();if(h.firstCreatePass){const g=wo();k_(h,new x_(a,c,d),g.index),function fA(r,a){const c=r.contentQueries||(r.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(r.queries.length-1,a)}(h,r),2==(2&c)&&(h.staticContentQueries=!0)}A_(h,dt(),c)}function I_(){return function hA(r,a){return r[To].queries[a].queryList}(dt(),N3())}function A_(r,a,c){const d=new Om(4==(4&c));(function Mu(r,a,c,d){const h=X9(a);h.push(c),r.firstCreatePass&&Y9(r).push(d,h.length-1)})(r,a,d,d.destroy),null===a[To]&&(a[To]=new Nm),a[To].queries.push(new Lm(d))}function k_(r,a,c){null===r.queries&&(r.queries=new zm),r.queries.track(new Fm(a,c))}function S_(r,a){return r.queries.getByIndex(a)}function Vm(r){return!!On(r)}const K_=new Tt("Application Initializer");let Gm=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=it(K_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const g=h();if(kp(g))c.push(g);else if(Tw(g)){const w=new Promise((x,C)=>{g.subscribe({complete:x,error:C})});c.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),W_=(()=>{class r{log(c){console.log(c)}warn(c){console.warn(c)}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const U8=new Tt("LocaleId",{providedIn:"root",factory:()=>it(U8,wt.Optional|wt.SkipSelf)||function LA(){return typeof $localize<"u"&&$localize.locale||Tr}()}),NA=new Tt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let q_=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie.t(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class FA{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let BA=(()=>{class r{compileModuleSync(c){return new km(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Xs(On(c).declarations).reduce((w,x)=>{const C=Vt(x);return C&&w.push(new Ra(C)),w},[]);return new FA(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const J_=new Tt(""),Z_=new Tt("");let qm,ex=(()=>{class r{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qm||(function sk(r){qm=r}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{No.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}static{this.\u0275fac=function(d){return new(d||r)(Ye(No),Ye(tx),Ye(Z_))}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac})}}return r})(),tx=(()=>{class r{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return qm?.findTestabilityInTree(this,c,d)??null}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})(),nl=null;const nx=new Tt("AllowMultipleToken"),Xm=new Tt("PlatformDestroyListeners"),Ym=new Tt("appBootstrapListener");class lk{constructor(a,c){this.name=a,this.token=c}}function rx(r,a,c=[]){const d=`Platform: ${a}`,h=new Tt(d);return(g=[])=>{let w=Qm();if(!w||w.injector.get(nx,!1)){const x=[...c,...g,{provide:h,useValue:!0}];r?r(x):function uk(r){if(nl&&!nl.get(nx,!1))throw new X(400,!1);(function ix(){!function Od(r){C3=r}(()=>{throw new X(600,!1)})})(),nl=r;const a=r.get(ax);(function ox(r){r.get(d0,null)?.forEach(c=>c())})(r)}(function sx(r=[],a){return qs.create({name:a,providers:[{provide:l0,useValue:"platform"},{provide:Xm,useValue:new Set([()=>nl=null])},...r]})}(x,d))}return function hk(r){const a=Qm();if(!a)throw new X(401,!1);return a}()}}function Qm(){return nl?.get(ax)??null}let ax=(()=>{class r{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function fk(r="zone.js",a){return"noop"===r?new F5:"zone.js"===r?new No(a):r}(d?.ngZone,function cx(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const g=function Wy(r,a,c){return new Am(r,a,c)}(c.moduleType,this.injector,function fx(r){return[{provide:No,useFactory:r},{provide:a0,multi:!0,useFactory:()=>{const a=it(pk,{optional:!0});return()=>a.initialize()}},{provide:hx,useFactory:gk},{provide:T6,useFactory:O6}]}(()=>h)),w=g.injector.get(Wc,null);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:C=>{w.handleError(C)}});g.onDestroy(()=>{K8(this._modules,g),x.unsubscribe()})}),function lx(r,a,c){try{const d=c();return kp(d)?d.catch(h=>{throw a.runOutsideAngular(()=>r.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>r.handleError(d)),d}}(w,h,()=>{const x=g.injector.get(Gm);return x.runInitializers(),x.donePromise.then(()=>(function D8(r){rt(r,"Expected localeId to be defined"),"string"==typeof r&&(Os=r.toLowerCase().replace(/_/g,"-"))}(g.injector.get(U8,Tr)||Tr),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,d=[]){const h=ux({},d);return function ak(r,a,c){const d=new km(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Xu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new X(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Xm,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(d){return new(d||r)(Ye(qs))}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function ux(r,a){return Array.isArray(a)?a.reduce(ux,r):{...r,...a}}let Xu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(hx),this.zoneIsStable=it(T6),this.componentTypes=[],this.components=[],this.isStable=it(q_).hasPendingTasks.pipe((0,Se.n)(c=>c?(0,ye.of)(!1):this.zoneIsStable),(0,Me.F)(),(0,q.u)()),this._injector=it(ka)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof A6;if(!this._injector.get(Gm).done)throw!h&&gi(c),new X(405,!1);let w;w=h?c:this._injector.get(Ts).resolveComponentFactory(c),this.componentTypes.push(w.componentType);const x=function ck(r){return r.isBoundToModule}(w)?void 0:this._injector.get(j0),I=w.create(qs.NULL,[],d||w.selector,x),D=I.location.nativeElement,G=I.injector.get(J_,null);return G?.registerApplication(D),I.onDestroy(()=>{this.detachView(I.hostView),K8(this.components,I),G?.unregisterApplication(D)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;K8(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ym,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>K8(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new X(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function K8(r,a){const c=r.indexOf(a);c>-1&&r.splice(c,1)}const hx=new Tt("",{providedIn:"root",factory:()=>it(Wc).handleError.bind(void 0)});function gk(){const r=it(No),a=it(Wc);return c=>r.runOutsideAngular(()=>a.handleError(c))}let pk=(()=>{class r{constructor(){this.zone=it(No),this.applicationRef=it(Xu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275prov=on({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function vk(){return!1}let wk=(()=>{class r{static{this.__NG_ELEMENT_ID__=yk}}return r})();function yk(r){return function _k(r,a,c){if(xs(r)&&!c){const d=Ir(r.index,a);return new Au(d,d)}return 47&r.type?new Au(a[lo],a):null}(wo(),dt(),16==(16&r))}class wx{constructor(){}supports(a){return eh(a)}create(a){return new Ek(a)}}const bk=(r,a)=>a;class Ek{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||bk}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const w=!d||c&&c.currentIndex<n7(d,h,g)?c:d,x=n7(w,h,g),C=w.currentIndex;if(w===d)h--,d=d._nextRemoved;else if(c=c._next,null==w.previousIndex)h++;else{g||(g=[]);const I=x-h,D=C-h;if(I!=D){for(let Ce=0;Ce<I;Ce++){const ze=Ce<g.length?g[Ce]:g[Ce]=0,nt=ze+Ce;D<=nt&&nt<I&&(g[Ce]=ze+1)}g[w.previousIndex]=D-I}}x!==C&&a(w,x,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!eh(a))throw new X(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,w,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)g=a[x],w=this._trackByFn(x,g),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,g,w,x)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,w,x),d=!0),c=c._next}else h=0,function pw(r,a){if(Array.isArray(r))for(let c=0;c<r.length;c++)a(r[c]);else{const c=r[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,x=>{w=this._trackByFn(h,x),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,x,w,h)),Object.is(c.item,x)||this._addIdentityChange(c,x)):(c=this._mismatch(c,x,w,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new Ik(c,d),g,h),a}_verifyReinsertion(a,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new yx),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yx),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Ik{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ak{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class yx{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Ak,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function n7(r,a,c){const d=r.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class _x{constructor(){}supports(a){return a instanceof Map||th(a)}create(){return new kk}}class kk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||th(a)))throw new X(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const d=new Sk(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Sk{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xx(){return new i7([new wx])}let i7=(()=>{class r{static{this.\u0275prov=on({token:r,providedIn:"root",factory:xx})}constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new r(c)}static extend(c){return{provide:r,useFactory:d=>r.create(c,d||xx()),deps:[[r,new Wl,new Kl]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new X(901,!1)}}return r})();function Mx(){return new o7([new _x])}let o7=(()=>{class r{static{this.\u0275prov=on({token:r,providedIn:"root",factory:Mx})}constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new r(c)}static extend(c){return{provide:r,useFactory:d=>r.create(c,d||Mx()),deps:[[r,new Wl,new Kl]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new X(901,!1)}}return r})();const Tk=rx(null,"core",[]);let Ok=(()=>{class r{constructor(c){}static{this.\u0275fac=function(d){return new(d||r)(Ye(Xu))}}static{this.\u0275mod=yt({type:r})}static{this.\u0275inj=sn({})}}return r})();function Uk(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Wk(r,a){const c=Vt(r),d=a.elementInjector||C4();return new Ra(c).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}function qk(r){const a=Vt(r);if(!a)return null;const c=new Ra(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},2687:(At,je,k)=>{"use strict";k.d(je,{$s:()=>xe,Fi:()=>Hi,TT:()=>Ji,W0:()=>Vn,WV:()=>de,do:()=>ao,iG:()=>Zn});var s=k(467),Y=k(7852),L=k(8041),ue=k(1076),Ie=k(1362);k(1001);const q="analytics",Se="firebase_id",Me="origin",B=6e4,F="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",te="https://www.googletagmanager.com/gtag/js",se=new L.Vy("@firebase/analytics"),we=new ue.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ee(De){if(!De.startsWith(te)){const Ye=we.create("invalid-gtag-resource",{gtagURL:De});return se.warn(Ye.message),""}return De}function fe(De){return Promise.all(De.map(Ye=>Ye.catch(st=>st)))}function _e(){return(_e=(0,s.A)(function*(De,Ye,st,it,lt,qt){const dn=it[lt];try{if(dn)yield Ye[dn];else{const In=(yield fe(st)).find(Ve=>Ve.measurementId===lt);In&&(yield Ye[In.appId])}}catch(Sn){se.error(Sn)}De("config",lt,qt)})).apply(this,arguments)}function Ae(){return(Ae=(0,s.A)(function*(De,Ye,st,it,lt){try{let qt=[];if(lt&&lt.send_to){let dn=lt.send_to;Array.isArray(dn)||(dn=[dn]);const Sn=yield fe(st);for(const In of dn){const Ve=Sn.find(at=>at.measurementId===In),Pe=Ve&&Ye[Ve.appId];if(!Pe){qt=[];break}qt.push(Pe)}}0===qt.length&&(qt=Object.values(Ye)),yield Promise.all(qt),De("event",it,lt||{})}catch(qt){se.error(qt)}})).apply(this,arguments)}const oe=30,le=new class U{constructor(Ye={},st=1e3){this.throttleMetadata=Ye,this.intervalMillis=st}getThrottleMetadata(Ye){return this.throttleMetadata[Ye]}setThrottleMetadata(Ye,st){this.throttleMetadata[Ye]=st}deleteThrottleMetadata(Ye){delete this.throttleMetadata[Ye]}};function Qe(De){return new Headers({Accept:"application/json","x-goog-api-key":De})}function xt(){return(xt=(0,s.A)(function*(De){var Ye;const{appId:st,apiKey:it}=De,lt={method:"GET",headers:Qe(it)},qt=F.replace("{app-id}",st),dn=yield fetch(qt,lt);if(200!==dn.status&&304!==dn.status){let Sn="";try{const In=yield dn.json();null!==(Ye=In.error)&&void 0!==Ye&&Ye.message&&(Sn=In.error.message)}catch{}throw we.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Sn})}return dn.json()})).apply(this,arguments)}function K(){return(K=(0,s.A)(function*(De,Ye=le,st){const{appId:it,apiKey:lt,measurementId:qt}=De.options;if(!it)throw we.create("no-app-id");if(!lt){if(qt)return{measurementId:qt,appId:it};throw we.create("no-api-key")}const dn=Ye.getThrottleMetadata(it)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Sn=new be;return setTimeout((0,s.A)(function*(){Sn.abort()}),void 0!==st?st:B),H({appId:it,apiKey:lt,measurementId:qt},dn,Sn,Ye)})).apply(this,arguments)}function H(De,Ye,st){return W.apply(this,arguments)}function W(){return W=(0,s.A)(function*(De,{throttleEndTimeMillis:Ye,backoffCount:st},it,lt=le){var qt;const{appId:dn,measurementId:Sn}=De;try{yield function ve(De,Ye){return new Promise((st,it)=>{const lt=Math.max(Ye-Date.now(),0),qt=setTimeout(st,lt);De.addEventListener(()=>{clearTimeout(qt),it(we.create("fetch-throttle",{throttleEndTimeMillis:Ye}))})})}(it,Ye)}catch(In){if(Sn)return se.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${In?.message}]`),{appId:dn,measurementId:Sn};throw In}try{const In=yield function ot(De){return xt.apply(this,arguments)}(De);return lt.deleteThrottleMetadata(dn),In}catch(In){const Ve=In;if(!function ke(De){if(!(De instanceof ue.g&&De.customData))return!1;const Ye=Number(De.customData.httpStatus);return 429===Ye||500===Ye||503===Ye||504===Ye}(Ve)){if(lt.deleteThrottleMetadata(dn),Sn)return se.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${Ve?.message}]`),{appId:dn,measurementId:Sn};throw In}const Pe=503===Number(null===(qt=Ve?.customData)||void 0===qt?void 0:qt.httpStatus)?(0,ue.p9)(st,lt.intervalMillis,oe):(0,ue.p9)(st,lt.intervalMillis),at={throttleEndTimeMillis:Date.now()+Pe,backoffCount:st+1};return lt.setThrottleMetadata(dn,at),se.debug(`Calling attemptFetch again in ${Pe} millis`),H(De,at,it,lt)}}),W.apply(this,arguments)}class be{constructor(){this.listeners=[]}addEventListener(Ye){this.listeners.push(Ye)}abort(){this.listeners.forEach(Ye=>Ye())}}let rt,en;function ft(){return(ft=(0,s.A)(function*(De,Ye,st,it,lt){if(lt&&lt.global)De("event",st,it);else{const qt=yield Ye;De("event",st,Object.assign(Object.assign({},it),{send_to:qt}))}})).apply(this,arguments)}function rn(){return(rn=(0,s.A)(function*(De,Ye,st,it){if(it&&it.global)return De("set",{screen_name:st}),Promise.resolve();De("config",yield Ye,{update:!0,screen_name:st})})).apply(this,arguments)}function $n(){return($n=(0,s.A)(function*(De,Ye,st,it){if(it&&it.global)return De("set",{user_id:st}),Promise.resolve();De("config",yield Ye,{update:!0,user_id:st})})).apply(this,arguments)}function ln(){return(ln=(0,s.A)(function*(De,Ye,st,it){if(it&&it.global){const lt={};for(const qt of Object.keys(st))lt[`user_properties.${qt}`]=st[qt];return De("set",lt),Promise.resolve()}De("config",yield Ye,{update:!0,user_properties:st})})).apply(this,arguments)}function Et(){return(Et=(0,s.A)(function*(De,Ye){const st=yield De;window[`ga-disable-${st}`]=!Ye})).apply(this,arguments)}function wt(){return(wt=(0,s.A)(function*(){if(!(0,ue.zW)())return se.warn(we.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eX)()}catch(De){return se.warn(we.create("indexeddb-unavailable",{errorInfo:De?.toString()}).message),!1}return!0})).apply(this,arguments)}function $t(){return $t=(0,s.A)(function*(De,Ye,st,it,lt,qt,dn){var Sn;const In=function Ge(De){return K.apply(this,arguments)}(De);In.then(Qt=>{st[Qt.measurementId]=Qt.appId,De.options.measurementId&&Qt.measurementId!==De.options.measurementId&&se.warn(`The measurement ID in the local Firebase config (${De.options.measurementId}) does not match the measurement ID fetched from the server (${Qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qt=>se.error(Qt)),Ye.push(In);const Ve=function zn(){return wt.apply(this,arguments)}().then(Qt=>{if(Qt)return it.getId()}),[Pe,at]=yield Promise.all([In,Ve]);(function N(De){const Ye=window.document.getElementsByTagName("script");for(const st of Object.values(Ye))if(st.src&&st.src.includes(te)&&st.src.includes(De))return st;return null})(qt)||function me(De,Ye){const st=function ee(De,Ye){let st;return window.trustedTypes&&(st=window.trustedTypes.createPolicy(De,Ye)),st}("firebase-js-sdk-policy",{createScriptURL:Ee}),it=document.createElement("script"),lt=`${te}?l=${De}&id=${Ye}`;it.src=st?st?.createScriptURL(lt):lt,it.async=!0,document.head.appendChild(it)}(qt,Pe.measurementId),en&&(lt("consent","default",en),function vn(De){en=De}(void 0)),lt("js",new Date);const Ft=null!==(Sn=dn?.config)&&void 0!==Sn?Sn:{};return Ft[Me]="firebase",Ft.update=!0,null!=at&&(Ft[Se]=at),lt("config",Pe.measurementId,Ft),rt&&(lt("set",rt),function fn(De){rt=De}(void 0)),Pe.measurementId}),$t.apply(this,arguments)}class Fn{constructor(Ye){this.app=Ye}_delete(){return delete kn[this.app.options.appId],Promise.resolve()}}let kn={},Jn=[];const gn={};let Tt,qn,xn="dataLayer",oi="gtag",an=!1;function Vn(De){if(an)throw we.create("already-initialized");De.dataLayerName&&(xn=De.dataLayerName),De.gtagName&&(oi=De.gtagName)}function po(De,Ye,st){!function Yn(){const De=[];if((0,ue.sr)()&&De.push("This is a browser extension environment."),(0,ue.dM)()||De.push("Cookies are not available."),De.length>0){const Ye=De.map((it,lt)=>`(${lt+1}) ${it}`).join(" "),st=we.create("invalid-analytics-context",{errorInfo:Ye});se.warn(st.message)}}();const it=De.options.appId;if(!it)throw we.create("no-app-id");if(!De.options.apiKey){if(!De.options.measurementId)throw we.create("no-api-key");se.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${De.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kn[it])throw we.create("already-exists",{id:it});if(!an){!function Ue(De){let Ye=[];Array.isArray(window[De])?Ye=window[De]:window[De]=Ye}(xn);const{wrappedGtag:qt,gtagCore:dn}=function j(De,Ye,st,it,lt){let qt=function(...dn){window[it].push(arguments)};return window[lt]&&"function"==typeof window[lt]&&(qt=window[lt]),window[lt]=function V(De,Ye,st,it){function qt(){return qt=(0,s.A)(function*(dn,...Sn){try{if("event"===dn){const[In,Ve]=Sn;yield function J(De,Ye,st,it,lt){return Ae.apply(this,arguments)}(De,Ye,st,In,Ve)}else if("config"===dn){const[In,Ve]=Sn;yield function X(De,Ye,st,it,lt,qt){return _e.apply(this,arguments)}(De,Ye,st,it,In,Ve)}else if("consent"===dn){const[In]=Sn;De("consent","update",In)}else if("get"===dn){const[In,Ve,Pe]=Sn;De("get",In,Ve,Pe)}else if("set"===dn){const[In]=Sn;De("set",In)}else De(dn,...Sn)}catch(In){se.error(In)}}),qt.apply(this,arguments)}return function lt(dn){return qt.apply(this,arguments)}}(qt,De,Ye,st),{gtagCore:qt,wrappedGtag:window[lt]}}(kn,Jn,gn,xn,oi);qn=qt,Tt=dn,an=!0}return kn[it]=function Ut(De,Ye,st,it,lt,qt,dn){return $t.apply(this,arguments)}(De,Jn,gn,Ye,Tt,xn,st),new Fn(De)}function Ji(){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.A)(function*(){if((0,ue.sr)()||!(0,ue.dM)()||!(0,ue.zW)())return!1;try{return yield(0,ue.eX)()}catch{return!1}})).apply(this,arguments)}function Zn(De,Ye,st){De=(0,ue.Ku)(De),function Pt(De,Ye,st,it){return rn.apply(this,arguments)}(qn,kn[De.app.options.appId],Ye,st).catch(it=>se.error(it))}function ao(De,Ye,st){De=(0,ue.Ku)(De),function on(De,Ye,st,it){return $n.apply(this,arguments)}(qn,kn[De.app.options.appId],Ye,st).catch(it=>se.error(it))}function Hi(De,Ye,st){De=(0,ue.Ku)(De),function sn(De,Ye,st,it){return ln.apply(this,arguments)}(qn,kn[De.app.options.appId],Ye,st).catch(it=>se.error(it))}function de(De,Ye){De=(0,ue.Ku)(De),function Fe(De,Ye){return Et.apply(this,arguments)}(kn[De.app.options.appId],Ye).catch(st=>se.error(st))}function xe(De,Ye,st,it){De=(0,ue.Ku)(De),function et(De,Ye,st,it,lt){return ft.apply(this,arguments)}(qn,kn[De.app.options.appId],Ye,st,it).catch(lt=>se.error(lt))}const Oe="@firebase/analytics";!function zt(){(0,Y._registerComponent)(new Ie.uA(q,(Ye,{options:st})=>po(Ye.getProvider("app").getImmediate(),Ye.getProvider("installations-internal").getImmediate(),st),"PUBLIC")),(0,Y._registerComponent)(new Ie.uA("analytics-internal",function De(Ye){try{const st=Ye.getProvider(q).getImmediate();return{logEvent:(it,lt,qt)=>xe(st,it,lt,qt)}}catch(st){throw we.create("interop-component-reg-failed",{reason:st})}},"PRIVATE")),(0,Y.registerVersion)(Oe,"0.10.0"),(0,Y.registerVersion)(Oe,"0.10.0","esm2017")}()},3345:(At,je,k)=>{"use strict";k.d(je,{A:()=>we});var s=k(1076),Y=k(1362),L=k(7852),ue=k(8041);class Ie{constructor(fe,ee){this._delegate=fe,this.firebase=ee,(0,L._addComponent)(fe,new Y.uA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(fe,ee=L._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(fe);return!Ue.isInitialized()&&"EXPLICIT"===(null===(me=Ue.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:ee})}_removeServiceInstance(fe,ee=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(ee)}_addComponent(fe){(0,L._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,L._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new s.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Me(){const Ee=function Se(Ee){const fe={},ee={__esModule:!0,initializeApp:function X(V,j={}){const N=L.initializeApp(V,j);if((0,s.gR)(fe,N.name))return fe[N.name];const oe=new Ee(N,ee);return fe[N.name]=oe,oe},app:Ue,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function J(V){const j=V.name,N=j.replace("-compat","");if(L._registerComponent(V)&&"PUBLIC"===V.type){const oe=(Q=Ue())=>{if("function"!=typeof Q[N])throw q.create("invalid-app-argument",{appName:j});return Q[N]()};void 0!==V.serviceProps&&(0,s.zw)(oe,V.serviceProps),ee[N]=oe,Ee.prototype[N]=function(...Q){return this._getService.bind(this,j).apply(this,V.multipleInstances?Q:[])}}return"PUBLIC"===V.type?ee[N]:null},removeApp:function me(V){delete fe[V]},useAsService:function Ae(V,j){return"serverAuth"===j?null:j},modularAPIs:L}};function Ue(V){if(!(0,s.gR)(fe,V=V||L._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:V});return fe[V]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function _e(){return Object.keys(fe).map(V=>fe[V])}}),Ue.App=Ee,ee}(Ie);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function fe(ee){(0,s.zw)(Ee,ee)},createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),Ee}(),F=new ue.Vy("@firebase/app-compat");if((0,s.Bd)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=B;!function ce(Ee){(0,L.registerVersion)("@firebase/app-compat","0.2.13",Ee)}()},7852:(At,je,k)=>{"use strict";k.r(je),k.d(je,{FirebaseError:()=>ue.g,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>kn,_addOrOverwriteComponent:()=>Jn,_apps:()=>$t,_clearComponents:()=>Tt,_components:()=>Fn,_getProvider:()=>xn,_registerComponent:()=>gn,_removeServiceInstance:()=>oi,deleteApp:()=>Ji,getApp:()=>Ni,getApps:()=>mo,initializeApp:()=>po,onLog:()=>Co,registerVersion:()=>Zn,setLogLevel:()=>Qn});var s=k(467),Y=k(1362),L=k(8041),ue=k(1076);const Ie=(Ve,Pe)=>Pe.some(at=>Ve instanceof at);let ye,q;const B=new WeakMap,F=new WeakMap,te=new WeakMap,se=new WeakMap,ce=new WeakMap;let fe={get(Ve,Pe,at){if(Ve instanceof IDBTransaction){if("done"===Pe)return F.get(Ve);if("objectStoreNames"===Pe)return Ve.objectStoreNames||te.get(Ve);if("store"===Pe)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return X(Ve[Pe])},set:(Ve,Pe,at)=>(Ve[Pe]=at,!0),has:(Ve,Pe)=>Ve instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in Ve};function Ue(Ve){return"function"==typeof Ve?function me(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Pe){return Ve.apply(_e(this),Pe),X(B.get(this))}:function(...Pe){return X(Ve.apply(_e(this),Pe))}:function(Pe,...at){const Ft=Ve.call(_e(this),Pe,...at);return te.set(Ft,Pe.sort?Pe.sort():[Pe]),X(Ft)}}(Ve):(Ve instanceof IDBTransaction&&function Ee(Ve){if(F.has(Ve))return;const Pe=new Promise((at,Ft)=>{const Qt=()=>{Ve.removeEventListener("complete",St),Ve.removeEventListener("error",yn),Ve.removeEventListener("abort",yn)},St=()=>{at(),Qt()},yn=()=>{Ft(Ve.error||new DOMException("AbortError","AbortError")),Qt()};Ve.addEventListener("complete",St),Ve.addEventListener("error",yn),Ve.addEventListener("abort",yn)});F.set(Ve,Pe)}(Ve),Ie(Ve,function Se(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,fe):Ve)}function X(Ve){if(Ve instanceof IDBRequest)return function we(Ve){const Pe=new Promise((at,Ft)=>{const Qt=()=>{Ve.removeEventListener("success",St),Ve.removeEventListener("error",yn)},St=()=>{at(X(Ve.result)),Qt()},yn=()=>{Ft(Ve.error),Qt()};Ve.addEventListener("success",St),Ve.addEventListener("error",yn)});return Pe.then(at=>{at instanceof IDBCursor&&B.set(at,Ve)}).catch(()=>{}),ce.set(Pe,Ve),Pe}(Ve);if(se.has(Ve))return se.get(Ve);const Pe=Ue(Ve);return Pe!==Ve&&(se.set(Ve,Pe),ce.set(Pe,Ve)),Pe}const _e=Ve=>ce.get(Ve),V=["get","getKey","getAll","getAllKeys","count"],j=["put","add","delete","clear"],N=new Map;function oe(Ve,Pe){if(!(Ve instanceof IDBDatabase)||Pe in Ve||"string"!=typeof Pe)return;if(N.get(Pe))return N.get(Pe);const at=Pe.replace(/FromIndex$/,""),Ft=Pe!==at,Qt=j.includes(at);if(!(at in(Ft?IDBIndex:IDBObjectStore).prototype)||!Qt&&!V.includes(at))return;const St=function(){var yn=(0,s.A)(function*(wi,...ei){const bi=this.transaction(wi,Qt?"readwrite":"readonly");let si=bi.store;return Ft&&(si=si.index(ei.shift())),(yield Promise.all([si[at](...ei),Qt&&bi.done]))[0]});return function(ei){return yn.apply(this,arguments)}}();return N.set(Pe,St),St}!function ee(Ve){fe=Ve(fe)}(Ve=>({...Ve,get:(Pe,at,Ft)=>oe(Pe,at)||Ve.get(Pe,at,Ft),has:(Pe,at)=>!!oe(Pe,at)||Ve.has(Pe,at)}));class Q{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function U(Ve){const Pe=Ve.getComponent();return"VERSION"===Pe?.type}(at)){const Ft=at.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(at=>at).join(" ")}}const le="@firebase/app",ot=new L.Vy("@firebase/app"),wt="[DEFAULT]",Ut={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,Fn=new Map;function kn(Ve,Pe){try{Ve.container.addComponent(Pe)}catch(at){ot.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Ve.name}`,at)}}function Jn(Ve,Pe){Ve.container.addOrOverwriteComponent(Pe)}function gn(Ve){const Pe=Ve.name;if(Fn.has(Pe))return ot.debug(`There were multiple attempts to register component ${Pe}.`),!1;Fn.set(Pe,Ve);for(const at of $t.values())kn(at,Ve);return!0}function xn(Ve,Pe){const at=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),Ve.container.getProvider(Pe)}function oi(Ve,Pe,at=wt){xn(Ve,Pe).clearInstance(at)}function Tt(){Fn.clear()}const an=new ue.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vn{constructor(Pe,at,Ft){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new Y.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const Yn="9.23.0";function po(Ve,Pe={}){let at=Ve;"object"!=typeof Pe&&(Pe={name:Pe});const Ft=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Pe),Qt=Ft.name;if("string"!=typeof Qt||!Qt)throw an.create("bad-app-name",{appName:String(Qt)});if(at||(at=(0,ue.T9)()),!at)throw an.create("no-options");const St=$t.get(Qt);if(St){if((0,ue.bD)(at,St.options)&&(0,ue.bD)(Ft,St.config))return St;throw an.create("duplicate-app",{appName:Qt})}const yn=new Y.h1(Qt);for(const ei of Fn.values())yn.addComponent(ei);const wi=new Vn(at,Ft,yn);return $t.set(Qt,wi),wi}function Ni(Ve=wt){const Pe=$t.get(Ve);if(!Pe&&Ve===wt&&(0,ue.T9)())return po();if(!Pe)throw an.create("no-app",{appName:Ve});return Pe}function mo(){return Array.from($t.values())}function Ji(Ve){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.A)(function*(Ve){const Pe=Ve.name;$t.has(Pe)&&($t.delete(Pe),yield Promise.all(Ve.container.getProviders().map(at=>at.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function Zn(Ve,Pe,at){var Ft;let Qt=null!==(Ft=Ut[Ve])&&void 0!==Ft?Ft:Ve;at&&(Qt+=`-${at}`);const St=Qt.match(/\s|\//),yn=Pe.match(/\s|\//);if(St||yn){const wi=[`Unable to register library "${Qt}" with version "${Pe}":`];return St&&wi.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),St&&yn&&wi.push("and"),yn&&wi.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void ot.warn(wi.join(" "))}gn(new Y.uA(`${Qt}-version`,()=>({library:Qt,version:Pe}),"VERSION"))}function Co(Ve,Pe){if(null!==Ve&&"function"!=typeof Ve)throw an.create("invalid-log-argument");(0,L.Ey)(Ve,Pe)}function Qn(Ve){(0,L.He)(Ve)}const ao="firebase-heartbeat-database",Hi=1,de="firebase-heartbeat-store";let ne=null;function xe(){return ne||(ne=function J(Ve,Pe,{blocked:at,upgrade:Ft,blocking:Qt,terminated:St}={}){const yn=indexedDB.open(Ve,Pe),wi=X(yn);return Ft&&yn.addEventListener("upgradeneeded",ei=>{Ft(X(yn.result),ei.oldVersion,ei.newVersion,X(yn.transaction),ei)}),at&&yn.addEventListener("blocked",ei=>at(ei.oldVersion,ei.newVersion,ei)),wi.then(ei=>{St&&ei.addEventListener("close",()=>St()),Qt&&ei.addEventListener("versionchange",bi=>Qt(bi.oldVersion,bi.newVersion,bi))}).catch(()=>{}),wi}(ao,Hi,{upgrade:(Ve,Pe)=>{0===Pe&&Ve.createObjectStore(de)}}).catch(Ve=>{throw an.create("idb-open",{originalErrorMessage:Ve.message})})),ne}function Oe(){return(Oe=(0,s.A)(function*(Ve){try{return yield(yield xe()).transaction(de).objectStore(de).get(De(Ve))}catch(Pe){if(Pe instanceof ue.g)ot.warn(Pe.message);else{const at=an.create("idb-get",{originalErrorMessage:Pe?.message});ot.warn(at.message)}}})).apply(this,arguments)}function kt(Ve,Pe){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.A)(function*(Ve,Pe){try{const Ft=(yield xe()).transaction(de,"readwrite");yield Ft.objectStore(de).put(Pe,De(Ve)),yield Ft.done}catch(at){if(at instanceof ue.g)ot.warn(at.message);else{const Ft=an.create("idb-set",{originalErrorMessage:at?.message});ot.warn(Ft.message)}}})).apply(this,arguments)}function De(Ve){return`${Ve.name}!${Ve.options.appId}`}class it{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new dn(at),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var Pe=this;return(0,s.A)(function*(){const Ft=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qt=lt();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Qt&&!Pe._heartbeatsCache.heartbeats.some(St=>St.date===Qt))return Pe._heartbeatsCache.heartbeats.push({date:Qt,agent:Ft}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(St=>{const yn=new Date(St.date).valueOf();return Date.now()-yn<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,s.A)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const at=lt(),{heartbeatsToSend:Ft,unsentEntries:Qt}=function qt(Ve,Pe=1024){const at=[];let Ft=Ve.slice();for(const Qt of Ve){const St=at.find(yn=>yn.agent===Qt.agent);if(St){if(St.dates.push(Qt.date),Sn(at)>Pe){St.dates.pop();break}}else if(at.push({agent:Qt.agent,dates:[Qt.date]}),Sn(at)>Pe){at.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:at,unsentEntries:Ft}}(Pe._heartbeatsCache.heartbeats),St=(0,ue.Uj)(JSON.stringify({version:2,heartbeats:Ft}));return Pe._heartbeatsCache.lastSentHeartbeatDate=at,Qt.length>0?(Pe._heartbeatsCache.heartbeats=Qt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),St})()}}function lt(){return(new Date).toISOString().substring(0,10)}class dn{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.A)(function*(){return!!(0,ue.zW)()&&(0,ue.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,s.A)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function tt(Ve){return Oe.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var at=this;return(0,s.A)(function*(){var Ft;if(yield at._canUseIndexedDBPromise){const St=yield at.read();return kt(at.app,{lastSentHeartbeatDate:null!==(Ft=Pe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:St.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var at=this;return(0,s.A)(function*(){var Ft;if(yield at._canUseIndexedDBPromise){const St=yield at.read();return kt(at.app,{lastSentHeartbeatDate:null!==(Ft=Pe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...Pe.heartbeats]})}})()}}function Sn(Ve){return(0,ue.Uj)(JSON.stringify({version:2,heartbeats:Ve})).length}!function In(Ve){gn(new Y.uA("platform-logger",Pe=>new Q(Pe),"PRIVATE")),gn(new Y.uA("heartbeat",Pe=>new it(Pe),"PRIVATE")),Zn(le,"0.9.13",Ve),Zn(le,"0.9.13","esm2017"),Zn("fire-js","")}("")},1362:(At,je,k)=>{"use strict";k.d(je,{h1:()=>Se,uA:()=>L});var s=k(467),Y=k(1076);class L{constructor(B,F,te){this.name=B,this.instanceFactory=F,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class Ie{constructor(B,F){this.name=B,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const F=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(F)){const te=new Y.cY;if(this.instancesDeferred.set(F,te),this.isInitialized(F)||this.shouldAutoInitialize())try{const se=this.getOrInitializeService({instanceIdentifier:F});se&&te.resolve(se)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(B){var F;const te=this.normalizeInstanceIdentifier(B?.identifier),se=null!==(F=B?.optional)&&void 0!==F&&F;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(ce){if(se)return null;throw ce}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function q(Me){return"EAGER"===Me.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[F,te]of this.instancesDeferred.entries()){const se=this.normalizeInstanceIdentifier(F);try{const ce=this.getOrInitializeService({instanceIdentifier:se});te.resolve(ce)}catch{}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,s.A)(function*(){const F=Array.from(B.instances.values());yield Promise.all([...F.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...F.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:F={}}=B,te=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const se=this.getOrInitializeService({instanceIdentifier:te,options:F});for(const[ce,we]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(ce)&&we.resolve(se);return se}onInit(B,F){var te;const se=this.normalizeInstanceIdentifier(F),ce=null!==(te=this.onInitCallbacks.get(se))&&void 0!==te?te:new Set;ce.add(B),this.onInitCallbacks.set(se,ce);const we=this.instances.get(se);return we&&B(we,se),()=>{ce.delete(B)}}invokeOnInitCallbacks(B,F){const te=this.onInitCallbacks.get(F);if(te)for(const se of te)try{se(B,F)}catch{}}getOrInitializeService({instanceIdentifier:B,options:F={}}){let te=this.instances.get(B);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=B,Me===ue?void 0:Me),options:F}),this.instances.set(B,te),this.instancesOptions.set(B,F),this.invokeOnInitCallbacks(te,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,te)}catch{}var Me;return te||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const F=this.getProvider(B.name);if(F.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);F.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const F=new Ie(B,this);return this.providers.set(B,F),F}getProviders(){return Array.from(this.providers.values())}}},1001:(At,je,k)=>{"use strict";var s=k(467),Y=k(7852),L=k(1362),ue=k(1076);const Ie=(ie,Te)=>Te.some($=>ie instanceof $);let ye,q;const B=new WeakMap,F=new WeakMap,te=new WeakMap,se=new WeakMap,ce=new WeakMap;let fe={get(ie,Te,$){if(ie instanceof IDBTransaction){if("done"===Te)return F.get(ie);if("objectStoreNames"===Te)return ie.objectStoreNames||te.get(ie);if("store"===Te)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return X(ie[Te])},set:(ie,Te,$)=>(ie[Te]=$,!0),has:(ie,Te)=>ie instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in ie};function Ue(ie){return"function"==typeof ie?function me(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...Te){return ie.apply(_e(this),Te),X(B.get(this))}:function(...Te){return X(ie.apply(_e(this),Te))}:function(Te,...$){const $e=ie.call(_e(this),Te,...$);return te.set($e,Te.sort?Te.sort():[Te]),X($e)}}(ie):(ie instanceof IDBTransaction&&function Ee(ie){if(F.has(ie))return;const Te=new Promise(($,$e)=>{const A=()=>{ie.removeEventListener("complete",P),ie.removeEventListener("error",Z),ie.removeEventListener("abort",Z)},P=()=>{$(),A()},Z=()=>{$e(ie.error||new DOMException("AbortError","AbortError")),A()};ie.addEventListener("complete",P),ie.addEventListener("error",Z),ie.addEventListener("abort",Z)});F.set(ie,Te)}(ie),Ie(ie,function Se(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,fe):ie)}function X(ie){if(ie instanceof IDBRequest)return function we(ie){const Te=new Promise(($,$e)=>{const A=()=>{ie.removeEventListener("success",P),ie.removeEventListener("error",Z)},P=()=>{$(X(ie.result)),A()},Z=()=>{$e(ie.error),A()};ie.addEventListener("success",P),ie.addEventListener("error",Z)});return Te.then($=>{$ instanceof IDBCursor&&B.set($,ie)}).catch(()=>{}),ce.set(Te,ie),Te}(ie);if(se.has(ie))return se.get(ie);const Te=Ue(ie);return Te!==ie&&(se.set(ie,Te),ce.set(Te,ie)),Te}const _e=ie=>ce.get(ie),V=["get","getKey","getAll","getAllKeys","count"],j=["put","add","delete","clear"],N=new Map;function oe(ie,Te){if(!(ie instanceof IDBDatabase)||Te in ie||"string"!=typeof Te)return;if(N.get(Te))return N.get(Te);const $=Te.replace(/FromIndex$/,""),$e=Te!==$,A=j.includes($);if(!($ in($e?IDBIndex:IDBObjectStore).prototype)||!A&&!V.includes($))return;const P=function(){var Z=(0,s.A)(function*(he,...He){const Le=this.transaction(he,A?"readwrite":"readonly");let ut=Le.store;return $e&&(ut=ut.index(He.shift())),(yield Promise.all([ut[$](...He),A&&Le.done]))[0]});return function(He){return Z.apply(this,arguments)}}();return N.set(Te,P),P}!function ee(ie){fe=ie(fe)}(ie=>({...ie,get:(Te,$,$e)=>oe(Te,$)||ie.get(Te,$,$e),has:(Te,$)=>!!oe(Te,$)||ie.has(Te,$)}));const Q="@firebase/installations",U="0.6.4",le=1e4,Qe=`w:${U}`,ot="FIS_v2",xt="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,ve=new ue.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(ie){return ie instanceof ue.g&&ie.code.includes("request-failed")}function be({projectId:ie}){return`${xt}/projects/${ie}/installations`}function rt(ie){return{token:ie.token,requestStatus:2,expiresIn:sn(ie.expiresIn),creationTime:Date.now()}}function et(ie,Te){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.A)(function*(ie,Te){const $e=(yield Te.json()).error;return ve.create("request-failed",{requestName:ie,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function Pt({apiKey:ie}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ie})}function on(ie){return $n.apply(this,arguments)}function $n(){return($n=(0,s.A)(function*(ie){const Te=yield ie();return Te.status>=500&&Te.status<600?ie():Te})).apply(this,arguments)}function sn(ie){return Number(ie.replace("s","000"))}function Ne(){return(Ne=(0,s.A)(function*({appConfig:ie,heartbeatServiceProvider:Te},{fid:$}){const $e=be(ie),A=Pt(ie),P=Te.getImmediate({optional:!0});if(P){const Le=yield P.getHeartbeatsHeader();Le&&A.append("x-firebase-client",Le)}const he={method:"POST",headers:A,body:JSON.stringify({fid:$,authVersion:ot,appId:ie.appId,sdkVersion:Qe})},He=yield on(()=>fetch($e,he));if(He.ok){const Le=yield He.json();return{fid:Le.fid||$,registrationStatus:2,refreshToken:Le.refreshToken,authToken:rt(Le.authToken)}}throw yield et("Create Installation",He)})).apply(this,arguments)}function Fe(ie){return new Promise(Te=>{setTimeout(Te,ie)})}const en=/^[cdef][\w-]{21}$/,vn="";function fn(){try{const ie=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ie),ie[0]=112+ie[0]%16;const $=function zn(ie){return function Et(ie){return btoa(String.fromCharCode(...ie)).replace(/\+/g,"-").replace(/\//g,"_")}(ie).substr(0,22)}(ie);return en.test($)?$:vn}catch{return vn}}function wt(ie){return`${ie.appName}!${ie.appId}`}const Ut=new Map;function $t(ie,Te){const $=wt(ie);Jn($,Te),function gn(ie,Te){const $=function oi(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=ie=>{Jn(ie.data.key,ie.data.fid)}),xn}();$&&$.postMessage({key:ie,fid:Te}),function Tt(){0===Ut.size&&xn&&(xn.close(),xn=null)}()}($,Te)}function Jn(ie,Te){const $=Ut.get(ie);if($)for(const $e of $)$e(Te)}let xn=null;const qn="firebase-installations-database",an=1,Vn="firebase-installations-store";let Yn=null;function po(){return Yn||(Yn=function J(ie,Te,{blocked:$,upgrade:$e,blocking:A,terminated:P}={}){const Z=indexedDB.open(ie,Te),he=X(Z);return $e&&Z.addEventListener("upgradeneeded",He=>{$e(X(Z.result),He.oldVersion,He.newVersion,X(Z.transaction))}),$&&Z.addEventListener("blocked",()=>$()),he.then(He=>{P&&He.addEventListener("close",()=>P()),A&&He.addEventListener("versionchange",()=>A())}).catch(()=>{}),he}(qn,an,{upgrade:(ie,Te)=>{0===Te&&ie.createObjectStore(Vn)}})),Yn}function Ni(ie,Te){return mo.apply(this,arguments)}function mo(){return(mo=(0,s.A)(function*(ie,Te){const $=wt(ie),A=(yield po()).transaction(Vn,"readwrite"),P=A.objectStore(Vn),Z=yield P.get($);return yield P.put(Te,$),yield A.done,(!Z||Z.fid!==Te.fid)&&$t(ie,Te.fid),Te})).apply(this,arguments)}function Ji(ie){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.A)(function*(ie){const Te=wt(ie),$e=(yield po()).transaction(Vn,"readwrite");yield $e.objectStore(Vn).delete(Te),yield $e.done})).apply(this,arguments)}function Zn(ie,Te){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.A)(function*(ie,Te){const $=wt(ie),A=(yield po()).transaction(Vn,"readwrite"),P=A.objectStore(Vn),Z=yield P.get($),he=Te(Z);return void 0===he?yield P.delete($):yield P.put(he,$),yield A.done,he&&(!Z||Z.fid!==he.fid)&&$t(ie,he.fid),he})).apply(this,arguments)}function Qn(ie){return ao.apply(this,arguments)}function ao(){return ao=(0,s.A)(function*(ie){let Te;const $=yield Zn(ie.appConfig,$e=>{const A=function Hi(ie){return zt(ie||{fid:fn(),registrationStatus:0})}($e),P=function de(ie,Te){if(0===Te.registrationStatus){if(!navigator.onLine)return{installationEntry:Te,registrationPromise:Promise.reject(ve.create("app-offline"))};const $={fid:Te.fid,registrationStatus:1,registrationTime:Date.now()},$e=function ne(ie,Te){return xe.apply(this,arguments)}(ie,$);return{installationEntry:$,registrationPromise:$e}}return 1===Te.registrationStatus?{installationEntry:Te,registrationPromise:tt(ie)}:{installationEntry:Te}}(ie,A);return Te=P.registrationPromise,P.installationEntry});return $.fid===vn?{installationEntry:yield Te}:{installationEntry:$,registrationPromise:Te}}),ao.apply(this,arguments)}function xe(){return xe=(0,s.A)(function*(ie,Te){try{const $=yield function Xe(ie,Te){return Ne.apply(this,arguments)}(ie,Te);return Ni(ie.appConfig,$)}catch($){throw ke($)&&409===$.customData.serverCode?yield Ji(ie.appConfig):yield Ni(ie.appConfig,{fid:Te.fid,registrationStatus:0}),$}}),xe.apply(this,arguments)}function tt(ie){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,s.A)(function*(ie){let Te=yield kt(ie.appConfig);for(;1===Te.registrationStatus;)yield Fe(100),Te=yield kt(ie.appConfig);if(0===Te.registrationStatus){const{installationEntry:$,registrationPromise:$e}=yield Qn(ie);return $e||$}return Te})).apply(this,arguments)}function kt(ie){return Zn(ie,Te=>{if(!Te)throw ve.create("installation-not-found");return zt(Te)})}function zt(ie){return function De(ie){return 1===ie.registrationStatus&&ie.registrationTime+le<Date.now()}(ie)?{fid:ie.fid,registrationStatus:0}:ie}function st(){return(st=(0,s.A)(function*({appConfig:ie,heartbeatServiceProvider:Te},$){const $e=function it(ie,{fid:Te}){return`${be(ie)}/${Te}/authTokens:generate`}(ie,$),A=function rn(ie,{refreshToken:Te}){const $=Pt(ie);return $.append("Authorization",function ln(ie){return`${ot} ${ie}`}(Te)),$}(ie,$),P=Te.getImmediate({optional:!0});if(P){const Le=yield P.getHeartbeatsHeader();Le&&A.append("x-firebase-client",Le)}const he={method:"POST",headers:A,body:JSON.stringify({installation:{sdkVersion:Qe,appId:ie.appId}})},He=yield on(()=>fetch($e,he));if(He.ok)return rt(yield He.json());throw yield et("Generate Auth Token",He)})).apply(this,arguments)}function lt(ie){return qt.apply(this,arguments)}function qt(){return qt=(0,s.A)(function*(ie,Te=!1){let $;const $e=yield Zn(ie.appConfig,P=>{if(!at(P))throw ve.create("not-registered");const Z=P.authToken;if(!Te&&function Ft(ie){return 2===ie.requestStatus&&!function Qt(ie){const Te=Date.now();return Te<ie.creationTime||ie.creationTime+ie.expiresIn<Te+Ge}(ie)}(Z))return P;if(1===Z.requestStatus)return $=function dn(ie,Te){return Sn.apply(this,arguments)}(ie,Te),P;{if(!navigator.onLine)throw ve.create("app-offline");const he=function St(ie){const Te={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ie),{authToken:Te})}(P);return $=function Ve(ie,Te){return Pe.apply(this,arguments)}(ie,he),he}});return $?yield $:$e.authToken}),qt.apply(this,arguments)}function Sn(){return(Sn=(0,s.A)(function*(ie,Te){let $=yield In(ie.appConfig);for(;1===$.authToken.requestStatus;)yield Fe(100),$=yield In(ie.appConfig);const $e=$.authToken;return 0===$e.requestStatus?lt(ie,Te):$e})).apply(this,arguments)}function In(ie){return Zn(ie,Te=>{if(!at(Te))throw ve.create("not-registered");return function yn(ie){return 1===ie.requestStatus&&ie.requestTime+le<Date.now()}(Te.authToken)?Object.assign(Object.assign({},Te),{authToken:{requestStatus:0}}):Te})}function Pe(){return Pe=(0,s.A)(function*(ie,Te){try{const $=yield function Ye(ie,Te){return st.apply(this,arguments)}(ie,Te),$e=Object.assign(Object.assign({},Te),{authToken:$});return yield Ni(ie.appConfig,$e),$}catch($){if(!ke($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const $e=Object.assign(Object.assign({},Te),{authToken:{requestStatus:0}});yield Ni(ie.appConfig,$e)}else yield Ji(ie.appConfig);throw $}}),Pe.apply(this,arguments)}function at(ie){return void 0!==ie&&2===ie.registrationStatus}function ei(){return(ei=(0,s.A)(function*(ie){const Te=ie,{installationEntry:$,registrationPromise:$e}=yield Qn(Te);return $e?$e.catch(console.error):lt(Te).catch(console.error),$.fid})).apply(this,arguments)}function si(){return si=(0,s.A)(function*(ie,Te=!1){const $=ie;return yield function ni(ie){return zi.apply(this,arguments)}($),(yield lt($,Te)).token}),si.apply(this,arguments)}function zi(){return(zi=(0,s.A)(function*(ie){const{registrationPromise:Te}=yield Qn(ie);Te&&(yield Te)})).apply(this,arguments)}function Mr(ie){return ve.create("missing-app-config-values",{valueName:ie})}const Zr="installations",Ei=ie=>{const Te=ie.getProvider("app").getImmediate(),$=function yi(ie){if(!ie||!ie.options)throw Mr("App Configuration");if(!ie.name)throw Mr("App Name");const Te=["projectId","apiKey","appId"];for(const $ of Te)if(!ie.options[$])throw Mr($);return{appName:ie.name,projectId:ie.options.projectId,apiKey:ie.options.apiKey,appId:ie.options.appId}}(Te);return{app:Te,appConfig:$,heartbeatServiceProvider:(0,Y._getProvider)(Te,"heartbeat"),_delete:()=>Promise.resolve()}},es=ie=>{const Te=ie.getProvider("app").getImmediate(),$=(0,Y._getProvider)(Te,Zr).getImmediate();return{getId:()=>function wi(ie){return ei.apply(this,arguments)}($),getToken:A=>function bi(ie){return si.apply(this,arguments)}($,A)}};(function qo(){(0,Y._registerComponent)(new L.uA(Zr,Ei,"PUBLIC")),(0,Y._registerComponent)(new L.uA("installations-internal",es,"PRIVATE"))})(),(0,Y.registerVersion)(Q,U),(0,Y.registerVersion)(Q,U,"esm2017")},8041:(At,je,k)=>{"use strict";k.d(je,{$b:()=>Y,Ey:()=>Me,He:()=>Se,Vy:()=>q});const s=[];var Y=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(Y||{});const L={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ue=Y.INFO,Ie={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ye=(B,F,...te)=>{if(F<B.logLevel)return;const se=(new Date).toISOString(),ce=Ie[F];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[ce](`[${se}]  ${B.name}:`,...te)};class q{constructor(F){this.name=F,this._logLevel=ue,this._logHandler=ye,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in Y))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?L[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...F),this._logHandler(this,Y.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...F),this._logHandler(this,Y.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...F),this._logHandler(this,Y.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...F),this._logHandler(this,Y.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...F),this._logHandler(this,Y.ERROR,...F)}}function Se(B){s.forEach(F=>{F.setLogLevel(B)})}function Me(B,F){for(const te of s){let se=null;F&&F.level&&(se=L[F.level]),te.userLogHandler=null===B?null:(ce,we,...Ee)=>{const fe=Ee.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch{return null}}).filter(ee=>ee).join(" ");we>=(se??ce.logLevel)&&B({level:Y[we].toLowerCase(),message:fe,args:Ee,type:ce.name})}}}},531:(At,je,k)=>{"use strict";k.d(je,{TT:()=>s.TT});var s=k(2687)},2214:(At,je,k)=>{"use strict";k.d(je,{Dk:()=>s.getApps,Sx:()=>s.getApp});var s=k(7852);(0,s.registerVersion)("firebase","9.23.0","app")},7935:(At,je,k)=>{"use strict";k.d(je,{A:()=>s.A});var s=k(3345);s.A.registerVersion("firebase","9.23.0","app-compat")},6922:(At,je,k)=>{"use strict";var s=k(467),Y=k(3345),L=k(1076),ue=k(7852),Ie=k(1635),ye=k(8041),q=k(1362);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const we=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ee=function ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new L.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new ye.Vy("@firebase/auth");function X(y,...f){me.logLevel<=ye.$b.ERROR&&me.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function _e(y,...f){throw j(y,...f)}function J(y,...f){return j(y,...f)}function Ae(y,f,m){const _=Object.assign(Object.assign({},Ee()),{[f]:m});return new L.FA("auth","Firebase",_).create(f,{appName:y.name})}function V(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&_e(y,"argument-error"),Ae(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j(y,...f){if("string"!=typeof y){const m=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(m,..._)}return fe.create(y,...f)}function N(y,f,...m){if(!y)throw j(f,...m)}function oe(y){const f="INTERNAL ASSERTION FAILED: "+y;throw X(f),new Error(f)}function Q(y,f){y||oe(f)}function U(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function le(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ge{constructor(f,m){this.shortDelay=f,this.longDelay=m,Q(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.jZ)()||(0,L.lV)()}get(){return function ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,L.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function K(y,f){Q(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class H{static initialize(f,m,_){this.fetchImpl=f,m&&(this.headersImpl=m),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new Ge(3e4,6e4);function ke(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function be(y,f,m,_){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.A)(function*(y,f,m,_,E={}){return et(y,E,(0,s.A)(function*(){let T={},ge={};_&&("GET"===f?ge=_:T={body:JSON.stringify(_)});const Re=(0,L.Am)(Object.assign({key:y.config.apiKey},ge)).slice(1),pt=yield y._getAdditionalHeaders();return pt["Content-Type"]="application/json",y.languageCode&&(pt["X-Firebase-Locale"]=y.languageCode),H.fetch()(on(y,y.config.apiHost,m,Re),Object.assign({method:f,headers:pt,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function et(y,f,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.A)(function*(y,f,m){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},W),f);try{const E=new $n(y),T=yield Promise.race([m(),E.promise]);E.clearNetworkTimeout();const ge=yield T.json();if("needConfirmation"in ge)throw sn(y,"account-exists-with-different-credential",ge);if(T.ok&&!("errorMessage"in ge))return ge;{const Re=T.ok?ge.errorMessage:ge.error.message,[pt,It]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pt)throw sn(y,"credential-already-in-use",ge);if("EMAIL_EXISTS"===pt)throw sn(y,"email-already-in-use",ge);if("USER_DISABLED"===pt)throw sn(y,"user-disabled",ge);const Jt=_[pt]||pt.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ae(y,Jt,It);_e(y,Jt)}}catch(E){if(E instanceof L.g)throw E;_e(y,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function Pt(y,f,m,_){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.A)(function*(y,f,m,_,E={}){const T=yield be(y,f,m,_,E);return"mfaPendingCredential"in T&&_e(y,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function on(y,f,m,_){const E=`${f}${m}?${_}`;return y.config.emulator?K(y.config,E):`${y.config.apiScheme}://${E}`}class $n{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,_)=>{this.timer=setTimeout(()=>_(J(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(y,f,m){const _={appName:y.name};m.email&&(_.email=m.email),m.phoneNumber&&(_.phoneNumber=m.phoneNumber);const E=J(y,f,_);return E.customData._tokenResponse=m,E}function Xe(){return(Xe=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Fe(){return(Fe=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function en(){return(en=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function wt(){return(wt=(0,s.A)(function*(y,f=!1){const m=(0,L.Ku)(y),_=yield m.getIdToken(f),E=$t(_);N(E&&E.exp&&E.auth_time&&E.iat,m.auth,"internal-error");const T="object"==typeof E.firebase?E.firebase:void 0,ge=T?.sign_in_provider;return{claims:E,token:_,authTime:vn(Ut(E.auth_time)),issuedAtTime:vn(Ut(E.iat)),expirationTime:vn(Ut(E.exp)),signInProvider:ge||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(y){return 1e3*Number(y)}function $t(y){const[f,m,_]=y.split(".");if(void 0===f||void 0===m||void 0===_)return X("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,L.u)(m);return E?JSON.parse(E):(X("Failed to decode base64 JWT payload"),null)}catch(E){return X("Caught error parsing JWT payload as JSON",E?.toString()),null}}function kn(y,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,s.A)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(_){throw _ instanceof L.g&&function gn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}class xn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const E=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,s.A)(function*(){yield m.iteration()}),_)}iteration(){var f=this;return(0,s.A)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class oi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tt(y){return qn.apply(this,arguments)}function qn(){return qn=(0,s.A)(function*(y){var f;const m=y.auth,_=yield y.getIdToken(),E=yield kn(y,function Et(y,f){return en.apply(this,arguments)}(m,{idToken:_}));N(E?.users.length,m,"internal-error");const T=E.users[0];y._notifyReloadListener(T);const ge=null!==(f=T.providerUserInfo)&&void 0!==f&&f.length?function po(y){return y.map(f=>{var{providerId:m}=f,_=(0,Ie.Tt)(f,["providerId"]);return{providerId:m,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(T.providerUserInfo):[],Re=function Yn(y,f){return[...y.filter(_=>!f.some(E=>E.providerId===_.providerId)),...f]}(y.providerData,ge),Jt=!!y.isAnonymous&&!(y.email&&T.passwordHash||Re?.length),cn={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:Re,metadata:new oi(T.createdAt,T.lastLoginAt),isAnonymous:Jt};Object.assign(y,cn)}),qn.apply(this,arguments)}function Vn(){return(Vn=(0,s.A)(function*(y){const f=(0,L.Ku)(y);yield Tt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function mo(){return(mo=(0,s.A)(function*(y,f){const m=yield et(y,{},(0,s.A)(function*(){const _=(0,L.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:E,apiKey:T}=y.config,ge=on(y,E,"/v1/token",`key=${T}`),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(ge,{method:"POST",headers:Re,body:_})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){N(f.idToken,"internal-error"),N(typeof f.idToken<"u","internal-error"),N(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Fn(y){const f=$t(y);return N(f,"internal-error"),N(typeof f.exp<"u","internal-error"),N(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var _=this;return(0,s.A)(function*(){return N(!_.accessToken||_.refreshToken,f,"user-token-expired"),m||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var _=this;return(0,s.A)(function*(){const{accessToken:E,refreshToken:T,expiresIn:ge}=yield function Ni(y,f){return mo.apply(this,arguments)}(f,m);_.updateTokensAndExpiration(E,T,Number(ge))})()}updateTokensAndExpiration(f,m,_){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,m){const{refreshToken:_,accessToken:E,expirationTime:T}=m,ge=new Ji;return _&&(N("string"==typeof _,"internal-error",{appName:f}),ge.refreshToken=_),E&&(N("string"==typeof E,"internal-error",{appName:f}),ge.accessToken=E),T&&(N("number"==typeof T,"internal-error",{appName:f}),ge.expirationTime=T),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return oe("not implemented")}}function ri(y,f){N("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Zn{constructor(f){var{uid:m,auth:_,stsTokenManager:E}=f,T=(0,Ie.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=_,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new oi(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,s.A)(function*(){const _=yield kn(m,m.stsTokenManager.getToken(m.auth,f));return N(_,m.auth,"internal-error"),m.accessToken!==_&&(m.accessToken=_,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),_})()}getIdTokenResult(f){return function zn(y){return wt.apply(this,arguments)}(this,f)}reload(){return function an(y){return Vn.apply(this,arguments)}(this)}_assign(f){this!==f&&(N(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Zn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var _=this;return(0,s.A)(function*(){let E=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),E=!0),m&&(yield Tt(_)),yield _.auth._persistUserIfCurrent(_),E&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,s.A)(function*(){const m=yield f.getIdToken();return yield kn(f,function ln(y,f){return Xe.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var _,E,T,ge,Re,pt,It,Jt;const cn=null!==(_=m.displayName)&&void 0!==_?_:void 0,Ki=null!==(E=m.email)&&void 0!==E?E:void 0,Sr=null!==(T=m.phoneNumber)&&void 0!==T?T:void 0,Ea=null!==(ge=m.photoURL)&&void 0!==ge?ge:void 0,ou=null!==(Re=m.tenantId)&&void 0!==Re?Re:void 0,Ia=null!==(pt=m._redirectEventId)&&void 0!==pt?pt:void 0,Ss=null!==(It=m.createdAt)&&void 0!==It?It:void 0,fc=null!==(Jt=m.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:L1,emailVerified:N1,isAnonymous:jc,providerData:gc,stsTokenManager:l4}=m;N(L1&&l4,f,"internal-error");const t6=Ji.fromJSON(this.name,l4);N("string"==typeof L1,f,"internal-error"),ri(cn,f.name),ri(Ki,f.name),N("boolean"==typeof N1,f,"internal-error"),N("boolean"==typeof jc,f,"internal-error"),ri(Sr,f.name),ri(Ea,f.name),ri(ou,f.name),ri(Ia,f.name),ri(Ss,f.name),ri(fc,f.name);const ru=new Zn({uid:L1,auth:f,email:Ki,emailVerified:N1,displayName:cn,isAnonymous:jc,photoURL:Ea,phoneNumber:Sr,tenantId:ou,stsTokenManager:t6,createdAt:Ss,lastLoginAt:fc});return gc&&Array.isArray(gc)&&(ru.providerData=gc.map(n6=>Object.assign({},n6))),Ia&&(ru._redirectEventId=Ia),ru}static _fromIdTokenResponse(f,m,_=!1){return(0,s.A)(function*(){const E=new Ji;E.updateFromServerResponse(m);const T=new Zn({uid:m.localId,auth:f,stsTokenManager:E,isAnonymous:_});return yield Tt(T),T})()}}const Co=new Map;function Qn(y){Q(y instanceof Function,"Expected a class definition");let f=Co.get(y);return f?(Q(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Co.set(y,f),f)}const Hi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.A)(function*(){return!0})()}_set(m,_){var E=this;return(0,s.A)(function*(){E.storage[m]=_})()}_get(m){var _=this;return(0,s.A)(function*(){const E=_.storage[m];return void 0===E?null:E})()}_remove(m){var _=this;return(0,s.A)(function*(){delete _.storage[m]})()}_addListener(m,_){}_removeListener(m,_){}}return y.type="NONE",y})();function de(y,f,m){return`firebase:${y}:${f}:${m}`}class ne{constructor(f,m,_){this.persistence=f,this.auth=m,this.userKey=_;const{config:E,name:T}=this.auth;this.fullUserKey=de(this.userKey,E.apiKey,T),this.fullPersistenceKey=de("persistence",E.apiKey,T),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,s.A)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Zn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,s.A)(function*(){if(m.persistence===f)return;const _=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,_?m.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,_="authUser"){return(0,s.A)(function*(){if(!m.length)return new ne(Qn(Hi),f,_);const E=(yield Promise.all(m.map(function(){var It=(0,s.A)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return It.apply(this,arguments)}}()))).filter(It=>It);let T=E[0]||Qn(Hi);const ge=de(_,f.config.apiKey,f.name);let Re=null;for(const It of m)try{const Jt=yield It._get(ge);if(Jt){const cn=Zn._fromJSON(f,Jt);It!==T&&(Re=cn),T=It;break}}catch{}const pt=E.filter(It=>It._shouldAllowMigration);return T._shouldAllowMigration&&pt.length?(T=pt[0],Re&&(yield T._set(ge,Re.toJSON())),yield Promise.all(m.map(function(){var It=(0,s.A)(function*(Jt){if(Jt!==T)try{yield Jt._remove(ge)}catch{}});return function(Jt){return It.apply(this,arguments)}}())),new ne(T,f,_)):new ne(T,f,_)})()}}function xe(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(zt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(tt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ye(f))return"Blackberry";if(st(f))return"Webos";if(Oe(f))return"Safari";if((f.includes("chrome/")||kt(f))&&!f.includes("edge/"))return"Chrome";if(De(f))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function tt(y=(0,L.ZQ)()){return/firefox\//i.test(y)}function Oe(y=(0,L.ZQ)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function kt(y=(0,L.ZQ)()){return/crios\//i.test(y)}function zt(y=(0,L.ZQ)()){return/iemobile/i.test(y)}function De(y=(0,L.ZQ)()){return/android/i.test(y)}function Ye(y=(0,L.ZQ)()){return/blackberry/i.test(y)}function st(y=(0,L.ZQ)()){return/webos/i.test(y)}function it(y=(0,L.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Sn(y=(0,L.ZQ)()){return it(y)||De(y)||st(y)||Ye(y)||/windows phone/i.test(y)||zt(y)}function Ve(y,f=[]){let m;switch(y){case"Browser":m=xe((0,L.ZQ)());break;case"Worker":m=`${xe((0,L.ZQ)())}-${y}`;break;default:m=y}const _=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${_}`}function at(){return(at=(0,s.A)(function*(y){return(yield be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ft(y,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.A)(function*(y,f){return be(y,"GET","/v2/recaptchaConfig",ke(y,f))})).apply(this,arguments)}function St(y){return void 0!==y&&void 0!==y.getResponse}function yn(y){return void 0!==y&&void 0!==y.enterprise}class wi{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function bi(y){return new Promise((f,m)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=f,_.onerror=E=>{const T=J("internal-error");T.customData=E,m(T)},_.type="text/javascript",_.charset="UTF-8",function ei(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(_)})}function si(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Wo{constructor(f){this.type="recaptcha-enterprise",this.auth=ii(f)}verify(f="verify",m=!1){var _=this;return(0,s.A)(function*(){function T(){return T=(0,s.A)(function*(Re){if(!m){if(null==Re.tenantId&&null!=Re._agentRecaptchaConfig)return Re._agentRecaptchaConfig.siteKey;if(null!=Re.tenantId&&void 0!==Re._tenantRecaptchaConfigs[Re.tenantId])return Re._tenantRecaptchaConfigs[Re.tenantId].siteKey}return new Promise(function(){var pt=(0,s.A)(function*(It,Jt){Ft(Re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cn=>{if(void 0!==cn.recaptchaKey){const Ki=new wi(cn);return null==Re.tenantId?Re._agentRecaptchaConfig=Ki:Re._tenantRecaptchaConfigs[Re.tenantId]=Ki,It(Ki.siteKey)}Jt(new Error("recaptcha Enterprise site key undefined"))}).catch(cn=>{Jt(cn)})});return function(It,Jt){return pt.apply(this,arguments)}}())}),T.apply(this,arguments)}function ge(Re,pt,It){const Jt=window.grecaptcha;yn(Jt)?Jt.enterprise.ready(()=>{Jt.enterprise.execute(Re,{action:f}).then(cn=>{pt(cn)}).catch(()=>{pt("NO_RECAPTCHA")})}):It(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Re,pt)=>{(function E(Re){return T.apply(this,arguments)})(_.auth).then(It=>{if(!m&&yn(window.grecaptcha))ge(It,Re,pt);else{if(typeof window>"u")return void pt(new Error("RecaptchaVerifier is only supported in browser"));bi("https://www.google.com/recaptcha/enterprise.js?render="+It).then(()=>{ge(It,Re,pt)}).catch(Jt=>{pt(Jt)})}}).catch(It=>{pt(It)})})})()}}function Di(y,f,m){return li.apply(this,arguments)}function li(){return(li=(0,s.A)(function*(y,f,m,_=!1){const E=new Wo(y);let T;try{T=yield E.verify(m)}catch{T=yield E.verify(m,!0)}const ge=Object.assign({},f);return Object.assign(ge,_?{captchaResp:T}:{captchaResponse:T}),Object.assign(ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ge})).apply(this,arguments)}class _n{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const _=T=>new Promise((ge,Re)=>{try{ge(f(T))}catch(pt){Re(pt)}});_.onAbort=m,this.queue.push(_);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,s.A)(function*(){if(m.auth.currentUser===f)return;const _=[];try{for(const E of m.queue)yield E(f),E.onAbort&&_.push(E.onAbort)}catch(E){_.reverse();for(const T of _)try{T()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}class Br{constructor(f,m,_,E){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new _n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var _=this;return m&&(this._popupRedirectResolver=Qn(m)),this._initializationPromise=this.queue((0,s.A)(function*(){var E,T;if(!_._deleted&&(_.persistenceManager=yield ne.create(_,f),!_._deleted)){if(null!==(E=_._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(m),_.lastNotifiedUid=(null===(T=_.currentUser)||void 0===T?void 0:T.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,s.A)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,s.A)(function*(){var _;const E=yield m.assertedPersistence.getCurrentUser();let T=E,ge=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Re=null===(_=m.redirectUser)||void 0===_?void 0:_._redirectEventId,pt=T?._redirectEventId,It=yield m.tryRedirectSignIn(f);(!Re||Re===pt)&&It?.user&&(T=It.user,ge=!0)}if(!T)return m.directlySetCurrentUser(null);if(!T._redirectEventId){if(ge)try{yield m.beforeStateQueue.runMiddleware(T)}catch(Re){T=E,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Re))}return T?m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)}return N(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(f){var m=this;return(0,s.A)(function*(){let _=null;try{_=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,s.A)(function*(){try{yield Tt(f)}catch(_){if("auth/network-request-failed"!==_?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function xt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,s.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,s.A)(function*(){const _=f?(0,L.Ku)(f):null;return _&&N(_.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(_&&_._clone(m))})()}_updateCurrentUser(f,m=!1){var _=this;return(0,s.A)(function*(){if(!_._deleted)return f&&N(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),m||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,s.A)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,s.A)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,s.A)(function*(){yield m.assertedPersistence.setPersistence(Qn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,s.A)(function*(){const m=yield Ft(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new wi(m);null==f.tenantId?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,_.emailPasswordEnabled&&new Wo(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.FA("auth","Firebase",f())}onAuthStateChanged(f,m,_){return this.registerStateListener(this.authStateSubscription,f,m,_)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,_){return this.registerStateListener(this.idTokenSubscription,f,m,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var _=this;return(0,s.A)(function*(){const E=yield _.getOrInitRedirectPersistenceManager(m);return null===f?E.removeCurrentUser():E.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,s.A)(function*(){if(!m.redirectPersistenceManager){const _=f&&Qn(f)||m._popupRedirectResolver;N(_,m,"argument-error"),m.redirectPersistenceManager=yield ne.create(m,[Qn(_._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,s.A)(function*(){var _,E;return m._isInitialized&&(yield m.queue((0,s.A)(function*(){}))),(null===(_=m._currentUser)||void 0===_?void 0:_._redirectEventId)===f?m._currentUser:(null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,s.A)(function*(){if(f===m.currentUser)return m.queue((0,s.A)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,_,E){if(this._deleted)return()=>{};const T="function"==typeof m?m:m.next.bind(m),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return N(ge,this,"internal-error"),ge.then(()=>T(this.currentUser)),"function"==typeof m?f.addObserver(m,_,E):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,s.A)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,s.A)(function*(){var m;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const E=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();E&&(_["X-Firebase-Client"]=E);const T=yield f._getAppCheckToken();return T&&(_["X-Firebase-AppCheck"]=T),_})()}_getAppCheckToken(){var f=this;return(0,s.A)(function*(){var m;const _=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return _?.error&&function Ue(y,...f){me.logLevel<=ye.$b.WARN&&me.warn(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function ii(y){return(0,L.Ku)(y)}class yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.tD)(m=>this.observer=m)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ei(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function qo(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Te{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return oe("not implemented")}_getIdTokenResponse(f){return oe("not implemented")}_linkToIdToken(f,m){return oe("not implemented")}_getReauthenticationResolver(f){return oe("not implemented")}}function $(y,f){return $e.apply(this,arguments)}function $e(){return($e=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:resetPassword",ke(y,f))})).apply(this,arguments)}function A(y,f){return P.apply(this,arguments)}function P(){return(P=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function he(){return(he=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:update",ke(y,f))})).apply(this,arguments)}function He(y,f){return Le.apply(this,arguments)}function Le(){return(Le=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithPassword",ke(y,f))})).apply(this,arguments)}function ut(y,f){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:sendOobCode",ke(y,f))})).apply(this,arguments)}function gt(){return(gt=(0,s.A)(function*(y,f){return ut(y,f)})).apply(this,arguments)}function Ct(y,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.A)(function*(y,f){return ut(y,f)})).apply(this,arguments)}function tn(y,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.A)(function*(y,f){return ut(y,f)})).apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(y,f){return ut(y,f)})).apply(this,arguments)}function On(){return(On=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithEmailLink",ke(y,f))})).apply(this,arguments)}function co(){return(co=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithEmailLink",ke(y,f))})).apply(this,arguments)}class Xo extends Te{constructor(f,m,_,E=null){super("password",_),this._email=f,this._password=m,this._tenantId=E}static _fromEmailAndPassword(f,m){return new Xo(f,m,"password")}static _fromEmailAndCode(f,m,_=null){return new Xo(f,m,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,s.A)(function*(){var _;switch(m.signInMethod){case"password":const E={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const T=yield Di(f,E,"signInWithPassword");return He(f,T)}return He(f,E).catch(function(){var T=(0,s.A)(function*(ge){if("auth/missing-recaptcha-token"===ge.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Re=yield Di(f,E,"signInWithPassword");return He(f,Re)}return Promise.reject(ge)});return function(ge){return T.apply(this,arguments)}}());case"emailLink":return function gi(y,f){return On.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:_e(f,"internal-error")}})()}_linkToIdToken(f,m){var _=this;return(0,s.A)(function*(){switch(_.signInMethod){case"password":return A(f,{idToken:m,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function zs(y,f){return co.apply(this,arguments)}(f,{idToken:m,email:_._email,oobCode:_._password});default:_e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Yo(y,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithIdp",ke(y,f))})).apply(this,arguments)}class Ot extends Te{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ot(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):_e("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:E}=m,T=(0,Ie.Tt)(m,["providerId","signInMethod"]);if(!_||!E)return null;const ge=new Ot(_,E);return ge.idToken=T.idToken||void 0,ge.accessToken=T.accessToken||void 0,ge.secret=T.secret,ge.nonce=T.nonce,ge.pendingToken=T.pendingToken||null,ge}_getIdTokenResponse(f){return Yo(f,this.buildRequest())}_linkToIdToken(f,m){const _=this.buildRequest();return _.idToken=m,Yo(f,_)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Yo(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,L.Am)(m)}return f}}function ui(){return(ui=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:sendVerificationCode",ke(y,f))})).apply(this,arguments)}function ra(){return(ra=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,f))})).apply(this,arguments)}function Vr(){return(Vr=(0,s.A)(function*(y,f){const m=yield Pt(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,f));if(m.temporaryProof)throw sn(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ii={USER_NOT_FOUND:"user-not-found"};function jr(){return(jr=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ii)})).apply(this,arguments)}class Mn extends Te{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Mn({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Mn({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Qo(y,f){return ra.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Do(y,f){return Vr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ys(y,f){return jr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:_,verificationCode:E}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:_,code:E}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:_,phoneNumber:E,temporaryProof:T}=f;return _||m||E||T?new Mn({verificationId:m,verificationCode:_,phoneNumber:E,temporaryProof:T}):null}}class Cr{constructor(f){var m,_,E,T,ge,Re;const pt=(0,L.I9)((0,L.hp)(f)),It=null!==(m=pt.apiKey)&&void 0!==m?m:null,Jt=null!==(_=pt.oobCode)&&void 0!==_?_:null,cn=function sa(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=pt.mode)&&void 0!==E?E:null);N(It&&Jt&&cn,"argument-error"),this.apiKey=It,this.operation=cn,this.code=Jt,this.continueUrl=null!==(T=pt.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(ge=pt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Re=pt.tenantId)&&void 0!==Re?Re:null}static parseLink(f){const m=function Ga(y){const f=(0,L.I9)((0,L.hp)(y)).link,m=f?(0,L.I9)((0,L.hp)(f)).deep_link_id:null,_=(0,L.I9)((0,L.hp)(y)).deep_link_id;return(_?(0,L.I9)((0,L.hp)(_)).link:null)||_||m||f||y}(f);try{return new Cr(m)}catch{return null}}}let Ka=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,_){return Xo._fromEmailAndPassword(m,_)}static credentialWithLink(m,_){const E=Cr.parseLink(_);return N(E,"argument-error"),Xo._fromEmailAndCode(m,E.code,E.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ho{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class To extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hr extends To{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return N("providerId"in m&&"signInMethod"in m,"argument-error"),Ot._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return N(f.idToken||f.accessToken,"argument-error"),Ot._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:_,oauthTokenSecret:E,pendingToken:T,nonce:ge,providerId:Re}=f;if(!_&&!E&&!m&&!T||!Re)return null;try{return new Hr(Re)._credential({idToken:m,accessToken:_,nonce:ge,pendingToken:T})}catch{return null}}}let ml=(()=>{class y extends To{constructor(){super("facebook.com")}static credential(m){return Ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ur=(()=>{class y extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(m,_){return Ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:_})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E}=m;if(!_&&!E)return null;try{return y.credential(_,E)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ns=(()=>{class y extends To{constructor(){super("github.com")}static credential(m){return Ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class is extends Te{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Yo(f,this.buildRequest())}_linkToIdToken(f,m){const _=this.buildRequest();return _.idToken=m,Yo(f,_)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Yo(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:E,pendingToken:T}=m;return _&&E&&T&&_===E?new is(_,T):null}static _create(f,m){return new is(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class f1 extends Ho{constructor(f){N(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return f1.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return f1.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=is.fromJSON(f);return N(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:_}=f;if(!m||!_)return null;try{return is._create(_,m)}catch{return null}}}let kc=(()=>{class y extends To{constructor(){super("twitter.com")}static credential(m,_){return Ot._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:_})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:_,oauthTokenSecret:E}=m;if(!_||!E)return null;try{return y.credential(_,E)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function _s(y,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signUp",ke(y,f))})).apply(this,arguments)}class bo{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,_,E=!1){return(0,s.A)(function*(){const T=yield Zn._fromIdTokenResponse(f,_,E),ge=os(_);return new bo({user:T,providerId:ge,_tokenResponse:_,operationType:m})})()}static _forOperation(f,m,_){return(0,s.A)(function*(){yield f._updateTokensIfNecessary(_,!0);const E=os(_);return new bo({user:f,providerId:E,_tokenResponse:_,operationType:m})})()}}function os(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wi(){return(Wi=(0,s.A)(function*(y){var f;const m=ii(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new bo({user:m.currentUser,providerId:null,operationType:"signIn"});const _=yield _s(m,{returnSecureToken:!0}),E=yield bo._fromIdTokenResponse(m,"signIn",_,!0);return yield m._updateCurrentUser(E.user),E})).apply(this,arguments)}class Sc extends L.g{constructor(f,m,_,E){var T;super(m.code,m.message),this.operationType=_,this.user=E,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:f.name,tenantId:null!==(T=f.tenantId)&&void 0!==T?T:void 0,_serverResponse:m.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,m,_,E){return new Sc(f,m,_,E)}}function vo(y,f,m,_){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Sc._fromErrorAndOperation(y,T,f,_):T})}function Oo(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function xs(){return xs=(0,s.A)(function*(y,f){const m=(0,L.Ku)(y);yield br(!0,m,f);const{providerUserInfo:_}=yield function Ne(y,f){return Fe.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),E=Oo(_||[]);return m.providerData=m.providerData.filter(T=>E.has(T.providerId)),E.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),xs.apply(this,arguments)}function Wa(y,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.A)(function*(y,f,m=!1){const _=yield kn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return bo._forOperation(y,"link",_)})).apply(this,arguments)}function br(y,f,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,s.A)(function*(y,f,m){yield Tt(f);const E=!1===y?"provider-already-linked":"no-such-provider";N(Oo(f.providerData).has(m)===y,f.auth,E)})).apply(this,arguments)}function p2(y,f){return m2.apply(this,arguments)}function m2(){return(m2=(0,s.A)(function*(y,f,m=!1){const{auth:_}=y,E="reauthenticate";try{const T=yield kn(y,vo(_,E,f,y),m);N(T.idToken,_,"internal-error");const ge=$t(T.idToken);N(ge,_,"internal-error");const{sub:Re}=ge;return N(y.uid===Re,_,"user-mismatch"),bo._forOperation(y,E,T)}catch(T){throw"auth/user-not-found"===T?.code&&_e(_,"user-mismatch"),T}})).apply(this,arguments)}function Ms(y,f){return g1.apply(this,arguments)}function g1(){return(g1=(0,s.A)(function*(y,f,m=!1){const _="signIn",E=yield vo(y,_,f),T=yield bo._fromIdTokenResponse(y,_,E);return m||(yield y._updateCurrentUser(T.user)),T})).apply(this,arguments)}function rs(y,f){return Id.apply(this,arguments)}function Id(){return(Id=(0,s.A)(function*(y,f){return Ms(ii(y),f)})).apply(this,arguments)}function w3(y,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,s.A)(function*(y,f){const m=(0,L.Ku)(y);return yield br(!1,m,f.providerId),Wa(m,f)})).apply(this,arguments)}function Ad(y,f){return v2.apply(this,arguments)}function v2(){return(v2=(0,s.A)(function*(y,f){return p2((0,L.Ku)(y),f)})).apply(this,arguments)}function O(){return(O=(0,s.A)(function*(y,f){return Pt(y,"POST","/v1/accounts:signInWithCustomToken",ke(y,f))})).apply(this,arguments)}function ae(){return ae=(0,s.A)(function*(y,f){const m=ii(y),_=yield function pg(y,f){return O.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),E=yield bo._fromIdTokenResponse(m,"signIn",_);return yield m._updateCurrentUser(E.user),E}),ae.apply(this,arguments)}class Ke{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?ht._fromServerResponse(f,m):"totpInfo"in m?_t._fromServerResponse(f,m):_e(f,"internal-error")}}class ht extends Ke{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new ht(m)}}class _t extends Ke{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new _t(m)}}function Xt(y,f,m){var _;N((null===(_=m.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),N(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(N(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(N(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ti(){return ti=(0,s.A)(function*(y,f,m){var _;const E=ii(y),T={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=E._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const ge=yield Di(E,T,"getOobCode",!0);m&&Xt(E,ge,m),yield Ct(E,ge)}else m&&Xt(E,T,m),yield Ct(E,T).catch(function(){var ge=(0,s.A)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const pt=yield Di(E,T,"getOobCode",!0);m&&Xt(E,pt,m),yield Ct(E,pt)}});return function(Re){return ge.apply(this,arguments)}}())}),ti.apply(this,arguments)}function Kn(){return(Kn=(0,s.A)(function*(y,f,m){yield $((0,L.Ku)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function cr(){return cr=(0,s.A)(function*(y,f){yield function Z(y,f){return he.apply(this,arguments)}((0,L.Ku)(y),{oobCode:f})}),cr.apply(this,arguments)}function Bs(y,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.A)(function*(y,f){const m=(0,L.Ku)(y),_=yield $(m,{oobCode:f}),E=_.requestType;switch(N(E,m,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(_.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(_.mfaInfo,m,"internal-error");default:N(_.email,m,"internal-error")}let T=null;return _.mfaInfo&&(T=Ke._fromServerResponse(ii(m),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:T},operation:E}})).apply(this,arguments)}function Zi(){return(Zi=(0,s.A)(function*(y,f){const{data:m}=yield Bs((0,L.Ku)(y),f);return m.email})).apply(this,arguments)}function $r(){return $r=(0,s.A)(function*(y,f,m){var _;const E=ii(y),T={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let ge;if(null!==(_=E._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const It=yield Di(E,T,"signUpPassword");ge=_s(E,It)}else ge=_s(E,T).catch(function(){var It=(0,s.A)(function*(Jt){if("auth/missing-recaptcha-token"===Jt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cn=yield Di(E,T,"signUpPassword");return _s(E,cn)}return Promise.reject(Jt)});return function(Jt){return It.apply(this,arguments)}}());const Re=yield ge.catch(It=>Promise.reject(It)),pt=yield bo._fromIdTokenResponse(E,"signIn",Re);return yield E._updateCurrentUser(pt.user),pt}),$r.apply(this,arguments)}function wl(){return wl=(0,s.A)(function*(y,f,m){var _;const E=ii(y),T={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function ge(Re,pt){N(pt.handleCodeInApp,E,"argument-error"),pt&&Xt(E,Re,pt)}if(null!==(_=E._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Re=yield Di(E,T,"getOobCode",!0);ge(Re,m),yield tn(E,Re)}else ge(T,m),yield tn(E,T).catch(function(){var Re=(0,s.A)(function*(pt){if("auth/missing-recaptcha-token"!==pt.code)return Promise.reject(pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const It=yield Di(E,T,"getOobCode",!0);ge(It,m),yield tn(E,It)}});return function(pt){return Re.apply(this,arguments)}}())}),wl.apply(this,arguments)}function yl(){return(yl=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y),E=Ka.credentialWithLink(f,m||U());return N(E._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),rs(_,E)})).apply(this,arguments)}function y2(){return(y2=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:createAuthUri",ke(y,f))})).apply(this,arguments)}function m1(){return m1=(0,s.A)(function*(y,f){const _={identifier:f,continueUri:le()?U():"http://localhost"},{signinMethods:E}=yield function _3(y,f){return y2.apply(this,arguments)}((0,L.Ku)(y),_);return E||[]}),m1.apply(this,arguments)}function qa(){return qa=(0,s.A)(function*(y,f){const m=(0,L.Ku)(y),E={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Xt(m.auth,E,f);const{email:T}=yield function yt(y,f){return gt.apply(this,arguments)}(m.auth,E);T!==y.email&&(yield y.reload())}),qa.apply(this,arguments)}function Dd(){return Dd=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Xt(_.auth,T,m);const{email:ge}=yield function Ln(y,f){return Tn.apply(this,arguments)}(_.auth,T);ge!==y.email&&(yield y.reload())}),Dd.apply(this,arguments)}function M3(){return(M3=(0,s.A)(function*(y,f){return be(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Td(){return Td=(0,s.A)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const _=(0,L.Ku)(y),T={idToken:yield _.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ge=yield kn(_,function Qv(y,f){return M3.apply(this,arguments)}(_.auth,T));_.displayName=ge.displayName||null,_.photoURL=ge.photoUrl||null;const Re=_.providerData.find(({providerId:pt})=>"password"===pt);Re&&(Re.displayName=_.displayName,Re.photoURL=_.photoURL),yield _._updateTokensIfNecessary(ge)}),Td.apply(this,arguments)}function _2(y,f,m){return Od.apply(this,arguments)}function Od(){return(Od=(0,s.A)(function*(y,f,m){const{auth:_}=y,T={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(T.email=f),m&&(T.password=m);const ge=yield kn(y,A(_,T));yield y._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class _l{constructor(f,m,_={}){this.isNewUser=f,this.providerId=m,this.profile=_}}class xl extends _l{constructor(f,m,_,E){super(f,m,_),this.username=E}}class vg extends _l{constructor(f,m){super(f,"facebook.com",m)}}class Rd extends xl{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ml extends _l{constructor(f,m){super(f,"google.com",m)}}class w1 extends xl{constructor(f,m,_){super(f,"twitter.com",m,_)}}function b3(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Pd(y){var f,m;if(!y)return null;const{providerId:_}=y,E=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},T=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const ge=null===(m=null===(f=$t(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ge)return new _l(T,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!_)return null;switch(_){case"facebook.com":return new vg(T,E);case"github.com":return new Rd(T,E);case"google.com":return new Ml(T,E);case"twitter.com":return new w1(T,E,y.screenName||null);case"custom":case"anonymous":return new _l(T,null);default:return new _l(T,_,E)}}(m)}class js{constructor(f,m,_){this.type=f,this.credential=m,this.auth=_}static _fromIdtoken(f,m){return new js("enroll",f,m)}static _fromMfaPendingCredential(f){return new js("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,_;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return js._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return js._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _1{constructor(f,m,_){this.session=f,this.hints=m,this.signInResolver=_}static _fromError(f,m){const _=ii(f),E=m.customData._serverResponse,T=(E.mfaInfo||[]).map(Re=>Ke._fromServerResponse(_,Re));N(E.mfaPendingCredential,_,"internal-error");const ge=js._fromMfaPendingCredential(E.mfaPendingCredential);return new _1(ge,T,function(){var Re=(0,s.A)(function*(pt){const It=yield pt._process(_,ge);delete E.mfaInfo,delete E.mfaPendingCredential;const Jt=Object.assign(Object.assign({},E),{idToken:It.idToken,refreshToken:It.refreshToken});switch(m.operationType){case"signIn":const cn=yield bo._fromIdTokenResponse(_,m.operationType,Jt);return yield _._updateCurrentUser(cn.user),cn;case"reauthenticate":return N(m.user,_,"internal-error"),bo._forOperation(m.user,m.operationType,Jt);default:_e(_,"internal-error")}});return function(pt){return Re.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,s.A)(function*(){return m.signInResolver(f)})()}}class x1{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(_=>Ke._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new x1(f)}getSession(){var f=this;return(0,s.A)(function*(){return js._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var _=this;return(0,s.A)(function*(){const E=f,T=yield _.getSession(),ge=yield kn(_.user,E._process(_.user.auth,T,m));return yield _.user._updateTokensIfNecessary(ge),_.user.reload()})()}unenroll(f){var m=this;return(0,s.A)(function*(){const _="string"==typeof f?f:f.uid,E=yield m.user.getIdToken();try{const T=yield kn(m.user,function Bd(y,f){return be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(y,f))}(m.user.auth,{idToken:E,mfaEnrollmentId:_}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ge})=>ge!==_),yield m.user._updateTokensIfNecessary(T),yield m.user.reload()}catch(T){throw T}})()}}const mi=new WeakMap,Xa="__sak";class lr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xa,"1"),this.storage.removeItem(Xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const bl=(()=>{class y extends lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,_)=>this.onStorageEvent(m,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vd(){const y=(0,L.ZQ)();return Oe(y)||it(y)}()&&function In(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const _ of Object.keys(this.listeners)){const E=this.storage.getItem(_),T=this.localCache[_];E!==T&&m(_,T,E)}}onStorageEvent(m,_=!1){if(!m.key)return void this.forAllChangedKeys((Re,pt,It)=>{this.notifyListeners(Re,It)});const E=m.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(E);if(m.newValue!==Re)null!==m.newValue?this.storage.setItem(E,m.newValue):this.storage.removeItem(E);else if(this.localCache[E]===m.newValue&&!_)return}const T=()=>{const Re=this.storage.getItem(E);!_&&this.localCache[E]===Re||this.notifyListeners(E,Re)},ge=this.storage.getItem(E);!function dn(){return(0,L.lT)()&&10===document.documentMode}()||ge===m.newValue||m.newValue===m.oldValue?T():setTimeout(T,10)}notifyListeners(m,_){this.localCache[m]=_;const E=this.listeners[m];if(E)for(const T of Array.from(E))T(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,_,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:_,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,_){var E=()=>super._set,T=this;return(0,s.A)(function*(){yield E().call(T,m,_),T.localCache[m]=JSON.stringify(_)})()}_get(m){var _=()=>super._get,E=this;return(0,s.A)(function*(){const T=yield _().call(E,m);return E.localCache[m]=JSON.stringify(T),T})()}_remove(m){var _=()=>super._remove,E=this;return(0,s.A)(function*(){yield _().call(E,m),delete E.localCache[m]})()}}return y.type="LOCAL",y})(),la=(()=>{class y extends lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,_){}_removeListener(m,_){}}return y.type="SESSION",y})();let Hd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const _=this.receivers.find(T=>T.isListeningto(m));if(_)return _;const E=new y(m);return this.receivers.push(E),E}isListeningto(m){return this.eventTarget===m}handleEvent(m){var _=this;return(0,s.A)(function*(){const E=m,{eventId:T,eventType:ge,data:Re}=E.data,pt=_.handlersMap[ge];if(!pt?.size)return;E.ports[0].postMessage({status:"ack",eventId:T,eventType:ge});const It=Array.from(pt).map(function(){var cn=(0,s.A)(function*(Ki){return Ki(E.origin,Re)});return function(Ki){return cn.apply(this,arguments)}}()),Jt=yield function ua(y){return Promise.all(y.map(function(){var f=(0,s.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(_){return{fulfilled:!1,reason:_}}});return function(m){return f.apply(this,arguments)}}()))}(It);E.ports[0].postMessage({status:"done",eventId:T,eventType:ge,response:Jt})})()}_subscribe(m,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(_)}_unsubscribe(m,_){this.handlersMap[m]&&_&&this.handlersMap[m].delete(_),(!_||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function El(y="",f=10){let m="";for(let _=0;_<f;_++)m+=Math.floor(10*Math.random());return y+m}class S3{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,_=50){var E=this;return(0,s.A)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let ge,Re;return new Promise((pt,It)=>{const Jt=El("",20);T.port1.start();const cn=setTimeout(()=>{It(new Error("unsupported_event"))},_);Re={messageChannel:T,onMessage(Ki){const Sr=Ki;if(Sr.data.eventId===Jt)switch(Sr.data.status){case"ack":clearTimeout(cn),ge=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),pt(Sr.data.response);break;default:clearTimeout(cn),clearTimeout(ge),It(new Error("invalid_response"))}}},E.handlers.add(Re),T.port1.addEventListener("message",Re.onMessage),E.target.postMessage({eventType:f,eventId:Jt,data:m},[T.port2])}).finally(()=>{Re&&E.removeMessageHandler(Re)})})()}}function qi(){return window}function C2(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function Il(){return(Il=(0,s.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ud="firebaseLocalStorageDb",Tc="firebaseLocalStorage",Ya="fbase_key";class Al{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function kl(y,f){return y.transaction([Tc],f?"readwrite":"readonly").objectStore(Tc)}function b2(){const y=indexedDB.open(Ud,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(Tc,{keyPath:Ya})}catch(E){m(E)}}),y.addEventListener("success",(0,s.A)(function*(){const _=y.result;_.objectStoreNames.contains(Tc)?f(_):(_.close(),yield function xg(){const y=indexedDB.deleteDatabase(Ud);return new Al(y).toPromise()}(),f(yield b2()))}))})}function Sl(y,f,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.A)(function*(y,f,m){const _=kl(y,!0).put({[Ya]:f,value:m});return new Al(_).toPromise()})).apply(this,arguments)}function Dl(){return(Dl=(0,s.A)(function*(y,f){const m=kl(y,!1).get(f),_=yield new Al(m).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function E2(y,f){const m=kl(y,!0).delete(f);return new Al(m).toPromise()}const ur=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.A)(function*(){return m.db||(m.db=yield b2()),m.db})()}_withRetries(m){var _=this;return(0,s.A)(function*(){let E=0;for(;;)try{const T=yield _._openDb();return yield m(T)}catch(T){if(E++>3)throw T;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.A)(function*(){return C2()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.A)(function*(){m.receiver=Hd._getInstance(function O3(){return C2()?self:null}()),m.receiver._subscribe("keyChanged",function(){var _=(0,s.A)(function*(E,T){return{keyProcessed:(yield m._poll()).includes(T.key)}});return function(E,T){return _.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var _=(0,s.A)(function*(E,T){return["keyChanged"]});return function(E,T){return _.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.A)(function*(){var _,E;if(m.activeServiceWorker=yield function En(){return Il.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new S3(m.activeServiceWorker);const T=yield m.sender._send("ping",{},800);T&&null!==(_=T[0])&&void 0!==_&&_.fulfilled&&null!==(E=T[0])&&void 0!==E&&E.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var _=this;return(0,s.A)(function*(){if(_.sender&&_.activeServiceWorker&&function T3(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:m},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.A)(function*(){try{if(!indexedDB)return!1;const m=yield b2();return yield Sl(m,Xa,"1"),yield E2(m,Xa),!0}catch{}return!1})()}_withPendingWrite(m){var _=this;return(0,s.A)(function*(){_.pendingWrites++;try{yield m()}finally{_.pendingWrites--}})()}_set(m,_){var E=this;return(0,s.A)(function*(){return E._withPendingWrite((0,s.A)(function*(){return yield E._withRetries(T=>Sl(T,m,_)),E.localCache[m]=_,E.notifyServiceWorker(m)}))})()}_get(m){var _=this;return(0,s.A)(function*(){const E=yield _._withRetries(T=>function jn(y,f){return Dl.apply(this,arguments)}(T,m));return _.localCache[m]=E,E})()}_remove(m){var _=this;return(0,s.A)(function*(){return _._withPendingWrite((0,s.A)(function*(){return yield _._withRetries(E=>E2(E,m)),delete _.localCache[m],_.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.A)(function*(){const _=yield m._withRetries(ge=>{const Re=kl(ge,!1).getAll();return new Al(Re).toPromise()});if(!_)return[];if(0!==m.pendingWrites)return[];const E=[],T=new Set;for(const{fbase_key:ge,value:Re}of _)T.add(ge),JSON.stringify(m.localCache[ge])!==JSON.stringify(Re)&&(m.notifyListeners(ge,Re),E.push(ge));for(const ge of Object.keys(m.localCache))m.localCache[ge]&&!T.has(ge)&&(m.notifyListeners(ge,null),E.push(ge));return E})()}notifyListeners(m,_){this.localCache[m]=_;const E=this.listeners[m];if(E)for(const T of Array.from(E))T(_)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(_)}_removeListener(m,_){this.listeners[m]&&(this.listeners[m].delete(_),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Po=1e12;class da{constructor(f){this.auth=f,this.counter=Po,this._widgets=new Map}render(f,m){const _=this.counter;return this._widgets.set(_,new R3(f,this.auth.name,m||{})),this.counter++,_}reset(f){var m;const _=f||Po;null===(m=this._widgets.get(_))||void 0===m||m.delete(),this._widgets.delete(_)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Po))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,s.A)(function*(){var _;return null===(_=m._widgets.get(f||Po))||void 0===_||_.execute(),""})()}}class R3{constructor(f,m,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof f?document.getElementById(f):f;N(E,"argument-error",{appName:m}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function C1(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bs=si("rcb"),L3=new Ge(3e4,6e4);class Cg{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=qi().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return N(function bg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&St(qi().grecaptcha)?Promise.resolve(qi().grecaptcha):new Promise((_,E)=>{const T=qi().setTimeout(()=>{E(J(f,"network-request-failed"))},L3.get());qi()[bs]=()=>{qi().clearTimeout(T),delete qi()[bs];const Re=qi().grecaptcha;if(!Re||!St(Re))return void E(J(f,"internal-error"));const pt=Re.render;Re.render=(It,Jt)=>{const cn=pt(It,Jt);return this.counter++,cn},this.hostLanguage=m,_(Re)},bi(`https://www.google.com/recaptcha/api.js??${(0,L.Am)({onload:bs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(T),E(J(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=qi().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kd{load(f){return(0,s.A)(function*(){return new da(f)})()}clearedOneInstance(){}}const D2="recaptcha",N3={theme:"light",type:"image"};class Wd{constructor(f,m=Object.assign({},N3),_){this.parameters=m,this.type=D2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(_),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof f?document.getElementById(f):f;N(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kd:new Cg,this.validateStartingState()}verify(){var f=this;return(0,s.A)(function*(){f.assertNotDestroyed();const m=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(m)||new Promise(T=>{const ge=Re=>{Re&&(f.tokenChangeListeners.delete(ge),T(Re))};f.tokenChangeListeners.add(ge),f.isInvisible&&_.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(_=>_(m)),"function"==typeof f)f(m);else if("string"==typeof f){const _=qi()[f];"function"==typeof _&&_(m)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,s.A)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const _=document.createElement("div");m.appendChild(_),m=_}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,s.A)(function*(){N(le()&&!C2(),f.auth,"internal-error"),yield function Eg(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Pe(y){return at.apply(this,arguments)}(f.auth);N(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yo{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Mn._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Tl(){return(Tl=(0,s.A)(function*(y,f,m){const _=ii(y),E=yield Ol(_,f,(0,L.Ku)(m));return new yo(E,T=>rs(_,T))})).apply(this,arguments)}function Lt(){return(Lt=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y);yield br(!1,_,"phone");const E=yield Ol(_.auth,f,(0,L.Ku)(m));return new yo(E,T=>w3(_,T))})).apply(this,arguments)}function b1(){return(b1=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y),E=yield Ol(_.auth,f,(0,L.Ku)(m));return new yo(E,T=>Ad(_,T))})).apply(this,arguments)}function Ol(y,f,m){return T2.apply(this,arguments)}function T2(){return T2=(0,s.A)(function*(y,f,m){var _;const E=yield m.verify();try{let T;if(N("string"==typeof E,y,"argument-error"),N(m.type===D2,y,"argument-error"),T="string"==typeof f?{phoneNumber:f}:f,"session"in T){const ge=T.session;if("phoneNumber"in T)return N("enroll"===ge.type,y,"internal-error"),(yield function A3(y,f){return be(y,"POST","/v2/accounts/mfaEnrollment:start",ke(y,f))}(y,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{N("signin"===ge.type,y,"internal-error");const Re=(null===(_=T.multiFactorHint)||void 0===_?void 0:_.uid)||T.multiFactorUid;return N(Re,y,"missing-multi-factor-info"),(yield function Gd(y,f){return be(y,"POST","/v2/accounts/mfaSignIn:start",ke(y,f))}(y,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield function Dn(y,f){return ui.apply(this,arguments)}(y,{phoneNumber:T.phoneNumber,recaptchaToken:E});return ge}}finally{m._reset()}}),T2.apply(this,arguments)}function Es(){return(Es=(0,s.A)(function*(y,f){yield Wa((0,L.Ku)(y),f)})).apply(this,arguments)}let Ci=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ii(m)}verifyPhoneNumber(m,_){return Ol(this.auth,m,(0,L.Ku)(_))}static credential(m,_){return Mn._fromVerification(m,_)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:_,temporaryProof:E}=m;return _&&E?Mn._fromTokenResponse(_,E):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Is(y,f){return f?Qn(f):(N(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Bt extends Te{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Yo(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Yo(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Yo(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function z3(y){return Ms(y.auth,new Bt(y),y.bypassAuthState)}function F3(y){const{auth:f,user:m}=y;return N(m,f,"internal-error"),p2(m,new Bt(y),y.bypassAuthState)}function Pl(y){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.A)(function*(y){const{auth:f,user:m}=y;return N(m,f,"internal-error"),Wa(m,new Bt(y),y.bypassAuthState)})).apply(this,arguments)}class Oc{constructor(f,m,_,E,T=!1){this.auth=f,this.resolver=_,this.user=E,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,s.A)(function*(_,E){f.pendingPromise={resolve:_,reject:E};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(T){f.reject(T)}});return function(_,E){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,s.A)(function*(){const{urlResponse:_,sessionId:E,postBody:T,tenantId:ge,error:Re,type:pt}=f;if(Re)return void m.reject(Re);const It={auth:m.auth,requestUri:_,sessionId:E,tenantId:ge||void 0,postBody:T||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(pt)(It))}catch(Jt){m.reject(Jt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return z3;case"linkViaPopup":case"linkViaRedirect":return Pl;case"reauthViaPopup":case"reauthViaRedirect":return F3;default:_e(this.auth,"internal-error")}}resolve(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ti=new Ge(2e3,1e4);function dr(){return(dr=(0,s.A)(function*(y,f,m){const _=ii(y);V(y,f,Ho);const E=Is(_,m);return new ga(_,"signInViaPopup",f,E).executeNotNull()})).apply(this,arguments)}function Qa(){return(Qa=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y);V(_.auth,f,Ho);const E=Is(_.auth,m);return new ga(_.auth,"reauthViaPopup",f,E,_).executeNotNull()})).apply(this,arguments)}function fa(){return(fa=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y);V(_.auth,f,Ho);const E=Is(_.auth,m);return new ga(_.auth,"linkViaPopup",f,E,_).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class y extends Oc{constructor(m,_,E,T,ge){super(m,_,T,ge),this.provider=E,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.A)(function*(){const _=yield m.execute();return N(_,m.auth,"internal-error"),_})()}onExecution(){var m=this;return(0,s.A)(function*(){Q(1===m.filter.length,"Popup operations only handle one event");const _=El();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],_),m.authWindow.associatedEvent=_,m.resolver._originValidation(m.auth).catch(E=>{m.reject(E)}),m.resolver._isIframeWebStorageSupported(m.auth,E=>{E||m.reject(J(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(J(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var _,E;this.pollId=null!==(E=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(J(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ti.get())};m()}}return y.currentPopupAction=null,y})();const V3="pendingRedirect",hr=new Map;class Ar extends Oc{constructor(f,m,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,s.A)(function*(){let _=hr.get(m.auth._key());if(!_){try{const T=(yield function Ll(y,f){return qd.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;_=()=>Promise.resolve(T)}catch(E){_=()=>Promise.reject(E)}hr.set(m.auth._key(),_)}return m.bypassAuthState||hr.set(m.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,_=this;return(0,s.A)(function*(){if("signInViaRedirect"===f.type)return m().call(_,f);if("unknown"!==f.type){if(f.eventId){const E=yield _.auth._redirectUserForId(f.eventId);if(E)return _.user=E,m().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,s.A)(function*(){})()}cleanUp(){}}function qd(){return(qd=(0,s.A)(function*(y,f){const m=L2(f),_=R2(y);if(!(yield _._isAvailable()))return!1;const E="true"===(yield _._get(m));return yield _._remove(m),E})).apply(this,arguments)}function ss(y,f){return As.apply(this,arguments)}function As(){return(As=(0,s.A)(function*(y,f){return R2(y)._set(L2(f),"true")})).apply(this,arguments)}function _o(y,f){hr.set(y._key(),f)}function R2(y){return Qn(y._redirectPersistence)}function L2(y){return de(V3,y.config.apiKey,y.name)}function Xi(y,f,m){return function Pn(y,f,m){return $i.apply(this,arguments)}(y,f,m)}function $i(){return($i=(0,s.A)(function*(y,f,m){const _=ii(y);V(y,f,Ho),yield _._initializationPromise;const E=Is(_,m);return yield ss(E,_),E._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function Hs(y,f,m){return function Bi(y,f,m){return Vi.apply(this,arguments)}(y,f,m)}function Vi(){return(Vi=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y);V(_.auth,f,Ho),yield _.auth._initializationPromise;const E=Is(_.auth,m);yield ss(E,_.auth);const T=yield zl(_);return E._openRedirect(_.auth,f,"reauthViaRedirect",T)})).apply(this,arguments)}function N2(y,f,m){return function z2(y,f,m){return Nl.apply(this,arguments)}(y,f,m)}function Nl(){return(Nl=(0,s.A)(function*(y,f,m){const _=(0,L.Ku)(y);V(_.auth,f,Ho),yield _.auth._initializationPromise;const E=Is(_.auth,m);yield br(!1,_,f.providerId),yield ss(E,_.auth);const T=yield zl(_);return E._openRedirect(_.auth,f,"linkViaRedirect",T)})).apply(this,arguments)}function Ro(){return(Ro=(0,s.A)(function*(y,f){return yield ii(y)._initializationPromise,to(y,f,!1)})).apply(this,arguments)}function to(y,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.A)(function*(y,f,m=!1){const _=ii(y),E=Is(_,f),ge=yield new Ar(_,E,m).execute();return ge&&!m&&(delete ge.user._redirectEventId,yield _._persistUserIfCurrent(ge.user),yield _._setRedirectUser(null,f)),ge})).apply(this,arguments)}function zl(y){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.A)(function*(y){const f=El(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Fl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(m=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Bl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var _;if(f.error&&!ma(f)){const E=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";m.onError(J(this.auth,E))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const _=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(F2(f))}saveEventToCache(f){this.cachedEventUids.add(F2(f)),this.lastProcessedEventTime=Date.now()}}function F2(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function ma({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function B2(y){return An.apply(this,arguments)}function An(){return(An=(0,s.A)(function*(y,f={}){return be(y,"GET","/v1/projects",f)})).apply(this,arguments)}const E1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vl=/^https?/;function V2(){return(V2=(0,s.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield B2(y);for(const m of f)try{if(Xd(m))return}catch{}_e(y,"unauthorized-domain")})).apply(this,arguments)}function Xd(y){const f=U(),{protocol:m,hostname:_}=new URL(f);if(y.startsWith("chrome-extension://")){const ge=new URL(y);return""===ge.hostname&&""===_?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ge.hostname===_}if(!Vl.test(m))return!1;if(E1.test(y))return _===y;const E=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(_)}const as=new Ge(3e4,6e4);function Za(){const y=qi().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Oi=null;const j2=new Ge(5e3,15e3),jl="__/auth/iframe",H3="emulator/auth/iframe",H2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ec(y){const f=y.config;N(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?K(f,H3):`https://${y.config.authDomain}/${jl}`,_={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},E=U2.get(y.config.apiHost);E&&(_.eid=E);const T=y._getFrameworks();return T.length&&(_.fw=T.join(",")),`${m}?${(0,L.Am)(_).slice(1)}`}function cs(){return cs=(0,s.A)(function*(y){const f=yield function j3(y){return Oi=Oi||function Yd(y){return new Promise((f,m)=>{var _,E,T;function ge(){Za(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Za(),m(J(y,"network-request-failed"))},timeout:as.get()})}if(null!==(E=null===(_=qi().gapi)||void 0===_?void 0:_.iframes)&&void 0!==E&&E.Iframe)f(gapi.iframes.getContext());else{if(null===(T=qi().gapi)||void 0===T||!T.load){const Re=si("iframefcb");return qi()[Re]=()=>{gapi.load?ge():m(J(y,"network-request-failed"))},bi(`https://apis.google.com/js/api.js?onload=${Re}`).catch(pt=>m(pt))}ge()}}).catch(f=>{throw Oi=null,f})}(y),Oi}(y),m=qi().gapi;return N(m,y,"internal-error"),f.open({where:document.body,url:ec(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H2,dontclear:!0},_=>new Promise(function(){var E=(0,s.A)(function*(T,ge){yield _.restyle({setHideOnLeave:!1});const Re=J(y,"network-request-failed"),pt=qi().setTimeout(()=>{ge(Re)},j2.get());function It(){qi().clearTimeout(pt),T(_)}_.ping(It).then(It,()=>{ge(Re)})});return function(T,ge){return E.apply(this,arguments)}}()))}),cs.apply(this,arguments)}const nc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class U3{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ag="__/auth/handler",$2="emulator/auth/handler",Hl=encodeURIComponent("fac");function Us(y,f,m,_,E,T){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.A)(function*(y,f,m,_,E,T){N(y.config.authDomain,y,"auth-domain-config-required"),N(y.config.apiKey,y,"invalid-api-key");const ge={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:_,v:ue.SDK_VERSION,eventId:E};if(f instanceof Ho){f.setDefaultLanguage(y.languageCode),ge.providerId=f.providerId||"",(0,L.Im)(f.getCustomParameters())||(ge.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Jt,cn]of Object.entries(T||{}))ge[Jt]=cn}if(f instanceof To){const Jt=f.getScopes().filter(cn=>""!==cn);Jt.length>0&&(ge.scopes=Jt.join(","))}y.tenantId&&(ge.tid=y.tenantId);const Re=ge;for(const Jt of Object.keys(Re))void 0===Re[Jt]&&delete Re[Jt];const pt=yield y._getAppCheckToken(),It=pt?`#${Hl}=${encodeURIComponent(pt)}`:"";return`${function $3({config:y}){return y.emulator?K(y,$2):`https://${y.authDomain}/${Ag}`}(y)}?${(0,L.Am)(Re).slice(1)}${It}`})).apply(this,arguments)}const Gi="webStorageSupport",oc=class Ul{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=to,this._overrideRedirectResult=_o}_openPopup(f,m,_,E){var T=this;return(0,s.A)(function*(){var ge;Q(null===(ge=T.eventManagers[f._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Re=yield Us(f,m,_,U(),E);return function I1(y,f,m,_=500,E=600){const T=Math.max((window.screen.availHeight-E)/2,0).toString(),ge=Math.max((window.screen.availWidth-_)/2,0).toString();let Re="";const pt=Object.assign(Object.assign({},nc),{width:_.toString(),height:E.toString(),top:T,left:ge}),It=(0,L.ZQ)().toLowerCase();m&&(Re=kt(It)?"_blank":m),tt(It)&&(f=f||"http://localhost",pt.scrollbars="yes");const Jt=Object.entries(pt).reduce((Ki,[Sr,Ea])=>`${Ki}${Sr}=${Ea},`,"");if(function qt(y=(0,L.ZQ)()){var f;return it(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(It)&&"_self"!==Re)return function Qd(y,f){const m=document.createElement("a");m.href=y,m.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(_)}(f||"",Re),new U3(null);const cn=window.open(f||"",Re,Jt);N(cn,y,"popup-blocked");try{cn.focus()}catch{}return new U3(cn)}(f,Re,El())})()}_openRedirect(f,m,_,E){var T=this;return(0,s.A)(function*(){return yield T._originValidation(f),function D3(y){qi().location.href=y}(yield Us(f,m,_,U(),E)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:E,promise:T}=this.eventManagers[m];return E?Promise.resolve(E):(Q(T,"If manager is not set, promise should be"),T)}const _=this.initAndGetManager(f);return this.eventManagers[m]={promise:_},_.catch(()=>{delete this.eventManagers[m]}),_}initAndGetManager(f){var m=this;return(0,s.A)(function*(){const _=yield function tc(y){return cs.apply(this,arguments)}(f),E=new Fl(f);return _.register("authEvent",T=>(N(T?.authEvent,f,"invalid-auth-event"),{status:E.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:E},m.iframes[f._key()]=_,E})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Gi,{type:Gi},E=>{var T;const ge=null===(T=E?.[0])||void 0===T?void 0:T[Gi];void 0!==ge&&m(!!ge),_e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gr(y){return V2.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Sn()||Oe()||it()}};class G2{constructor(f){this.factorId=f}_process(f,m,_){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,_);case"signin":return this._finalizeSignIn(f,m.credential);default:return oe("unexpected MultiFactorSessionType")}}}class fr extends G2{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new fr(f)}_finalizeEnroll(f,m,_){return function M2(y,f){return be(y,"POST","/v2/accounts/mfaEnrollment:finalize",ke(y,f))}(f,{idToken:m,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function k2(y,f){return be(y,"POST","/v2/accounts/mfaSignIn:finalize",ke(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lc=(()=>{class y{constructor(){}static assertion(m){return fr._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var K3="@firebase/auth";class kg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,s.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(_=>{f(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wa(){return window}(0,L.XA)("authIdTokenMaxAge"),function K2(y){(0,ue._registerComponent)(new q.uA("auth",(f,{options:m})=>{const _=f.getProvider("app").getImmediate(),E=f.getProvider("heartbeat"),T=f.getProvider("app-check-internal"),{apiKey:ge,authDomain:Re}=_.options;N(ge&&!ge.includes(":"),"invalid-api-key",{appName:_.name});const pt={apiKey:ge,authDomain:Re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ve(y)},It=new Br(_,E,T,pt);return function Zr(y,f){const m=f?.persistence||[],_=(Array.isArray(m)?m:[m]).map(Qn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(_,f?.popupRedirectResolver)}(It,m),It},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,_)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new q.uA("auth-internal",f=>{const m=ii(f.getProvider("auth").getImmediate());return new kg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(K3,"0.23.2",function kr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(K3,"0.23.2","esm2017")}("Browser");function ac(){return ac=(0,s.A)(function*(y,f,m){var _;const{BuildInfo:E}=wa();Q(f.sessionId,"AuthEvent did not contain a session ID");const T=yield function q3(y){return ql.apply(this,arguments)}(f.sessionId),ge={};return it()?ge.ibi=E.packageName:De()?ge.apn=E.packageName:_e(y,"operation-not-supported-in-this-environment"),E.displayName&&(ge.appDisplayName=E.displayName),ge.sessionId=T,Us(y,m,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,ge)}),ac.apply(this,arguments)}function cc(){return(cc=(0,s.A)(function*(y){const{BuildInfo:f}=wa(),m={};it()?m.iosBundleId=f.packageName:De()?m.androidPackageName=f.packageName:_e(y,"operation-not-supported-in-this-environment"),yield B2(y,m)})).apply(this,arguments)}function zc(){return(zc=(0,s.A)(function*(y,f,m){const{cordova:_}=wa();let E=()=>{};try{yield new Promise((T,ge)=>{let Re=null;function pt(){var cn;T();const Ki=null===(cn=_.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Ki&&Ki(),"function"==typeof m?.close&&m.close()}function It(){Re||(Re=window.setTimeout(()=>{ge(J(y,"redirect-cancelled-by-user"))},2e3))}function Jt(){"visible"===document?.visibilityState&&It()}f.addPassiveListener(pt),document.addEventListener("resume",It,!1),De()&&document.addEventListener("visibilitychange",Jt,!1),E=()=>{f.removePassiveListener(pt),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Jt,!1),Re&&window.clearTimeout(Re)}})}finally{E()}})).apply(this,arguments)}function ql(){return(ql=(0,s.A)(function*(y){const f=function Xl(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let _=0;_<y.length;_++)m[_]=y.charCodeAt(_);return m}(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(E=>E.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class t4 extends Fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,s.A)(function*(){yield f.initPromise})()}}function _a(y){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.A)(function*(y){const f=yield Ma()._get(ls(y));return f&&(yield Ma()._remove(ls(y))),f})).apply(this,arguments)}function $s(){const y=[];for(let m=0;m<20;m++){const _=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return y.join("")}function Ma(){return Qn(bl)}function ls(y){return de("authEvent",y.config.apiKey,y.name)}function lc(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,L.I9)(m.join("?"))}const i4=class Ql{constructor(){this._redirectPersistence=la,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=to,this._overrideRedirectResult=_o}_initialize(f){var m=this;return(0,s.A)(function*(){const _=f._key();let E=m.eventManagers.get(_);return E||(E=new t4(f),m.eventManagers.set(_,E),m.attachCallbackListeners(f,E)),E})()}_openPopup(f){_e(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,_,E){var T=this;return(0,s.A)(function*(){!function Wl(y){var f,m,_,E,T,ge,Re,pt,It,Jt;const cn=wa();N("function"==typeof(null===(f=cn?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof(null===(m=cn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N("function"==typeof(null===(T=null===(E=null===(_=cn?.cordova)||void 0===_?void 0:_.plugins)||void 0===E?void 0:E.browsertab)||void 0===T?void 0:T.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(pt=null===(Re=null===(ge=cn?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===pt?void 0:pt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(Jt=null===(It=cn?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Jt?void 0:Jt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ge=yield T._initialize(f);yield ge.initialized(),ge.resetRedirect(),function P2(){hr.clear()}(),yield T._originValidation(f);const Re=function q2(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:$s(),postBody:null,tenantId:y.tenantId,error:J(y,"no-auth-event")}}(f,_,E);yield function X3(y,f){return Ma()._set(ls(y),f)}(f,Re);const pt=yield function Gl(y,f,m){return ac.apply(this,arguments)}(f,Re,m),It=yield function e4(y){const{cordova:f}=wa();return new Promise(m=>{f.plugins.browsertab.isAvailable(_=>{let E=null;_?f.plugins.browsertab.openUrl(y):E=f.InAppBrowser.open(y,function lt(y=(0,L.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(E)})})}(pt);return function Kl(y,f,m){return zc.apply(this,arguments)}(f,ge,It)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function A1(y){return cc.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:_,handleOpenURL:E,BuildInfo:T}=wa(),ge=setTimeout((0,s.A)(function*(){yield _a(f),m.onEvent(o4())}),500),Re=function(){var Jt=(0,s.A)(function*(cn){clearTimeout(ge);const Ki=yield _a(f);let Sr=null;Ki&&cn?.url&&(Sr=function k1(y,f){var m,_;const E=function Fc(y){const f=lc(y),m=f.link?decodeURIComponent(f.link):void 0,_=lc(m).link,E=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return lc(E).link||E||_||m||y}(f);if(E.includes("/__/auth/callback")){const T=lc(E),ge=T.firebaseError?function Yl(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(T.firebaseError)):null,Re=null===(_=null===(m=ge?.code)||void 0===m?void 0:m.split("auth/"))||void 0===_?void 0:_[1],pt=Re?J(Re):null;return pt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:pt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:E,postBody:null}}return null}(Ki,cn.url)),m.onEvent(Sr||o4())});return function(Ki){return Jt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Re);const pt=E,It=`${T.packageName.toLowerCase()}://`;wa().handleOpenURL=function(){var Jt=(0,s.A)(function*(cn){if(cn.toLowerCase().startsWith(It)&&Re({url:cn}),"function"==typeof pt)try{pt(cn)}catch(Ki){console.error(Ki)}});return function(cn){return Jt.apply(this,arguments)}}()}};function o4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:J("no-auth-event")}}function S1(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function D1(y=(0,L.ZQ)()){return!("file:"!==S1()&&"ionic:"!==S1()&&"capacitor:"!==S1()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function J3(){try{const y=self.localStorage,f=El();if(y)return y.setItem(f,"1"),y.removeItem(f),!function e9(y=(0,L.ZQ)()){return function a4(){return(0,L.lT)()&&11===document?.documentMode}()||function T1(y=(0,L.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.zW)()}catch{return Ca()&&(0,L.zW)()}return!1}function Ca(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function X2(){return(function Y3(){return"http:"===S1()||"https:"===S1()}()||(0,L.sr)()||D1())&&!function Q3(){return(0,L.lV)()||(0,L.Ll)()}()&&J3()&&!Ca()}function Y2(){return D1()&&typeof document<"u"}function gr(){return(gr=(0,s.A)(function*(){return!!Y2()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const er={LOCAL:"local",NONE:"none",SESSION:"session"},uc=N,J2="persistence";function O1(y){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,s.A)(function*(y){yield y._initializationPromise;const f=Bc(),m=de(J2,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Bc(){var y;try{return(null===(y=function Gs(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Vc=N;class Ks{constructor(){this.browserResolver=Qn(oc),this.cordovaResolver=Qn(i4),this.underlyingResolver=null,this._redirectPersistence=la,this._completeRedirectFn=to,this._overrideRedirectResult=_o}_initialize(f){var m=this;return(0,s.A)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,_,E){var T=this;return(0,s.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(f,m,_,E)})()}_openRedirect(f,m,_,E){var T=this;return(0,s.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(f,m,_,E)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Y2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,s.A)(function*(){if(f.underlyingResolver)return;const m=yield function Q2(){return gr.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Zl(y){return y.unwrap()}function eu(y){return P1(y)}function P1(y){const{_tokenResponse:f}=y instanceof L.g?y.customData:y;if(!f)return null;if(!(y instanceof L.g)&&"temporaryProof"in f&&"phoneNumber"in f)return Ci.credentialFromResult(y);const m=f.providerId;if(!m||m===Me.PASSWORD)return null;let _;switch(m){case Me.GOOGLE:_=Ur;break;case Me.FACEBOOK:_=ml;break;case Me.GITHUB:_=ns;break;case Me.TWITTER:_=kc;break;default:const{oauthIdToken:E,oauthAccessToken:T,oauthTokenSecret:ge,pendingToken:Re,nonce:pt}=f;return T||ge||E||Re?Re?m.startsWith("saml.")?is._create(m,Re):Ot._fromParams({providerId:m,signInMethod:m,pendingToken:Re,idToken:E,accessToken:T}):new Hr(m).credential({idToken:E,accessToken:T,rawNonce:pt}):null}return y instanceof L.g?_.credentialFromError(y):_.credentialFromResult(y)}function tr(y,f){return f.catch(m=>{throw m instanceof L.g&&function tu(y,f){var m;const _=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Z3(y,function Fd(y,f){var m;const _=(0,L.Ku)(y),E=f;return N(f.customData.operationType,_,"argument-error"),N(null===(m=E.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,_,"argument-error"),_1._fromError(_,E)}(y,f));else if(_){const E=P1(f),T=f;E&&(T.credential=E,T.tenantId=_.tenantId||void 0,T.email=_.email||void 0,T.phoneNumber=_.phoneNumber||void 0)}}(y,m),m}).then(m=>{const E=m.user;return{operationType:m.operationType,credential:eu(m),additionalUserInfo:b3(m),user:Ws.getOrCreate(E)}})}function nu(y,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.A)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:_=>tr(y,m.confirm(_))}})).apply(this,arguments)}class Z3{constructor(f,m){this.resolver=m,this.auth=function Z2(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return tr(Zl(this.auth),this.resolver.resolveSignIn(f))}}class Ws{constructor(f){this._delegate=f,this.multiFactor=function M1(y){const f=(0,L.Ku)(y);return mi.has(f)||mi.set(f,x1._fromUser(f)),mi.get(f)}(f)}static getOrCreate(f){return Ws.USER_MAP.has(f)||Ws.USER_MAP.set(f,new Ws(f)),Ws.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,s.A)(function*(){return tr(m.auth,w3(m._delegate,f))})()}linkWithPhoneNumber(f,m){var _=this;return(0,s.A)(function*(){return nu(_.auth,function ki(y,f,m){return Lt.apply(this,arguments)}(_._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,s.A)(function*(){return tr(m.auth,function O2(y,f,m){return fa.apply(this,arguments)}(m._delegate,f,Ks))})()}linkWithRedirect(f){var m=this;return(0,s.A)(function*(){return yield O1(ii(m.auth)),N2(m._delegate,f,Ks)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,s.A)(function*(){return tr(m.auth,Ad(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return nu(this.auth,function eo(y,f,m){return b1.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return tr(this.auth,function Rl(y,f,m){return Qa.apply(this,arguments)}(this._delegate,f,Ks))}reauthenticateWithRedirect(f){var m=this;return(0,s.A)(function*(){return yield O1(ii(m.auth)),Hs(m._delegate,f,Ks)})()}sendEmailVerification(f){return function v1(y,f){return qa.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,s.A)(function*(){return yield function vl(y,f){return xs.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Jv(y,f){return _2((0,L.Ku)(y),f,null)}(this._delegate,f)}updatePassword(f){return function C3(y,f){return _2((0,L.Ku)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Zo(y,f){return Es.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function mg(y,f){return Td.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Sd(y,f,m){return Dd.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ws.USER_MAP=new WeakMap;const ho=N;let R1=(()=>{class y{constructor(m,_){if(this.app=m,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:E}=m.options;ho(E,"invalid-api-key",{appName:m.name}),ho(E,"invalid-api-key",{appName:m.name});const T=typeof window<"u"?Ks:void 0;this._delegate=_.initialize({options:{persistence:iu(E,m.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,_){!function ar(y,f,m){const _=ii(y);N(_._canInitEmulator,_,"emulator-config-failed"),N(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const E=!!m?.disableWarnings,T=Ei(f),{host:ge,port:Re}=function es(y){const f=Ei(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const _=m[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(_);if(E){const T=E[1];return{host:T,port:qo(_.substr(T.length+1))}}{const[T,ge]=_.split(":");return{host:T,port:qo(ge)}}}(f);_.config.emulator={url:`${T}//${ge}${null===Re?"":`:${Re}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:ge,port:Re,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function ie(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,_)}applyActionCode(m){return function bn(y,f){return cr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bs(this._delegate,m)}confirmPasswordReset(m,_){return function Mi(y,f,m){return Kn.apply(this,arguments)}(this._delegate,m,_)}createUserWithEmailAndPassword(m,_){var E=this;return(0,s.A)(function*(){return tr(E._delegate,function Er(y,f,m){return $r.apply(this,arguments)}(E._delegate,m,_))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function x3(y,f){return m1.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function y3(y,f){const m=Cr.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.A)(function*(){ho(X2(),m._delegate,"operation-not-supported-in-this-environment");const _=yield function pa(y,f){return Ro.apply(this,arguments)}(m._delegate,Ks);return _?tr(m._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function r4(y,f){ii(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,_,E){const{next:T,error:ge,complete:Re}=e0(m,_,E);return this._delegate.onAuthStateChanged(T,ge,Re)}onIdTokenChanged(m,_,E){const{next:T,error:ge,complete:Re}=e0(m,_,E);return this._delegate.onIdTokenChanged(T,ge,Re)}sendSignInLinkToEmail(m,_){return function w2(y,f,m){return wl.apply(this,arguments)}(this._delegate,m,_)}sendPasswordResetEmail(m,_){return function pi(y,f,m){return ti.apply(this,arguments)}(this._delegate,m,_||void 0)}setPersistence(m){var _=this;return(0,s.A)(function*(){let E;switch(function Lo(y,f){uc(Object.values(er).includes(f),y,"invalid-persistence-type"),(0,L.lV)()?uc(f!==er.SESSION,y,"unsupported-persistence-type"):(0,L.Ll)()?uc(f===er.NONE,y,"unsupported-persistence-type"):Ca()?uc(f===er.NONE||f===er.LOCAL&&(0,L.zW)(),y,"unsupported-persistence-type"):uc(f===er.NONE||J3(),y,"unsupported-persistence-type")}(_._delegate,m),m){case er.SESSION:E=la;break;case er.LOCAL:E=(yield Qn(ur)._isAvailable())?ur:bl;break;case er.NONE:E=Hi;break;default:return _e("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(E)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return tr(this._delegate,function Fs(y){return Wi.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return tr(this._delegate,rs(this._delegate,m))}signInWithCustomToken(m){return tr(this._delegate,function R(y,f){return ae.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,_){return tr(this._delegate,function p1(y,f,m){return rs((0,L.Ku)(y),Ka.credential(f,m))}(this._delegate,m,_))}signInWithEmailLink(m,_){return tr(this._delegate,function kd(y,f,m){return yl.apply(this,arguments)}(this._delegate,m,_))}signInWithPhoneNumber(m,_){return nu(this._delegate,function $o(y,f,m){return Tl.apply(this,arguments)}(this._delegate,m,_))}signInWithPopup(m){var _=this;return(0,s.A)(function*(){return ho(X2(),_._delegate,"operation-not-supported-in-this-environment"),tr(_._delegate,function B3(y,f,m){return dr.apply(this,arguments)}(_._delegate,m,Ks))})()}signInWithRedirect(m){var _=this;return(0,s.A)(function*(){return ho(X2(),_._delegate,"operation-not-supported-in-this-environment"),yield O1(_._delegate),Xi(_._delegate,m,Ks)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Vs(y,f){return Zi.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=er,y})();function e0(y,f,m){let _=y;"function"!=typeof y&&({next:_,error:f,complete:m}=y);const E=_;return{next:ge=>E(ge&&Ws.getOrCreate(ge)),error:f,complete:m}}function iu(y,f){const m=function dc(y,f){const m=Bc();if(!m)return[];const _=de(J2,y,f);switch(m.getItem(_)){case er.NONE:return[Hi];case er.LOCAL:return[ur,la];case er.SESSION:return[la];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(ur)&&m.push(ur),typeof window<"u")for(const _ of[bl,la])m.includes(_)||m.push(_);return m.includes(Hi)||m.push(Hi),m}class xo{constructor(){this.providerId="phone",this._delegate=new Ci(Zl(Y.A.auth()))}static credential(f,m){return Ci.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}xo.PHONE_SIGN_IN_METHOD=Ci.PHONE_SIGN_IN_METHOD,xo.PROVIDER_ID=Ci.PROVIDER_ID;const hc=N;class c4{constructor(f,m,_=Y.A.app()){var E;hc(null===(E=_.options)||void 0===E?void 0:E.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Wd(f,m,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Og(y){y.INTERNAL.registerComponent(new q.uA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new R1(m,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ka,FacebookAuthProvider:ml,GithubAuthProvider:ns,GoogleAuthProvider:Ur,OAuthProvider:Hr,SAMLAuthProvider:f1,PhoneAuthProvider:xo,PhoneMultiFactorGenerator:Lc,RecaptchaVerifier:c4,TwitterAuthProvider:kc,Auth:R1,AuthCredential:Te,Error:L.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(Y.A)},467:(At,je,k)=>{"use strict";function s(L,ue,Ie,ye,q,Se,Me){try{var B=L[Se](Me),F=B.value}catch(te){return void Ie(te)}B.done?ue(F):Promise.resolve(F).then(ye,q)}function Y(L){return function(){var ue=this,Ie=arguments;return new Promise(function(ye,q){var Se=L.apply(ue,Ie);function Me(F){s(Se,ye,q,Me,B,"next",F)}function B(F){s(Se,ye,q,Me,B,"throw",F)}Me(void 0)})}}k.d(je,{A:()=>Y})},1635:(At,je,k)=>{"use strict";function ue(K,H){var W={};for(var ve in K)Object.prototype.hasOwnProperty.call(K,ve)&&H.indexOf(ve)<0&&(W[ve]=K[ve]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ve=Object.getOwnPropertySymbols(K);ke<ve.length;ke++)H.indexOf(ve[ke])<0&&Object.prototype.propertyIsEnumerable.call(K,ve[ke])&&(W[ve[ke]]=K[ve[ke]])}return W}function Ie(K,H,W,ve){var rt,ke=arguments.length,be=ke<3?H:null===ve?ve=Object.getOwnPropertyDescriptor(H,W):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(K,H,W,ve);else for(var et=K.length-1;et>=0;et--)(rt=K[et])&&(be=(ke<3?rt(be):ke>3?rt(H,W,be):rt(H,W))||be);return ke>3&&be&&Object.defineProperty(H,W,be),be}function te(K,H,W,ve){return new(W||(W=Promise))(function(be,rt){function et(rn){try{Pt(ve.next(rn))}catch(on){rt(on)}}function ft(rn){try{Pt(ve.throw(rn))}catch(on){rt(on)}}function Pt(rn){rn.done?be(rn.value):function ke(be){return be instanceof W?be:new W(function(rt){rt(be)})}(rn.value).then(et,ft)}Pt((ve=ve.apply(K,H||[])).next())})}function X(K){return this instanceof X?(this.v=K,this):new X(K)}function _e(K,H,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ve=W.apply(K,H||[]),be=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),et("next"),et("throw"),et("return",function rt(sn){return function(ln){return Promise.resolve(ln).then(sn,on)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function et(sn,ln){ve[sn]&&(ke[sn]=function(Xe){return new Promise(function(Ne,Fe){be.push([sn,Xe,Ne,Fe])>1||ft(sn,Xe)})},ln&&(ke[sn]=ln(ke[sn])))}function ft(sn,ln){try{!function Pt(sn){sn.value instanceof X?Promise.resolve(sn.value.v).then(rn,on):$n(be[0][2],sn)}(ve[sn](ln))}catch(Xe){$n(be[0][3],Xe)}}function rn(sn){ft("next",sn)}function on(sn){ft("throw",sn)}function $n(sn,ln){sn(ln),be.shift(),be.length&&ft(be[0][0],be[0][1])}}function Ae(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,H=K[Symbol.asyncIterator];return H?H.call(K):(K=function Ee(K){var H="function"==typeof Symbol&&Symbol.iterator,W=H&&K[H],ve=0;if(W)return W.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ve>=K.length&&(K=void 0),{value:K&&K[ve++],done:!K}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),W={},ve("next"),ve("throw"),ve("return"),W[Symbol.asyncIterator]=function(){return this},W);function ve(be){W[be]=K[be]&&function(rt){return new Promise(function(et,ft){!function ke(be,rt,et,ft){Promise.resolve(ft).then(function(Pt){be({value:Pt,done:et})},rt)}(et,ft,(rt=K[be](rt)).done,rt.value)})}}}k.d(je,{AQ:()=>_e,Cg:()=>Ie,N3:()=>X,Tt:()=>ue,sH:()=>te,xN:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},At=>{At(At.s=4074)}]);